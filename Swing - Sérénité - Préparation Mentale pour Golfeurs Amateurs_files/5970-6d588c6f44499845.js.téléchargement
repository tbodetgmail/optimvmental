(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5970],{216:(e,t,n)=>{"use strict";n.d(t,{u:()=>d});var a=n(6029),i=n(53996),r=n(48342),o=n(55729),l=n(26053);let s={width:"16px",height:"22px"},d=(0,o.forwardRef)((e,t)=>{let{icon:n="⋮",isVisible:o,isSelected:d,label:c,onClick:u,onDragStart:p,...h}=e,{color:m,bg:g,hoverColor:x,hoverBg:f,borderColor:b}=(0,l.Nb)(d);return(0,a.jsx)(r.Tz,{placement:"top",label:d?void 0:c,children:(0,a.jsx)(i.o,{ref:t,position:"absolute",width:s.width,height:s.height,fontWeight:"900",fontFamily:"body",background:g,backdropFilter:"blur(8px)",border:"1px solid",borderColor:b,color:m,borderRadius:"sm",boxShadow:"sm",fontSize:"16px",cursor:"pointer",opacity:d||o?1:0,_hover:{color:x,background:f,opacity:1},...h,className:"drag-handle",onClick:u,onDragStart:p,draggable:!0,contentEditable:!1,_after:{position:"absolute",content:'""',inset:-2},children:n})})});d.displayName="BaseDragHandle"},640:(e,t,n)=>{"use strict";n.d(t,{f:()=>eA});var a=n(6029),i=n(40452),r=n(27229),o=n(26814),l=n(39892);let s=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ai-credits-modal",t=(0,l.ez)("unlimited_credits"),{lowCreditStatus:n,credits:a,isCreditsReady:i}=(0,o.B9)(),{onOpen:s,onClose:d,isOpen:c}=(0,r.j)({id:e});return{hasUnlimitedCredits:t,lowCreditStatus:n,credits:a,onAICreditsModalOpen:s,onAICreditsModalClose:d,isAICreditsModalOpen:c,isCreditsReady:i}};var d=n(46091),c=n(74771),u=n(67909),p=n(36071),h=n(68728),m=n(3674),g=n(57405),x=n(48810),f=n(17920),b=n(58959),v=n(26420),y=n(3276),w=n(26385),C=n(40691),j=n(61204),A=n(49611),k=n(74676),S=n(80314),I=n(99492),E=n(48621),L=n(48342),R=n(19564),D=n(77650),M=n(55729),_=n(90394),z=n(46898),T=n(34807),N=n(38036),P=n(72470),O=n(77979);let H=e=>{let{url:t,placeholder:n,isDisabled:i=!1,variant:r="plain",customLabel:o,onClick:l,paddingLeft:s=4,...d}=e,[c,u]=(0,M.useState)(!1),{hasCopied:p,onCopy:h}=(0,_.i)(t),m=(0,M.useRef)(null),g=(0,z.d)(),x="link-copied-toast",f=(0,T.A)({base:!0,sm:!1},{fallback:"sm"});(0,M.useEffect)(()=>{m.current&&c&&(m.current.focus(),m.current.select())},[c]);let b=(0,M.useCallback)(()=>u(!0),[]),v=(0,M.useCallback)(()=>u(!1),[]),y=(0,M.useCallback)(()=>{h(),g.isActive(x)||g({id:x,title:(0,a.jsx)(R.x6,{id:"pQjjYo"}),status:"success",duration:5e3}),null==l||l()},[l,h,g]),C=o||(0,a.jsx)(R.x6,{id:"he3ygx"}),j=!!(f&&void 0!==o),k=(0,a.jsx)(A.$,{isDisabled:i,onClick:y,variant:r,w:"100%",...j?{}:{height:"2rem",margin:2},...i?{opacity:"1 !important",color:"gray.400",_hover:{opacity:"1"},_active:{boxShadow:"0 none"}}:{},children:p?(0,a.jsx)(R.x6,{id:"6V3Ea3"}):C}),S=(0,a.jsx)(N.p,{ref:m,type:"text",variant:"filled",paddingLeft:s,direction:"ltr",value:t,isReadOnly:!0,isDisabled:i,placeholder:n||void 0,onClick:b,onBlur:v,pointerEvents:i?"none":void 0,h:"3rem",...d});return j?(0,a.jsxs)(w.B,{w:"100%",children:[S,k]}):(0,a.jsxs)(P.M,{dir:"ltr",children:[S,(0,a.jsx)(O.t,{h:"3rem",zIndex:1,w:"unset",children:k})]})};var F=n(27002),B=n(1079),V=n(5061),W=n(99038),U=n(49337),G=n(24302),K=n(84287);let Q=e=>{let{title:t=(0,a.jsx)(R.x6,{id:"0i4o6E"}),description:n,buttonLabel:r,onOpenCallback:o,onCloseCallback:l,segmentEvent:s,targetFeature:d,isNarrow:c,...u}=e,{openUpsellModal:p,product:h}=(0,K.I)(),m={light:{bg:"trueblue.50",bgGradient:"linear-gradient(0deg, var(--chakra-colors-gray-50) 0%, white  100%)",border:"trueblue.200",title:"gray.800",description:"gray.600",borderGradient:"var(--chakra-colors-gradient-brand-bg)"},dark:{bg:"gray.700",bgGradient:"linear-gradient(0deg, var(--chakra-colors-gray-800) 0%, var(--chakra-colors-gray-700) 100%)",border:"trueblue.400",title:"gray.50",description:"gray.50",borderGradient:"var(--chakra-colors-gradient-brand-bg)"}}["light"===(0,G.G6)().colorMode?"light":"dark"];return"pro"===h?null:(0,a.jsxs)(i.s,{flex:1,w:"100%",mb:4,p:4,bgGradient:m.bgGradient,position:"relative",flexDirection:c?"column":"row",align:"center",borderRadius:"lg",gap:4,zIndex:1,boxShadow:"md",_before:{content:'""',position:"absolute",inset:0,borderRadius:"lg",border:"".concat(2,"px solid transparent"),background:"".concat(m.borderGradient," border-box"),mask:"linear-gradient(#fff 0 0) padding-box, linear-gradient(#fff 0 0)",maskComposite:"subtract",opacity:.7},...u,children:[(0,a.jsxs)(w.B,{flex:2,alignSelf:"stretch",children:[(0,a.jsx)(b.z,{spacing:3,children:(0,a.jsx)(x.E,{color:m.title,fontWeight:"bold",lineHeight:"1.3",children:t})}),(0,a.jsx)(x.E,{color:m.description,fontSize:"md",children:n||(0,a.jsx)(R.x6,{id:"Ah1+bS"})})]}),(0,a.jsx)(w.B,{spacing:1,flex:0,justifyContent:"flex-end",children:(0,a.jsx)(A.$,{variant:"solid",colorScheme:"trueblue",size:"md","data-test-id":"ai-credits-upsell",onClick:()=>{p({onOpenCallback:o,onCloseCallback:l,segmentEvent:s,targetFeature:d})},children:r||(0,a.jsx)(R.x6,{id:"kwkhPe"})})})]})};var Z=n(89942),q=n(95889),$=n(6181),J=n(70006),Y=n(779),X=n(63111),ee=n(67604),et=n(25839),en=n(62826),ea=n(69551);let ei=e=>{let{minsUntilRefill:t,hoursUntilRefill:n}=e;return t&&t<=60?(0,a.jsx)(R.x6,{id:"z8SbRN"}):null!==n?(0,a.jsx)(R.x6,{id:"xVtsV/",values:{hoursUntilRefill:n}}):null},er=e=>{let{credits:t,creditsUsedPercentage:n,minsUntilRefill:i,hoursUntilRefill:r}=e;if(null!==t)if(400===t)return(0,a.jsx)(R.x6,{id:"fv4yIH"});else if(t<400)return(0,a.jsxs)(w.B,{spacing:0,children:[(0,a.jsx)(x.E,{color:"white",children:(0,a.jsx)(R.x6,{id:"WZ4bvD",values:{creditsUsedPercentage:n}})}),(0,a.jsx)(x.E,{color:"gray.400",children:ei({minsUntilRefill:i,hoursUntilRefill:r})})]});else return(0,a.jsx)(R.x6,{id:"IY3q+2"})},eo=()=>{let{credits:e}=(0,o.B9)(),t=(0,et.GV)(en.W8),n=(0,ea.Cj)({creditsRemaining:e,creditsToFillTo:400}),a=n?100-n:null,i=null!==t?(0,X.A)((0,ee.A)(t),new Date):null,r=(0,ea.MK)(i),l=null!==i&&!!t&&i>0&&null!==e&&e<400&&null!==n;return{shouldShowRefreshUI:l,creditRefreshLabel:er({credits:e,creditsUsedPercentage:n,minsUntilRefill:i,hoursUntilRefill:r}),creditsRemainingInPercent:a,creditRefreshModalText:ei({minsUntilRefill:i,hoursUntilRefill:r})}};var el=n(32844),es=n(31090),ed=n(59554),ec=n(6743),eu=n(30928),ep=n(62117),eh=n(23050);let em=e=>{let{onContactUsClick:t,...n}=e,i=(0,F.u)("aiDebits"),r=(0,F.u)("ai-credits").enabled,o=i.generateCard,l=i.wizardCreation,s=i.chatSuggestion,d=i.autocomplete,c=i.generateImage,u=(0,F.u)("aiAutocomplete"),p=(0,F.u)("aiGeneratedImages"),h=(0,F.u)("addCard2");return(0,a.jsxs)(el.n,{allowMultiple:!0,...n,children:[(0,a.jsx)(eg,{accordionLabel:D.Ru._({id:"IVVQ18"}),children:(0,a.jsxs)(es.Xy,{children:[(0,a.jsxs)(es.ck,{children:[(0,a.jsx)("strong",{children:(0,a.jsx)(R.x6,{id:"p4u+sD"})})," ",(0,a.jsx)(R.x6,{id:"XSCvWA",values:{aiGeneration:l,GAMMA_ARTIFACT_PROPER_NOUN:W.TP}})]}),h&&(0,a.jsxs)(es.ck,{children:[(0,a.jsx)("strong",{children:(0,a.jsx)(R.x6,{id:"R8xLRW"})})," ",(0,a.jsx)(R.x6,{id:"M3I7Cf",values:{aiAddCard:o}})]}),(0,a.jsxs)(es.ck,{children:[(0,a.jsx)("strong",{children:(0,a.jsx)(R.x6,{id:"gPyWmV"})})," ",(0,a.jsx)(R.x6,{id:"eX5Uk8",values:{aiEditing:s}}),(0,a.jsx)(R.x6,{id:"bO6EBT"})]}),p&&(0,a.jsxs)(es.ck,{children:[(0,a.jsx)("strong",{children:(0,a.jsx)(R.x6,{id:"0jmvoW"})})," ",(0,a.jsx)(R.x6,{id:"OY40J+",values:{aiImages:c}})]}),u&&(0,a.jsxs)(es.ck,{children:[(0,a.jsx)("strong",{children:(0,a.jsx)(R.x6,{id:"eBVeIQ"})})," ",(0,a.jsx)(R.x6,{id:"AJ11w6",values:{aiAutocomplete:d,AUTOCOMPLETE_SLASH_SHORTCUT:eh.g_,AUTOCOMPLETE_INPUT_SHORTCUT:eh.Hb}})]})]})}),r&&(0,a.jsx)(eg,{accordionLabel:D.Ru._({id:"1pwdRz"}),children:(0,a.jsx)(R.x6,{id:"AVeiKc",values:{GAMMA_PROPER_NOUN:W.On}})})]})},eg=e=>{let{accordionLabel:t,children:n}=e;return(0,a.jsxs)(ed.A,{children:[(0,a.jsx)("h2",{children:(0,a.jsxs)(ec.J,{px:2,py:2,fontSize:"sm",children:[(0,a.jsx)(v.a,{as:"span",flex:"1",textAlign:"left",fontWeight:500,children:t}),(0,a.jsx)(eu.Q,{})]})}),(0,a.jsx)(ep.v,{pb:4,px:2,fontSize:"sm",children:n})]})},ex=()=>({friend:{label:D.Ru._({id:"uU68PM"})},teammate:{label:D.Ru._({id:"O/k8gF"})},buy:{label:D.Ru._({id:"/2RIKE"})}}),ef={fontWeight:500,letterSpacing:"normal",color:"gray.600"},eb=e=>{let{onClose:t,onOpen:n,credits:i,segmentEvent:r=q.VV.GAMMA_PRO_UPSELL_CALLOUT_AI_CREDITS}=e,l=(0,V.fW)(),{user:s,currentWorkspace:d}=(0,$.ur)(),D=(0,$.CX)(),_=(0,Z.ez)("unlimited_credits"),[z,T]=(0,M.useState)("buy"),N=(0,F.u)("ai-credits"),P=(0,F.u)("intercom"),O=(0,U.k)(),{lowCreditStatus:G}=(0,o.B9)(),K=(0,M.useMemo)(()=>s?"teammate"===z&&d&&D?(0,J.Fz)({userId:s.id,workspace:d}):"friend"===z?(0,J.Fz)({userId:s.id}):"":"",[D,d,z,s]),X=N.enabled,ee=N.referralBonus,et=ex()[z],en=l?"friend"===z?44:56:void 0,{shouldShowRefreshUI:ea,creditRefreshLabel:ei,creditRefreshModalText:er}=eo(),el=(0,M.useCallback)(()=>{O(),t()},[O,t]),es=(0,Y.NZ)();return(0,a.jsx)(L.L8,{isDark:!1,children:(0,a.jsxs)(u.aF,{isOpen:!0,onClose:t,size:"xl",returnFocusOnClose:!1,children:[(0,a.jsx)(p.m,{}),(0,a.jsxs)(h.$,{children:[(0,a.jsx)(m.s,{}),(0,a.jsxs)(g.T,{py:4,px:6,textAlign:"center",children:[(0,a.jsx)(x.E,{...ef,fontSize:"md",color:G?es[G].darkColor:void 0,children:G?es[G].description:(0,a.jsx)(R.x6,{id:"xy3nnP"})}),(0,a.jsx)(f.r,{p:0,color:G?es[G].lightColor:void 0,children:(0,a.jsxs)(b.z,{children:[(0,a.jsx)(v.a,{as:"span",fontSize:"xl",children:(0,a.jsx)(E.g,{icon:I.wq_})})," ",null===i?(0,a.jsx)(y.y,{size:"sm"}):(0,a.jsx)(R.x6,{id:"T57gLR",values:{credits:i}})]})}),ea&&(0,a.jsx)(L.Tz,{label:ei,children:(0,a.jsxs)(w.B,{color:"deepocean.600",alignItems:"center",direction:"row",flexWrap:"wrap",fontSize:"sm",spacing:1,children:[(0,a.jsx)(E.g,{icon:I.AoE}),(0,a.jsx)(x.E,{children:er})]})}),(0,a.jsx)(x.E,{textAlign:"start",fontSize:"sm",pt:2,...ef,children:(0,a.jsx)(R.x6,{id:"lUUl1i"})})]}),(0,a.jsxs)(C.c,{pb:4,children:[X?(0,a.jsxs)(g.T,{spacing:4,children:[(0,a.jsxs)(j.e,{variant:"ghost",size:"sm",spacing:0,gap:2,justifyContent:"center",flexWrap:"wrap",alignItems:"center",children:[!_&&(0,a.jsx)(A.$,{onClick:()=>T("buy"),isActive:"buy"===z,color:"buy"===z?void 0:"gray.600",children:(0,a.jsx)(R.x6,{id:"KctW9G"})}),(0,a.jsx)(A.$,{onClick:()=>T("friend"),isActive:"friend"===z,color:"friend"===z?void 0:"gray.600",children:(0,a.jsx)(R.x6,{id:"KSBmDv"})}),D&&(0,a.jsx)(A.$,{leftIcon:(0,a.jsx)(E.g,{icon:I.nWR}),onClick:()=>T("teammate"),isActive:"teammate"===z,color:"teammate"===z?void 0:"gray.600",children:(0,a.jsx)(R.x6,{id:"dUOpaF"})})]}),("friend"===z||"teammate"===z)&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(b.z,{spacing:2,children:[(0,a.jsxs)(x.E,{fontSize:"sm",minW:"50%",children:["friend"===z&&(0,a.jsx)(R.x6,{id:"tBKKYy",values:{referralBonusAmount:ee,GAMMA_PROPER_NOUN:W.On}}),"teammate"===z&&(0,a.jsx)(R.x6,{id:"q8MWFp",values:{referralBonusAmount:ee}})]}),(0,a.jsxs)(k.E,{colorScheme:"green",fontSize:"xs",children:["+"," ",(0,a.jsx)(R.x6,{id:"NFNFrR",values:{referralBonusAmount:ee}})]})]}),(0,a.jsx)(H,{url:K,paddingLeft:en,customLabel:et.label})]}),"buy"===z&&(0,a.jsx)(Q,{segmentEvent:r,onOpenCallback:t,onCloseCallback:n,title:(0,a.jsx)(R.x6,{id:"0i4o6E"})})]}):(0,a.jsxs)(b.z,{align:"baseline",spacing:1,children:[(0,a.jsx)(x.E,{children:(0,a.jsx)(R.x6,{id:"0TJN6B"})}),P?(0,a.jsx)(A.$,{onClick:el,variant:"link",children:(0,a.jsx)(R.x6,{id:"Bhgd0l"})}):(0,a.jsxs)(S.N,{href:"mailto:".concat(B.J),children:[(0,a.jsx)(R.x6,{id:"Bhgd0l"}),(0,a.jsx)(c.p,{ms:1,transform:"translateY(-2px)"})]})]}),(0,a.jsx)(em,{my:4,onContactUsClick:P?el:void 0})]})]})]})})},ev=(0,M.memo)(e=>{let{isOpen:t,...n}=e;return t?(0,a.jsx)(eb,{...n}):null});var ey=n(32705),ew=n(80219);let eC=e=>{let{lowCreditStatus:t,isDark:n}=e;if(t===ew.y.EXHAUSTED)if(n)return{color:"red.500",bg:"transparent",_hover:{bg:"red.300"},_active:{bg:"red.200"},progressBarFillColor:"red.500"};else return{color:"red.700",bg:"transparent",_hover:{bg:"red.50"},_active:{bg:"red.100"},progressBarFillColor:"red.500"};if(t===ew.y.LOW)if(n)return{color:"orange.500 !important",bg:"transparent",_hover:{bg:"orange.200 !important"},_active:{bg:"orange.300 !important"},progressBarFillColor:"orange.500"};else return{color:"orange.700 !important",bg:"transparent",_hover:{bg:"orange.100 !important"},_active:{bg:"orange.200 !important"},progressBarFillColor:"orange.500"};return n?{color:"titanium.300",bg:"transparent",_hover:{bg:"elevation.3"},_active:{bg:"elevation.4"},progressBarFillColor:"deepocean.500"}:{color:"deepocean.950",bg:"transparent",_hover:{bg:"deepocean.50"},_active:{bg:"deepocean.100"},progressBarFillColor:"deepocean.500"}},ej=(0,M.memo)(e=>{let{credits:t,lowCreditStatus:n,onClick:i,isDark:r}=e,o=null===t,{colorMode:l}=(0,G.G6)(),{shouldShowRefreshUI:s,creditRefreshLabel:d,creditsRemainingInPercent:c}=eo(),u=s?d:(0,a.jsx)(R.x6,{id:"IY3q+2"}),p=eC({lowCreditStatus:n,isDark:null!=r?r:"dark"===l});return(0,a.jsx)(L.Tz,{label:u,placement:"top",children:(0,a.jsx)(A.$,{size:"sm",py:4,px:4,onClick:i,isDisabled:o,variant:"ghost",...p,children:o?(0,a.jsx)(y.y,{size:"xs"}):(0,a.jsxs)(w.B,{direction:"column",w:"100%",spacing:.5,children:[(0,a.jsxs)(w.B,{direction:"row",alignItems:"center",spacing:1.5,children:[(0,a.jsx)(E.g,{icon:I.wq_,size:"sm"}),(0,a.jsx)(x.E,{as:"span",children:(0,a.jsx)(R.x6,{id:"T57gLR",values:{credits:t}})})]}),s&&null!==c&&(0,a.jsx)(ey.k,{size:"xs",value:c,borderRadius:"full",bg:"gray.200",...p.progressBarFillColor&&{sx:{'[role="progressbar"]':{bg:"".concat(p.progressBarFillColor)}}}})]})})})}),eA=(0,d.A)(e=>{let{modalId:t="ai-credits-modal",segmentEvent:n,isDark:r,...o}=e,{hasUnlimitedCredits:l,credits:d,lowCreditStatus:c,onAICreditsModalOpen:u,onAICreditsModalClose:p,isAICreditsModalOpen:h}=s(t);return l?null:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.s,{...o,children:(0,a.jsx)(ej,{credits:d,onClick:u,lowCreditStatus:c,isDark:r})}),(0,a.jsx)(ev,{isOpen:h,onOpen:u,onClose:p,credits:d,segmentEvent:n})]})})},1079:(e,t,n)=>{"use strict";n.d(t,{J:()=>a});let a="support@gamma.app"},1636:(e,t,n)=>{"use strict";n.d(t,{o:()=>U});var a=n(37243),i=n(63867),r=n(71029),o=n(41896),l=n(15607),s=n(38934),d=n(92938),c=n(46957),u=n(3298),p=n(55424),h=n(28700),m=n(53138),g=n(36145),x=n(55847),f=n(90278);class b{constructor(e=null){this.dragging=e}}let v=new i.hs("smartLayoutPlugin"),y=e=>new i.k_({key:v,state:{init:()=>new b,apply:(e,t)=>t},props:{decorations:e=>(0,x.r$)(e),handleDOMEvents:{drop(e){var t;let n=null==(t=e.dragging)?void 0:t.annotations,a=v.getState(e.state);if(!a)return!1;a.dragging=n}},handleDrop:(t,n,a)=>{let i=v.getState(t.state),r=null==i?void 0:i.dragging;return i&&(i.dragging=null),!!(C(e,t,n,a)||j(e,t,n,a,r)||w(e,t,n,a))},handlePaste:(t,n,a)=>{let{selection:r}=t.state;if(!(r instanceof i.nh&&(0,p.q)(r.node)))return!1;let o=(0,g.bC)(e,n,a),l=(0,h.H)(a);if(l&&"image"!==l.type.name&&!o)return!1;let s=o?o.attrs:null==l?void 0:l.attrs;return e.commands.updateNestedAttributesAtPos(r.from,{image:s}),o&&o.upload(),!0}}}),w=(e,t,n,a)=>{let i=(0,f.fc)(t,n,a);if(!i)return!1;let r=(0,f.oO)(n),o=null,l=i.image;r&&(l=(o=(0,m.YC)(r,e)).content.attrs);let s=t.state.tr;return s.setNodeAttribute(i.pos,"image",l),null==o||o.upload(),s.deleteSelection(),t.dispatch(s),!0},C=(e,t,n,a)=>{let i=(0,f.TS)(t,n,a);if(!i)return!1;let r=t.state.tr;return r.setNodeAttribute(i.pos,"variantKey",i.variantKey),t.dispatch(r),e.commands.selectNodeAtPos(i.pos),!0},j=(e,t,n,a,i)=>{let r=null;try{if(!(r=(0,f.eL)(t,n,a)))return!1}catch(e){return!1}try{let{selection:n}=t.state,o=!n.empty,{node:l,pos:s,side:d}=r;if(s>n.from&&s<n.to)return!0;let c=a.content.toJSON(),u="left"===d||"top"===d?s:s+l.nodeSize;e.chain().insertContentAt({from:u,to:u},c,{updateSelection:!1}).command(e=>{let{tr:t}=e;return o&&t.deleteSelection(),i&&t.setMeta("annotationEvent",{type:"drop",dragging:i,droppedBlockPos:u+1}),!0}).focusMapped(u,1).run()}catch(e){console.error("(caught) [SmartLayoutPlugin] handleDrop error:",e)}return!0};var A=n(6029),k=n(21938),S=n(77650),I=n(55729),E=n(22115),L=n(25839),R=n(78893),D=n(43634),M=n(54765),_=n(43216);n(66082);var z=n(10500),T=n(51684),N=n(99492),P=n(19564),O=n(95889),H=n(70015),F=n(86687),B=n(48369);let V=e=>{let{editor:t,node:n,getPos:a,options:i}=e,{variantKey:r}=n.attrs,o=(0,B.BJ)(r),l=(0,I.useCallback)(e=>{t.commands.updateNestedAttributesAtPos(a(),e)},[t,a]),s=(0,I.useCallback)(e=>{O.zS.track(O.VV.SMART_LAYOUT_VARIANT_CHANGED,{previousVariant:r,newVariant:e,method:"context-menu"}),l({variantKey:e})},[l,r]),d=(0,I.useCallback)(()=>{t.chain().deleteSelectionAndSelectNear().run()},[t]),c=(0,I.useMemo)(()=>{let e=n.attrs;return o.options.map(o=>{var s,d;if(o.checkEnabled&&!o.checkEnabled({options:i,attrs:e,node:n}))return null;let c=null!=(d=i[o.key])?d:null==(s=o.defaultValue)?void 0:s.call(o,{ctx:"menu"});return o.ControlMenu?o.ControlMenu(c,(e,s)=>{l({options:{...i,[o.key]:e}}),O.zS.track(O.VV.SMART_LAYOUT_OPTION_UPDATED,{variantKey:r,optionKey:o.key,previousValue:c,newValue:e,updateChildren:s,method:"context-menu"}),s&&n.forEach((n,i)=>{t.commands.updateNestedAttributesAtPos(a()+i+1,{options:{...n.attrs.options,[o.key]:e}})})},o):null}).filter(e=>null!==e)},[o.options,n,i,l,t.commands,a]),u=(0,H.d)({editor:t,getPos:a,node:n,includeCut:!1}),p=(0,I.useMemo)(()=>(0,F.ML)().map(e=>({key:"family-".concat(e.family.key),label:e.family.name(),icon:e.family.icon,items:e.variants.map(e=>{let t=e.variant,n=r===t.key;return{key:"variant-".concat(t.key),label:t.name(),icon:n?(0,A.jsx)(z.S,{}):void 0,onClick:()=>s(t.key)}})})),[r,s]);return{contextMenuItems:[{key:"title",title:(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(P.x6,{id:"kLxOTV"}),"\xa0",o.name()]})},{divider:!0},...u,{divider:!0},...c.length?[...c,{key:"divider",divider:!0}]:[],{key:"switch-layout",label:(0,A.jsx)(P.x6,{id:"FRoFGK"}),icon:T.swh,items:p},{divider:!0},{key:"delete",label:(0,A.jsx)(P.x6,{id:"cnGeoo"}),icon:N.yLS,onClick:d,color:"red.500"}]}},W=e=>{let{node:t,decorations:n,editor:a,getPos:i}=e,r=t.attrs,l=(0,B.BJ)(r.variantKey),{Wrapper:s}=l,d=(0,x.Rv)(n),c=(0,f.aG)(r,d.direction),u=(0,L.GV)(D.nD),p=(0,L.GV)(D.SJ),{onOpenContextMenu:h,onCloseContextMenu:m,menuProps:g}=(0,R.$)({editor:a,getPos:i}),{contextMenuItems:b}=V({editor:a,node:t,getPos:i,options:c}),v=(0,I.useMemo)(()=>({onClick:e=>{e.currentTarget===e.target&&a.commands.selectNodeAtPos(i())},cursor:u?"pointer":"default"}),[a,i,u]);return(0,A.jsxs)(M.u,{...e,dir:d.direction,className:(0,k.cx)(u&&"is-editable"),style:{position:"relative",display:"grid",gridTemplateColumns:"100%"},children:[(0,A.jsx)(s,{...d,onContextMenu:h,options:c,theme:p,variant:l,node:t,selectLayoutForElementProps:v,children:(0,A.jsx)(o.$p,{"data-node-view-content-outer":"smartLayout"})}),(0,A.jsx)(_.A,{...e,handlePlacement:"outside",label:S.Ru._({id:"Szg6OU"}),"data-testid":"smart-layout-drag-handle"}),(0,A.jsx)(E.tz,{isOpen:g.isOpen,onClose:m,menuItems:b,position:g.position,size:"small"})]})},U=a.bP.create({name:"smartLayout",group:"cardBlock layoutBlock",content:"smartLayoutCell+",isolating:!0,containerHandle:!0,defining:!0,priority:s.y.SmartLayout,addAttributes:()=>({variantKey:{default:void 0},options:{default:{},...(0,l.tb)("options")},fullWidthBlock:{default:!1}}),parseHTML:()=>[{tag:"div[class=smart-layout]"},...Object.values((0,B.aQ)()).map(e=>({tag:[e.htmlTag].filter(Boolean).join(", "),getAttrs:t=>({variantKey:e.key,options:G(t,e)})})),{tag:"smart-layout[variant]",getAttrs:e=>{let t=e.getAttribute("variant"),n=(0,B.BJ)(t);return{variantKey:n.key,options:G(e,n)}}}],renderHTMLforAI(e){let{node:t}=e,n=(0,B.BJ)(t.attrs.variantKey),a={};return n.options.forEach(e=>{var n,i;let r=null!=(i=t.attrs.options[e.key])?i:null==(n=e.defaultValue)?void 0:n.call(e);a[e.key]=null===r?void 0:"string"==typeof r?r:JSON.stringify(r)}),["smart-layout",{...a,variant:n.key},0]},renderHTML(e){let{HTMLAttributes:t}=e;return["div",(0,a.KV)(t,{class:"smart-layout"}),0]},addNodeView:()=>(0,o.gu)(W,{update:c.z0,ignoreMutation:r.I}),addProseMirrorPlugins(){return[y(this.editor)]},addCommands:()=>({insertSmartLayoutCell:e=>t=>{var n,i;let{chain:r,state:o}=t,l=o.doc.resolve(e),s=(0,a.eL)(l,e=>"smartLayout"===e.type.name),d=null==s?void 0:s.node.lastChild;if(!s||!d)return!1;let c=d.attrs,p=(0,u.Hg)(null==(n=d.firstChild)?void 0:n.attrs.level);return r().insertContentAt(e,{type:"smartLayoutCell",content:p,attrs:{image:{source:null==(i=c.image)?void 0:i.source}}}).selectInsertedNode().run(),!0},handleSmartLayoutDelete:function(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return n=>{let{dispatch:r,state:o,tr:l,chain:s}=n;if(!r)return!0;let{selection:c}=o,u=c instanceof i.nh&&(0,p.q)(c.node)?{node:c.node,pos:c.from}:(0,a.KP)(e=>"smartLayoutCell"===e.type.name)(o.selection);if(e&&u&&u.pos!==c.from)return!1;let h=(0,a.KP)(e=>"smartLayout"===e.type.name)(o.selection);if(!u||!h)return!1;if(1==h.node.childCount)s().selectNodeAtPos(h.pos).deleteSelectionAndSelectNear(t?1:-1).run();else{let e=l.doc.resolve(u.pos);(0,d.K)(l,e,t)}return!0}},handleEmphasizeCell:(e,t)=>n=>{let{chain:i,state:r}=n,o=r.doc.resolve(e),l=(0,a.eL)(o,e=>"smartLayout"===e.type.name),s=null==l?void 0:l.pos;return null==l||l.node.forEach((n,a)=>{if(!s)return!1;let r=n.attrs.options,o=s+1+a;return i().updateNestedAttributesAtPos(o,{options:{...r,isEmphasized:o===e&&t}}).run(),!0}),!0}})}),G=(e,t)=>{let n=t.defaultOptions||{};return t.options.forEach(t=>{let a=e.getAttribute(t.key);if(a){let i;try{i=JSON.parse(a)}catch(e){i=a}return t.validator&&!t.validator(i)?void console.error("Invalid value for ".concat(t.key,": ").concat(i),e.outerHTML):void(n[t.key]=i)}if(t.getDefaultOnParse&&void 0===n[t.key]){n[t.key]=t.getDefaultOnParse(e);return}}),n}},1739:(e,t,n)=>{"use strict";n.d(t,{Hf:()=>C,mk:()=>j});var a=n(6029),i=n(37243),r=n(63867),o=n(55729),l=n(47317),s=n(15607),d=n(38934),c=n(59712);let u=(e,t)=>(n,a)=>{let i={...n.getState(e.view.state)};i.active=!0,i.key=a,i.query="",t.setMeta(n,i)};var p=n(58809),h=n(25839),m=n(6181),g=n(80180);let x=e=>{let{ref:t,pickerInstance:n}=e;(0,o.useImperativeHandle)(t,()=>{let e=e=>{var t,a,i;let r=null==(i=n.component)||null==(a=i.refs)||null==(t=a.searchInput)?void 0:t.current;if(r){let{key:t,code:n}=e;r.dispatchEvent(new KeyboardEvent("keydown",{key:t,code:n}))}return e.stopPropagation(),e.preventDefault(),!0};return{onKeyDown:t=>{let{event:n}=t;return!!["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Enter"].includes(n.key)&&e(n)}}})},f=(0,o.forwardRef)((e,t)=>{let{query:n,onSelect:i}=e,r=(0,h.GV)(p.Jo),s=(0,m.Iy)("edit",r),[d,c]=(0,o.useState)(null),u=(0,o.useCallback)(e=>{if(c(e),e.shadowRoot){let t=document.createElement("style");t.innerHTML="nav + div.padding-lr { display: none }",e.shadowRoot.appendChild(t)}e.addEventListener("mousedown",g.Fw)},[]);x({ref:t,pickerInstance:d}),(0,o.useEffect)(()=>{var e,t,a;if(!d)return;let i=null==(a=d.component)||null==(t=a.refs)||null==(e=t.searchInput)?void 0:e.current;i&&(i.value=n,i.dispatchEvent(new Event("input",{bubbles:!0})))},[d,n]);let f=(0,o.useCallback)(e=>{let t=(0,l.F8)(e.id);t&&i(t)},[i]);return s?(0,a.jsx)(l.pP,{onCreate:u,perLine:9,searchPosition:"sticky",handlePick:f,shouldFocusSearch:!1,dataTargetName:"emoji-list"}):(0,a.jsx)(a.Fragment,{})});var b=n(28603);let v=/:([a-zA-Z0-9_+-]+):$/,y=new r.hs("EmojiMenu"),w=e=>{let t=(0,l.$n)(e);return{id:e.id,native:t}},C=i.bP.create({name:"emoji",group:"inline",inline:!0,selectable:!1,atom:!0,addAttributes:()=>({id:{},native:{}}),addStorage:()=>({hasMigrated:!1,isMigrationScheduled:!1}),parseHTML:()=>[{tag:"span.emoji:not([id])",skip:!0},{tag:"span[class=emoji]"}],addCommands(){return{openEmojiPicker:function(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];return t=>{let{commands:n,tr:a,editor:i}=t;return u(i,a)(y,":"),!e||n.insertContent(":")}},migrateNativeEmojis:()=>e=>{let{editor:t}=e;return!this.storage.hasMigrated&&!this.storage.isMigrationScheduled&&(this.storage.isMigrationScheduled=!0,l.eX.then(()=>{t.commands.command(e=>{let{tr:t,state:n}=e,{doc:a,schema:i}=n;return a.descendants((e,n,a)=>{A({node:e,pos:n,parent:a,tr:t,schema:i})}),this.storage.hasMigrated=!0,this.storage.isMigrationScheduled=!1,!0})}),!0)}}},addInputRules:()=>[new i.fV({find:v,handler:e=>{let{range:t,match:n,commands:a}=e,i=n[1],r=(0,l.F8)(i);if(!r)return;let o=w(r);a.insertContentAt(t,{type:"emoji",attrs:o})}})],renderHTML(e){let{HTMLAttributes:t,node:n}=e;return["span",(0,i.KV)(t,{class:"emoji"}),"".concat(n.attrs.native||"�")]},renderHTMLforAI(e){let{node:t}=e;return t.attrs.native||""},renderText(e){let{node:t}=e;return"".concat(t.attrs.native||"�")},addProseMirrorPlugins:()=>[new r.k_({key:new r.hs("emojiTransform"),appendTransaction:(e,t,n)=>(0,s.g4)(e,n,A)})]}),j=(0,c.e$)({name:"emojiShortcuts",char:":",pluginKey:y,MenuComponent:(0,o.forwardRef)((e,t)=>{let{query:n,editor:i}=e;return i.isEditable?(0,a.jsx)(f,{ref:t,query:n,onSelect:e=>{let{id:t}=e,a=(0,l.$n)(e),r=i.state.selection;i.chain().deleteRange({from:r.from-n.length-1,to:r.to}).insertContent({type:"emoji",attrs:{id:t,native:a}}).insertContent(" ").run()}}):null}),priority:d.y.EmojiShortcuts}),A=e=>{let{node:t,pos:n,tr:a,schema:i}=e;if(!(0,l.Gm)())return!1;if(!t.isText||!t.text)return!0;let r=t.marks.map(e=>e.toJSON()),{replaced:o,nodes:s}=(0,b.Z)(t.text,r);try{o&&a.replaceWith(a.mapping.map(n),a.mapping.map(n+t.nodeSize),s.map(e=>i.nodeFromJSON(e)))}catch(e){console.error("[migratePlugin] Error migrating emoji",{err:e,pos:n,text:t.text,node:t,nodes:s})}return!0}},2320:(e,t,n)=>{"use strict";n.d(t,{A:()=>U,c:()=>G});var a=n(63867),i=n(6029),r=n(48810),o=n(58959),l=n(96990),s=n(40452),d=n(3276),c=n(99492),u=n(55597),p=n(48621),h=n(48342),m=n(19564),g=n(97139),x=n.n(g),f=n(21157),b=n.n(f),v=n(55729),y=n(6064),w=n(39247),C=n(58809),j=n(99038),A=n(75748),k=n(25839),S=n(24573),I=n(59712),E=n(6181),L=n(80180),R=n(82328);let D=(e,t,n)=>RegExp(t?e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"):e,n?"gu":"gui"),M=()=>(0,i.jsx)(m.x6,{id:"eZHH8X",values:{GAMMA_ARTIFACT_PROPER_NOUN:j.TP}}),_=e=>{let{html:t}=e;return(0,i.jsx)(r.E,{paddingInlineStart:"0.2rem",wordBreak:"break-word",noOfLines:1,maxW:300,lineHeight:"1.5",dangerouslySetInnerHTML:{__html:t?x().sanitize(t):""}})},z=e=>e.replace(/(<em>|<\/em>)/g,""),T=e=>{let{result:t}=e,{__typename:n}=t;return"User"===n?(0,i.jsxs)(o.z,{children:[(0,i.jsx)(l.e,{size:"2xs",minWidth:4,m:0,name:t.displayName&&z(t.displayName),src:t.profileImageUrl}),(0,i.jsx)(_,{html:t.displayName})]}):"Card"===n?(0,i.jsxs)(o.z,{children:[(0,i.jsx)(s.s,{color:"gray.600",minWidth:4,justifyContent:"flex-end",children:(0,i.jsx)(p.g,{icon:u.ZPt,transform:{size:6}})}),(0,i.jsx)(_,{html:t.title})]}):"DocResult"===n?(0,i.jsx)(S.xT,{result:t,context:"mentionsList"}):(console.warn("[MentionList] Invalid __typename for search result:",t.__typename),null)},N=(0,v.forwardRef)((e,t)=>{let{result:n,index:a,selectedIndex:r,selectItem:o,...l}=e;return(0,i.jsx)(h.nh,{ref:t,tabIndex:a===r?0:-1,onClick:()=>o(a),onMouseDown:L.Fw,...l,children:(0,i.jsx)(T,{result:n})},a)}),P=(0,i.jsx)(p.g,{icon:c.vti}),O=(0,i.jsx)(p.g,{icon:c.vGi}),H=(0,i.jsx)(p.g,{icon:c.hP6}),F={Card:{title:(0,i.jsx)(m.x6,{id:"gXnPmp",values:{GAMMA_ARTIFACT_PROPER_NOUN:j.TP}}),iconComponent:P},DocResult:{title:b()(j.Ix),iconComponent:O},User:{title:(0,i.jsx)(m.x6,{id:"1wdjme"}),iconComponent:H}},B=(0,v.forwardRef)((e,t)=>{var n,a,l;let{editor:c,query:u,command:p}=e,{isConnected:g}=(0,y.utY)(),x=(0,k.GV)(C.Jo),f=(0,v.useMemo)(()=>{let e=null==x?void 0:x.collaborators;return(null==e?void 0:e.map(e=>e.user))||[]},[x]),{user:b,currentWorkspace:j}=(0,E.ur)(),{data:S,previousData:L,loading:_}=function(e,t){let{isConnected:n}=(0,R.u)(),a=!e||!t||!n;var i=[(0,y.SzF)({variables:{workspaceId:t,types:[y.nXf.User],query:e},skip:a}),(0,y.SzF)({variables:{workspaceId:t,types:[y.nXf.Doc],query:e},skip:a})];function r(e,t,n){n&&(e[t]||(e[t]={search:[]}),e[t].search=[...e[t].search,...n.search])}return i.reduce((e,t)=>{let{data:n,previousData:a,error:i,loading:o}=t;return!n&&o&&a&&(n=a),r(e,"data",n),r(e,"previousData",a),o&&(e.loading=!0),i&&(e.error=i),e},{})}(u,(null==b||null==(l=b.workspaceMemberships)||null==(a=l.find(e=>{var t;return(null==(t=e.workspace)?void 0:t.id)===c.gammaOrgId}))||null==(n=a.workspace)?void 0:n.id)||(null==j?void 0:j.id)),{searchDocs:T,searchUsers:P}=(0,v.useMemo)(()=>{let e=D(u,!0,!1),t=(S?S.search:L?L.search:[]).filter(e=>"User"===e.__typename),n=(S?S.search:L?L.search:[]).filter(e=>"DocResult"===e.__typename),a=f.filter(e=>!t.find(t=>t.id===e.id)).filter(e=>{var t,n;return(null==(t=e.email)?void 0:t.startsWith(u.toLowerCase()))||(null==(n=e.displayName)?void 0:n.toLowerCase().includes(u.toLowerCase()))}),i=[...t,...a].map(t=>{var n;return{...t,displayName:null==(n=t.displayName)?void 0:n.replace(e,"<em>$&</em>")}});return{searchDocs:u?[...n]:[],searchUsers:u?i:[]}},[S,L,u,f]),O=(0,k.GV)(w.rZ),H=[...P,...(0,v.useMemo)(()=>{let e=D(u,!0,!1);return u?O.map(t=>{let n=t.title||"";if(n.match(e)){let a=n.replace(e,"<em>$&</em>");return{...t,title:a,__typename:"Card"}}return null}).filter(Boolean):[]},[O,u]),...T],B=e=>{let t=H[e]?{...H[e]}:null;t&&("User"===t.__typename&&t.displayName&&(t.displayName=z(t.displayName)),"Card"===t.__typename&&(t.docId=c.gammaDocId),p({item:t,user:b}))},{selectedIndex:V,selectedItemEl:W}=(0,I.Rj)({ref:t,selectItem:B,options:H}),G=c.state.selection,K=!G.$anchor.parent.isLeaf&&G.$anchor.parent.textContent===U;return 0===u.length&&K?(0,i.jsx)(s.s,{w:"100%",p:1,align:"flex-start",justify:"flex-start",flex:"1",mt:-9,marginStart:3,"data-testid":"mention-list-empty",children:(0,i.jsx)(r.E,{fontSize:"md",color:"gray.400",children:(0,i.jsx)(M,{})})}):(0,i.jsx)(h.qF,{"data-testid":"mention-list",children:(0,i.jsxs)(h.QE,{"data-target-name":"mention-list",w:"540px",maxW:"90vw",overflowY:"auto",maxH:"65vh",sx:{em:{bg:"var(--chakra-colors-trueblue-100)",fontStyle:"normal",borderRadius:"base",display:"inline-block",padding:"0px 2px",margin:"0px -2px"}},children:[(0,i.jsx)(A.r,{isConnected:g,description:(0,i.jsx)(m.x6,{id:"KnLL/m"})}),0===u.length?(0,i.jsx)(s.s,{p:1,align:"center",justify:"center",flex:"1",minH:12,"data-testid":"mention-list-empty",children:(0,i.jsx)(r.E,{fontSize:"md",color:"gray.400",children:(0,i.jsx)(M,{})})}):!_&&u.length>1&&0===H.length?(0,i.jsx)(s.s,{p:1,align:"center",justify:"center",flex:"1",minH:12,children:(0,i.jsx)(r.E,{fontSize:"sm",color:"gray.500",children:(0,i.jsx)(m.x6,{id:"0+jt9a"})})}):null,H.map((e,t)=>{let n=H.findIndex(t=>t.__typename===e.__typename)===t&&e.__typename?F[e.__typename]:null;return(0,i.jsxs)(v.Fragment,{children:[n&&(0,i.jsxs)(o.z,{mt:4,mb:2,color:"gray.500",children:[n.iconComponent,(0,i.jsx)(h._x,{children:n.title})]}),(0,i.jsx)(N,{"data-testid":"mention-list-item-".concat(e.id),ref:t===V?W:null,result:e,index:t,selectedIndex:V,selectItem:B},t)]},e.id)}),_&&(0,i.jsx)(s.s,{p:1,align:"center",justify:"center",flex:"1",minH:12,children:(0,i.jsx)(d.y,{opacity:"0.8",size:"xs"})})]})})});var V=n(38934);let W=new a.hs("MentionGamma"),U="@",G=(0,I.e$)({name:"GammaMention",char:U,pluginKey:W,allowSpaces:!0,MenuComponent:B,priority:V.y.MentionSuggestionMenu,command:e=>{let{editor:t,range:n,props:a}=e,{item:i,user:r}=a;if("User"===i.__typename){let{id:e,displayName:a,profileImageUrl:o}=i,{id:l}=r;t.commands.addUserMention({id:e,label:a,profileImageUrl:o,mentionedById:l},n)}else if("Card"===i.__typename){let{id:e,docId:a}=i,{id:o}=r;t.commands.addCardMention({id:e,docId:a,mentionedById:o},n)}else if("DocResult"===i.__typename){let{id:e}=i,{id:a}=r;t.commands.addDocMention({id:e,mentionedById:a},n)}}})},2426:(e,t,n)=>{"use strict";n.d(t,{bY:()=>u,dX:()=>d});var a=n(37243),i=n(63867),r=n(67733),o=n(23460),l=n(15607),s=n(8098);let d=new i.hs("menuFormattingBubble");class c{initialize(e){let{element:t,tippyOptions:n,panelLifecycle:a,onHide:i,targetElement:r}=e;if(!t)return void console.warn("[FormattingBubbleMenuView] initialize. No element provided");this.onHide=i,this.element=t,this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.addEventListener("dragstart",this.dragstartHandler),this.view.dom.addEventListener("dragend",this.dragendHandler),this.view.dom.addEventListener("drop",this.dragendHandler),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.createTooltip(n,r),this.element.style.visibility="visible",document.addEventListener("mousedown",this.mousedownDocumentHandler,!0),document.addEventListener("mouseup",this.mouseupDocumentHandler,!0),this.boundHideHandler=this.hide.bind(this),s.q.on("hide",this.boundHideHandler),a&&(this.cleanupPanelLifecycle=a.on("resize",()=>{var e;null==(e=this.tippy.popperInstance)||e.update()}))}createTooltip(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t||this.view.dom.parentElement;this.tippy=(0,r.Ay)(n,{duration:0,getReferenceClientRect:null,content:this.element,interactive:!0,trigger:"manual",placement:"top",hideOnClick:"toggle",...e}),this.editor.commands.command(e=>{let{tr:t}=e;return t.setMeta(d,{tippyInstance:this.tippy}),!0})}update(e,t){let n=t&&d.getState(t),i=d.getState(e.state),{state:r,composing:s}=e,{doc:c,selection:u}=r,h=t&&t.doc.eq(c)&&t.selection.eq(u)&&this.isEditable===this.editor.isEditable&&(null==n?void 0:n.forceHide)===i.forceHide;if(!this.element){if(!i.element)return;this.initialize(i)}if(this.isEditable=this.editor.isEditable,!this.editor.isEditable||!0===i.forceHide)return void this.hide();if(s||h)return;let{empty:m,ranges:g}=u,x=Math.min(...g.map(e=>e.$from.pos)),f=Math.max(...g.map(e=>e.$to.pos)),b=!c.textBetween(x,f).length&&(0,a.eE)(e.state.selection);if(m||b){let e=u.$anchor.marks().some(e=>"link"===e.type.name)||"button"===u.$anchor.parent.type.name,t=(0,a.Nx)(c,{from:x,to:f},e=>"emoji"===e.type.name);if(!e&&(null==t?void 0:t.length)===0)return void this.hide()}this.tippy.setProps({getReferenceClientRect:()=>{if(!(0,a.BQ)(e.state.selection))return(0,a.MG)(e,x,f);let t=e.nodeDOM(x);return t&&(0,o.sb)(t)?(p(t,".drag-handle")||p(t,"[data-content-reference]")||t).getBoundingClientRect():(0,a.MG)(e,x,f)}}),!this.isMouseDownOutsideMenu&&(0,l.We)(this.editor)&&this.show()}show(){this.tippy.show(),document.body.classList.add("formatting-menu-open")}hide(){this.onHide&&"function"==typeof this.onHide&&this.onHide(),this.tippy.hide(),document.body.classList.remove("formatting-menu-open")}destroy(){var e,t;null==(e=this.tippy)||e.destroy(),null==(t=this.element)||t.removeEventListener("mousedown",this.mousedownHandler),document.removeEventListener("mousedown",this.mousedownDocumentHandler,!0),document.removeEventListener("mouseup",this.mouseupDocumentHandler,!0),this.view.dom.removeEventListener("dragstart",this.dragstartHandler),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler),this.boundHideHandler&&s.q.off("hide",this.boundHideHandler),this.cleanupPanelLifecycle&&this.cleanupPanelLifecycle()}constructor({editor:e,view:t}){this.preventHide=!1,this.mousedownDocumentHandler=e=>{this.element.contains(e.target)?this.isMouseDownOutsideMenu=!1:this.isMouseDownOutsideMenu=!0},this.mouseupDocumentHandler=()=>{this.isMouseDownOutsideMenu=!1,this.update(this.editor.view)},this.mousedownHandler=()=>{this.preventHide=!0},this.dragstartHandler=()=>{this.hide()},this.dragendHandler=()=>{this.isMouseDownOutsideMenu=!1,setTimeout(()=>this.update(this.editor.view))},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=e=>{var t;let{event:n}=e;if(this.preventHide){this.preventHide=!1;return}(null==n?void 0:n.relatedTarget)&&(null==(t=this.element.parentNode)?void 0:t.contains(n.relatedTarget))||this.hide()},this.editor=e,this.isEditable=e.isEditable,this.view=t}}let u=a.YY.create({name:"formattingBubbleMenu",addCommands:()=>({forceHideBubbleMenu:e=>t=>{let{tr:n}=t;return n.setMeta(d,{forceHide:e}),!0},refreshBubbleMenu:()=>e=>{var t;let{state:n}=e,{tippyInstance:a}=d.getState(n);return null==a||null==(t=a.popperInstance)||t.forceUpdate(),!0}}),addProseMirrorPlugins(){let{editor:e}=this;return[new i.k_({key:d,state:{init:()=>({element:null,forceHide:!1,onHide:()=>{},tippyOptions:{},tippyInstance:null}),apply(e,t){let n=e.getMeta(d);return n?{...t,...n}:t}},view:t=>new c({view:t,editor:e})})]}}),p=(e,t)=>{let n=e.querySelector(t),a=e.querySelector("[data-node-view-wrapper]");return n&&a&&(0,o.xX)(n,e,e=>e.hasAttribute("data-node-view-wrapper"))===a?n:null}},2681:(e,t,n)=>{"use strict";n.d(t,{Q5:()=>v,gf:()=>b,ms:()=>f,tJ:()=>y});var a=n(6029),i=n(27229),r=n(8527),o=n(21152),l=n(49611),s=n(2241),d=n(54578),c=n(87613),u=n(48342),p=n(55729);let[h,m]=(0,d.q)({strict:!1,name:"DropdownContext"}),[g,x]=(0,d.q)({name:"DropdownStylesContext",errorMessage:"useDropdownStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<Dropdown />\" "}),f=e=>{let{isOpen:t,onClose:n,onToggle:l}=(0,i.j)(),s=(0,r.o)("Dropdown",e),d=(0,o.E)({placement:"bottom-start"}),c=(0,p.useMemo)(()=>({isOpen:t,onClose:n,onToggle:l,popper:d}),[t,n,l,d]);return(0,a.jsx)(h,{value:c,children:(0,a.jsx)(g,{value:s,children:(0,a.jsx)(u.qF,{...e})})})},b=e=>{let{children:t,as:n,...i}=e,{popper:r,onToggle:o}=m(),d=n||l.$;return(0,a.jsx)(d,{...i,ref:r.referenceRef,onClick:(0,c.H)(e.onClick,o),children:(0,a.jsx)(s.B.span,{__css:{pointerEvents:"none",flex:"1 1 auto",justifyContent:"flex-start",display:"flex",minW:0},children:t})})},v=e=>{var t,n;let{children:i,...r}=e,{isOpen:o,popper:l}=m(),d=x();if(!o)return null;let c=l.getPopperProps({...e,style:{visibility:o?"visible":"hidden",...e.style}});return(0,a.jsx)(s.B.div,{...r,mt:2,minWidth:"var(--chakra-sizes-48)",ref:l.popperRef,...c,__css:{zIndex:null!=(n=e.zIndex)?n:null==(t=d.list)?void 0:t.zIndex},children:(0,a.jsx)(u.QE,{children:i})})},y=e=>{let{onToggle:t}=m();return(0,a.jsx)(u.nh,{...e,onClick:(0,c.H)(e.onClick,t)})}},3298:(e,t,n)=>{"use strict";n.d(t,{Ab:()=>s,Hg:()=>o,xb:()=>l});var a=n(99492),i=n(77650),r=n(17633);let o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4;return[r.w.heading(i.Ru._({id:"HX5SVx"}),{level:e}),r.w.paragraph(i.Ru._({id:"Nu4oKW"}))]},l="1em",s={boxes:{name:()=>i.Ru._({id:"61H/21"}),icon:a.n2$},bullets:{name:()=>i.Ru._({id:"RYtHky"}),icon:a.ITF},sequence:{name:()=>i.Ru._({id:"ipQKNM"}),icon:a.dmS},images:{name:()=>i.Ru._({id:"an5hVd"}),icon:a.Cyq},numbers:{name:()=>i.Ru._({id:"3xKsW7"}),icon:a.Bi7},circles:{name:()=>i.Ru._({id:"pzzFVX"}),icon:a.yNr},quotes:{name:()=>i.Ru._({id:"eWLklq"}),icon:a.$7g},steps:{name:()=>i.Ru._({id:"A9onc2"}),icon:a.UER}}},3864:(e,t,n)=>{"use strict";n.d(t,{o:()=>r});var a=n(45143);let i={base:"md","2xl":"lg"},r=()=>(0,a.h5)(i)},4097:(e,t,n)=>{"use strict";n.d(t,{c:()=>r,e:()=>i});var a=n(55729);let i=(0,a.createContext)({onDragStart:void 0}),r=()=>(0,a.useContext)(i)},4522:(e,t,n)=>{"use strict";n.d(t,{Ud:()=>I,VM:()=>S,Hy:()=>j.Hy,Pf:()=>j.Pf,Td:()=>j.Td});var a=n(37243),i=n(63867),r=n(89703),o=n(55978),l=n(41896),s=n(38934),d=n(98088),c=n(50861),u=n(6029),p=n(40452),h=n(51684),m=n(55729),g=n(59230),x=n(25839),f=n(43634),b=n(54765),v=n(28647),y=n(66082),w=n(98968),C=n(64234),j=n(21982),A=n(62917);let k=e=>(0,u.jsx)(b.u,{...e,as:"div",children:(0,u.jsx)(S,{...e})}),S=e=>{var t;let{node:n,decorations:a,editor:i}=e,{source:o,horizontalAlign:l,uploadStatus:s,loadImageParams:d,loadImageStatus:c}=n.attrs,{getPos:b}=e,{isFullWidth:k}=(0,v.D)(a),S=(null==(t=C.Fn[o])?void 0:t.icon)||h.Cyq,I=(0,w.NZ)(e),E=(0,A.j8)(i,b),L=(0,x.GV)(f.nD),R=(0,r.f)(),D=(0,m.useCallback)(()=>{R({isOpen:!0})},[R]);return(0,u.jsx)(p.s,{w:"100%",h:"100%",dir:(0,y.fZ)(a,l),direction:"column",sx:(0,y.yp)(l),children:(0,u.jsx)(j.Pf,{hasUploadError:s===g.A.Error&&!i.isThumbnail,isUploading:s===g.A.Uploading,isLoading:"queued"===c&&!i.isThumbnail,loadingProvider:null==d?void 0:d.provider,"data-content-reference":!0,icon:S,width:k||I?"100%":"18em",maxW:"100%",h:I?"100%":"10em",maxH:"100%",onSelectAndFocus:E,defaultSource:o,"data-drag-handle":!0,"data-selection-ring":!0,"data-selection-background":!0,borderRadius:"var(--box-border-radius)",hasQuickActions:!i.isThumbnail,handleDoubleClick:L?D:void 0})})},I=a.bP.create({name:"mediaPlaceholder",group:"block media",atom:!0,selectable:!0,draggable:!0,priority:s.y.MediaPlaceholder,addNodeView:()=>(0,l.gu)(k),addAttributes:()=>({id:(0,o.e)(d.z),source:{},fullWidthBlock:{default:!1}}),addKeyboardShortcuts:()=>({Enter:e=>{let{editor:t}=e,n=t.state.selection;return!!(n instanceof i.nh&&(0,c.Bv)(n.node))&&((0,r.G)(),!0)}}),addCommands:()=>({insertMediaBlock:e=>t=>{let{commands:n}=t;return n.insertContentAndSelect({type:"mediaPlaceholder",attrs:{source:e}}),requestAnimationFrame(()=>{(0,r.G)()}),!0}}),parseHTML:()=>[{tag:"img[placeholder=true]",priority:60}],renderHTML(e){let{HTMLAttributes:t}=e;return["img",(0,a.KV)(t,{placeholder:"true"})]}})},4747:(e,t,n)=>{"use strict";n.d(t,{Ht:()=>iQ});var a=n(6029),i=n(26420),r=n(58959),o=n(48342),l=n(37243),s=n(63867),d=n(55729),c=n(22249),u=n(25839),p=n(94922),h=n(19297),m=n(98968),g=n(73813),x=n(55424),f=n(61964),b=n(43634),v=n(33201),y=n(54929),w=n(2426);let C=e=>{let t=(0,d.useRef)(null),n=(0,y.cq)(),{editor:i,tippyOptions:r,onHide:o,targetElement:l}=e;return(0,d.useEffect)(()=>{i&&i.commands.command(e=>{let{tr:a}=e;return a.setMeta(w.dX,{element:t.current,tippyOptions:r,panelLifecycle:n,onHide:o,targetElement:l}),!0})},[i,r,n,o,l]),(0,a.jsx)("div",{ref:t,className:e.className,style:{visibility:"hidden"},id:"gamma-formatting-bubble-menu",children:e.children})};var j=n(50861),A=n(43607),k=n(61204),S=n(78140),I=n(36999),E=n(49611),L=n(41283),R=n(99492),D=n(48621),M=n(19564),_=n(77650),z=n(7957),T=n(80180),N=n(92685),P=n(24813),O=n(74471);let H=e=>{let{editor:t,attrs:n,selection:i}=e,r=(0,z._w)(),l=r[n.variant],s=l?l.icon:R.jyJ;return(0,a.jsxs)(S.W,{isLazy:!0,onClose:()=>(0,P.q)(t),children:[(0,a.jsx)(o.Tz,{placement:"top",label:(0,a.jsx)(M.x6,{id:"H8b4pf"}),"aria-label":_.Ru._({id:"H8b4pf"}),children:(0,a.jsx)(I.I,{as:E.$,variant:"toolbar",rightIcon:(0,a.jsx)(D.g,{icon:R.Jt$,transform:"shrink-6"}),size:"sm",onMouseDown:T.Fw,children:(0,a.jsx)(D.g,{icon:s})})}),(0,a.jsx)(L.c,{maxW:"auto",children:(0,a.jsxs)(k.e,{flex:"row",alignItems:"center",children:[Object.entries(r).map(e=>{let[r,{name:o,icon:l}]=e;return(0,a.jsx)(O.I,{label:o,icon:l,isActive:n.icon&&n.variant===r,onClick:()=>{t.chain().focus().updateAttributes("calloutBox",{variant:r,icon:!0}).selectNodeAtPos(i.from).run()}},o)}),(0,a.jsx)(N.q,{}),(0,a.jsx)(O.I,{label:n.icon?(0,a.jsx)(M.x6,{id:"Cs6LHm"}):(0,a.jsx)(M.x6,{id:"pjF2Hd"}),icon:R.Dfk,isActive:!n.icon,onClick:()=>{t.chain().focus().updateAttributes("calloutBox",{icon:!n.icon}).selectNodeAtPos(i.from).run()}},"icon")]})})]})};var F=n(35883),B=n(70615),V=n(46898),W=n(48810),U=n(80314),G=n(32380),K=n(87386);let Q=new(n(83747)).b;var Z=n(9922),q=n.n(Z);class ${constructor({key:e,description:t,classifyExamples:n,classifyReply:a,checkEnabled:i}){this.key=e,this.description=t,this.classifyExamples=n,this.classifyReply=a,this.checkEnabled=i}}class J extends Error{constructor(e,t={}){super(e),this.opts=t}}J.prototype.name="DesignPartnerError";class Y extends J{constructor(e,t={}){super(e,t)}}Y.prototype.name="CouldNotApplySuggestionError";class X extends J{constructor(e,t={}){super(e,t)}}X.prototype.name="InvalidResponseError";class ee extends J{constructor(e,t={}){super(e,t)}}ee.prototype.name="NoopSuggestionError";class et extends J{constructor(e,t={}){super("InputTooLongError: ".concat(e),t)}}et.prototype.name="InputTooLongError";class en extends J{constructor(e,t={}){super("ParsedSuggestionError: ".concat(e),t)}}ee.prototype.name="ParsedSuggestionError";var ea=n(6064),ei=n(38907),er=n(2018),eo=n(42721);let el=e=>!(0,ei.vI)(e).some(e=>["BAD_USER_INPUT"].includes(e)),es=async e=>{let{fn:t,retries:n,backoff:a=1e3,timeout:i}=e;try{return await Promise.race([t(),new Promise((e,t)=>{setTimeout(()=>t(Error("Request timeout (".concat(i,"ms)"))),i)})])}catch(l){var r;let e=null==(r=l.message)?void 0:r.startsWith("Request timeout");e&&console.debug("[AI] Request timeout. Not retrying");let o=el(l)&&!e;if(n>0&&o)return await new Promise(e=>setTimeout(e,a)),es({fn:t,retries:n-1,backoff:2*a,timeout:i});throw l}},ed=async e=>{var t;let n=await ec({messages:e.messages,maxTokens:null!=(t=e.params.maxTokens)?t:null,models:["gpt-3.5-turbo","gpt-3.5-turbo-16k"]});return{...e,params:{...e.params,model:n}}},ec=async e=>{var t;let{messages:n,maxTokens:a,models:i}=e,{data:r}=await (0,ea.H4n)().query({query:er.l3I,returnPartialData:!1,variables:{input:{messages:n,maxTokens:a,models:i}}}),o=null==r?void 0:r.canRunChatCompletion;if(!o||0===o.length)throw Error("No response received");let l=null==(t=o.find(e=>!!e.canRun))?void 0:t.model;if(!l)throw new et("Input too long for models: "+JSON.stringify(i));return l},eu=async function(e){var t,n;let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{timeout:6e4,retries:0};return console.debug("[AI][fetchChatCompletion]",e.messages,e.params),es({fn:()=>(0,ea.H4n)().mutate({mutation:er.aA3,variables:{input:{...e,workspaceId:(0,eo.gx)()}}}).then(e=>{let{data:t}=e,n=null==t?void 0:t.chatCompletion;if(!n||0===n.length)throw Error("No response received");return console.debug("[AI] Got chat completion",n),t}),timeout:null!=(t=a.timeout)?t:6e4,retries:null!=(n=a.retries)?n:0})};var ep=n(12562);let eh=async function(e,t){var n,a;let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=ep.of.get("aiRequestRetries").chat;i.retries=null!=(a=i.retries)?a:r;let o=await eu({...e,interactionId:t},i);return null==o||null==(n=o.chatCompletion)?void 0:n[0].content};var em=n(98701),eg=n(45611),ex=n(92397),ef=n(15607),eb=n(94289);let ev=new s.hs("aiModifications");var ey=n(66607);let ew=(e,t)=>{if(!e.content||!e.content[0].content)return null;let n=e.content[0].content.find(e=>e.attrs&&e.attrs.id===t);return n?(e.content[0].content=[n],e):null},eC=(e,t)=>{let n=null;if("html"===t.type)n=(0,ey.S)(t.html,e.schema).slice;else if("json"===t.type){let a=eb.FK.fromJSON(e.schema,t.json);n=new eb.Ji(a,0,0)}else throw Error("Unsupported Modification content type ".concat(t.type));return n},ej=(e,t,n)=>{var a,i;let r=ev.getState(e.state);if(!r)return t;let o=(null==r?void 0:r.getExistingRangeId(e.state,n))||null;return o||(null==(a=(i=e.commands).setInteractionRange)||a.call(i,t,n),t)},eA=(e,t)=>{let n=ev.getState(e.state);return(null==n?void 0:n.getRange(e.state,t))||null};class ek{isApplied(e){let t=e.state.tr,n=null;try{n=this.transact(e,t,!1)}catch(e){return console.error("[isModificationActive] Could not transact modificatioon, returning false",e.message),!1}if(!n)return!1;let a=eA(e,this.rangeId);if(!a)return!1;try{let i=e.state.doc.slice(a.from,a.to),r=t.doc.slice(a.from,a.to),o=n.from===a.from&&n.to===a.to;return i.eq(r)&&o}catch(e){}return!1}getPreviewJson(e){let t=e.state.tr;this.transact(e,t);let n=this.getParentCardId(e,t);return ew(q()(t.doc.toJSON()),n)}getParentCardId(e,t){let n=eA(e,this.rangeId);if(!n)return null;let a=t.doc.resolve(n.from),i=(0,ef.IV)(a,v.jg)[0];if(!i)return null;let r=i.node.attrs.id;return r||null}apply(e){let t=e.state.tr;this.transact(e,t),console.debug("[ReplaceContentModification] Applying modification",{modification:this,range:eA(e,this.rangeId)}),e.view.dispatch(t);let n=this.getParentCardId(e,t);(0,ex.OM)({editor:e,cardId:n})}transact(e,t){let n=!(arguments.length>2)||void 0===arguments[2]||arguments[2],a=eA(e,this.rangeId);if(!a)return null;let{state:i}=e;t.replace(a.from,a.to,this.slice).setMeta("applyingAiModification",{rangeId:this.rangeId});let r=t.mapping.map(a.to),o={from:a.from,to:r};if(n){if(i.selection.empty)return t.setSelection(s.LN.near(t.doc.resolve(a.from))),o;if(i.selection instanceof s.nh)return t.setSelection(s.nh.create(t.doc,a.from)),o;let e=s.U3.between(t.doc.resolve(a.from),t.doc.resolve(r));t.setSelection(e)}return o}getContentForTracking(){return this.content}constructor(e,t){this.type="replace-content",this.description=t.description,this.rangeId=t.rangeId,this.content=t.content,this.slice=eC(e,t.content)}}let eS=e=>Array.from(new DOMParser().parseFromString(e,"text/html").body.childNodes).some(e=>1===e.nodeType),eI=e=>e.slice(-7).map(e=>"User"===e.from?{role:"user",content:e.message}:e.isClassification?{role:"assistant",content:e.message}:e.resp?{role:"assistant",content:e.resp}:null).filter(e=>!!(null==e?void 0:e.content)),eE=()=>_.Ru._({id:"HNDdbS"});class eL extends ${async getResponseMessages(e){let{editor:t,context:n,rangeId:a,response:{raw:i,suggestion:r,message:o}}=e;if(!r)throw new X("[SuggestContentTask] No html provided in prompt response",{chatMessage:o,inputMessage:n.message,resp:i,interactionId:n.interactionId});let l=await (0,eg.e)(r,{loadImages:!0});console.debug("[AIChat SuggestContentTask] modify suggestion",{transformedHtml:l,html:r});let s=new ek(t,{description:_.Ru._({id:"nyQWMb"}),content:{type:"html",html:l},rangeId:a}),d={label:_.Ru._({id:"nyQWMb"}),modification:s,jsonContentPreview:s.getPreviewJson(t)},c=this.getOriginalModifyContentSuggestion(t,n,a);return{messages:[{from:"Designer",type:"suggestContent",resp:i,message:o||_.Ru._({id:"pMSbe+"}),suggestions:[d,c],interactionId:n.interactionId}],suggestionToApply:d}}async runPrompt(e){let t,{input:n,context:a,variables:i,trackFns:r,retries:o=2,history:l}=e;if(this.jsxPrompt&&ep.of.get("aiChatJsx")){let{promise:e}=(0,em.i4)({variables:{html:i.html,message:i.message,outline:i.outline,history:l.map(e=>({role:e.role===ea.VDI.Assistant?"assistant":"user",content:e.content||""}))},interactionId:a.interactionId,workspaceId:a.workspaceId,promptKey:this.jsxPrompt,opts:{timeout:ep.of.get("aiRequestTimeouts").suggestContent}});t=await e}else t=await eh(n,a.interactionId,{timeout:ep.of.get("aiRequestTimeouts").suggestContent});if(!t)throw new X("Couldn't get response from prompt",{resp:t,inputMessage:a.message,interactionId:a.interactionId});let s=this.parseResponse(t,i);if(s.shouldRetry){if(o<=0)throw new en("Could not parse response properly after retries",{chatMessage:eE(),inputMessage:a.message,resp:t,interactionId:a.interactionId});return r.trackRequestRetry({interactionId:a.interactionId,retriesRemaining:o,resp:t}),this.runPrompt({input:n,context:a,retries:o-1,trackFns:r,variables:i,history:l})}return{parsed:s,resp:t}}async run(e){let{editor:t,context:n,addMessage:a,history:i,trackFns:r,themeModificationController:o,provider:l}=e,{html:s,range:d}=this.determineTaskTarget(n.editorContext);r.trackInputContent({taskContext:n,inputContent:s});let c={message:n.message,html:s,outline:n.editorContext.outline},u=ej(t,n.interactionId,d),p=eI(i||[]),h=this.prompt.prepare({variables:c,history:p,interactionId:n.interactionId,params:{provider:l}});console.debug("[AIChat SuggestContentTask] run",{html:c.html,input:h,suggestHistory:p,range:eA(t,u)});let m=await ed(h),{parsed:g,resp:x}=await this.runPrompt({input:m,history:p,context:n,variables:c,trackFns:r,retries:1}),{messages:f,suggestionToApply:b}=await this.getResponseMessages({editor:t,context:n,rangeId:u,response:g,themeModificationController:o});console.debug("[AIChat SuggestContentTask] completed",{suggestion:g.suggestion,resp:x,parsed:g,messages:f,suggestionToApply:b}),this.autoApplySuggestion({context:n,editor:t,suggestionToApply:b,resp:x,trackFns:r,themeModificationController:o}),f.forEach(e=>a(e)),r.trackRequestComplete({taskContext:n,outputMessage:g.message,outputContent:g.suggestion,resp:x})}determineTaskTarget(e){return this.getTaskTarget?this.getTaskTarget(e):e.defaultRange}getOriginalModifyContentSuggestion(e,t,n){let a=new ek(e,{description:_.Ru._({id:"HxF6Fk"}),content:{type:"html",html:this.determineTaskTarget(t.editorContext).html},rangeId:n});return{label:_.Ru._({id:"HxF6Fk"}),modification:a,jsonContentPreview:a.getPreviewJson(e)}}autoApplySuggestion(e){let{context:t,editor:n,suggestionToApply:a,resp:i,trackFns:r,themeModificationController:o}=e;if(a){if(a.modification.isApplied(n,o))throw console.debug("[SuggestContentTask] suggestion does not change the content",a),new ee("Suggestion does not change content",{resp:i,interactionId:t.interactionId,chatMessage:eE()});try{let{modification:e}=a;e.apply(n,o),r.trackSuggestionApplied({interactionId:t.interactionId,suggestionContent:e.getContentForTracking(),suggestionLabel:e.description,suggestionType:e.type,autoApplied:!0})}catch(e){throw new Y("Could not apply suggestion",{interactionId:t.interactionId})}}}constructor(e){super(e),this.prompt=e.prompt,this.jsxPrompt=e.jsxPrompt,this.parseResponse=e.parseResponse||eD,this.getTaskTarget=e.getTaskTarget}}let eR=RegExp("(.*?)```[A-Za-z]*\\n(.*?)\\n```(.*?)$","ims"),eD=e=>{let t,n=e.match(eR),a=[];if(n)a=[n[1],n[3]],t=n[2];else{let n=e.split("```");if(0===n.length)throw Error("Could not extract code from response");if(1===n.length)return eS(n[0])?{suggestion:void 0,raw:e,message:e,shouldRetry:!0}:{suggestion:void 0,raw:e,message:e.replaceAll(/(HTML|code)/gi,"content")};a=[n[0]],t=n[1].trim()}return{suggestion:t,message:a.map(e=>e.trim()).filter(e=>e.length>0).join("\n\n").replaceAll(/(HTML|code)/gi,"content").replaceAll(/(slide)/gi,"card"),raw:e}},eM={model:"gpt-3.5-turbo-1106",provider:ea.eON.Azure};class e_{prepare(e){let{variables:t,history:n=[],params:a}=e;return{messages:[this.getSystemChatMessage(t),...n,this.getUserChatMessage(t)],params:{...this.params,...a}}}constructor({params:e}){this.params={...eM,...e}}}class ez extends e_{getSystemChatMessage(e){return{role:ea.VDI.System,operation:this.systemPromptOperation,variables:e}}getUserChatMessage(e){return{role:ea.VDI.User,operation:this.userPromptOperation,variables:e}}constructor({variables:e,systemPromptOperation:t,userPromptOperation:n,params:a}){super({params:a}),this.variables=e,this.systemPromptOperation=t,this.userPromptOperation=n}}new eL({key:"CHANGE_LAYOUT",description:"Change the display of information to use a different layout (like timeline, bullets, boxes, columns, table) or rearrange elements within a layout",classifyExamples:["turn this into a table","make each bullet into a box","could you split this into columns?","make this a timeline","could you make this more visual?","visualize this as a timeline"],classifyReply:"Sure, I'll start reformatting this as a table...",getTaskTarget:e=>"selectionRange"!==e.selectedDefaultRange?e.defaultRange:0===e.selectionRange.html.trim().length?e.cardContent:e.blockRange,prompt:new ez({systemPromptOperation:ea.mc.ChangeContentLayoutSystem,userPromptOperation:ea.mc.ChangeContentLayoutUser,variables:["html","message"],params:{temperature:.7,maxTokens:1e3}})});var eT=n(80116);n(17859),n(48993);var eN=n(82328),eP=n(65280),eO=n(27002),eH=n(22445),eF=n(11235),eB=n(67909),eV=n(36071),eW=n(68728),eU=n(17920),eG=n(3674),eK=n(96500),eQ=n(40691),eZ=n(57405),eq=n(26385),e$=n(74676),eJ=n(16426),eY=n(16491),eX=n(91938),e0=n(58809),e1=n(46091),e2=n(37605),e4=n(24302),e5=n(40452),e6=n(29810);let e3=e=>{let{formatLabel:t,icon:n,rightIcon:i=R.a_I,accentColor:r,onClick:o,exportInProgress:l,exportInProgressNote:s,badge:d,customLabel:c,customInProgressMessage:u}=e,p=(0,e4.dU)("gray.50","whiteAlpha.100"),h=(0,e4.dU)("gray.200","gray.600"),m=(0,e4.dU)("".concat(r,".100"),"".concat(r,".200")),g=r.endsWith("00")?r:m,x=(0,e4.dU)("gray.300","gray.600");return(0,a.jsxs)(e5.s,{alignItems:"stretch",overflow:"hidden",onClick:o,borderRadius:"md",border:"1px",borderColor:(0,e4.dU)("gray.200","gray.600"),bgColor:l?h:p,cursor:l?"progress":void 0,disabled:l,as:"button",transitionProperty:"common",transitionDuration:"normal",_hover:l?{}:{boxShadow:"var(--chakra-shadows-md)",borderColor:"inherit",color:"inherit"},children:[(0,a.jsx)(e5.s,{bgColor:l?x:g,filter:l?"grayscale(1)":void 0,width:14,minWidth:14,minH:14,alignItems:"center",justifyContent:"center",fontSize:"2xl",children:n}),(0,a.jsxs)(eq.B,{alignItems:"flex-start",spacing:0,p:4,justifyContent:"center",children:[!l&&(0,a.jsxs)(W.E,{fontWeight:"medium",children:[c||(0,a.jsx)(M.x6,{id:"i3Tbgc",values:{formatLabel:t}})," ",d]}),l&&(0,a.jsxs)(W.E,{fontWeight:"medium",textAlign:"start",children:[u||(0,a.jsx)(M.x6,{id:"wRvCQ6",values:{formatLabel:t}})," ",s]})]}),(0,a.jsx)(e6.h,{}),!l&&(0,a.jsx)(e5.s,{alignItems:"center",ps:4,pe:6,children:(0,a.jsx)(D.g,{icon:i,size:"1x"})})]})};var e9=n(24926),e7=n(74698),e8=n(95889);n(59018);var te=n(29608);class tt extends Error{constructor(e,t){super(e),this.code=t,this.name="AccountStateError"}}let tn=(e,t)=>"".concat(eX.$.API_HOST||"","/export/docs/").concat(e,"/").concat(t),ta=(e,t)=>"".concat(eX.$.API_HOST||"","/share/docs/").concat(e,"/").concat(t),ti=async function(e,t,n,a,i,r,o,l){let s=arguments.length>8&&void 0!==arguments[8]&&arguments[8],d=arguments.length>9?arguments[9]:void 0,c=arguments.length>10?arguments[10]:void 0,u=s?ta(e,c):tn(e,n),p=new AbortController;return setTimeout(()=>p.abort(),6e4),fetch(u,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json","share-token":eX.$.SHARE_TOKEN||""},body:JSON.stringify({docContent:t,fileName:i,cardIds:r,cardRanges:o,isCardExport:a,shareMessage:d,googleOauthToken:"google_slides"===n?l:void 0}),signal:p.signal})},tr=e=>{let{doc:t,source:n,editor:i,format:r="pdf",formatLabel:o,fileName:l,cardIds:s,cardRanges:c,socialPost:u=!1,socialPlatform:p,shareMessage:h,interceptFileExport:m}=e,g=(0,V.d)(),x=(0,d.useRef)(null),f=(0,e8.st)(),[b,v]=(0,d.useState)(!1);if(u&&!p)throw console.error("Unable to export since no social platform provided for the post"),Error("Unable to share post");let y=(0,d.useCallback)(()=>{x.current=g({id:"export-toast-".concat(t.id,"-").concat(r),isClosable:!1,position:"top",duration:null,status:"loading",colorScheme:"gray",title:u?(0,a.jsx)(M.x6,{id:"jQGAZQ",values:{formatLabel:o}}):(0,a.jsx)(M.x6,{id:"eWt/TT",values:{formatLabel:o}})})},[null==t?void 0:t.id,g,r,o,u]),w=(0,d.useCallback)(()=>{x.current&&g.update(x.current,{status:"loading",colorScheme:"gray",title:u?(0,a.jsx)(M.x6,{id:"iPHeYN"}):(0,a.jsx)(M.x6,{id:"eJOEBy"}),description:(0,a.jsx)(M.x6,{id:"3xBuWT"}),isClosable:!0})},[g,u]),C=(0,d.useCallback)(()=>{x.current&&g.update(x.current,{status:"info",colorScheme:"gray",title:(0,a.jsx)(M.x6,{id:"eJOEBy"}),description:u?(0,a.jsx)(M.x6,{id:"c5plBG"}):"google_slides"===r?(0,a.jsx)(M.x6,{id:"/CtF0l"}):(0,a.jsx)(M.x6,{id:"W4zgCP"}),isClosable:!0})},[g,u,r]),j=(0,d.useCallback)(e=>{if(x.current){let t;t=u?"REVOKED_ACCESS_TOKEN"===e?(0,a.jsx)(M.x6,{id:"zK8Tsy",values:{formatLabel:o}}):(0,a.jsx)(M.x6,{id:"sBE71M",values:{formatLabel:o}}):"INSUFFICIENT_SPACE"===e?(0,a.jsx)(M.x6,{id:"+ope9f",values:{formatLabel:o}}):(0,a.jsx)(M.x6,{id:"walT1X"}),g.update(x.current,{title:t,status:"error",duration:null,isClosable:!0})}},[g,o,u]),A=(0,d.useCallback)(function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"download";if(x.current){let i,r;switch(n){case"download":i=_.Ru._({id:"aVmJex",values:{formatLabel:o}}),r=(0,a.jsx)(M.x6,{id:"VkeGn4",components:{0:(0,a.jsx)(U.N,{textDecoration:"underline",target:"_blank",href:e||void 0,onClick:()=>x.current&&g.close(x.current)})}});break;case"social":i=_.Ru._({id:"027pS1",values:{formatLabel:o,0:t.title}}),r=(0,a.jsx)(M.x6,{id:"nManvG",components:{0:(0,a.jsx)(U.N,{textDecoration:"underline",target:"_blank",href:e||void 0,onClick:()=>x.current&&g.close(x.current)})}});break;case"web":i=_.Ru._({id:"eLTtkg"}),r=(0,a.jsx)(M.x6,{id:"8hY871",values:{formatLabel:o},components:{0:(0,a.jsx)(U.N,{textDecoration:"underline",target:"_blank",href:e||void 0})}})}g.update(x.current,{status:"success",title:i,description:(0,a.jsx)(W.E,{children:r}),isClosable:!0})}},[t,o,g]);return{handleExport:(0,d.useCallback)(()=>{let e=null==i?void 0:i.getJSON();v(!0),y();let a=setTimeout(w,3e4);null!=m&&m({format:r,exportWaitWarnTimeout:a,showErrorToast:j,showEmailToast:C,showSuccessToast:A,setExportInProgress:v})||ti(t.id,e,r,"card_export_menu"===n,l,s,c,void 0,u,h,p).then(async e=>{var a;if(!e.ok){let t=await e.json();if(console.error("Export failed:",{status:e.status,statusText:e.statusText}),"REVOKED_ACCESS_TOKEN"===t.error)throw new tt("Posting to LinkedIn failed due to revoked access token",t.error);throw Error("Fetching export failed: ".concat(e.status," ").concat(e.statusText))}let i="linkedin"===p?e8.VV.LINKEDIN_POST:"pdf"===r?e8.VV.PDF_EXPORTED:"pptx"===r?e8.VV.PPTX_EXPORTED:"image"===r?e8.VV.PNG_EXPORTED:void 0,o=decodeURIComponent(e.headers.get("x-gamma-download-url")||"")||void 0;if(u&&(o=(await e.json()).url),i&&(null==f||f.track(i,{doc_id:t.id,source:n,device:(0,te.ZI)(),...u&&{postUrl:o}})),A(o,u?"social":"download"),u)return;let l=await e.blob(),s=window.URL.createObjectURL(l),d=document.createElement("a");d.download=decodeURIComponent((null==(a=(e.headers.get("Content-Disposition")||"").split(";").find(e=>e.includes("filename=")))?void 0:a.replace("filename=","").trim())||"".concat(t.id,".").concat(r)),d.href=s,d.style.display="none",document.body.appendChild(d),d.click(),d.remove()}).catch(e=>{"AbortError"===e.name?C():(e7.Cp(e,{extra:{docId:t.id,format:r,source:n}}),e9.yf.logger.error("[useHandleExport] Error exporting doc",{docId:t.id,format:r,source:n},e),j(null==e?void 0:e.code))}).finally(()=>{v(!1),clearTimeout(a)})},[f,null==t?void 0:t.id,i,n,r,l,m,s,c,h,j,y,w,C,A,p,u]),exportInProgress:b}},to=e=>{let{doc:t,source:n,editor:a,fileName:i,cardIds:r,cardRanges:o}=e,l="https://www.googleapis.com/auth/drive.file",s=(0,d.useRef)(null),c=(0,e8.st)(),u=(0,eY.mg)({scope:l,prompt:"",onSuccess:async e=>{let{showErrorToast:d,showEmailToast:u,showSuccessToast:p,setExportInProgress:h,exportWaitWarnTimeout:m}=s.current,g="";if(!(0,eY.DY)(e,l))return void d();g=e.access_token;let x=null==a?void 0:a.getJSON(),f="google_slides";ti(t.id,x,"google_slides","card_export_menu"===n,i,r,o,g).then(async e=>{let a=await e.json();if(!e.ok){if(console.error("Export failed:",{status:e.status,statusText:e.statusText}),400===e.status)throw new tt("Google drive upload failed",a.error);throw Error("Fetching export failed: ".concat(e.status," ").concat(e.statusText))}let i=e8.VV.GSLIDES_EXPORTED;i&&(null==c||c.track(i,{doc_id:t.id,source:n})),p(a.url,"web"),window.open(a.url,"_blank")}).catch(e=>{"AbortError"===e.name?u():(e7.Cp(e,{extra:{docId:t.id,format:f,source:n}}),e9.yf.logger.error("[useHandleExport] Error exporting doc",{docId:t.id,format:f,source:n},e),e instanceof tt?d(e.code):d())}).finally(()=>{h(!1),clearTimeout(m)})}});return{interceptFileExport:e=>"google_slides"===e.format&&(s.current=e,u(),!0)}};var tl=n(33787);let ts={pdf:{icon:(0,a.jsx)(tl._,{src:"https://assets.gammahosted.com/j1bla5j5f/_next/static/media/pdf-icon.a0dfc5d3.svg",h:"1.35rem",w:"auto"}),accentColor:"red"},pptx:{icon:(0,a.jsx)(tl._,{src:"https://assets.gammahosted.com/j1bla5j5f/_next/static/media/powerpoint-icon.2df39be4.svg",h:"1.5rem",w:"auto"}),accentColor:"orange"},png:{icon:(0,a.jsx)(tl._,{src:"https://assets.gammahosted.com/j1bla5j5f/_next/static/media/png-icon.0a2f46dc.svg",h:"1.45rem",w:"auto"}),accentColor:"purple"},google_slides:{icon:(0,a.jsx)(tl._,{src:"https://assets.gammahosted.com/j1bla5j5f/_next/static/media/google-slides-icon.a22064ae.svg",h:"1.6rem",w:"auto"}),accentColor:"yellow"},linkedin:{icon:(0,a.jsx)(tl._,{src:"https://assets.gammahosted.com/j1bla5j5f/_next/static/media/linkedin-icon.314303f8.svg",h:"1.6rem",w:"auto"}),accentColor:"deepocean.900"}};var td=n(99430),tc=n(99038),tu=n(39892),tp=n(49894),th=n(74003);n(24729);var tm=n(70006);let tg=(e,t)=>{var n;return(null==e||null==(n=e.organization)?void 0:n.id)!==(null==t?void 0:t.id)},tx={ORG_VIEW:"org-view",ORG_COMMENT:"org-comment",ORG_EDIT:"org-edit",ORG_MANAGE:"org-manage"};tx.ORG_VIEW,tx.ORG_COMMENT,tx.ORG_EDIT,tx.ORG_MANAGE;let tf=e=>{let{onClose:t,onOpen:n,segmentEvent:i,doc:o,label:l}=e,s=(0,tu.nk)(null==o?void 0:o.organization),{openUpsellModal:d}=(0,th.I)(),c=(0,e4.dU)("gray.200","gray.600"),{currentWorkspace:u}=(0,eo.ur)();return!1!==s||tg(o,u)?null:(0,a.jsxs)(e5.s,{direction:"column",w:"100%",children:[(0,a.jsx)(eK.c,{borderColor:c}),(0,a.jsxs)(r.z,{mt:4,mb:2,children:[(0,a.jsxs)(r.z,{children:[(0,a.jsx)(W.E,{children:l||(0,a.jsx)(M.x6,{id:"nkzjqi",values:{GAMMA_PROPER_NOUN:tc.On}})}),(0,a.jsx)(tp.zL,{product:"plus"})]}),(0,a.jsx)(e6.h,{}),(0,a.jsx)(td.d,{onClickCapture:e=>{e.preventDefault(),d({onOpenCallback:t,onCloseCallback:n,segmentEvent:i})},isChecked:!1})]})]})};var tb=n(17928);let tv=e=>{let{cardId:t,format:n,doc:i,editor:r,icon:o,badge:l,accentColor:s,label:d}=e,{handleExport:c,exportInProgress:u}=tr({doc:i,source:"card_export_menu",editor:r,format:n,formatLabel:d,cardIds:[t],interceptFileExport:void 0});return(0,a.jsx)(e3,{onClick:c,icon:o,formatLabel:d,accentColor:s,badge:l,exportInProgress:u,exportInProgressNote:(0,a.jsx)(M.x6,{id:"SJjTti"})})},ty=e=>{let{cardId:t,doc:n,editor:i,icon:r,badge:o,accentColor:l,label:s}=e,{interceptFileExport:d}=to({doc:n,source:"card_export_menu",editor:i,fileName:n.title,cardIds:[t]}),{handleExport:c,exportInProgress:u}=tr({doc:n,source:"card_export_menu",editor:i,format:"google_slides",formatLabel:s,cardIds:[t],interceptFileExport:d});return(0,a.jsx)(e3,{onClick:c,icon:r,formatLabel:s,accentColor:l,badge:o,exportInProgress:u,exportInProgressNote:(0,a.jsx)(M.x6,{id:"SJjTti"})})},tw=e=>"google_slides"===e.format?(0,a.jsx)(eY.G_,{clientId:eX.$.GOOGLE_DRIVE_IMPORT_CLIENT_ID,children:(0,a.jsx)(ty,{...e})}):(0,a.jsx)(tv,{...e}),tC=(0,e1.A)(e=>{let{isOpen:t,onClose:n,onOpen:i,cardId:r,editor:o}=e,l=(0,u.GV)(e0.Jo),s=(0,eO.u)("googleSlidesExport");return(0,a.jsxs)(eB.aF,{isOpen:t,onClose:n,size:"lg",children:[(0,a.jsx)(eV.m,{}),(0,a.jsxs)(eW.$,{children:[(0,a.jsx)(eU.r,{children:(0,a.jsx)(M.x6,{id:"xRJ+bN"})}),(0,a.jsx)(eG.s,{}),(0,a.jsx)(eK.c,{}),(0,a.jsx)(eQ.c,{pt:"6",children:(0,a.jsxs)(eZ.T,{spacing:4,align:"start",children:[(0,a.jsxs)(eq.B,{spacing:2,w:"100%",children:[(0,a.jsx)(tw,{cardId:r,format:"image",label:"PNG",icon:ts.png.icon,accentColor:ts.png.accentColor,doc:l,editor:o}),(0,a.jsx)(tw,{cardId:r,format:"pdf",label:"PDF",icon:ts.pdf.icon,accentColor:ts.pdf.accentColor,doc:l,editor:o}),(0,a.jsx)(tw,{cardId:r,format:"pptx",label:"PPTX",icon:ts.pptx.icon,accentColor:ts.pptx.accentColor,doc:l,editor:o}),s&&(0,a.jsx)(tw,{cardId:r,format:"google_slides",label:"Google Slides",icon:ts.google_slides.icon,accentColor:ts.google_slides.accentColor,badge:(0,a.jsx)(e$.E,{colorScheme:"green",children:(0,a.jsx)(M.x6,{id:"isRobC"})}),doc:l,editor:o})]}),(0,a.jsx)(W.E,{fontSize:"sm",color:"gray.600",children:(0,a.jsx)(M.x6,{id:"8LhjM/",components:{0:(0,a.jsx)(E.$,{variant:"link",as:"span",size:"sm",cursor:"pointer",onClick:()=>{n(),tb.LF.emit(tb.DN.OPEN_PAGE_SETUP,"cards")}})}})}),(0,a.jsx)(tf,{onClose:n,onOpen:i,segmentEvent:e2.VV.GAMMA_PRO_UPSELL_EXPORT_SETTINGS_REMOVE_WATERMARK,doc:l})]})}),(0,a.jsx)(eJ.j,{children:(0,a.jsx)(k.e,{children:(0,a.jsx)(E.$,{onClick:()=>{n()},children:(0,a.jsx)(M.x6,{id:"DPfwMq"})})})})]})]})});var tj=n(89884),tA=n(16936),tk=n(35292),tS=n(76565),tI=n(40268),tE=n(98071),tL=n(27246),tR=n(52762),tD=n(67097);let tM=e=>{let{editor:t,selection:n,decorations:i}=e,{node:r,from:l}=n,s=r.attrs,c=(0,tL.Bn)(i),u=(0,tE.jh)(s,null==c?void 0:c.layout),p=(0,d.useCallback)(e=>{l&&t.commands.updateAttributesAtPos(l,{fitType:e})},[t,l]),h="fit"===u;return(0,a.jsx)(o.Tz,{label:h?(0,a.jsx)(M.x6,{id:"sShDhp"}):(0,a.jsx)(M.x6,{id:"VPxUGR"}),placement:"top",children:(0,a.jsx)(tA.K,{variant:h?"activeToolbar":"toolbar",size:"sm",icon:(0,a.jsx)(D.g,{icon:R.GZ1}),onClick:()=>p(h?"fill":"fit"),boxSize:7,p:0,my:0,"aria-label":_.Ru._({id:"l1XNCT"}),isActive:h})})};var t_=n(89122),tz=n(94740),tT=n(59272),tN=n(18078),tP=n(25311),tO=n(80074),tH=n(33750),tF=n.n(tH),tB=n(50333),tV=n.n(tB),tW=n(74158),tU=n(12354),tG=n(56603),tK=n(16595);let tQ=e=>{let[t,n]=(0,d.useState)(null);return(0,d.useEffect)(()=>((()=>{let t=new Image;t.src=e,t.onload=()=>{let{naturalWidth:e,naturalHeight:a}=t;n(e/a)}})(),()=>{n(null)}),[e]),t},tZ=(e,t,n)=>{let a=e.view.domAtPos(t);if(!a)return;let{node:i,offset:r}=a,o=i.childNodes[r].querySelector("[data-change-focus-point-el]");o&&(o.style.backgroundPosition=n?"".concat(n.x,"% ").concat(n.y,"%"):"")},tq=e=>{var t;return null==(t=(0,tK.um)(e))?void 0:t.backgroundPos},t$=(e,t,n)=>{if(!t||!n)return;let a=(0,tG.d_)(e.state,n);if(!a)return void console.error("ChangeFocusPoint - relative pos is null");tZ(e,a,null);let i=e.state.doc.nodeAt(a);if(!i)return;let r=(0,tK.um)(i),o=(0,tK.wH)(i,{...r,backgroundPos:t});e.commands.updateAttributesAtPos(a,o)},tJ=e=>{let{editor:t,pos:n,node:a,isOpen:i}=e,r=(0,d.useRef)(null),o=(0,d.useRef)(null),l=(0,d.useRef)(null),[s,c]=(0,d.useState)(!1),u=(0,d.useRef)(),p=(0,d.useCallback)(e=>{let a=r.current;if(a){if(u.current=e,!e){a.style.left="calc(50% - 10px)",a.style.top="calc(50% - 10px)",c(!1);return}a.style.left="calc(".concat(e.x,"% - 10px)"),a.style.top="calc(".concat(e.y,"% - 10px)"),tZ(t,n,e),c(50!==e.x||50!==e.y)}},[t,n]);(0,d.useEffect)(()=>{i&&p(tq(a))},[i,a,p]);let h=(0,d.useCallback)(()=>{let e={x:50,y:50};p(e);let a=(0,tG.JO)(t.state,n);t$(t,e,a)},[p,t,n]),m=(0,d.useCallback)(e=>{let t=o.current;if(!t)return;let n=t.getBoundingClientRect(),a=n.width,i=n.height,r=(e.clientX-n.left)/a,l=(e.clientY-n.top)/i;p({x:tV()(100*tF()(r,0,1),2),y:tV()(100*tF()(l,0,1),2)})},[p]);return(0,d.useEffect)(()=>{let e=r.current,a=o.current;if(!e||!a)return;l.current=(0,tG.JO)(t.state,n);let i=()=>{a.addEventListener("mousemove",m),window.addEventListener("mouseup",s)},s=()=>{a.removeEventListener("mousemove",m),window.removeEventListener("mouseup",s),t$(t,u.current,l.current)};return e.addEventListener("mousedown",i),()=>{e.removeEventListener("mousedown",i)}},[t,m,n]),(0,d.useEffect)(()=>{let e=o.current;if(!e)return;l.current=(0,tG.JO)(t.state,n);let a=t=>{e.addEventListener("mousemove",m),window.addEventListener("mouseup",i),m(t)},i=()=>{e.removeEventListener("mousemove",m),window.removeEventListener("mouseup",i),t$(t,u.current,l.current)};return e.addEventListener("mousedown",a),()=>{e.removeEventListener("mousedown",a)}},[t,m,n]),{dotRef:r,dotContainerRef:o,canReset:s,resetDotPosition:h}},tY=e=>{let{node:t,editor:n,pos:r,isDisabled:l=!1}=e,s=(0,tK.um)(t),c=(null==s?void 0:s.src)||(null==s?void 0:s.tempUrl),p=tQ(c),h=(0,tK.Df)(n,t,r,s),m=(0,tW.d4)((0,tU.CU)(h)),{dotRef:g,dotContainerRef:x,canReset:f,resetDotPosition:b}=tJ({editor:n,pos:r,node:t,isOpen:m}),v=(0,u.jL)();return(0,d.useEffect)(()=>()=>{v((0,tU.zs)())},[v]),(0,t_.j)({ref:{current:x.current},handler(){v((0,tU.zs)())}}),(0,a.jsxs)(tz.A,{strategy:"absolute",placement:"top",isOpen:m,onClose:()=>v((0,tU.zs)()),children:[(0,a.jsx)(o.Tz,{label:(0,a.jsx)(M.x6,{id:"BmxaoW"}),placement:"top",children:(0,a.jsx)(i.a,{my:1,children:(0,a.jsx)(tT.d,{children:(0,a.jsx)(tA.K,{variant:"toolbar",size:"sm",icon:(0,a.jsx)(D.g,{icon:R.xD0}),boxSize:7,p:0,my:0,isDisabled:l,"aria-label":_.Ru._({id:"BmxaoW"}),onClick:()=>{v((0,tU.sI)({id:h}))}})})})}),(0,a.jsx)(tN.h,{children:(0,a.jsx)(tP.e,{p:1,children:(0,a.jsxs)(i.a,{ref:x,userSelect:"none",position:"relative",children:[(0,a.jsx)(i.a,{ref:g,borderRadius:"full",boxSize:5,pos:"absolute",zIndex:"overlay",border:"2px solid",borderColor:"gray.50",pointerEvents:"none",boxShadow:"0 0 0 2px rgba(0,0,0,.1)",bg:"white"}),c&&(0,a.jsx)(tO.g,{maxW:"300px",ratio:p||1,position:"relative",children:(0,a.jsx)(tl._,{pointerEvents:"none",src:(0,tD.Ub)(c,tD.p7,s.meta),fallbackSrc:c,objectFit:"cover",position:"absolute",top:0,insetStart:0,width:"100%",height:"100%"})}),(0,a.jsx)(E.$,{opacity:+!!f,pos:"absolute",bottom:3,insetEnd:3,variant:"plain",size:"xs",onClick:b,children:(0,a.jsx)(M.x6,{id:"OfhWJH"})})]})})})]})};var tX=n(84714),t0=n(62452),t1=n(23907);let t2=e=>{let{icon:t,label:n,children:i,iconProps:r,isHidden:o,...l}=e;return o?null:(0,a.jsxs)(eq.B,{direction:"row",spacing:8,alignItems:"center",justifyContent:"space-between",...l,children:[(0,a.jsxs)(e5.s,{gap:4,alignItems:"center",children:[t&&(0,a.jsx)(D.g,{icon:t,fixedWidth:!0,...r}),(0,a.jsx)(W.E,{children:n})]}),i]})},t4=e=>{let{icon:t,label:n,onClick:i,colorScheme:r="gray",secondaryIcon:o,secondaryLabel:l,secondaryAction:s,secondaryColorScheme:d="gray"}=e;return(0,a.jsxs)(e5.s,{px:5,py:3,bg:"gray.50",mx:-4,mb:-4,justifyContent:l?"space-between":"center",alignItems:"center",children:[l&&s&&(0,a.jsx)(E.$,{variant:"link",size:"sm",colorScheme:d,leftIcon:o?(0,a.jsx)(D.g,{icon:o,fixedWidth:!0}):void 0,onClick:s,onMouseDown:T.Fw,children:l}),(0,a.jsx)(E.$,{variant:"link",size:"sm",colorScheme:r,leftIcon:t?(0,a.jsx)(D.g,{icon:t,fixedWidth:!0}):void 0,onClick:i,onMouseDown:T.Fw,children:n})]})},t5=e=>{let{...t}=e;return(0,a.jsx)(eK.c,{my:1,...t})},t6=e=>{let{children:t,...n}=e;return(0,a.jsx)(eq.B,{spacing:4,p:4,...n,children:t})},t3="14px",t9="28px",t7=e=>{let{label:t,withSidePadding:n=!1,children:i,...r}=e;return(0,a.jsxs)(eq.B,{direction:"row",spacing:3,...r,children:[t&&(0,a.jsx)(eq.B,{alignSelf:"center",justifyContent:"start",minWidth:i?"max-content":"100%",h:t9,pl:n?t3:void 0,children:(0,a.jsx)(e5.s,{justifyContent:"flex-start",alignItems:"center",width:"100%",height:"100%",children:t})}),i&&(0,a.jsx)(eq.B,{alignSelf:"center",width:"100%",pr:n?t3:void 0,h:t9,children:(0,a.jsx)(e5.s,{justifyContent:"flex-end",alignItems:"center",width:"100%",height:"100%",children:i})})]})};var t8=n(66082);let ne=e=>{let{editor:t}=e;return(0,a.jsx)(k.e,{dir:"ltr",spacing:1,size:"sm",children:t8.gj.map(e=>{let{name:n,icon:i,checkActive:r,apply:o}=e;if(r&&o)return(0,a.jsx)(O.I,{label:n(),icon:i,onClick:()=>{o(t)},isActive:r(t),my:0},n())})})};var nt=n(68917);let nn=e=>{let{contributors:t,hiddenContributorIds:n,toggleOneVisibleContributor:i,toggleAllVisibleContributors:r,isDisabled:l=!1}=e,s=(null==n?void 0:n.length)===0;return(0,a.jsxs)(S.W,{isLazy:!0,children:[(0,a.jsx)(I.I,{as:E.$,variant:"plain",size:"sm",boxShadow:"none",minW:"max-content",textAlign:"left",rightIcon:(0,a.jsx)(nt.D,{}),isDisabled:l,children:s?(0,a.jsx)(M.x6,{id:"lZw9AX"}):(0,a.jsx)(M.x6,{id:"8Tg/JR"})}),(0,a.jsx)(L.c,{minWidth:"max-content",padding:0,children:(0,a.jsxs)(eq.B,{spacing:1,py:3,children:[(0,a.jsx)(t7,{label:(0,a.jsx)(M.x6,{id:"lZw9AX"}),withSidePadding:!0,children:(0,a.jsx)(td.d,{isChecked:s,onChange:r})}),(0,a.jsx)(eK.c,{py:2}),(0,a.jsx)(t7,{label:(0,a.jsx)(o._x,{children:(0,a.jsx)(W.E,{children:(0,a.jsx)(M.x6,{id:"8Tg/JR"})})}),withSidePadding:!0}),t.map(e=>(0,a.jsx)(na,{contributor:e,contributors:t,toggleOneVisibleContributor:i,hiddenContributorIds:n,allVisible:s},e.user.id))]})})]})},na=e=>{let{contributor:t,contributors:n,toggleOneVisibleContributor:i,hiddenContributorIds:r,allVisible:l}=e,s=n.length-r.length==1&&!r.includes(t.user.id);return(0,a.jsxs)(t7,{label:(0,a.jsxs)(e5.s,{alignItems:"center",gap:2,children:[(0,a.jsx)(o.Vc,{size:"xs",src:t.user.profileImageUrl,opacity:l?.5:1}),(0,a.jsx)(W.E,{fontSize:"md",fontFamily:"body",opacity:l?.5:1,sx:{cursor:l?"default":"text"},children:t.user.displayName})]}),paddingY:1.25,withSidePadding:!0,children:[(0,a.jsx)(e6.h,{w:4}),(0,a.jsx)(td.d,{isChecked:!r.includes(t.user.id),onChange:()=>i(t.user.id),disabled:s})]})},ni=e=>{let{contributors:t,hiddenContributorIds:n,hasMultipleContributors:i,toggleOneVisibleContributor:r,toggleAllVisibleContributors:o}=e;return(0,a.jsx)(t2,{label:(0,a.jsx)(M.x6,{id:"YqsXfH"}),icon:R.VFr,children:(0,a.jsx)(nn,{contributors:t,hiddenContributorIds:n,toggleOneVisibleContributor:r,toggleAllVisibleContributors:o,isDisabled:!i})})};var nr=n(8527),no=n(2241);let nl=e=>{let{children:t,...n}=e,{content:i}=(0,nr.o)("Popover");return(0,a.jsx)(no.B.div,{__css:i,p:0,overflow:"hidden",borderWidth:0,minW:"auto",width:"auto",...n,children:t})},ns=()=>({square:{icon:R.Nfw,label:(0,a.jsx)(M.x6,{id:"du/PIl"})},landscape:{icon:R.vti,label:(0,a.jsx)(M.x6,{id:"BZXXSi"})},portrait:{icon:R.b0A,label:(0,a.jsx)(M.x6,{id:"79gnko"})}}),nd=e=>{let{selection:t,editor:n}=e,i=ns(),r=t.node.attrs;return(0,a.jsx)(t2,{label:(0,a.jsx)(M.x6,{id:"7bRShe"}),icon:R.VGw,children:(0,a.jsx)(k.e,{children:Object.entries(i).map(e=>{let[i,{icon:o,label:l}]=e;return(0,a.jsx)(O.I,{icon:o,label:l,onClick:()=>{n.chain().updateAttributes("gallery",{dimensions:i}).setNodeSelection(t.from).run()},isActive:r.dimensions===i},i)})})})};var nc=n(53113),nu=n(45176);let np=e=>{let{selection:t,editor:n}=e,i=t.node.attrs.thumbHeight||nu.Aj,r=(0,d.useCallback)(e=>{n.chain().updateAttributes("gallery",{thumbHeight:e}).setNodeSelection(t.from).focus().run()},[n,t.from]);return(0,a.jsx)(t2,{label:(0,a.jsx)(M.x6,{id:"Cj2Gtd"}),icon:R.dwj,children:(0,a.jsxs)(nc.Ap,{"aria-label":"gallery-slider",min:nu.pg,max:nu.Vj,step:.25,value:i,onChange:r,w:"120px",focusThumbOnChange:!1,colorScheme:"trueblue",size:"sm",children:[(0,a.jsx)(nc.hB,{children:(0,a.jsx)(nc.hJ,{})}),(0,a.jsx)(nc.OQ,{background:"trueblue.500"})]})})};var nh=n(80215);let nm=e=>{let{selection:t,editor:n}=e,i=t.node.attrs.thumbSpacing||nu.mj,r=(0,d.useCallback)(e=>{n.chain().updateAttributes("gallery",{thumbSpacing:e}).setNodeSelection(t.from).focus().run()},[n,t.from]);return(0,a.jsx)(t2,{label:(0,a.jsx)(M.x6,{id:"EL5s3L"}),icon:R.dwj,children:(0,a.jsxs)(nc.Ap,{"aria-label":"gallery-slider",min:nu.BA,max:nu.ZX,step:.1,value:i,onChange:r,w:"120px",focusThumbOnChange:!1,colorScheme:"trueblue",size:"sm",children:[(0,a.jsx)(nc.hB,{children:(0,a.jsx)(nc.hJ,{})}),(0,a.jsx)(nc.OQ,{background:"trueblue.500"})]})})},ng=e=>{let{selection:t,editor:n}=e,i=t.node.attrs,r=!0===i.stretchFill||null===i.stretchFill;return(0,a.jsx)(t2,{label:(0,a.jsx)(M.x6,{id:"57WAKT"}),icon:R.fGk,children:(0,a.jsx)(td.d,{isChecked:r,onChange:()=>{n.chain().updateAttributes("gallery",{stretchFill:!i.stretchFill}).setNodeSelection(t.from).run()}})})};var nx=n(55597),nf=n(90184),nb=n(24903),nv=n(66824),ny=n(49249),nw=n(83143),nC=n(71093),nj=n(89703),nA=n(2681),nk=n(37930),nS=n(48478);let nI=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{none:{label:(0,a.jsx)(M.x6,{id:"gIjBW2"})},expand:{label:(0,a.jsx)(M.x6,{id:"1A3EXy"})},newTab:{label:e?(0,a.jsx)(M.x6,{id:"YdDilE"}):(0,a.jsx)(M.x6,{id:"XGRJzS"})}}},nE=e=>{let{handleClickBehaviorChange:t,currentClickBehavior:n,enableNoClickBehavior:i=!1,canAddLink:r=!1}=e,o=nI(r);return(0,a.jsxs)(S.W,{closeOnSelect:!0,isLazy:!0,autoSelect:!1,children:[(0,a.jsx)(I.I,{as:E.$,"data-testid":"click-behavior-dropdown",size:"sm",rightIcon:(0,a.jsx)(D.g,{fixedWidth:!0,icon:R.Jt$,transform:"shrink-6"}),boxShadow:"none",onMouseDown:T.Fw,children:o[n].label}),(0,a.jsx)(L.c,{zIndex:2,children:(0,a.jsx)(nk.i,{type:"radio",onChange:e=>{t(e)},value:n,children:Object.entries(o).map(e=>{let[t,{label:n}]=e;return"none"!==t||i?(0,a.jsx)(nS.k,{value:t,onMouseOver:T.Fw,onMouseDown:T.Fw,"data-testid":"click-behavior-option-".concat(t),children:(0,a.jsx)(W.E,{children:n})},t):null})})})]})};var nL=n(72470),nR=n(38036),nD=n(77979),nM=n(62964),n_=n(19546),nz=n(37327),nT=n(15577),nN=n(4192),nP=n(70259),nO=n(39247),nH=n(31090),nF=n(27229);let nB=(0,d.memo)(e=>{let{label:t,icon:n,isFocused:i,focusedItemEl:o,onClick:l,onMouseMove:s}=e;return(0,a.jsx)(nH.ck,{px:2,py:2,mx:2,borderRadius:"md",ref:i?o:null,bg:i?"trueblue.50":"none",onClick:l,onMouseMove:s,onMouseDown:T.Fw,role:"option",cursor:"pointer",tabIndex:-1,children:(0,a.jsxs)(r.z,{pointerEvents:"none",children:[(0,a.jsx)(D.g,{icon:n,fixedWidth:!0,size:"sm"}),(0,a.jsx)(W.E,{noOfLines:1,fontSize:"sm",w:"100%",children:t})]})})});nB.displayName="Option";let nV=(0,d.memo)(e=>{let{items:t,inputValue:n,focusedIndex:r,interactionRef:l,isScrollingRef:s,isFiltered:c,onMouseMove:u,onSelectItem:p}=e,h=t.reduce((e,t,n)=>("page"===t.type?e.pages.push({item:t,index:n}):"card"===t.type?e.cards.push({item:t,index:n}):"url"===t.type&&e.url.push({item:t,index:n}),e),{pages:[],cards:[],url:[]}),m=(0,d.useRef)(null),g=(0,d.useRef)(null);return(0,d.useEffect)(()=>{if("keyboard"!==l.current)return;let e=g.current,t=m.current;if(!e||!t)return;let n=t.clientHeight,a=e.offsetTop,i=e.offsetHeight;s.current=!0,t.scrollTo({top:a-n/2+i/2,behavior:"smooth"});let r=setTimeout(()=>{s.current=!1},50);return()=>{clearTimeout(r)}},[r,g,m,l,s]),(0,a.jsx)(i.a,{children:(0,a.jsxs)(nH.B8,{ref:m,pos:"relative",overflowY:"auto",maxH:"min(300px, 50vh)",children:[h.pages.map((e,t)=>{let{item:l,index:s}=e;return(0,a.jsxs)(i.a,{children:[0===t&&(0,a.jsx)(o._x,{ml:4,my:1,children:c?(0,a.jsx)(M.x6,{id:"rXYeDA",values:{inputValue:n}}):(0,a.jsx)(M.x6,{id:"QIUdjp"})}),(0,a.jsx)(nB,{label:nW(l),icon:R.A4h,isFocused:s===r,focusedItemEl:g,onClick:()=>p(l),onMouseMove:()=>u(s)})]},l.docId)}),h.cards.map((e,t)=>{let{item:l,index:s}=e;return(0,a.jsxs)(i.a,{children:[0===t&&(0,a.jsx)(o._x,{ml:4,my:1,children:c?(0,a.jsx)(M.x6,{id:"m+j0l8",values:{inputValue:n}}):(0,a.jsx)(M.x6,{id:"Ccpbzh"})}),(0,a.jsx)(nB,{label:nW(l),icon:R.vti,isFocused:s===r,focusedItemEl:g,onClick:()=>p(l),onMouseMove:()=>u(s)})]},l.cardId)}),h.url.map((e,t)=>{let{item:n,index:l}=e;return(0,a.jsxs)(i.a,{children:[0===t&&(0,a.jsx)(o._x,{ml:4,my:1,children:(0,a.jsx)(M.x6,{id:"wuJqqq"})}),(0,a.jsx)(nB,{label:n.value,icon:R.CQO,isFocused:l===r,focusedItemEl:g,onClick:()=>p(n),onMouseMove:()=>u(l)})]},"custom".concat(l))})]})})});nV.displayName="ListBox";let nW=e=>e.title||("card"===e.type?_.Ru._({id:"gLDJuJ"}):_.Ru._({id:"kveQAJ"})),nU=(e,t)=>nW(t).trim().toLowerCase().includes(e.trim().toLowerCase()),nG=e=>{let t=(0,nT.Se)(e)||(0,nz.hc)(e)?e:"https://"+e;return(0,nT.AY)(t)?t:""},nK=e=>{let{items:t,inputValue:n}=e;return(0,d.useMemo)(()=>{let e=nG(n),a=[...t.filter(e=>nU(n,e)),""!==e?{type:"url",value:e}:null].filter(e=>!!e),i=a.length!==t.length;return{filteredItems:a,isFiltered:i}},[t,n])},nQ=e=>{let{items:t,inputValue:n,onSelect:a,onRevert:i,popoverRef:r}=e,{isOpen:o,onClose:l,onOpen:s}=(0,nF.j)(),[c,u]=(0,d.useState)(null),p=(0,d.useRef)(null),h=(0,d.useRef)(!1),m=(0,d.useCallback)(()=>{l(),u(null)},[l]),g=(0,d.useCallback)(()=>{n&&(s(),u(0))},[n,s]),x=(0,d.useCallback)(e=>{var t;(null==(t=r.current)?void 0:t.contains(e.relatedTarget))||m()},[m,r]),f=(0,d.useCallback)(e=>{a(e),m()},[m,a]),b=(0,d.useCallback)(e=>{switch(p.current="keyboard",e.key){case"Enter":case"Tab":{if(null===c)return;e.preventDefault();let n=t[c];n?f(n):m();return}case"Escape":e.preventDefault(),m(),i();return;case"ArrowDown":e.preventDefault(),o?u(e=>((null!=e?e:0)+1)%t.length):(s(),u(0));return;case"ArrowUp":e.preventDefault(),o?u(e=>{let n=(null!=e?e:0)-1;return n<0?t.length-1:n}):(s(),u(t.length-1));return}},[i,m,o,c,t,f,s]),v=(0,d.useCallback)(e=>{h.current||(p.current="mouse",u(e))},[]);return{isOpen:o,onClose:l,onOpen:s,focusedIndex:c,setFocusedIndex:u,handleSelectItem:f,onMouseMove:v,onKeyDown:b,onBlur:x,onFocus:g,interactionRef:p,isScrollingRef:h}},nZ=(0,d.memo)(e=>{let{items:t,onSelect:n,onRevert:i,inputValue:r,setInputValue:o,inputRef:l}=e,s=(0,d.useRef)(null),{filteredItems:c,isFiltered:u}=nK({items:t,inputValue:r}),{onKeyDown:p,onMouseMove:h,focusedIndex:m,setFocusedIndex:g,interactionRef:x,isOpen:f,onClose:b,onOpen:v,onBlur:y,onFocus:w,handleSelectItem:C,isScrollingRef:j}=nQ({items:c,onSelect:n,onRevert:i,popoverRef:s,inputValue:r}),A=(0,d.useCallback)(e=>{o(e.target.value),f||v(),g(0)},[f,v,g,o]),k=(0,d.useCallback)(()=>{f||(v(),g(0))},[f,v,g]);return(0,a.jsxs)(tz.A,{isLazy:!0,isOpen:f,onClose:b,autoFocus:!1,returnFocusOnClose:!1,matchWidth:!0,placement:"bottom",children:[(0,a.jsx)(tT.d,{children:(0,a.jsx)(nR.p,{ref:l,size:"sm",placeholder:_.Ru._({id:"BHFH/3"}),value:r,onKeyDown:p,onFocus:w,onBlur:y,onChange:A,onClick:k})}),(0,a.jsx)(tN.h,{ref:s,w:"100%",h:"100%",display:0===c.length?"none":void 0,tabIndex:-1,_focusVisible:{outline:"none"},children:(0,a.jsx)(nV,{items:c,isFiltered:u,onSelectItem:C,onMouseMove:h,inputValue:r,focusedIndex:m,interactionRef:x,isScrollingRef:j})})]})});nZ.displayName="PageAwareLinkComboBox";var nq=n(99552),n$=n(85732);let nJ=e=>{let{site:t}=e;return{linkablePages:null==t?void 0:t.routes.map(e=>{var t;return{docId:e.docId,title:null==(t=e.doc)?void 0:t.title}})}},nY=e=>{let{href:t,linkablePages:n}=e;if(!t)return null;let a=(0,n$.uT)(t);if(!a)return{href:t};let{docId:i,cardId:r}=a;return{...i&&(null==n?void 0:n.find(e=>e.docId===i))||null,href:t,cardId:r}},nX=e=>{let{href:t}=e,n=(0,u.GV)(nq.Gd);return(0,d.useMemo)(()=>{let{linkablePages:e}=nJ({site:n}),a=nY({href:t,linkablePages:e}),i=(null==a?void 0:a.docId)&&(null==n?void 0:n.id)&&(0,tm.pF)({docId:null==a?void 0:a.docId})||t,r=null==e?void 0:e.some(e=>e.docId===(null==a?void 0:a.docId));return{linkablePages:e,existingLink:a,newTabUrl:i,isPageLink:r}},[t,n])},n0=e=>{var t;let{href:n,inputValue:l,setInputValue:s,setHref:c,clearHref:p,inputRef:h,onCloseFocusRef:m}=e,g=(0,u.GV)(b.sX),x=(0,u.GV)(nO.rZ),{existingLink:f,linkablePages:v}=nX({href:n}),y=(0,d.useMemo)(()=>[...(v||[]).map(e=>({type:"page",docId:e.docId,title:e.title})),...x.map(e=>({type:"card",cardId:e.id,title:e.title}))],[v,x]),w=null==f?void 0:f.title,C=null!=(t=null==f?void 0:f.cardId)?t:void 0,{title:j}=(0,nP.d)({cardId:C}),A=(0,d.useCallback)(e=>{var t;e&&(c("url"===e.type?e.value:"page"===e.type?(0,tm.LN)({docId:e.docId,docTitle:e.title,absolute:!0}):(0,tm.Io)({cardId:e.cardId,docId:g})),null==m||null==(t=m.current)||t.focus({preventScroll:!0}))},[g,c,m]),k=(null==f?void 0:f.href)&&!f.docId;if(!f||k)return(0,a.jsx)(nZ,{items:y,inputValue:l,setInputValue:s,inputRef:h,onSelect:A,onRevert:()=>{var e;s(n),null==m||null==(e=m.current)||e.focus()}});{let e=C?j||(0,a.jsx)(M.x6,{id:"gLDJuJ"}):w||(0,a.jsx)(M.x6,{id:"kveQAJ"});return(0,a.jsx)(r.z,{spacing:1,children:(0,a.jsx)(nN.vw,{pr:1,children:(0,a.jsxs)(r.z,{spacing:1,children:[(0,a.jsx)(D.g,{icon:C?R.vti:R.A4h}),(0,a.jsx)(o.Tz,{label:e,placement:"top",children:(0,a.jsx)(i.a,{noOfLines:1,children:e})}),p&&(0,a.jsx)(o.Tz,{label:(0,a.jsx)(M.x6,{id:"484LKL"}),placement:"top",children:(0,a.jsx)(tA.K,{size:"xs",minHeight:4,height:4,variant:"ghost","aria-label":_.Ru._({id:"484LKL"}),icon:(0,a.jsx)(D.g,{icon:R.yYc}),onMouseDown:T.Fw,onClick:()=>{p(),s("")}})})]})})})}},n1="link-input-invalid-url",n2=e=>{let{editor:t,href:n,updateHref:r,clearHref:l,removeLink:s,isEmbedLink:c=!1}=e,[p,h]=(0,d.useState)(n),m=(0,d.useRef)(null),g=(0,d.useRef)(null),x=(0,V.d)(),f=p!==n,v=!!(t.multipageEnabled||t.isSiteNavbarEditor),y=(0,u.GV)(b.bO),w=(0,ef.Cf)(n,y),{newTabUrl:C}=nX({href:n});(0,d.useEffect)(()=>{h(n)},[n]),(0,d.useEffect)(()=>{!n&&m.current&&setTimeout(()=>{var e;null==m||null==(e=m.current)||e.focus()})},[n]);let j=(0,d.useCallback)(e=>{if(!e)return;let t=e;if(c){let n=(0,nM.Sf)(e);n&&(t=n)}if(t=(0,nT.Se)(t)||(0,nz.hc)(t)?t:"https://"+t,!(0,nT.AY)(t)){r(""),x.isActive(n1)||x({id:n1,title:(0,a.jsx)(M.x6,{id:"sBZMWb"}),description:(0,a.jsx)(M.x6,{id:"jEw0Mr"}),status:"error",position:"top",duration:3e3,isClosable:!0});return}r(t),h(t)},[c,x,r]),A=(0,d.useCallback)(e=>{if(w){let a=(0,ef.Ww)(n);(0,n_.T)(t,e,a)}else try{window.open(C,"_blank")}catch(e){console.error("(caught) LinkInput error going to URL",e)}},[w,t,n,C]);return(0,a.jsxs)(e5.s,{gap:2,justify:"space-between",alignItems:"center",children:[v&&!c?(0,a.jsxs)(e5.s,{flex:1,children:[(0,a.jsx)(n0,{href:n,inputValue:p,setInputValue:h,setHref:j,clearHref:l,inputRef:m,onCloseFocusRef:g}),(0,a.jsx)(i.a,{w:"0",h:"0",ref:g,tabIndex:-1})]}):(0,a.jsxs)(nL.M,{children:[(0,a.jsx)(nR.p,{"data-testid":"link-input",ref:m,value:p,placeholder:_.Ru._({id:"Ilf1mg"}),onChange:e=>{h(e.target.value)},onKeyUp:e=>{"Enter"===e.key&&(e.preventDefault(),j(p),t.commands.focus())},size:"sm"}),p.length>0&&f&&(0,a.jsx)(nD.t,{top:"50%",transform:"translateY(-50%)",children:(0,a.jsx)(o.Tz,{placement:"top",label:(0,a.jsx)(M.x6,{id:"tfDRzk"}),children:(0,a.jsx)(tA.K,{"aria-label":_.Ru._({id:"tfDRzk"}),variant:"ghost",size:"xs",onClick:()=>{j(p)},icon:(0,a.jsx)(D.g,{icon:R.e68})})})})]}),(0,a.jsxs)(k.e,{spacing:1,size:"sm",onMouseDown:T.Fw,children:[s&&(0,a.jsx)(O.I,{label:(0,a.jsx)(M.x6,{id:"484LKL"}),icon:R.vev,onClick:s,my:0}),n&&(0,a.jsx)(O.I,{label:w?(0,a.jsx)(M.x6,{id:"088Oxr"}):(0,a.jsx)(M.x6,{id:"fOj0+R"}),icon:w?R.dmS:R.vMs,onClick:A,my:0})]})]})};var n4=n(85595);let n5=e=>{let{buttonList:t}=e,n=t.filter(e=>!e.isHidden),r=1===n.length,l=n.length<=5?5:4,s=n.slice(0,l),d=n.slice(l,n.length);return(0,a.jsxs)(k.e,{size:"sm",width:"100%",children:[s.map(e=>{let{key:t,label:n,ariaLabel:l,action:s,icon:d,customIcon:c,isDisabled:u=!1,isLoading:p=!1,customButton:h}=e;return h||(d||c?(0,a.jsx)(o.Tz,{label:n,placement:"top",children:(0,a.jsx)(i.a,{flex:r?void 0:1,width:r?"33%":void 0,tabIndex:u?-1:void 0,children:(0,a.jsx)(tA.K,{"aria-label":l,icon:c||(0,a.jsx)(D.g,{icon:d,fixedWidth:!0}),onClick:s,w:"100%",isDisabled:u,isLoading:p,onMouseDown:T.Fw,shadow:"none"})})},t):null)}),!!d.length&&(0,a.jsxs)(S.W,{children:[(0,a.jsx)(o.Tz,{placement:"top",label:(0,a.jsx)(M.x6,{id:"3Siwmw"}),children:(0,a.jsx)(I.I,{as:tA.K,"aria-label":_.Ru._({id:"3Siwmw"}),icon:(0,a.jsx)(D.g,{icon:R.Dwc,fixedWidth:!0}),flex:1,shadow:"none"})}),(0,a.jsx)(L.c,{children:d.map(e=>{let{key:t,label:n,action:i,icon:r,customIcon:o}=e;return(0,a.jsx)(n4.D,{icon:o||r&&(0,a.jsx)(D.g,{icon:r,fixedWidth:!0}),onClick:i,children:n},t)})})]})]})},n6=()=>({inset:{title:_.Ru._({id:"Jn5DbR"})},circle:{title:_.Ru._({id:"7xMmki"})}}),n3=e=>{let{clipType:t,onChange:n}=e;return t?(0,a.jsxs)(nA.ms,{children:[(0,a.jsx)(nA.gf,{size:"sm",borderRadius:"full",minWidth:"105px",rightIcon:(0,a.jsx)(D.g,{icon:R.Jt$,transform:"shrink-6"}),variant:"toolbar",ps:2,onMouseDown:T.Fw,children:n6()[t].title}),(0,a.jsx)(nA.Q5,{children:Object.entries(n6()).map(e=>{let[r,{title:o}]=e;return(0,a.jsx)(nA.tJ,{value:r,fontSize:"sm",fontWeight:600,icon:(0,a.jsx)(i.a,{visibility:r===t?"visible":"hidden",children:(0,a.jsx)(D.g,{icon:R.e68})}),onMouseDown:T.Fw,onClick:()=>{n(r)},children:(0,a.jsx)(W.E,{children:o})},r)})})]}):null},n9={expand:R.bMI,newTab:R.Ju_,none:R.IPg};var n7=n(65772),n8=n(46617);let ae=e=>{let{editor:t,selection:n,handleDuplicate:i}=e,r=(0,d.useCallback)(()=>{t.chain().insertContentAt(n.from+n.node.nodeSize,n.node.toJSON()).selectInsertedNode().run()},[t,n]);return(0,a.jsx)(O.I,{label:(0,a.jsx)(M.x6,{id:"euc6Ns"}),icon:R.$3n,onClick:i||r,testId:"duplicate-node-button"})},at=e=>{let{editor:t,label:n}=e;return(0,a.jsx)(O.I,{onClick:()=>{t.chain().selectParentNode().run()},label:n,children:(0,a.jsx)(D.g,{icon:R.Hmw,flip:"horizontal"})})};var an=n(10500);let aa={src:"https://assets.gammahosted.com/j1bla5j5f/_next/static/media/layout-3-cols.478d87d6.svg",height:25,width:20,blurWidth:0,blurHeight:0},ai={src:"https://assets.gammahosted.com/j1bla5j5f/_next/static/media/layout-30-70.019e8aa0.svg",height:25,width:20,blurWidth:0,blurHeight:0},ar={src:"https://assets.gammahosted.com/j1bla5j5f/_next/static/media/layout-4-cols.bc7869e3.svg",height:25,width:20,blurWidth:0,blurHeight:0},ao={src:"https://assets.gammahosted.com/j1bla5j5f/_next/static/media/layout-50-50.a28ea4d4.svg",height:25,width:20,blurWidth:0,blurHeight:0},al={src:"https://assets.gammahosted.com/j1bla5j5f/_next/static/media/layout-70-30.abcf64e9.svg",height:25,width:20,blurWidth:0,blurHeight:0},as=()=>[{name:_.Ru._({id:"oCWIE5"}),testId:"layout-preset-5050",image:ao,value:[50,50]},{name:_.Ru._({id:"eWUI4Z"}),testId:"layout-preset-7030",image:al,value:[70,30]},{name:_.Ru._({id:"hOcihM"}),testId:"layout-preset-3070",image:ai,value:[30,70]},{name:_.Ru._({id:"OnuuaA"}),testId:"layout-preset-3col",image:aa,value:[33.33,33.33,33.34]},{name:_.Ru._({id:"hexbw8"}),testId:"layout-preset-4col",image:ar,value:[25,25,25,25]}];var ad=n(83650),ac=n(54229),au=n(81136),ap=n(9100);let ah=()=>({link:{title:(0,a.jsx)(M.x6,{id:"yzF66j"})},button:{title:(0,a.jsx)(M.x6,{id:"hxBFty"})},preview:{title:(0,a.jsx)(M.x6,{id:"rdUucN"})},inline:{title:(0,a.jsx)(M.x6,{id:"KKBlUU"})}}),am=e=>{let{editor:t,selection:n,isDisabled:i}=e,r=(0,l.KP)(e=>"button"===e.type.name)(n),o=n instanceof s.U3?r?"button":"link":n.node.type.name,c="link"===o,u="button"===o,p=t.getAttributes(o),h=u?"button":c?"link":"displayStyle"in p&&p.displayStyle||"inline",m=(0,d.useCallback)(e=>{if(o===e)return;let n="inline"===e||"preview"===e;switch(o){case"link":n?t.commands.convertLinkToMedia(e):"button"===e&&t.commands.convertLinkToButton();break;case"button":"link"===e?t.commands.convertButtonToLink():n&&t.commands.convertButtonToMedia(e);break;default:"link"===e?t.commands.convertMediaToLink():"button"===e?t.commands.convertMediaToButton():t.commands.updateAttributes(o,{displayStyle:e})}},[t,o]),g=ah();return(0,a.jsxs)(S.W,{closeOnSelect:!0,isLazy:!0,autoSelect:!1,children:[(0,a.jsx)(I.I,{as:E.$,"data-testid":"display-style-dropdown",isDisabled:i,size:"sm",rightIcon:(0,a.jsx)(D.g,{fixedWidth:!0,icon:R.Jt$,transform:"shrink-6"}),boxShadow:"none",onMouseDown:T.Fw,children:g[h].title}),(0,a.jsx)(L.c,{zIndex:2,children:(0,a.jsx)(nk.i,{type:"radio",onChange:m,value:h,children:Object.entries(g).map(e=>{let[t,{title:n}]=e;return(0,a.jsx)(nS.k,{value:t,onMouseDown:T.Fw,"data-testid":"display-style-option-".concat(t),children:(0,a.jsx)(W.E,{children:n})},t)})})})]})},ag=e=>{let{editor:t,selection:n}=e,{href:i}=t.getAttributes("button"),{isPageLink:r}=nX({href:i}),o=(0,u.GV)(b.SJ),l=(0,t0.jO)(o),c=(0,t0.Ik)(l),p=(0,au.yh)(l),h=t.getAttributes("button").color,m=n.$from.node(-1),g=ap.Dn[m.type.name],x=(0,ap.vf)().filter(e=>g.variants.includes(e.key)),f=(0,d.useCallback)(()=>t.commands.handleButtonDelete(!1),[t]),v=(0,d.useCallback)(e=>{t.commands.updateAttributes("button",{color:e})},[t]);return(0,a.jsxs)(t6,{overflow:"hidden",children:[g.linkDropdownEnabled&&i&&(n instanceof s.U3||n instanceof s.nh)&&(0,a.jsx)(t2,{label:(0,a.jsx)(M.x6,{id:"/SVg/B"}),icon:R.n2$,children:(0,a.jsx)(am,{editor:t,selection:n,isDisabled:r})}),(0,a.jsx)(n2,{href:i||"",updateHref:e=>{t.commands.updateAttributes("button",{href:e})},clearHref:()=>{t.commands.updateAttributes("button",{href:""})},editor:t}),x.length>=2&&(0,a.jsx)(t2,{label:(0,a.jsx)(M.x6,{id:"q6YAHa"}),icon:R.Cpz,children:(0,a.jsx)(k.e,{spacing:1,size:"sm",onMouseDown:T.Fw,children:x.map(e=>{let{name:n,icon:i,key:r}=e;return(0,a.jsx)(O.I,{label:n,icon:i,onClick:()=>{t.commands.updateAttributes("button",{variant:r})},isActive:t.isActive("button",{variant:r}),my:0},n)})})}),g.alignEnabled&&(0,a.jsx)(t2,{label:(0,a.jsx)(M.x6,{id:"0j+RGO"}),icon:R.ecg,children:(0,a.jsx)(k.e,{dir:"ltr",spacing:0,size:"sm",onMouseDown:T.Fw,children:t8.gj.map(e=>{let{name:n,icon:i,checkActive:r,apply:o}=e;if(r&&o)return(0,a.jsx)(O.I,{label:n(),icon:i,onClick:()=>{o(t)},isActive:r(t),my:0},n())})})}),g.colorEnabled&&(0,a.jsx)(t2,{label:(0,a.jsx)(M.x6,{id:"jZlrte"}),icon:R.wIs,children:(0,a.jsx)(k.e,{spacing:0,size:"sm",onMouseDown:T.Fw,children:(0,a.jsxs)(S.W,{isLazy:!0,children:[(0,a.jsx)(ad.v,{color:h||c,isDefaultColor:null===h||h===c}),(0,a.jsx)(L.c,{overflow:"hidden",children:(0,a.jsx)(ac.b,{currentColor:h||(p?null:c),setColor:v,source:"ButtonColor"})})]})})}),(0,a.jsx)(t4,{label:(0,a.jsx)(M.x6,{id:"cnGeoo"}),icon:R.yLS,onClick:f,colorScheme:"red"})]})};var ax=n(29347),af=n(23103);let ab="embed-formatting-invalid-error";var av=n(49146),ay=n(23908),aw=n(36693),aC=n(20061),aj=n(3448),aA=n(33612),ak=n.n(aA);let aS=(e,t)=>{let n=new Set;for(let a of e)if(n.add(a[t]),n.size>1)return!1;return[...n][0]},aI=(e,t,n)=>aS(function(e,t){let n=function(e,t){if("string"==typeof e){if(!t.marks[e])throw Error("There is no mark type named '".concat(e,"'. Maybe you forgot to add the extension?"));return t.marks[e]}return e}(t,e.schema),{from:a,to:i,empty:r}=e.selection,o=[];return r?(e.storedMarks&&o.push(...e.storedMarks),o.push(...e.selection.$head.marks())):e.doc.nodesBetween(a,i,e=>{o.push(...e.marks)}),o.filter(e=>e.type.name===n.name).map(e=>({...e.attrs}))}(e,t),n),aE=e=>{let{editor:t,isLinkText:n,defaultTextColor:a}=e,i=aD(t,a,n),r=aM(t,n),o=n&&t.state.selection.empty,l=(0,d.useCallback)(e=>{o?t.chain().focus().extendMarkRange("link").setHighlightColor(e).setTextSelection({from:t.state.selection.from,to:t.state.selection.to}).run():t.chain().focus().setHighlightColor(e).run()},[t,o]),s=(0,d.useCallback)(e=>{o?t.chain().focus().extendMarkRange("link").setTextColor(e).setTextSelection({from:t.state.selection.from,to:t.state.selection.to}).run():t.chain().focus().setTextColor(e).run()},[t,o]);return{highlightColor:r,resetColorAndHighlight:(0,d.useCallback)(()=>{o?t.chain().focus().extendMarkRange("link").unsetMark("textColor").unsetMark("highlight").setTextSelection({from:t.state.selection.from,to:t.state.selection.to}).run():t.chain().focus().unsetMark("textColor").unsetMark("highlight").run()},[t,o]),setHighlightColor:l,setTextColor:s,textColor:i}},aL=e=>{let{editor:t,defaultTextColor:n,testId:i,disabled:r,useMenuButton:l=!1,isLinkText:s=!1}=e,{textColor:d,highlightColor:c,setHighlightColor:u,setTextColor:p,resetColorAndHighlight:h}=aE({editor:t,isLinkText:s,defaultTextColor:n});return(0,a.jsxs)(S.W,{isLazy:!0,onClose:()=>(0,P.q)(t),children:[l?(0,a.jsx)(ad.v,{color:c.color||d.color||void 0,isDefaultColor:!c.color&&"default"===d.state,disabled:r,"data-testid":i,isMixed:"mixed"===c.state||"mixed"===d.state}):(0,a.jsx)(o.Tz,{placement:"top",label:(0,a.jsx)(M.x6,{id:"76ESgh"}),children:(0,a.jsx)(I.I,{isDisabled:r,as:E.$,variant:"toolbar",rightIcon:(0,a.jsx)(D.g,{icon:R.Jt$,transform:"shrink-6"}),"data-testid":i,onMouseDown:T.Fw,size:"sm",children:(0,a.jsx)(a_,{color:c.color||d.color||void 0})})}),(0,a.jsx)(L.c,{overflow:"hidden",children:(0,a.jsxs)(av.t,{isFitted:!0,variant:"soft-rounded",size:"md",defaultIndex:+!!c.color,children:[(0,a.jsxs)(ay.w,{children:[(0,a.jsx)(aw.o,{children:(0,a.jsx)(o.Tz,{label:(0,a.jsx)(M.x6,{id:"xeiujy"}),placement:"top",children:(0,a.jsx)(D.g,{icon:R.jrc})})}),(0,a.jsx)(aw.o,{children:(0,a.jsx)(o.Tz,{label:(0,a.jsx)(M.x6,{id:"gtEbeW"}),placement:"top",children:(0,a.jsx)(D.g,{icon:R.nps})})})]}),(0,a.jsxs)(aC.T,{children:[(0,a.jsx)(aj.K,{p:0,pt:2,children:(0,a.jsx)(ac.b,{currentColor:d.color||null,setColor:p,unsetColor:h,source:"TextColor"})}),(0,a.jsx)(aj.K,{p:0,pt:2,children:(0,a.jsx)(ac.b,{currentColor:c.color||"",setColor:u,unsetColor:h,source:"TextHighlight"})})]})]})})]})},aR=e=>{let{from:t}=e.state.selection,n=e.view.domAtPos(t),a=n.node instanceof HTMLElement?n.node:n.node.parentElement;if(!a)return null;let i=getComputedStyle(a).getPropertyValue("color");return i&&"rgba(0, 0, 0, 0)"!==i?ak()(i).toHexString().toUpperCase():null},aD=(e,t,n)=>{let{selection:a,doc:i,schema:r}=e.state,{from:o,to:l}=a,s=n?(0,ef.Cm)(i,o,l,r.marks.highlight):i.rangeHasMark(o,l,r.marks.highlight),d=n?(0,ef.Cm)(i,o,l,r.marks.textColor):i.rangeHasMark(o,l,r.marks.textColor);if(s)return{state:null,color:null};{if(!d)return{state:"default",color:t||aR(e)};let n=aI(e.state,"textColor","hex");return n?{state:null,color:n}:{state:"mixed",color:t||null}}},aM=(e,t)=>{let{selection:n,doc:a,schema:i}=e.state,{from:r,to:o}=n,l=t?(0,ef.Cm)(a,r,o,i.marks.highlight):a.rangeHasMark(r,o,i.marks.highlight);if(t?(0,ef.Cm)(a,r,o,i.marks.textColor):a.rangeHasMark(r,o,i.marks.textColor))return{state:null,color:null};{if(!l)return{state:"default",color:null};let t=aI(e.state,"highlight","hex");return t?{state:null,color:t}:{state:"mixed",color:null}}},a_=e=>{let{color:t,fixedWidth:n,isChecked:i}=e;return(0,a.jsxs)(eq.B,{spacing:"2px",children:[(0,a.jsx)(W.E,{children:i?(0,a.jsx)(an.S,{}):(0,a.jsx)(D.g,{icon:nx.jrc,fixedWidth:n,size:t?"sm":void 0,transform:{y:3*!!t}})}),t&&(0,a.jsx)(e5.s,{w:5,h:1.5,bg:t,borderRadius:"sm",borderWidth:"1px",borderColor:"blackAlpha.400"})]})};var az=n(44245),aT=n(33633),aN=n(83743),aP=n(77364),aO=n(647),aH=n(95563),aF=n(71514);let aB=n(27748).o0,aV=aB+100;var aW=n(78686);let aU=e=>{let{searchQuery:t,onChange:n,placeholder:i}=e,r={searchInputBorderColor:(0,e4.dU)("gray.200","whiteAlpha.200"),searchInputBackgroundColor:(0,e4.dU)("whiteAlpha.900","blackAlpha.900"),searchInputTextColor:(0,e4.dU)("gray.800","gray.50"),searchInputCloseColorScheme:(0,e4.dU)("blackAlpha","gray")};return(0,a.jsxs)(nL.M,{size:"md",children:[(0,a.jsx)(nD.W,{pointerEvents:"none",color:"gray.400",children:(0,a.jsx)(aW.W,{})}),(0,a.jsx)(nR.p,{placeholder:i,value:t,onChange:n,backgroundColor:r.searchInputBackgroundColor,color:r.searchInputTextColor}),t&&(0,a.jsx)(nD.t,{p:4,children:(0,a.jsx)(tA.K,{variant:"ghost",colorScheme:r.searchInputCloseColorScheme,size:"xs","aria-label":_.Ru._({id:"V8yTm6"}),icon:(0,a.jsx)(D.g,{icon:R.Jyw}),onClick:()=>n({target:{value:""}})})})]})};var aG=n(25722),aK=n(55847),aQ=n(90278),aZ=n(77249),aq=n(86687);let a$=e=>{let{initialFamily:t=null,selectedVariantHash:n=null,editor:a,selectedSmartLayoutPos:i}=e,[r,o]=(0,d.useState)(t),[l,s]=(0,d.useState)(""),[c,u]=(0,d.useState)(null),p=null,h=null,m=null;try{let e=void 0!==i?null==a?void 0:a.state.doc.nodeAt(i):null;m=(h=(p=void 0!==i&&a?(0,v.j5)(a,i):null)?(0,aK.Rv)(p):null)?(0,aQ.aG)(null==e?void 0:e.attrs,h.direction):null}catch(e){console.error("[SmartLayout] unable to find decorations at ".concat(i),e.message)}let{isHorizontal:g}=(0,aG.i)(m||{},(null==h?void 0:h.numCells)||0,(null==h?void 0:h.containerSize)||0);(0,d.useEffect)(()=>{if(n){let{key:e}=(0,aZ.A)(n),t=(0,aq.ML)().find(t=>t.variants.some(t=>t.variant.key===e));u((null==t?void 0:t.family.key)||null)}},[]);let x=(0,d.useCallback)(e=>{s(e.target.value),e.target.value.trim()&&r&&o(null)},[r]),f=(0,d.useCallback)(e=>e.map(e=>({...e,visible:!r||e.family.key===r})),[r]),b=(0,d.useCallback)(e=>{if(!l.trim())return e.map(e=>({...e,variants:e.variants.map(e=>({...e,options:e.options.map(e=>({...e,visible:!0}))}))}));let t=l.toLowerCase().trim();return e.map(e=>{let n=e.variants.map(n=>({...n,options:n.options.map(a=>({...a,visible:a.name().toLowerCase().includes(t)||n.variant.name().toLowerCase().includes(t)||e.family.name().toLowerCase().includes(t)}))})),a=n.some(e=>e.options.some(e=>e.visible));return{...e,variants:n,visible:a}})},[l]),y=(0,d.useCallback)(e=>e.map(e=>({...e,variants:e.variants.map(e=>({...e,options:e.options.map(e=>({...e,visible:e.visible&&(!e.hideIfVertical||g)}))}))})),[g]),w=(0,d.useCallback)(e=>{if(!c)return e;let t=e.findIndex(e=>e.family.key===c);if(-1===t)return e;let n=e[t],a=[...e];return a.splice(t,1),a.unshift({...n,family:{...n.family,name:()=>_.Ru._({id:"+0acwA"}),icon:R.i7d}}),a},[c]);return{selectedFamilyKey:r,setSelectedFamilyKey:o,searchQuery:l,handleSearchChange:x,filteredVariants:(0,d.useMemo)(()=>{let e=[...(0,aq.ML)()];return w(e=y(e=b(e=f(e))))},[f,b,y,w]),suggestedFamilyKey:c}},aJ=d.memo(e=>{var t;let{selectedFamilyKey:n,setSelectedFamilyKey:r,searchQuery:o,handleSearchChange:l,suggestedFamilyKey:s}=e,c={dropdownBgColor:(0,e4.dU)("blackAlpha.100","whiteAlpha.100"),dropdownBgHoverColor:(0,e4.dU)("blackAlpha.300","whiteAlpha.300"),dropdownTextColor:(0,e4.dU)("gray.800","white")},u=(0,d.useMemo)(()=>{let e=[];return(0,aq.ML)().forEach(t=>{t.family.key===s?e.unshift({value:t.family.key,icon:R.i7d,label:_.Ru._({id:"+0acwA"})}):e.push({value:t.family.key,icon:t.family.icon,label:t.family.name()})}),[{value:"",icon:R.Qyz,label:_.Ru._({id:"XbthhE"})},...e]},[s]);return(0,a.jsxs)(e5.s,{px:4,pb:2,direction:"column",gap:2,children:[(0,a.jsx)(i.a,{mb:1,children:(0,a.jsx)(aU,{searchQuery:o,onChange:l,placeholder:_.Ru._({id:"CYJHZl"})})}),(0,a.jsxs)(e5.s,{alignItems:"center",gap:2,children:[(0,a.jsx)(W.E,{fontSize:"xs",mb:1,children:(0,a.jsx)(M.x6,{id:"2BreKV"})}),(0,a.jsxs)(S.W,{children:[(0,a.jsx)(I.I,{as:E.$,display:"flex",rightIcon:(0,a.jsx)(D.g,{icon:R.Jt$}),variant:"unstyled",size:"xs",textAlign:"start",bgColor:c.dropdownBgColor,color:c.dropdownTextColor,borderRadius:"md",px:2,_hover:{bgColor:c.dropdownBgHoverColor},children:s===n?(0,a.jsx)(M.x6,{id:"+0acwA"}):n?null==(t=(0,aq.dQ)()[n])?void 0:t.family.name():(0,a.jsx)(M.x6,{id:"XbthhE"})}),(0,a.jsx)(L.c,{children:(0,a.jsx)(nk.i,{type:"radio",value:n||"",onChange:e=>r(""===e?null:String(e)),children:u.map(e=>(0,a.jsx)(nS.k,{value:e.value,children:(0,a.jsxs)(e5.s,{alignItems:"center",gap:2,children:[(0,a.jsx)(D.g,{icon:e.icon,fixedWidth:!0}),e.label]})},e.value))})})]})]})]})});aJ.displayName="FilterControls";let aY=(e,t)=>({...e,...Object.fromEntries(Object.entries(t).filter(n=>{let[a]=n;return null===e[a]||void 0===e[a]||null===t[a]}))}),aX=e=>{let{baseContent:t,variants:n}=e;return(0,K.createDocWithCards)({settings:{cardDimensions:"16x9"}},n.map(e=>{var n,a;return{type:"card",attrs:{id:e.key},content:[{type:"cardLayoutItem",content:[{...t,attrs:{...t.attrs,options:{...null==(n=t.attrs)?void 0:n.options,...e.options},variantKey:e.variantKey},content:(null==(a=e.cellAttrs)?void 0:a.label)&&t.content?t.content.map(t=>"smartLayoutCell"===t.type?{...t,attrs:aY(t.attrs||{},e.cellAttrs||{})}:t):t.content}]}]}}))},a0=(e,t,n)=>{try{var a,i;let r=e.chain(),{key:o,options:s}=(0,aZ.A)(t);r.updateAttributesAtPos(n,{variantKey:o,options:s});let d=(0,aq.y_)()[t];if(!d)return;let{cellAttrs:c}=d;if(c){let t=e.view.state.doc.nodeAt(n);if(!t)return;(0,l.xe)(t,x.q).forEach(e=>{let t=n+e.pos+1,a=aY(e.node.attrs,c);r.updateNestedAttributesAtPos(t,a)})}let u=null==(i=e.view.state.doc.nodeAt(n))||null==(a=i.attrs)?void 0:a.variantKey;u!==o&&e8.zS.track(e8.VV.SMART_LAYOUT_VARIANT_CHANGED,{previousVariant:u,newVariant:o,method:"variant-panel"}),r.run()}catch(e){console.error("[Smart Layout Variant Panel] Error updating variant",e)}};var a1=n(65950),a2=n(58568);let a4=d.memo(e=>{let{item:t,isSelected:n,onClick:i}=e,{ref:r,width:o}=(0,a2.Lh)();return(0,a.jsx)(e5.s,{ref:r,direction:"column",onClick:i,cursor:"pointer",overflow:"hidden",transition:"all 0.2s",color:n?"trueblue.600":"gray.800",bgColor:n?"trueblue.200":"transparent",_hover:{backgroundColor:n?"trueblue.150":"trueblue.100"},position:"relative",w:"100%",px:2,pt:2,pb:1,borderRadius:"md",css:{"--editor-width":"".concat(o&&1!==o?o:173,"px"),"--line-thickness":"1px"},h:"100%",children:(0,a.jsx)(a1.N,{cardId:t.key,zoomIn:t.zoomIn,shadow:"md",border:"1px solid",borderColor:"gray.200",borderRadius:"md",minH:"80px",maxH:"100px"})})});a4.displayName="VariantCard";let a5=()=>(0,a.jsx)(e5.s,{direction:"column",w:"100%",gap:1,opacity:.7,px:4,children:Array.from({length:3}).map((e,t)=>(0,a.jsxs)(e5.s,{direction:"column",w:"100%",mb:4,children:[(0,a.jsx)(e5.s,{alignItems:"center",justifyContent:"space-between",mb:2,children:(0,a.jsxs)(e5.s,{px:2,py:1,alignItems:"center",flex:1,children:[(0,a.jsx)(i.a,{as:"span",fontSize:"lg",me:2,children:(0,a.jsx)(i.a,{w:"16px",h:"16px",bg:"gray.200",borderRadius:"sm"})}),(0,a.jsx)(i.a,{w:"120px",h:"20px",bg:"gray.200",borderRadius:"md"})]})}),(0,a.jsx)(aN.r,{columns:2,spacing:4,children:Array.from({length:4}).map((e,t)=>(0,a.jsxs)(e5.s,{direction:"column",overflow:"hidden",h:"100px",position:"relative",children:[(0,a.jsx)(i.a,{flex:1,borderWidth:"1px",borderColor:"gray.200",borderRadius:"md",w:"100%",position:"relative",bg:"gray.50"}),(0,a.jsx)(e5.s,{direction:"row",alignItems:"center",mt:2,children:(0,a.jsx)(i.a,{w:"80px",h:"16px",bg:"gray.200",borderRadius:"md"})})]},t))})]},t))}),a6=e=>({visibility:e?"visible":"hidden",height:e?"auto":"0",overflow:"hidden",position:e?"relative":"absolute",pointerEvents:e?"auto":"none","aria-hidden":!e,tabIndex:e?void 0:-1}),a3=Object.assign(e=>{let{selectedSmartLayoutRange:t,closePanel:n,editor:i,node:r}=e;return(0,A.lC)(i,!0),(0,d.useEffect)(()=>{var e;let a=null==i||null==(e=i.state.selection)?void 0:e.from,{from:r,to:o}=t||{};if(!r||!o||!a)return void n();let l=null==i?void 0:i.state.doc.nodeAt(r),s=(null==l?void 0:l.type.name)==="smartLayout";(a===r||a>r&&a<o)&&s||n()},[null==i?void 0:i.state.selection,t,n,null==i?void 0:i.state.doc]),(0,a.jsx)(a9,{closePanel:n,selectedSmartLayoutRange:t,editor:i,node:r})},{panelPosition:"right",panelName:"smart-layout-variant",canCollapse:!1,minWidth:400}),a9=e=>{let{closePanel:t,selectedSmartLayoutRange:n,editor:i,node:r}=e,[o,l]=(0,d.useState)(null),[s,c]=(0,d.useState)(null);(0,d.useEffect)(()=>{var e,t;if(!n||!n.from)return;let a=r&&(null==r||null==(e=r.attrs)?void 0:e.variantKey)||"",i=r&&(null==r||null==(t=r.attrs)?void 0:t.options)||{};l((0,aZ.Z)(a,i)),c(aX({baseContent:null==r?void 0:r.toJSON(),variants:(0,aq.pK)()}))},[]);let u={bgColor:(0,e4.dU)("white","gray.800"),textColor:(0,e4.dU)("gray.800","white")},p=(0,d.useCallback)(e=>{i&&n&&n.from&&(l(e),requestAnimationFrame(()=>{n.from&&a0(i,e,n.from)}))},[i,n]);return o?(0,a.jsx)(aO.Z,{bgColor:u.bgColor,w:"100%",pt:4,children:(0,a.jsxs)(e5.s,{direction:"column",overflowX:"hidden",w:"100%",h:"100%",children:[(0,a.jsxs)(e5.s,{position:"relative",px:4,children:[(0,a.jsx)(e5.s,{flex:1,children:(0,a.jsx)(aH.N,{children:(0,a.jsx)(M.x6,{id:"uNnHCK"})})}),(0,a.jsx)(aP.J,{onClick:t})]}),(0,a.jsx)(a7,{combinedContent:s,savedVariantHash:o,handleSelectVariant:p,editor:i,selectedSmartLayoutPos:null==n?void 0:n.from})]})}):null},a7=d.memo(e=>{let{combinedContent:t,savedVariantHash:n,handleSelectVariant:r,editor:o,selectedSmartLayoutPos:l}=e,{selectedFamilyKey:s,setSelectedFamilyKey:c,searchQuery:u,handleSearchChange:p,filteredVariants:h,suggestedFamilyKey:m}=a$({selectedVariantHash:n,editor:o,selectedSmartLayoutPos:l}),[g,x]=(0,d.useState)(!1),[f,b]=(0,d.useState)(!0);return((0,d.useEffect)(()=>{b(!0);let e=setTimeout(()=>{x(!0)},aB),t=setTimeout(()=>{b(!1)},aV);return()=>{clearTimeout(e),clearTimeout(t)}},[]),t)?(0,a.jsxs)(e5.s,{direction:"column",h:"100%",overflowY:"auto",flex:1,pt:4,children:[(0,a.jsx)(aJ,{selectedFamilyKey:s,setSelectedFamilyKey:c,searchQuery:u,handleSearchChange:p,suggestedFamilyKey:m}),f&&(0,a.jsx)(a5,{}),g&&(0,a.jsx)(aF.q,{initialContent:t,children:(0,a.jsx)(e5.s,{direction:"column",w:"100%",gap:1,children:h.map((e,t)=>{let o=e.visible,l=a6(o);return(0,a.jsxs)(e5.s,{direction:"column",w:"100%",...l,children:[o&&(0,a.jsx)(e5.s,{alignItems:"center",justifyContent:"space-between",children:(0,a.jsxs)(e5.s,{px:4,py:1,alignItems:"center",flex:1,children:[(0,a.jsx)(i.a,{as:"span",fontSize:"lg",me:2,children:e.family.icon&&(0,a.jsx)(D.g,{icon:e.family.icon,fixedWidth:!0,size:"sm"})}),(0,a.jsx)(W.E,{children:e.family.name()})]})}),(0,a.jsx)(aN.r,{columns:2,gap:1,px:2,pb:2*!!o,...l,children:e.variants.flatMap(e=>e.options.map(e=>{let t=a6(o&&e.visible);return(0,a.jsx)(d.Fragment,{children:(0,a.jsx)(i.a,{...t,children:(0,a.jsx)(a4,{item:e,isSelected:n===e.key,onClick:()=>{r(e.key)}})})},e.key)}))})]},t)})})})]}):null});a7.displayName="SmartLayoutVariantList";let a8=()=>{let{togglePanel:e,isPanelOpen:t}=(0,aT.ww)(a3);return{toggleSmartLayoutVariantPanel:e,isSmartLayoutVariantPanelOpen:t}};var ie=n(5380),it=n(22115),ia=n(48369);let ii=e=>{let{variant:t,variantKey:n,updateVariant:i}=e,r=(0,d.useMemo)(()=>{var e;let t=(0,aq.ML)(),r=null==(e=t.find(e=>e.variants.some(e=>e.variant.key===n)))?void 0:e.family.key;return t.map(e=>{let t=r===e.family.key;return{key:"family-".concat(e.family.key),label:e.family.name(),icon:e.family.icon,background:t?"trueblue.50":void 0,items:e.variants.map(e=>{let t=e.variant,r=n===t.key;return{key:"variant-".concat(t.key),label:t.name(),icon:r?(0,a.jsx)(an.S,{}):(0,a.jsx)(D.g,{fixedWidth:!0,icon:t.icon}),background:r?"trueblue.50":void 0,onClick:()=>i(t.key)}})}})},[n,i]),o=(0,d.useRef)(null),{onContextMenu:l,menuProps:s}=(0,it.pO)(o);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(E.$,{variant:"toolbar",rightIcon:(0,a.jsx)(D.g,{icon:R.Jt$,transform:"shrink-6"}),leftIcon:(0,a.jsx)(D.g,{icon:t.icon,fixedWidth:!0}),size:"sm","data-testid":"smart-layout-variant-dropdown",onMouseDown:e=>l(e),ref:o,children:t.name()}),(0,a.jsx)(it.tz,{...s,menuItems:r,size:"small"})]})};var ir=n(39078),io=n(35616),il=n(56124),is=n(12514);let id=e=>{let{editor:t,testId:n,disabled:i,icon:r,label:l}=e,s=t8.gj.map(e=>{let{key:n,name:i,shortcut:r,icon:o,checkActive:l,apply:s}=e;return(0,a.jsx)(O.I,{icon:o,label:i(),onClick:()=>null==s?void 0:s(t),isActive:null==l?void 0:l(t),testId:n,shortcut:r},n)});return t.shouldUseLiteMenus?(0,a.jsx)(k.e,{spacing:0,children:s}):(0,a.jsxs)(S.W,{isLazy:!0,onClose:()=>(0,P.q)(t),children:[(0,a.jsx)(o.Tz,{placement:"top",label:l,children:(0,a.jsx)(I.I,{isDisabled:i,as:E.$,variant:"toolbar","data-testid":n,onMouseDown:T.Fw,rightIcon:(0,a.jsx)(D.g,{icon:R.Jt$,transform:"shrink-6"}),children:r&&(0,a.jsx)(D.g,{icon:r})})}),(0,a.jsx)(is.Z,{children:(0,a.jsx)(L.c,{minW:"auto",zIndex:"modalPopover",dir:"ltr",children:s})})]})};var ic=n(83550),iu=n(82172),ip=n(11215),ih=n(76083);let im=()=>({list:{label:_.Ru._({id:"Ci8I/9"})},wrap:{label:_.Ru._({id:"T4+jD7"})}}),ig=()=>{let e=(0,ih.Vo)();return[{key:"toggle",name:()=>_.Ru._({id:"JFciKP"}),icon:R.ijD,node:"toggle",description:()=>_.Ru._({id:"rhfAX6"}),apply:t=>{(0,ih.Jb)(e.toggle,e8.oU.FORMATTING_MENU),t.chain().wrapWithToggle().run()},group:"wrap"},{key:"convertToNestedCard",name:()=>_.Ru._({id:"lOmsEK"}),node:"card",description:()=>_.Ru._({id:"gRMoQV"}),icon:R.ViY,apply:t=>{(0,ih.Jb)(e.insertCardInside,e8.oU.FORMATTING_MENU),t.chain().convertToNestedCard().run()},checkDisabled:e=>!e.schema.nodes.card||!(0,ef.pO)(e,"card"),group:"wrap"},{key:"blockquote",name:()=>_.Ru._({id:"OLMhPm"}),node:"blockquote",description:()=>_.Ru._({id:"2yuhT7"}),icon:R.R9H,shortcut:"> Quote",apply:e=>e.chain().wrapWithAnnotations("blockquote").run(),checkDisabled:e=>!(0,ef.pO)(e,"blockquote"),group:"wrap"},{key:"calloutBox",name:()=>_.Ru._({id:"1E4ojF"}),node:"calloutBox",description:()=>_.Ru._({id:"4Wf98Z"}),icon:R.iW_,apply:e=>e.chain().wrapWithAnnotations("calloutBox",{variant:"info"}).run(),checkDisabled:e=>!(0,ef.pO)(e,"calloutBox"),group:"wrap"},{key:"listToCards",name:()=>_.Ru._({id:"FJ18tL"}),icon:R.vGi,description:()=>_.Ru._({id:"hWesxP"}),group:"list",apply:e=>e.commands.listToCards(),checkDisabled:e=>!(0,iu.Jx)(e)},...(0,ip.P3)()]};var ix=n(67864),ib=n(71737),iv=n(99389),iy=n(55786),iw=n(43944),iC=n(91656);let ij=[[{key:"textColor",name:()=>_.Ru._({id:"MapzEo"}),icon:R.jrc,shortcut:"Mod+Shift+H",enabledForTables:!0,checkDisabled:ib.NO}],[{key:"bold",name:()=>_.Ru._({id:"KmydK6"}),mark:"bold",icon:nx.l5I,shortcut:"Mod+B",enabledForTables:!0},{key:"italic",name:()=>_.Ru._({id:"pzutoc"}),mark:"italic",icon:R.SIw,shortcut:"Mod+I",enabledForTables:!0},{key:"underline",name:()=>_.Ru._({id:"YyXtnN"}),mark:"underline",icon:R.chs,shortcut:"Mod+U",enabledForTables:!0},{key:"strike",name:()=>_.Ru._({id:"WhOsNE"}),mark:"strike",icon:R.$6A,shortcut:"Mod+Shift+X",enabledForTables:!0},{key:"code",name:()=>_.Ru._({id:"EWPtMO"}),mark:"code",icon:R.jTw,shortcut:"Mod+Shift+C"},{key:"math",name:()=>_.Ru._({id:"l8rp1O"}),apply:e=>e.commands.convertToMathInline(),icon:R.Dkf,featureFlag:"math",shortcut:"$$",checkDisabled:()=>!0},{key:"removeFormatting",name:()=>_.Ru._({id:"bj5jMy"}),icon:R.Dkb,apply:e=>e.chain().unsetAllMarks().focus().run(),enabledForTables:!0}],[{key:"link",name:()=>_.Ru._({id:"yzF66j"}),mark:"link",icon:R.CQO,shortcut:"Mod+K"},{key:"footnote",name:()=>_.Ru._({id:"ONAJuB"}),icon:R.sxe,apply:e=>{(0,iy.J)((0,iv.Vo)().footnote,e8.oU.FORMATTING_MENU),e.chain().toggleFootnote().run()},checkActive:e=>e.isActive("footnoteLabel"),shortcut:"Mod+Alt+F",checkDisabled:e=>(0,nb.Q)(e)||!(0,ef.pO)(e,"footnote")||(0,ib.NO)(e)}],[{key:"numbered",name:()=>_.Ru._({id:"M3G9ZD"}),icon:R.Tsj,node:"numbered",checkActive:e=>(0,iw.Lf)(e,iC.e.Numbered),shortcut:"Mod+/ or Mod+Shift+7",apply:e=>e.chain().toggleListItems({variant:iC.e.Numbered}).focus().run()},{key:"bullet",name:()=>_.Ru._({id:"ynb7Kh"}),icon:R.pch,node:"bullet",checkActive:e=>(0,iw.Lf)(e,iC.e.Bullet),apply:e=>e.chain().toggleListItems({variant:iC.e.Bullet}).focus().run(),shortcut:"Mod+. or Mod+Shift+8"},{key:"todo",name:()=>_.Ru._({id:"rCIbrq"}),icon:R.AgW,node:"todo",checkActive:e=>(0,iw.Lf)(e,iC.e.Todo),shortcut:"Mod+, or Mod+Shift+9",apply:e=>{let{from:t,to:n}=e.state.selection;e.chain().toggleListItems({variant:iC.e.Todo}).run(),requestAnimationFrame(()=>e.chain().focus().setTextSelection({from:t,to:n}).run())}}],[{key:"alignText",name:()=>_.Ru._({id:"6Hkcin"}),icon:R.ecg,enabledForTables:!0}],[{key:"convertText",name:()=>_.Ru._({id:"cXIM1U"}),checkDisabled:e=>!!e.shouldUseLiteMenus,icon:R.VH5},{key:"rewriteText",name:()=>_.Ru._({id:"C4t1b/"}),icon:nx.p7g,checkDisabled:e=>!!e.shouldUseLiteMenus,featureFlag:"aiRewrite",needsConnection:!0},{key:"visualizeText",name:()=>_.Ru._({id:"vzQMNK"}),icon:R.Gmj,apply:e=>{let{from:t,to:n}=e.state.selection,a=e.state.doc.slice(t,n),i=(0,eT.KC)(e,a.content).trim();i&&e.chain().setTextSelection(n).insertSmartDiagram({attrs:{},selectedText:i}).run()},checkDisabled:e=>{if(e.shouldUseLiteMenus)return!0;let{from:t,to:n}=e.state.selection;return 0===e.state.doc.textBetween(t,n).trim().length},featureFlag:"visualizeText",needsConnection:!0}],[{key:"comment",name:()=>_.Ru._({id:"oFsfkI"}),icon:R.DN2,checkDisabled:e=>(0,nb.Q)(e)||(0,ib.NO)(e)||!!e.shouldUseLiteMenus,needsConnection:!0,apply:e=>{let{selection:t}=e.state,{from:n,to:a}=t,[i]=(0,ef.TK)(e.state.doc.resolve(n),(e,t)=>(0,ix.cE)(t));if(!i)return void console.warn("[TEXT_FORMATTING_COMMANDS] Add comment - Unable to find annotatable parent for this selection");let r=(0,ef.r$)(e.state.doc,n,a,e=>"footnote"!==e.type.name&&"cardNotes"!==e.type.name,"__BLOCK_SEPARATOR_PLACEHOLDER").split("__BLOCK_SEPARATOR_PLACEHOLDER").join("<br /><br />");tb.LF.emit(tb.DN.CREATE_COMMENT_FROM_SELECTION,{selectionPos:n,parentPos:i.pos,text:r})}}]],iA=function(e,t){var n;let a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!!(t.needsConnection&&a||t.featureFlag&&!eO.of.get(t.featureFlag)||(null==(n=t.checkDisabled)?void 0:n.call(t,e)))||(t.node?!(0,ef.aq)(e,t.node):!!t.mark&&!(0,ef.Au)(e,t.mark))},ik=e=>{let{editor:t,testId:n,disabled:i,icon:r,label:l}=e,{isInOfflineMode:s}=(0,eN.u)(),d=ig().filter(e=>e.apply&&!iA(t,e,s));return 0===d.length?null:(0,a.jsxs)(S.W,{isLazy:!0,onClose:()=>(0,P.q)(t),children:[(0,a.jsx)(o.Tz,{placement:"top",label:l,children:(0,a.jsx)(I.I,{isDisabled:i,as:E.$,variant:"toolbar","data-testid":n,onMouseDown:T.Fw,rightIcon:(0,a.jsx)(D.g,{icon:R.Jt$,transform:"shrink-6"}),children:r&&(0,a.jsx)(D.g,{icon:r})})}),(0,a.jsx)(is.Z,{children:(0,a.jsx)(L.c,{maxH:"min(25em, 45vh)",overflowY:"auto",maxW:"400px",children:Object.entries(im()).map(e=>{let[n,{label:i}]=e,r=d.filter(e=>e.group===n);return 0===r.length?null:(0,a.jsx)(ic.r,{title:i,children:r.map(e=>{let{key:n,icon:i,name:r,description:o,apply:l}=e;return(0,a.jsxs)(n4.D,{value:n,icon:(0,a.jsx)(D.g,{icon:i,fixedWidth:!0}),onClick:()=>l(t),"data-testid":"text-convert-menu-".concat(n),children:[(0,a.jsx)(W.E,{children:r()}),o&&(0,a.jsx)(W.E,{color:"gray.400",fontSize:"sm",children:o()})]},n)})},n)})})})]})};var iS=n(13731),iI=n.n(iS);let iE=()=>({rephrase:{label:_.Ru._({id:"bKWhYP"})},visualize:{label:_.Ru._({id:"6n7jtr"})},reformat:{label:_.Ru._({id:"ILEG4I"})}}),iL=[{key:"rephrase.better",type:"rephrase",name:()=>_.Ru._({id:"24nR0A"}),icon:R.DKF,featureFlag:"aiRewrite",description:()=>_.Ru._({id:"8KfRLQ"}),apply:e=>{if(eO.of.get("buddyEdit")){let{from:t,to:n}=e.state.selection,a=e.state.doc.textBetween(t,n);tb.LF.emit("queueBuddyEditMessage",{message:_.Ru._({id:"Us1RzN",values:{plainText:a}})})}else tb.LF.emit("queueDesignPartnerTask",{message:_.Ru._({id:"b5W83S"})})}},{key:"rephrase.expand",type:"rephrase",name:()=>_.Ru._({id:"XhF4Jp"}),icon:R.t6y,description:()=>_.Ru._({id:"fB02Qr"}),apply:e=>{if(eO.of.get("buddyEdit")){let{from:t,to:n}=e.state.selection,a=e.state.doc.textBetween(t,n);tb.LF.emit("queueBuddyEditMessage",{message:_.Ru._({id:"SnevVr",values:{plainText:a}})})}else tb.LF.emit("queueDesignPartnerTask",{message:_.Ru._({id:"OXmWnl"})})},featureFlag:"aiRewrite"},{key:"rephrase.condense",type:"rephrase",name:()=>_.Ru._({id:"g/NDyG"}),icon:R.nr0,description:()=>_.Ru._({id:"Yrd0bz"}),apply:e=>{if(eO.of.get("buddyEdit")){let{from:t,to:n}=e.state.selection,a=e.state.doc.textBetween(t,n);tb.LF.emit("queueBuddyEditMessage",{message:_.Ru._({id:"4oqnEl",values:{plainText:a}})})}else tb.LF.emit("queueDesignPartnerTask",{message:_.Ru._({id:"jBaWwf"})})},featureFlag:"aiRewrite"},{key:"visualize.keypoints",type:"visualize",name:()=>_.Ru._({id:"n+v3I1"}),description:()=>_.Ru._({id:"E9axcX"}),icon:R.bef,node:"smartLayout",checkDisabled:e=>eO.of.get("buddyEdit"),apply:()=>{tb.LF.emit("queueDesignPartnerTask",{message:_.Ru._({id:"bXgpVx"})})}},{key:"visualize.images",type:"visualize",name:()=>_.Ru._({id:"laUyeH"}),description:()=>_.Ru._({id:"ADlAam"}),icon:R.yvG,checkDisabled:e=>eO.of.get("buddyEdit"),apply:()=>{tb.LF.emit("queueDesignPartnerTask",{message:_.Ru._({id:"p2oHY3"})})}},{key:"visualize.timeline",type:"visualize",name:()=>_.Ru._({id:"Oh+9k8"}),description:()=>_.Ru._({id:"Qx1qQH"}),icon:R.v6v,checkDisabled:e=>eO.of.get("buddyEdit"),apply:()=>{tb.LF.emit("queueDesignPartnerTask",{message:_.Ru._({id:"4ReFRy"})})}},{key:"reformat.columns",type:"reformat",name:()=>_.Ru._({id:"KyPPwt"}),description:()=>_.Ru._({id:"52Y/fs"}),icon:R.fq7,node:"gridLayout",checkDisabled:e=>eO.of.get("buddyEdit"),apply:()=>{tb.LF.emit("queueDesignPartnerTask",{message:_.Ru._({id:"Y0UR8y"})})}},{key:"reformat.table",type:"reformat",name:()=>_.Ru._({id:"84sVti"}),description:()=>_.Ru._({id:"CxvNve"}),icon:R.w97,node:"table",checkDisabled:e=>eO.of.get("buddyEdit"),apply:()=>{tb.LF.emit("queueDesignPartnerTask",{message:_.Ru._({id:"rU0fs4"})})}},{key:"reformat.toggles",type:"reformat",name:()=>_.Ru._({id:"aRUmvo"}),icon:R.Ke8,node:"toggle",description:()=>_.Ru._({id:"914Ln8"}),checkDisabled:e=>eO.of.get("buddyEdit"),apply:()=>{tb.LF.emit("queueDesignPartnerTask",{message:_.Ru._({id:"rivjMe"})})}}],iR=()=>Object.entries(iI()(iL,"type")),iD=e=>{let{editor:t,testId:n,disabled:i,icon:r,label:l}=e,s=(0,V.d)(),{isInOfflineMode:d}=(0,eN.u)();return(0,a.jsxs)(S.W,{isLazy:!0,onClose:()=>(0,P.q)(t),children:[(0,a.jsx)(o.Tz,{placement:"top",label:l,children:(0,a.jsx)(I.I,{isDisabled:i,as:E.$,variant:"toolbar","data-testid":n,onMouseDown:T.Fw,color:"trueblue.500",rightIcon:(0,a.jsx)(D.g,{icon:R.Jt$,transform:"shrink-6"}),children:r&&(0,a.jsx)(D.g,{icon:r})})}),(0,a.jsx)(is.Z,{children:(0,a.jsx)(L.c,{maxH:"min(25em, 45vh)",overflowY:"auto",maxW:"450px",children:iR().map(e=>{let[n,i]=e,{label:r,featureFlag:o}=iE()[n];if(o&&!eO.of.get(o))return;let l=i.map(e=>{if(!(!e.apply||iA(t,e,d)))return(0,a.jsxs)(n4.D,{value:e.key,icon:(0,a.jsx)(D.g,{icon:e.icon,fixedWidth:!0}),onClick:()=>iM(e,t,s),children:[(0,a.jsx)(W.E,{children:e.name()}),e.description&&(0,a.jsx)(W.E,{color:"gray.400",fontSize:"sm",children:e.description()})]},e.key)}).filter(Boolean);return l.length?(0,a.jsx)(ic.r,{title:r,children:l},n):null})})})]})},iM=(e,t,n)=>{let{apply:i}=e;if(!i)return;let o=i(t);if(!o)return;let l=n({position:"top",isClosable:!1,duration:null,status:"loading",colorScheme:"gray",variant:"subtle",title:(0,a.jsx)(M.x6,{id:"j4ZLea"})});o.then(()=>{n.close(l);let e=n({title:(0,a.jsxs)(r.z,{children:[(0,a.jsxs)(W.E,{noOfLines:1,children:[(0,a.jsx)(M.x6,{id:"hAmdL3"})," "]}),(0,a.jsx)(U.N,{textDecoration:"underline",onClick:()=>{(0,G.tN)(t.state),n.close(e)},children:(0,a.jsx)(M.x6,{id:"9uI/rE"})})]}),status:"success",duration:3e3,position:"top"})}).catch(e=>{n.close(l),n({title:(0,a.jsx)(M.x6,{id:"mTQLsL"}),description:e.message,status:"error",duration:3e3,position:"top"})})};var i_=n(6760);let iz=e=>{let{badge:t,label:n,leftIcon:r,isSticky:o,onClick:l,isDisabled:s}=e,d=(0,e4.dU)("gray.50","gray.700");return(0,a.jsx)(e5.s,{bg:d,position:o?"sticky":"static",bottom:o?-2:"auto",children:(0,a.jsxs)(E.$,{colorScheme:"gray",variant:"link",size:"sm",mx:"auto",leftIcon:r,onClick:l,isDisabled:s,w:"100%",py:3,children:[n,t&&(0,a.jsx)(i.a,{ms:2,children:t})]})})};var iT=n(51737),iN=n(17406),iP=n(12117),iO=n(80274);let iH=(e,t)=>!!t&&(e||!t.startsWith("/")),iF=e=>{let{editor:t}=e,{isInOfflineMode:n}=(0,eN.u)(),o=(0,u.GV)(b.SJ),{bodyFont:l,headingFont:s}=o,c=e=>{t.chain().focus().setFontSize(e).run()},p=(0,ef.zi)(t,"heading"),h=(0,ef.zi)(t,"title"),m=(0,ef.zi)(t,"body"),g=(0,d.useCallback)(()=>{o.workspaceId?(0,iT.vd)({theme:o}):(0,iT.L6)({theme:o})},[o]);if(!m&&!p&&!h)return null;let x=(0,iP.Xw)(t),f="default",v=(0,iO.o)("default");f=t.isActive("title")?(0,iO.bn)(t.getAttributes("title").level)||"default":t.isActive("heading")?(0,iO.bZ)(t.getAttributes("heading").level)||"default":1===x.length&&x[0]||"default",v=(0,iO.o)(f)||v;let y=e=>"".concat(Math.sqrt(e),"em"),w=(0,ib.NO)(t),C=!!t.extensionManager.extensions.find(e=>"slashMenu"===e.name);return(0,a.jsxs)(S.W,{closeOnSelect:!0,isLazy:!0,children:[(0,a.jsx)(I.I,{size:"sm",as:E.$,rightIcon:(0,a.jsx)(D.g,{icon:R.Jt$,transform:"shrink-6"}),variant:"toolbar",pl:2,children:v.label}),(0,a.jsxs)(L.c,{maxH:"min(60em, 45vh)",overflowY:"auto",minW:"260px",children:[m&&(0,a.jsx)(nk.i,{type:"radio",value:f,children:(0,iN.QD)().filter(e=>{let[t]=e;return!(w&&"default"!==t)}).map(e=>{let[t,{label:n,size:i,flagged:o,shortcut:s}]=e,d=iH(C,s);return(0,a.jsx)(nS.k,{value:t,onClick:()=>c(t),children:(0,a.jsxs)(r.z,{children:[(0,a.jsx)(W.E,{fontFamily:l,fontSize:y(i),children:n}),d&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(e6.h,{}),(0,a.jsx)(W.E,{color:"gray.400",children:s})]})]})},t)})}),p&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i_.N,{}),(0,a.jsx)(nk.i,{type:"radio",value:f,children:(0,iN.KG)().reverse().map(e=>{let[t,{label:n,size:i,shortcut:o}]=e,l=iH(C,o);return(0,a.jsx)(nS.k,{value:t,onClick:()=>c(t),children:(0,a.jsxs)(r.z,{children:[(0,a.jsx)(W.E,{fontSize:y(i),fontWeight:"bold",fontFamily:s,children:n}),l&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(e6.h,{}),(0,a.jsx)(W.E,{color:"gray.400",children:o})]})]})},t)})})]}),h&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i_.N,{}),(0,a.jsx)(nk.i,{type:"radio",value:f,children:(0,iN.Y5)().map(e=>{let[t,{label:n,size:i,shortcut:o}]=e,l=iH(C,o);return(0,a.jsx)(nS.k,{value:t,onClick:()=>c(t),children:(0,a.jsxs)(r.z,{children:[(0,a.jsx)(W.E,{fontSize:y(i),fontWeight:"bold",fontFamily:s,children:n}),l&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(e6.h,{}),(0,a.jsx)(W.E,{color:"gray.400",children:o})]})]})},t)})})]}),(0,a.jsx)(i.a,{mt:2,mb:-2,mx:-2,children:(0,a.jsx)(iz,{label:(0,a.jsx)(M.x6,{id:"gJpKw8"}),leftIcon:(0,a.jsx)(D.g,{icon:R.tiU,fixedWidth:!0}),onClick:g,isDisabled:n})})]})]})},iB=e=>{let{editor:t,filterBy:n}=e,{isInOfflineMode:i}=(0,eN.u)(),o="rtl"===(0,t8.CY)(t)?"alignRight":"alignLeft",l=()=>{let e=t8.gj.find(e=>e.alignment===(0,t8.F0)(t));if(e)return e.icon;let n=t8.gj.find(e=>e.key===o);return(null==n?void 0:n.icon)||R.ecg};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(k.e,{isAttached:!0,onMouseDown:T.Fw,children:(0,a.jsx)(iF,{editor:t})},"text"),ij.map((e,o)=>(0,a.jsx)(k.e,{spacing:0,size:"sm",onMouseDown:T.Fw,_empty:{display:"none"},children:e.filter(e=>{let a=!iA(t,e,i);return n?a&&e[n]:a}).map(e=>{let{key:n,name:i,shortcut:o,icon:s,mark:d,node:c,checkActive:u,apply:p}=e,h=p||(d?e=>e.chain().toggleMark(d).focus().run():()=>{}),m=u?u(t):d?t.isActive(d):c?t.isActive(c):void 0;if("textColor"===n)return(0,a.jsx)(aL,{shortcut:o,icon:s,editor:t},n);if("rewriteText"===n)return(0,a.jsx)(iD,{editor:t,shortcut:o,icon:s,testId:n,label:i()},n);if("convertText"===n)return(0,a.jsx)(ik,{editor:t,shortcut:o,icon:s,testId:n,label:i()},n);if("alignText"===n)return(0,a.jsx)(id,{editor:t,shortcut:o,icon:l(),testId:n,label:i()},n);if("visualizeText"===n)return(0,a.jsx)(E.$,{variant:"toolbar",isActive:m,onClick:()=>h(t),children:(0,a.jsxs)(r.z,{spacing:1,alignItems:"center",justifyContent:"center",children:[(0,a.jsx)(D.g,{icon:s}),(0,a.jsx)(W.E,{children:i()})]})},n);else return(0,a.jsx)(O.I,{label:i(),shortcut:o,isActive:m,onClick:()=>h(t),icon:s,testId:n},n)})},o))]})};var iV=function(e){return e.enabledForTables="enabledForTables",e}({});let iW=e=>{let{editor:t,selection:n}=e,i=n.isRowSelection(),o=n.isColSelection(),d=i&&o,c=(0,l.KP)(il.hj)(n);c&&s.nh.create(t.state.doc,null==c?void 0:c.pos);let u=Math.min(n.$anchorCell.pos,n.$headCell.pos),p=Math.max(n.$anchorCell.pos,n.$headCell.pos),{colMinPercent:h,newColSize:m}=t.schema.nodes[io.X.name].spec,g=n.getTableNode(),x=(0,ir.cG)(g.attrs.colWidths,m,h);return(0,a.jsxs)(r.z,{spacing:1,children:[(0,a.jsx)(iB,{editor:t,filterBy:iV.enabledForTables}),(0,a.jsx)(N.q,{}),i&&!d&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(O.I,{label:(0,a.jsx)(M.x6,{id:"1ct6G/"}),onClick:()=>{t.commands.addRowBefore(),requestAnimationFrame(()=>{t.commands.focus(u)})},testId:"add-row-before-button",children:(0,a.jsx)(D.g,{icon:R.UiS})}),(0,a.jsx)(O.I,{label:(0,a.jsx)(M.x6,{id:"JUmxSq"}),onClick:()=>{t.commands.addRowAfter(),requestAnimationFrame(()=>{t.chain().focus(p).goToNextCell().run()})},testId:"add-row-after-button",children:(0,a.jsx)(D.g,{icon:R.UiS,rotation:180})}),(0,a.jsx)(O.I,{label:(0,a.jsx)(M.x6,{id:"0cspe/"}),icon:R.yLS,onClick:()=>t.chain().focus().deleteRow().run(),color:"red.500",testId:"delete-row-button"})]}),o&&!d&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(O.I,{label:(0,a.jsx)(M.x6,{id:"mwcRkO"}),onClick:()=>{let{left:e}=(0,f._t)(t.state.selection);t.commands.addColumnBefore(e),requestAnimationFrame(()=>{t.commands.focus(u)})},isDisabled:!x,testId:"add-col-before-button",children:(0,a.jsx)(D.g,{icon:R.UiS,rotation:270})}),(0,a.jsx)(O.I,{label:(0,a.jsx)(M.x6,{id:"/93cy4"}),onClick:()=>{let{left:e}=(0,f._t)(t.state.selection);t.commands.addColumnAfter(e),requestAnimationFrame(()=>{t.chain().focus(u).goToNextCell().run()})},isDisabled:!x,testId:"add-col-after-button",children:(0,a.jsx)(D.g,{icon:R.UiS,rotation:90})}),(0,a.jsx)(O.I,{label:(0,a.jsx)(M.x6,{id:"GAohqx"}),icon:R.yLS,onClick:()=>{t.commands.deleteColumn(),requestAnimationFrame(()=>{t.commands.focus(u)})},color:"red.500",testId:"delete-col-button"})]}),d&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(O.I,{label:(0,a.jsx)(M.x6,{id:"SOkhdm"}),icon:R.yC$,onClick:()=>t.commands.equalizeColumns(),testId:"equalize-columns-button"}),(0,a.jsx)(N.q,{}),(0,a.jsx)(O.I,{label:(0,a.jsx)(M.x6,{id:"HSI88F"}),icon:R.yLS,onClick:()=>t.chain().focus().deleteTable().run(),color:"red.500",testId:"delete-table-button"})]})]})},iU=[{component:iW,predicate:e=>e instanceof f.rn&&e.isColSelection(),offsetPx:16},{component:iW,predicate:e=>e instanceof f.rn&&e.isRowSelection(),offsetPx:12},{component:e=>{let{editor:t,selection:n}=e,i=(0,u.GV)(b.SJ),r=n.node,o=(0,t0.Ik)((0,t0.VH)(i));return r?(0,a.jsx)(t1.z,{attributes:r.attrs,updateAttributes:e=>{t.chain().updateAttributes("chart",e).focus().run()},accentColor:o,setEditing:()=>{t.commands.editSelectedChart()},editor:t,inline:!0}):null},predicate:e=>{var t,n;return e instanceof s.nh&&(null==(n=e.node)||null==(t=n.type)?void 0:t.name)==="chart"},isPopover:!0},{component:e=>{let{editor:t,selection:n}=e,i=(0,u.GV)(b.SJ),r=t.getAttributes("link").href||"",o=!t.shouldUseLiteMenus,{isPageLink:l}=nX({href:r}),s=(0,t0.Ik)((0,t0.Jh)(i)),c=(0,d.useCallback)(e=>{t.commands.updateSurroundingLink(e)},[t]),p=(0,nj.f)(),h=(0,d.useCallback)(e=>{t.view.focus(),p({isOpen:!0}),e.stopPropagation()},[t,p]);return(0,a.jsxs)(t6,{children:[o&&r&&!(0,nz.hc)(r)&&(0,a.jsx)(t2,{label:(0,a.jsx)(M.x6,{id:"/SVg/B"}),icon:R.CQO,children:(0,a.jsx)(am,{editor:t,selection:n,isDisabled:l})}),(0,a.jsx)(n2,{href:r,updateHref:c,clearHref:()=>{t.commands.updateSurroundingLink("")},removeLink:()=>t.commands.removeSurroundingLink(),editor:t}),o&&(0,a.jsx)(t2,{label:(0,a.jsx)(M.x6,{id:"0j+RGO"}),icon:R.ecg,children:(0,a.jsx)(k.e,{dir:"ltr",spacing:0,size:"sm",onMouseDown:T.Fw,children:t8.gj.map(e=>{let{name:n,key:i,icon:r,shortcut:o,checkActive:l,apply:s}=e;if(l&&s)return(0,a.jsx)(O.I,{label:n(),shortcut:o,isActive:l(t),onClick:()=>{s(t)},icon:r,testId:i,my:0},i)})})}),o&&(0,a.jsx)(t2,{label:(0,a.jsx)(M.x6,{id:"jZlrte"}),icon:R.wIs,children:(0,a.jsx)(aL,{editor:t,useMenuButton:!0,isLinkText:!0,defaultTextColor:s})}),o&&!(0,nz.hc)(r)&&(0,a.jsx)(t4,{label:(0,a.jsx)(M.x6,{id:"sxkWRg"}),onClick:h,icon:R.BH7})]})},predicate:(e,t)=>e instanceof s.U3&&t.isActive("link"),isPopover:!0},{component:ag,predicate:(e,t)=>t.isActive("button")&&!t.isSiteNavbarEditor,isPopover:!0},{component:e=>{let{editor:t,selection:n}=e,{node:i,from:r}=n,o=e=>!!i&&JSON.stringify(e)===JSON.stringify(i.attrs.colWidths),{verticalAlign:l}=t.getAttributes("gridCell"),s=(0,d.useCallback)(e=>{t.chain().updateAttributes("gridCell",{verticalAlign:e===l?null:e}).selectNodeAtPos(n.from).focus().run()},[t,n,l]),c=(0,d.useCallback)(e=>{let a=t.chain();if(a.updateAttributes("gridLayout",{backgroundColor:e}),null!==e)try{let e=t.state.doc.resolve(n.from);(0,h.Ob)(e).forEach(e=>{a.updateAttributesAtPos(e.pos,{backgroundColor:null})})}catch(e){console.warn("Could not clear child cell colors:",e)}a.selectNodeAtPos(n.from).focus().run()},[t,n]);return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(k.e,{spacing:1,size:"sm",alignItems:"center",children:[(0,a.jsxs)(nA.ms,{isLazy:!0,children:[(0,a.jsx)(nA.gf,{as:E.$,variant:"toolbar",rightIcon:(0,a.jsx)(D.g,{icon:R.Jt$}),size:"sm","data-testid":"layout-preset-dropdown",children:(0,a.jsx)(M.x6,{id:"6v+N4U",values:{0:i.childCount}})}),(0,a.jsx)(nA.Q5,{"data-in-editor-focus":!0,fontSize:"md",children:as().map(e=>{let{testId:n,name:i,image:l,value:s}=e;return(0,a.jsx)(nA.tJ,{"data-testid":n,icon:o(s)?(0,a.jsx)(an.S,{w:"2rem"}):(0,a.jsx)(tl._,{h:"1rem",w:"2rem",objectFit:"cover",src:l.src}),onClick:()=>{r&&t.commands.useLayoutPreset(r,s)},children:i},i)})})]}),(0,a.jsx)(O.I,{onClick:()=>s("start"),isActive:"start"===l,label:_.Ru._({id:"/Q0jUh"}),children:(0,a.jsx)(n7.a_t,{})}),(0,a.jsx)(O.I,{onClick:()=>s("center"),isActive:"center"===l,label:_.Ru._({id:"QhuQN2"}),children:(0,a.jsx)(n7.o9M,{})}),(0,a.jsx)(O.I,{onClick:()=>s("end"),isActive:"end"===l,label:_.Ru._({id:"EPnxoe"}),children:(0,a.jsx)(n7.Awj,{})}),(0,a.jsx)(F.a,{color:i.attrs.backgroundColor,setColor:c,editor:t,analyticsSource:"Layout"}),(0,a.jsx)(N.q,{}),(0,a.jsx)(B.G,{editor:t})]})})},predicate:e=>e instanceof s.nh&&(0,h.X6)(e.node)},{component:e=>{let{editor:t,selection:n,decorations:i}=e,{isInOfflineMode:o}=(0,eN.u)(),{node:l,from:s}=n,{attrs:c,isNested:u,isFirstCard:p}=(0,eF.f)({node:l,decorations:i,editor:t}),{isOpen:h,onOpen:m,onClose:g}=(0,eH.E)({id:"downloadCardAsImageDisclosure"}),x=(0,d.useCallback)(()=>{null==t||t.commands.duplicateCard(s)},[t,s]),f=(0,d.useCallback)(()=>{null==t||t.commands.unnestCard(s)},[t,s]),b=(0,d.useCallback)(()=>{null==t||t.chain().mergeCardsAtPos(s).focus().run()},[t,s]),v=(0,V.d)(),y=(0,d.useCallback)(()=>{let e=t.state.doc.nodeAt(s),n=e&&(0,K.getCardTitle)(e.toJSON());t.chain().deleteCard(s).focus().run();let i=_.Ru._({id:"0MWv65",values:{displayTitle:n?'"'.concat(n,'"'):"card"}}),o=_.Ru._({id:"9uI/rE"}),l=v({title:(0,a.jsxs)(r.z,{children:[(0,a.jsx)(W.E,{noOfLines:1,children:i}),(0,a.jsx)(U.N,{textDecoration:"underline",onClick:()=>{(0,G.tN)(t.state),v.close(l)},children:o})]}),status:"info",duration:3e3,position:"top"})},[t,s,v]),w=(0,eO.u)("aiCardDesigner"),C=(0,d.useCallback)(()=>{var e;let t=null==(e=n.node)?void 0:e.attrs.id;if(!t)return;let a=prompt("What do you want to change?","Translate this to Spanish please");a&&Q.emit("openSuggestionEditor",{cardId:t,userMessage:a})},[n]),j=(0,eO.u)("copyCardsToDeck"),A=(0,eP.T)();return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(k.e,{spacing:1,size:"sm",alignItems:"center",children:[(0,a.jsx)(O.I,{label:(0,a.jsx)(M.x6,{id:"BTDPLo"}),testId:"duplicate-card",onClick:x,icon:R.$3n}),u&&(0,a.jsx)(O.I,{label:(0,a.jsx)(M.x6,{id:"b+J8Wt"}),testId:"merge-into-parent-card",onClick:f,icon:R.ndq}),!u&&!p&&(0,a.jsx)(O.I,{label:(0,a.jsx)(M.x6,{id:"kV34zB"}),testId:"merge-into-card-above",onClick:b,icon:R.INu}),w&&(0,a.jsx)(O.I,{onClick:C,icon:R.ESE,label:"Design with AI"}),(0,a.jsx)(tj.g,{attrs:c}),j&&(0,a.jsx)(O.I,{label:(0,a.jsx)(M.x6,{id:"IAsTWw"}),onClick:()=>A([l]),icon:R.Rvk,flipIcon:"horizontal",isDisabled:o}),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(O.I,{label:(0,a.jsx)(M.x6,{id:"xRJ+bN"}),testId:"download-card",onClick:m,icon:R.a_I,isDisabled:o}),(0,a.jsx)(tC,{onOpen:m,isOpen:h,onClose:g,cardId:c.id,editor:t})]}),(0,a.jsx)(B.G,{editor:t,handleDelete:y})]})})},predicate:e=>e instanceof s.nh&&(0,v.jg)(e.node),offsetPx:0},{component:e=>{var t;let{editor:n,selection:i,decorations:r}=e,{node:s,from:d}=i,c=(0,tL.Bn)(r),u=s.attrs,p=(0,tE.jh)(u,null==c?void 0:c.layout),h=(0,tE.JH)(u,null==c?void 0:c.layout),m=(null==(t=u.background)?void 0:t.type)===tR.h.IMAGE,g=(0,tk.l)(u.background.image),x=(0,l.eL)(n.state.doc.resolve(d),v.jg),f=s.attrs.background.type===tR.h.IMAGE&&u.background.image&&!(0,tD.v7)(u.background.image.src);return(0,a.jsx)(k.e,{spacing:1,size:"sm",alignItems:"center",children:"accent"===u.itemId&&(0,a.jsxs)(a.Fragment,{children:[h&&(0,a.jsx)(tM,{editor:n,selection:i,decorations:r}),f&&(0,a.jsx)(tY,{editor:n,pos:d,node:s,isDisabled:"fit"===p}),(h||f)&&(0,a.jsx)(N.q,{}),m&&u.background.image&&(g?(0,a.jsx)(tS.a,{attrs:u.background.image,editor:n,variant:"toolbar",size:"sm"}):(0,a.jsx)(tX.g,{editor:n,selection:i,decorations:r})),(0,a.jsx)(o.Tz,{label:m?(0,a.jsx)(M.x6,{id:"XQFMOm"}):(0,a.jsx)(M.x6,{id:"P5MuiB"}),placement:"top",children:(0,a.jsx)(tA.K,{onClick:()=>{let e=null==x?void 0:x.node.attrs.id;e&&tI.R.emit("toggleEditBackgroundDrawer",{openDrawer:!0,cardId:e})},variant:"toolbar",size:"sm",icon:(0,a.jsx)(D.g,{icon:R.MT7}),boxSize:7,p:0,"aria-label":m?_.Ru._({id:"Ov693i"}):_.Ru._({id:"B6vyEa"})})}),(0,a.jsx)(N.q,{}),(0,a.jsx)(o.Tz,{label:m?(0,a.jsx)(M.x6,{id:"sGYCGx"}):(0,a.jsx)(M.x6,{id:"6vLq+T"}),placement:"top",children:(0,a.jsx)(tA.K,{onClick:()=>(0,tE.kB)(n,d,m),variant:"toolbar",size:"sm",icon:m?(0,a.jsx)(D.g,{icon:R.K3F}):(0,a.jsx)(D.g,{icon:R.yLS}),color:"red.500",boxSize:7,p:0,"aria-label":m?_.Ru._({id:"sGYCGx"}):_.Ru._({id:"6vLq+T"})})})]})})},predicate:e=>e instanceof s.nh&&(0,p.wL)(e.node),offsetPx:6},{component:e=>{let{editor:t,selection:n}=e,i=n.$from.parent.childCount<n8.ZS,{verticalAlign:r,backgroundColor:o}=n.node.attrs,l=(0,d.useCallback)(e=>{t.chain().updateAttributes("gridCell",{verticalAlign:e===r?null:e}).selectNodeAtPos(n.from).focus().run()},[t,r,n]),s=(0,d.useCallback)(e=>{t.chain().updateAttributes("gridCell",{backgroundColor:e}).selectNodeAtPos(n.from).focus().run()},[t,n]);return(0,a.jsxs)(k.e,{spacing:1,size:"sm",alignItems:"center",children:[(0,a.jsx)(at,{editor:t,label:_.Ru._({id:"NFoeBH"}),icon:R.tjk}),i&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(N.q,{}),(0,a.jsx)(O.I,{label:_.Ru._({id:"bZ9ges"}),icon:R.UiS,iconRotation:270,onClick:()=>{t.chain().insertContentAt(n.from,n8.eK).run()},testId:"add-col-before-button"}),(0,a.jsx)(O.I,{label:_.Ru._({id:"7ibPpM"}),icon:R.UiS,iconRotation:90,onClick:()=>{t.chain().insertContentAt(n.from+n.node.nodeSize,n8.eK).run()},testId:"add-col-after-button"}),(0,a.jsx)(ae,{editor:t,selection:n})]}),(0,a.jsx)(O.I,{onClick:()=>l("start"),isActive:"start"===r,label:_.Ru._({id:"/Q0jUh"}),children:(0,a.jsx)(n7.a_t,{})}),(0,a.jsx)(O.I,{onClick:()=>l("center"),isActive:"center"===r,label:_.Ru._({id:"QhuQN2"}),children:(0,a.jsx)(n7.o9M,{})}),(0,a.jsx)(O.I,{onClick:()=>l("end"),isActive:"end"===r,label:_.Ru._({id:"EPnxoe"}),children:(0,a.jsx)(n7.Awj,{})}),(0,a.jsx)(N.q,{}),(0,a.jsx)(F.a,{editor:t,color:o,setColor:s,analyticsSource:"LayoutCell"}),(0,a.jsx)(N.q,{}),(0,a.jsx)(B.G,{editor:t,handleDelete:()=>{t.chain().selectInsideNodeAtPos(n.from).handleLayoutDelete(!0,!1).run()}})]})},predicate:e=>e instanceof s.nh&&(0,h.NJ)(e.node)},{component:e=>{let{editor:t,selection:n,decorations:i}=e,{node:o}=n,{options:l,variantKey:s}=o.attrs,c=(0,ia.BJ)(s),{toggleSmartLayoutVariantPanel:u}=a8(),p=(0,d.useCallback)(e=>{t.commands.updateNestedAttributesAtPos(n.from,e)},[t,n.from]),h=(0,d.useCallback)(()=>{u({override:"open",isResizable:!1,props:{selectedSmartLayoutRange:{from:n.from,to:n.to},editor:t,node:o}})},[u,n.from,n.to,t,o]),m=(0,d.useCallback)(e=>{p({variantKey:e}),e8.zS.track(e8.VV.SMART_LAYOUT_VARIANT_CHANGED,{previousVariant:s,newVariant:e,method:"formatting-menu-dropdown"})},[p,s]);return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(r.z,{spacing:2,children:[(0,a.jsx)(ii,{variant:c,variantKey:s,updateVariant:m}),(0,a.jsx)(N.q,{}),(0,a.jsx)(k.e,{size:"sm",children:c.options.map(e=>{var r,d;let c=(0,aK.Rv)(i),u=o.attrs,h=(0,aQ.aG)(u);if(e.checkEnabled&&!e.checkEnabled({options:h,attrs:u,deco:c,node:o}))return null;let m=null!=(d=l[e.key])?d:null==(r=e.defaultValue)?void 0:r.call(e,{ctx:"menu"});return(0,a.jsx)(e.Control,{value:m,updateValue:(a,i)=>{p({options:{...l,[e.key]:a}}),i&&o.forEach((i,r)=>{t.commands.updateNestedAttributesAtPos(n.from+r+1,{options:{...i.attrs.options,[e.key]:a}})}),e8.zS.track(e8.VV.SMART_LAYOUT_OPTION_UPDATED,{variantKey:s,optionKey:e.key,previousValue:m,newValue:a,updateChildren:i,method:"formatting-menu"})},editor:t,option:e},e.key)})}),(0,a.jsx)(N.q,{}),(0,a.jsx)(E.$,{variant:"toolbar",rightIcon:(0,a.jsx)(D.g,{icon:R.LFz}),size:"sm",onClick:h,children:(0,a.jsx)(M.x6,{id:"vR68Ol"})}),(0,a.jsx)(N.q,{}),(0,a.jsx)(B.G,{editor:t})]})})},predicate:(e,t,n)=>e instanceof s.nh&&(0,x.M)(e.node)&&"smart-layout-variant"!==n.right},{component:e=>{let{editor:t,selection:n}=e,{node:i,from:r}=n,o=i.attrs.id,s=(0,x.M)(null==n?void 0:n.$from.parent)?null==n?void 0:n.$from.parent:null,{editImage:c,startRemoveBg:u,isRemovingBg:p}=(0,ie.c)({editor:t,backgroundRemovalId:o,getPos:()=>r}),h=(0,ie.m)({editor:t,node:i,parentNode:s}),{toggleSmartLayoutVariantPanel:m}=a8(),g=(0,d.useCallback)(e=>{let n=(0,l.eL)(e,x.M);if(!n)return;let a=n.pos,i=a+n.node.nodeSize;t.commands.selectParentNode(),m({override:"open",isResizable:!1,props:{selectedSmartLayoutRange:{from:a,to:i},editor:t,node:n.node}})},[m,t]);if(!h)return null;let{addColumnBefore:f,addColumnAfter:b,canChangeFocusPointAndRemoveBackground:v,canEditImageWithAI:y,hasImage:w,imageSlot:C,imageType:j,addDirection:A,parentVariant:S,cellOptions:I,handleDelete:L,updateAttributes:z,resetImage:T}=h;return(0,a.jsxs)(k.e,{spacing:1,size:"sm",alignItems:"center",children:[(0,a.jsx)(at,{editor:t,label:_.Ru._({id:"NFoeBH"}),icon:null==S?void 0:S.icon}),(0,a.jsx)(N.q,{}),v&&(0,a.jsx)(tY,{editor:t,pos:r,node:i}),y?(0,a.jsx)(tS.a,{editor:t,attrs:i.attrs.image,variant:"toolbar"}):v&&(0,a.jsx)(tX.j,{onClick:u,disabled:p}),"always"===C||w?(0,a.jsx)(O.I,{label:"icon"===j?(0,a.jsx)(M.x6,{id:"JE/4q/"}):(0,a.jsx)(M.x6,{id:"9IrgTy"}),icon:"icon"===j?R.cCs:R.MT7,onClick:c}):"optional"===C?(0,a.jsx)(O.I,{label:"icon"===j?(0,a.jsx)(M.x6,{id:"1SYZRR"}):(0,a.jsx)(M.x6,{id:"pVb3uA"}),icon:"icon"===j?R.cCs:R.Cyq,onClick:c}):null,w&&(0,a.jsx)(O.I,{label:"icon"===j?(0,a.jsx)(M.x6,{id:"+4mjS6"}):(0,a.jsx)(M.x6,{id:"EyVcag"}),icon:R.K3F,color:"red.500",onClick:()=>T(r)}),("always"===C||w)&&(0,a.jsx)(N.q,{}),(0,a.jsx)(O.I,{label:_.Ru._({id:"w7mkyz"}),iconRotation:"bottom"===A?void 0:270,icon:R.UiS,onClick:()=>f(r),testId:"add-col-before-button"}),(0,a.jsx)(O.I,{label:_.Ru._({id:"1e37Dl"}),icon:R.UiS,iconRotation:"bottom"===A?180:90,onClick:()=>b(r+i.nodeSize),testId:"add-col-after-button"}),(0,a.jsx)(ae,{editor:t,selection:n}),(null==S?void 0:S.cellOptions.length)&&(null==S?void 0:S.cellOptions.length)>0?(0,a.jsx)(N.q,{}):null,(0,a.jsx)(k.e,{size:"sm",children:null==S?void 0:S.cellOptions.map(e=>{var o,l;let s=i.attrs;if(e.checkEnabled&&!e.checkEnabled({options:s.options,attrs:s}))return null;let d=null!=(l=I[e.key])?l:null==(o=e.defaultValue)?void 0:o.call(e,{ctx:"menu"});return(0,a.jsx)(e.Control,{value:d,updateValue:t=>{z(n.from,{options:{...I,[e.key]:t}}),e8.zS.track(e8.VV.SMART_LAYOUT_CELL_OPTION_UPDATED,{variantKey:null==S?void 0:S.key,optionKey:e.key,previousValue:d,newValue:t})},editor:t,option:e,pos:r},e.key)})}),(0,a.jsx)(N.q,{}),(0,a.jsx)(E.$,{variant:"toolbar",rightIcon:(0,a.jsx)(D.g,{icon:R.LFz}),size:"sm",onClick:()=>g(n.$from),children:(0,a.jsx)(M.x6,{id:"vR68Ol"})}),(0,a.jsx)(N.q,{}),(0,a.jsx)(B.G,{editor:t,handleDelete:L})]})},predicate:e=>e instanceof s.nh&&(0,x.q)(e.node)},{component:e=>{let{selection:t,editor:n}=e,r=0===t.node.childCount,{layout:l,stretchFill:s}=t.node.attrs,c=(0,d.useCallback)(()=>{n.chain().deleteSelectionAndSelectNear().run()},[n]);return r?null:(0,a.jsx)(i.a,{minW:"300px",children:(0,a.jsxs)(t6,{children:[!r&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(eq.B,{w:"100%",direction:"row",justify:"space-between",alignItems:"flex-start",children:(0,a.jsx)(o._x,{children:(0,a.jsx)(M.x6,{id:"U+kFad"})})}),(0,a.jsx)(t2,{label:(0,a.jsx)(M.x6,{id:"rdU729"}),icon:R.yOA,children:(0,a.jsx)(nh.lQ,{editor:n,selection:t})}),"grid"===l&&(0,a.jsx)(nd,{editor:n,selection:t}),"flex"===l&&(0,a.jsx)(ng,{editor:n,selection:t}),(0,a.jsx)(np,{editor:n,selection:t}),"logo"===l&&(0,a.jsx)(nm,{editor:n,selection:t}),"flex"===l&&!0!==s&&null!==s&&(0,a.jsx)(t2,{label:(0,a.jsx)(M.x6,{id:"0j+RGO"}),icon:R.ecg,children:(0,a.jsx)(k.e,{dir:"ltr",spacing:0,size:"sm",onMouseDown:T.Fw,_empty:{display:"none"},children:t8.gj.map(e=>{let{key:i,name:r,shortcut:o,icon:l,apply:s,checkActive:d}=e;if(!n||!s||!d)return null;let c=d(n);return(0,a.jsx)(O.I,{shortcut:o,icon:l,label:r(),onClick:()=>{s(n),n.chain().setNodeSelection(t.from).run()},isActive:c,testId:i},i)})})})]}),(0,a.jsx)(t4,{label:(0,a.jsx)(M.x6,{id:"cnGeoo"}),icon:R.yLS,colorScheme:"red",onClick:c})]})})},predicate:e=>e instanceof s.nh&&(0,m.Pb)(e.node),isPopover:!0},{component:e=>{let{editor:t,selection:n}=e,i=n.node.attrs;return(0,a.jsxs)(k.e,{spacing:2,size:"sm",flex:"row",alignItems:"center",children:[(0,a.jsx)(H,{editor:t,attrs:i,selection:n}),(0,a.jsx)(F.a,{color:i.color||void 0,setColor:e=>{t.chain().focus().updateAttributes("calloutBox",{color:e}).selectNodeAtPos(n.from).run()},editor:t,analyticsSource:"CalloutBox"}),(0,a.jsx)(N.q,{}),(0,a.jsx)(B.G,{editor:t})]})},predicate:e=>e instanceof s.nh&&"calloutBox"===e.node.type.name},{component:e=>{let{editor:t,selection:n}=e,i=n.node.type.name,{fullWidthBlock:r}=t.getAttributes(i),o=(0,d.useCallback)(e=>{var n,a;e.stopPropagation(),null==(n=(a=t.commands).editSelectedDrawingBlock)||n.call(a)},[t]);return(0,a.jsxs)(k.e,{spacing:0,size:"sm",alignItems:"center",dir:"ltr",children:[t8.gj.map(e=>{let{name:n,icon:o,checkActive:l,apply:s}=e;if(l&&s)return(0,a.jsx)(O.I,{label:n(),icon:o,onClick:()=>{s(t),r&&t.commands.updateAttributes(i,{fullWidthBlock:!1})},isActive:!r&&l(t)},n())}),(0,a.jsx)(O.I,{label:(0,a.jsx)(M.x6,{id:"ePK91l"}),icon:R.MT7,onClick:o}),(0,a.jsx)(N.q,{}),(0,a.jsx)(B.G,{editor:t})]})},predicate:e=>e instanceof s.nh&&("drawing"===e.node.type.name||"diagram"===e.node.type.name)},{component:e=>{let{editor:t,selection:n,decorations:i}=e,{templateKey:r}=n.node.attrs,o=(0,az.HF)(r);return o?(0,a.jsx)(o,{editor:t,selection:n,decorations:i}):null},predicate:e=>e instanceof s.nh&&"smartDiagram"===e.node.type.name&&e.node.attrs.templateKey},{component:e=>{let{editor:t,selection:n}=e,{fullWidthBlock:i}=n.node.attrs,o=(0,nj.f)(),l=(0,d.useCallback)(e=>{t.view.focus(),o({isOpen:!0}),e.stopPropagation()},[t,o]),s=(0,nb.Q)(t),c=(0,m.qK)(n.$from);return(0,a.jsxs)(r.z,{spacing:0,children:[!c&&!s&&(0,a.jsxs)(e5.s,{dir:"ltr",children:[t8.gj.map(e=>{let{name:r,icon:o,checkActive:l,apply:s}=e;if(l&&s)return(0,a.jsx)(O.I,{label:r(),icon:o,onClick:()=>{s(t),i&&t.commands.updateAttributes(n.node.type.name,{fullWidthBlock:!1})},isActive:!i&&l(t)},r())}),(0,a.jsx)(N.q,{})]}),(0,a.jsxs)(k.e,{spacing:0,size:"sm",alignItems:"center",children:[(0,a.jsxs)(a.Fragment,{children:[c&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(at,{editor:t,label:_.Ru._({id:"+v0hYZ"}),icon:R.Qyz}),(0,a.jsx)(N.q,{})]}),(0,a.jsx)(O.I,{label:(0,a.jsx)(M.x6,{id:"ePK91l"}),icon:R.MT7,onClick:l,testId:"edit-button"})]}),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(N.q,{}),(0,a.jsx)(B.G,{editor:t})]})]})]})},predicate:e=>e instanceof s.nh&&"mediaPlaceholder"===e.node.type.name},{component:e=>{let{editor:t,selection:n}=e,o=n.node.attrs,{resize:l,fullWidthBlock:s,id:c,src:p,tempUrl:h,href:g,clickBehavior:x}=o,{isInOfflineMode:f}=(0,eN.u)(),{enterZoom:b}=(0,nC.RL)(c),v=(0,nj.f)(),y=(0,d.useCallback)(e=>{t.view.focus(),v({isOpen:!0}),e.stopPropagation()},[t,v]),w=(0,eO.u)("disableRemoveBackground"),C=(0,j.gk)(x),A=(0,d.useCallback)(e=>{t.commands.updateAttributes(tU._V.name,{clickBehavior:e})},[t]),S=(0,d.useCallback)(e=>{t.commands.updateAttributes(tU._V.name,{href:e})},[t]),{setCropClipType:I,confirmCrop:E,cancelCrop:L,startCrop:z,resetCrop:N}=(0,nv.E)(t),P=(0,u.GV)(tU.$k),H=(0,d.useCallback)(()=>{(0,m.wG)(n)},[n]),F=(0,nb.Q)(t),B=(0,m.qK)(n.$from),V=(0,tD.SV)(p||h),W=(0,tD.v7)(p||h),U=!B&&!F&&!W,G=!V&&!w&&!W,K=(0,u.GV)((0,tU.iZ)(c)),{startRemoveBg:Q,isRemovingBg:Z}=(0,ny.D)({editor:t,id:c}),q=!!((null==l?void 0:l.clipPath)&&(null==l?void 0:l.clipType)),$=(0,tk.l)(o),J=(0,d.useCallback)(()=>{Z&&tU.RR.emit("cancelRemoveBg",{id:c}),t.chain().deleteSelectionAndSelectNear().run()},[t,c,Z]),Y=(0,d.useMemo)(()=>[{key:"zoom",ariaLabel:_.Ru._({id:"ACjxWW"}),label:(0,a.jsx)(M.x6,{id:"ACjxWW"}),action:b,icon:R.bMI},{key:"addComment",ariaLabel:_.Ru._({id:"oFsfkI"}),label:(0,a.jsx)(M.x6,{id:"oFsfkI"}),action:H,icon:R.DN2,isHidden:F,isDisabled:f},{key:"crop",ariaLabel:_.Ru._({id:"qKx+US"}),label:(0,a.jsx)(M.x6,{id:"qKx+US"}),action:()=>{z({id:c,clipType:null==l?void 0:l.clipType})},icon:R.K1P,isHidden:!U,isDisabled:Z},{key:"removeBackground",canRemoveBackground:G,ariaLabel:_.Ru._({id:"YOCRHt"}),label:(0,a.jsxs)(e5.s,{alignItems:"center",justifyContent:"center",children:[(0,a.jsx)(M.x6,{id:"ylbfBl"}),(0,a.jsx)(nf.G,{type:"removeBackground",ms:2,color:"gray.400"})]}),customIcon:(0,a.jsxs)(i.a,{as:"span",className:"fa-layers fa-fw",children:[(0,a.jsx)(D.g,{icon:R.sAw,size:"lg"}),(0,a.jsx)(D.g,{icon:nx.X46,size:"xs",transform:"shrink-5"})]}),action:Q,isHidden:!G||$,isDisabled:f,isLoading:Z},{key:"ai",customButton:(0,a.jsx)(tS.a,{editor:t,attrs:o,variant:"plain",height:"100%"},"ai"),isHidden:!$,ariaLabel:_.Ru._({id:"EVnzPs"}),label:(0,a.jsx)(M.x6,{id:"EVnzPs"}),action:()=>{}},{key:"editGallery",ariaLabel:_.Ru._({id:"ATVjaW"}),label:(0,a.jsx)(M.x6,{id:"+v0hYZ"}),action:()=>{t.chain().selectParentNode().run()},icon:R.Qyz,isHidden:!B},{key:"edit",ariaLabel:_.Ru._({id:"ePK91l"}),label:(0,a.jsx)(M.x6,{id:"ePK91l"}),action:y,icon:R.MT7}],[H,G,U,y,t,b,c,F,B,f,Z,null==l?void 0:l.clipType,z,Q,$,o]);return(0,a.jsxs)(t6,{children:[!K&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n5,{buttonList:Y}),(0,a.jsx)(t2,{label:(0,a.jsx)(M.x6,{id:"0j+RGO"}),icon:R.ecg,isHidden:!U,children:(0,a.jsx)(k.e,{dir:"ltr",spacing:0,size:"sm",onMouseDown:T.Fw,children:t8.gj.map(e=>{let{name:n,key:i,icon:r,shortcut:o,checkActive:d,apply:c}=e;if(d&&c)return(0,a.jsx)(O.I,{label:n(),shortcut:o,isActive:!s&&d(t),onClick:()=>{c(t),s&&t.commands.updateAttributes(tU._V.name,{fullWidthBlock:!1,resize:{...l,width:null}})},isDisabled:Z,icon:r,testId:i,my:0},i)})})}),(0,a.jsx)(t2,{label:(0,a.jsx)(M.x6,{id:"S58tkK"}),icon:n9[C],children:(0,a.jsx)(nE,{currentClickBehavior:C,handleClickBehaviorChange:A,enableNoClickBehavior:!0,canAddLink:!0})}),"newTab"===C&&(0,a.jsx)(n2,{editor:t,href:g||"",updateHref:S,clearHref:()=>{S("")}}),(0,a.jsx)(t4,{label:(0,a.jsx)(M.x6,{id:"cnGeoo"}),icon:R.yLS,onClick:J,colorScheme:"red",secondaryLabel:(0,nw.bT)(n.node)?(0,a.jsx)(M.x6,{id:"5eaf8Z"}):void 0,secondaryAction:(0,nw.bT)(n.node)?()=>(0,nw.LQ)(t):void 0,secondaryIcon:(0,nw.bT)(n.node)?R.ub2:void 0})]}),U&&K&&(0,a.jsxs)(r.z,{alignSelf:"stretch",my:-3,mx:-2,zIndex:"menu",children:[(0,a.jsx)(n3,{clipType:P,onChange:e=>{I({clipType:e})}}),(0,a.jsxs)(k.e,{spacing:0,size:"sm",alignItems:"center",children:[(0,a.jsx)(O.I,{label:(0,a.jsx)(M.x6,{id:"6Z0nnS"}),icon:R.ub2,isDisabled:!q,onClick:()=>{N({id:c})},my:0}),(0,a.jsx)(O.I,{color:"red.500",label:(0,a.jsx)(M.x6,{id:"7Bn152"}),icon:R.Jyw,onClick:()=>{L({id:c})},my:0}),(0,a.jsx)(O.I,{color:"green.500",label:(0,a.jsx)(M.x6,{id:"ryQtQS"}),icon:R.e68,onClick:()=>{E({id:c})},my:0})]})]})]})},predicate:e=>e instanceof s.nh&&"image"===e.node.type.name,isPopover:!0},{component:e=>{let{editor:t,selection:n}=e,i=(0,V.d)(),r=(0,nj.f)(),o=(0,d.useCallback)(e=>{t.view.focus(),r({isOpen:!0}),e.stopPropagation()},[t,r]),l=(0,d.useCallback)(()=>{t.chain().deleteSelectionAndSelectNear().run()},[t]),s=(0,d.useCallback)(e=>{"none"!==e&&t.commands.updateAttributes(n.node.type.name,{clickBehavior:e})},[t,n]),c=(0,d.useCallback)(e=>{let r="embed.custom";(0,nM.Yq)(e,e=>{r=e.source||r,(0,ax.vI)({editor:t,selection:n,attrs:e,sourceKey:r})}).catch(e=>{i.isActive(ab)||i({id:ab,title:(0,a.jsx)(M.x6,{id:"MWOB3g"}),description:(0,a.jsx)(M.x6,{id:"iEFpL0"}),status:"error",position:"top",duration:3e3,isClosable:!0}),console.error("[caught] EmbedVideoFormattingMenu error fetching URL",e)})},[t,i,n]),u=t.getAttributes(n.node.type.name),p="displayStyle"in u&&u.displayStyle||"inline",h=(0,j.Zj)(u),g=(0,m.qK)(n.$from),x="video"===n.node.type.name,f=(0,j.eb)(u,"preview"===p&&!g),b=u.source?(0,af.B)(u.source):null,v="inline"===p&&(x||(null==b?void 0:b.inlineInteractive))&&!g;return(0,a.jsxs)(t6,{children:[!g&&(0,a.jsx)(t2,{label:(0,a.jsx)(M.x6,{id:"/SVg/B"}),icon:"inline"===p?R.c9S:R.$qH,children:(0,a.jsx)(am,{editor:t,selection:n})}),(0,a.jsx)(n2,{href:h||"",updateHref:c,editor:t,isEmbedLink:!0}),!v&&(0,a.jsx)(t2,{label:(0,a.jsx)(M.x6,{id:"S58tkK"}),icon:"newTab"===f?R.Ju_:R.bMI,children:(0,a.jsx)(nE,{currentClickBehavior:f,handleClickBehaviorChange:s})}),(0,a.jsx)(t4,{label:(0,a.jsx)(M.x6,{id:"cnGeoo"}),icon:R.yLS,onClick:l,colorScheme:"red",secondaryAction:o,secondaryIcon:R.BH7,secondaryLabel:(0,a.jsx)(M.x6,{id:"sxkWRg"})})]})},predicate:e=>e instanceof s.nh&&(0,j._Y)(e.node),isPopover:!0},{component:e=>{let{editor:t,selection:n}=e,{nested:i}=n.node.attrs;return(0,a.jsxs)(k.e,{spacing:0,size:"sm",children:[(0,a.jsx)(O.I,{testId:"toc-top-level-cards",label:(0,a.jsx)(M.x6,{id:"RiLgqi"}),icon:R.ITF,onClick:()=>{t.commands.updateAttributes("tableOfContents",{nested:!1})},isActive:!i}),(0,a.jsx)(O.I,{testId:"toc-nested-cards",label:(0,a.jsx)(M.x6,{id:"nTkST4"}),icon:R.QLL,onClick:()=>{t.commands.updateAttributes("tableOfContents",{nested:!0})},isActive:i})]})},predicate:e=>e instanceof s.nh&&"tableOfContents"===e.node.type.name},{component:e=>{let{editor:t}=e,{showTime:n=!0,hiddenContributorIds:i=[]}=t.getAttributes("contributors"),r=(0,u.GV)(b.zB)||[],{toggleShowTime:l,toggleOneVisibleContributor:s,toggleAllVisibleContributors:c}=function(e){let t=(0,d.useCallback)(()=>{e.commands.toggleShowTime()},[e]);return{toggleShowTime:t,toggleOneVisibleContributor:(0,d.useCallback)(t=>{e.commands.toggleOneContributorVisibility(t)},[e]),toggleAllVisibleContributors:(0,d.useCallback)(()=>{e.commands.toggleAllContributorsVisibility()},[e])}}(t),p=r.length>1,h=(0,d.useCallback)(()=>{t.chain().deleteSelectionAndSelectNear().run()},[t]);return(0,a.jsxs)(t6,{children:[(0,a.jsx)(t2,{label:(0,a.jsx)(M.x6,{id:"0j+RGO"}),icon:R.ecg,children:(0,a.jsx)(ne,{editor:t})}),(0,a.jsx)(t2,{label:(0,a.jsx)(M.x6,{id:"4ep6pq"}),icon:R.a$,children:(0,a.jsx)(td.d,{isChecked:n,onChange:l})}),p&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t5,{}),(0,a.jsx)(ni,{contributors:r,hasMultipleContributors:p,hiddenContributorIds:i,toggleOneVisibleContributor:s,toggleAllVisibleContributors:c})]}),(0,a.jsxs)(W.E,{fontSize:"xs",color:"gray.600",textAlign:"center",children:[(0,a.jsx)(M.x6,{id:"Xqn2KO"})," ",(0,a.jsx)(o.qT,{label:(0,a.jsx)(M.x6,{id:"CYpThg"})})]}),(0,a.jsx)(t4,{label:(0,a.jsx)(M.x6,{id:"cnGeoo"}),icon:R.yLS,colorScheme:"red",onClick:h})]})},predicate:e=>e instanceof s.nh&&"contributors"===e.node.type.name,isPopover:!0},{component:iB,predicate:e=>e instanceof s.U3}],iG=[{component:ag,predicate:(e,t)=>{var n,a;let i=null==(n=document)?void 0:n.activeElement,r=!!(null==i?void 0:i.closest('[data-active-menu="navigation"]')),o=!!(null==i?void 0:i.closest("[data-navbar-editor]"));return(r||o)&&t.isActive("button")&&!!t.isSiteNavbarEditor&&!t.multipageEnabled&&!(null==(a=document)?void 0:a.querySelector("[".concat(g.hu,"]")))},isPopover:!0}],iK={backgroundColor:"white",shadow:"lg"},iQ=e=>{let{editor:t,scrollingParentSelector:n,menuContext:s,appendToSelector:p}=e;(0,A.lC)(t);let{hideTooltips:h,GammaTooltipHiderContext:m}=(0,o.ku)(),g=(0,u.GV)(b.Du),x=(0,u.GV)(c.Vt),f=t.state.selection,y=!g&&("navigation"===s?iG:iU).find(e=>e.predicate(f,t,x)),w=[];try{(0,l.BQ)(t.state.selection)&&(w=(0,v.j5)(t,t.state.selection.from))}catch(e){console.error("[FormattingMenu] unable to find decorations at ".concat(t.state.selection.from),e.message)}let j=(0,d.useMemo)(()=>({maxWidth:"none",zIndex:"var(--chakra-zIndices-popover)",placement:"top",appendTo:p?()=>document.querySelector(p):void 0,popperOptions:{modifiers:[{name:"flip",options:{fallbackPlacements:["top","top-start","top-end","bottom","bottom-start","bottom-end"]}},{name:"preventOverflow",options:{boundary:n?document.querySelector(n):void 0,altAxis:!0}}]}}),[n,p]),k="navigation"===s?"navigation":"editor";return(0,a.jsx)(m,{children:(0,a.jsx)(o.L8,{isDark:!1,children:(0,a.jsxs)(C,{editor:t,onHide:h,tippyOptions:j,children:[y&&y.isPopover&&(0,a.jsx)(nl,{"data-in-editor-focus":!0,"data-active-menu":k,"data-testid":"formatting-menu",fontFamily:"body",children:(0,a.jsx)(y.component,{editor:t,selection:f,decorations:w})}),y&&!y.isPopover&&(0,a.jsx)(i.a,{"data-active-menu":k,borderRadius:"xl",...iK,w:"auto",minW:"0px",h:"fit-content",position:"relative",bottom:y.offsetPx?"".concat(y.offsetPx,"px"):"0","data-in-editor-focus":!0,"data-testid":"formatting-menu",fontFamily:"body",children:(0,a.jsx)(r.z,{spacing:3,px:2,minH:10,children:(0,a.jsx)(y.component,{editor:t,selection:f,decorations:w})})})]})})})}},4967:(e,t,n)=>{"use strict";n.d(t,{_:()=>x,n:()=>m});var a=n(21938),i=n(63867),r=n(97255),o=n(25839),l=n(17928),s=n(43634),d=n(33201),c=n(67200),u=n(15607),p=n(21699),h=n(60300);let m=new i.hs("spotlight"),g=(e,t,n)=>{if(null===t.pos)return r.zF.create(e.doc,[]);let i=[],o=e.doc.nodeAt(t.pos);o&&(0,d.jg)(o)&&!n(o,t.cardId)?i.push(r.NZ.node(t.pos,t.pos+o.nodeSize,{class:"presenting-card"})):o&&n(o,t.cardId)&&i.push(r.NZ.node(t.pos,t.pos+o.nodeSize,{class:"spotlight-block"}));let l=t.pos;return e.doc.descendants((e,o)=>(n(e,t.cardId)&&i.push(r.NZ.node(o,o+e.nodeSize,{class:(0,a.cx)("spotlightable",o>l&&"after-spotlight")})),(0,h.I2)(e)||(0,d.jg)(e))),r.zF.create(e.doc,i)},x=(e,t)=>new i.k_({key:m,state:{init:(t,n)=>{let a={pos:null,cardId:""};return{...a,decorations:g(n,a,e)}},apply(t,n,a,i){let r=t.getMeta(m),o=(0,c.he)(t);if(r||o){let t=r||n;return{...t,decorations:g(i,t,e)}}let l=n.decorations.map(t.mapping,t.doc);return{...n,decorations:l}}},props:{attributes:t=>{let n=m.getState(t);if(!n||null===n.pos)return{class:""};let a=t.doc.nodeAt(n.pos);return a&&e(a,n.cardId)?{class:"spotlight-active"}:{class:""}},decorations:e=>{let t=m.getState(e);return t?t.decorations:null},handleDOMEvents:{click(e,n){if(n.detail>1||(0,p.Qj)(e))return;let a=(0,o.KA)(),i=a.getState(),r=(0,s.FI)(i);if(!(r&&(0,h.UE)(t,r))||(0,s.QF)(i))return;if((0,s.YL)(i))return void a.dispatch((0,s.tB)());let l=m.getState(e.state);if(!(null==l?void 0:l.cardId))return;let d=e.posAtDOM(n.target,0);if(null===d||d<1)return;if(!e.state.doc.nodeAt(d))return void t.commands.turnOffSpotlight();let[c]=(0,u.TK)(e.state.doc.resolve(d),e=>(0,h.Rj)(e));c?t.commands.spotlightNodeAtPos(d):t.commands.turnOffSpotlight()},contextmenu(e,n){let a=m.getState(e.state);if(!(null==a?void 0:a.cardId))return;let i=(0,o.KA)().getState();if((0,s.QF)(i))return;let r=e.posAtDOM(n.target,0),d=t.state.doc.resolve(r),c=e.state.doc.nodeAt(r),[p]=c&&(0,h.Rj)(c)?[{pos:r,start:d.start(d.depth+1)}]:(0,u.TK)(t.state.doc.resolve(r),e=>(0,h.Rj)(e));l.LF.emit(l.DN.OPEN_PRESENT_MODE_CONTEXT_MENU,{e:n,cardId:a.cardId,pos:p?p.start:null})}}}})},5061:(e,t,n)=>{"use strict";n.d(t,{C:()=>s,fW:()=>o,ix:()=>l});var a=n(99767),i=n(73110);let r=e=>{var t;return(null==(t=a.zd[e])?void 0:t.rtl)===!0},o=()=>r((0,i.O)()),l=()=>r((0,i.j)()),s=()=>r((0,i.j)())?"rtl":"ltr"},5380:(e,t,n)=>{"use strict";n.d(t,{c:()=>p,m:()=>h});var a=n(55729),i=n(35292),r=n(25839),o=n(12354),l=n(49249),s=n(90278),d=n(48369),c=n(67097),u=n(89703);let p=e=>{let{editor:t,getPos:n,backgroundRemovalId:i}=e,s=(0,r.jL)(),d=(0,u.f)(),c=(0,a.useCallback)(e=>{t.view.focus(),d({isOpen:!0}),e.stopPropagation()},[t,d]),{startRemoveBg:p,isRemovingBg:h}=(0,l.D)({editor:t,id:i});return{changeFocalPoint:(0,a.useCallback)(e=>{t.commands.selectNodeAtPos(n()),s((0,o.sI)({id:e}))},[t,n,s]),editImage:c,startRemoveBg:p,isRemovingBg:h}},h=e=>{let{editor:t,node:n,parentNode:r}=e,o=(0,a.useCallback)(e=>{t.chain().insertSmartLayoutCell(e).run()},[t]),l=(0,a.useCallback)(e=>{t.chain().insertSmartLayoutCell(e).run()},[t]),u=(0,a.useCallback)(e=>{t.chain().insertContentAt(e,n.toJSON()).selectInsertedNode().run()},[t,n]),p=(0,a.useCallback)(()=>{t.chain().handleSmartLayoutDelete().run()},[t]),h=(0,a.useCallback)((e,n)=>{t.commands.updateNestedAttributesAtPos(e,n)},[t]),m=(0,a.useCallback)(e=>{t.chain().updateNestedAttributesAtPos(e,{image:null}).run()},[t]),g=n.attrs.options,x=n.attrs.image,f=r&&(0,s.$o)(r.attrs),b=r?(0,d.BJ)(r.attrs.variantKey):null,{imageSlot:v,imageType:y}=null!=b?b:{},w=v&&!!(null==x?void 0:x.src),C=(0,c.SV)((null==x?void 0:x.src)||(null==x?void 0:x.tempUrl)),j=(0,c.v7)(null==x?void 0:x.src);return{addColumnBefore:o,addColumnAfter:l,canChangeFocusPointAndRemoveBackground:"image"===y&&!C&&(null==x?void 0:x.src)&&!j,canEditImageWithAI:(0,i.l)(x)&&w&&"image"===y,hasImage:w,imageSlot:v,imageType:y,addDirection:f,parentVariant:b,cellOptions:g,handleDelete:p,selectParent:e=>{t.commands.selectNodeAtPos(e),t.chain().selectParentNode().run()},duplicateNode:u,updateAttributes:h,resetImage:m}}},5541:(e,t,n)=>{"use strict";n.d(t,{X:()=>l});var a=n(60829),i=n(46137),r=n(28615),o=n(29143);let l=async(e,t)=>{if((0,r.fL)()){if(!o.env.SYSTEM_TO_SYSTEM_SECRET)throw Error("[vercelIsomorphicFetch] SYSTEM_TO_SYSTEM_SECRET is not set on the server.");let{buildSystemToSystemToken:e}=await Promise.all([n.e(2966),n.e(5320),n.e(5905)]).then(n.bind(n,15905)),r=e("gamma-api"),l=(null==t?void 0:t.headers)||{};a.$.inject(i._.active(),l),t={...t,credentials:"omit",headers:{...l,Authorization:"Bearer ".concat(r),"User-Agent":"gamma/vercel-api"}}}return fetch(e,t)}},5872:(e,t,n)=>{"use strict";n.d(t,{E:()=>o,S:()=>r});var a=n(33170),i=n(45002);let r="gamma-moveable-wrapper",o={...a.BT,...i.X0}},5970:(e,t,n)=>{"use strict";let a,i;n.d(t,{a:()=>nW});var r=n(6029),o=n(40452),l=n(3276),s=n(81278),d=n(55729),c=n(92700),u=n(27002),p=n(25839),h=n(94536),m=n(37243),g=n(21938),x=n(63867),f=n(97255),b=n(43634),v=n(85235),y=n(33201),w=n(29608),C=n(67864);let j=e=>"buttonGroup"===e.type.name,A=e=>"calloutBox"===e.type.name;var k=n(6845),S=n(94922),I=n(98968),E=n(55424),L=n(60300),R=n(56124);let D=new x.hs("animation");var M=n(60122),_=n(56603);let z=()=>({absPositions:[],relPositions:[]});class T{getPositions(e){return e?this.presentModePositions:this.editModePositions}apply(e,t){let n=e.getMeta(D);if(n)switch(n.type){case"addAnimationPositions":this.addAnimationPositions(n.pos,t,n.isPresentMode);break;case"resetAnimationPositions":this.resetAnimationPositions(n.isPresentMode);break;case"enableAnimations":this.enabled=n.enabled;break;default:console.warn("AnimationsState: unknown action type",n)}return this}addAnimationPositions(e,t,n){let a=this.getPositions(n),i=Math.max(...a.absPositions);e.forEach(e=>{if(e<=i)return;a.absPositions.push(e);let n=(0,_.JO)(t,e);n&&a.relPositions.push(n)})}resetAnimationPositions(e){e?this.presentModePositions=z():this.editModePositions=z()}getAnimationPositionsAbs(e,t){let n=M.pJ.getState(e),a=this.getPositions(t);return n?a.relPositions.map(t=>(0,_.d_)(e,t)).filter(Boolean):a.absPositions}constructor(){this.enabled=!0,this.presentModePositions=z(),this.editModePositions=z()}}let N="animate-has-animated",P="animatable-on-load",O="animatable-on-load-as-block",H="animatable-on-load-content-parent",F="animatable-on-load-content-child",B=e=>{switch(e.type.name){case"card":return!0===(0,k.Wq)(e);case"cardAccentLayoutItem":return(0,S.wL)(e);case"calloutBox":case"gallery":case"smartLayout":case"divider":return!0;case"smartDiagram":return!(0,w.nr)();default:return(0,L.Rj)(e)}},V=(e,t)=>(0,E.q)(e)||(0,I.qK)(t),W=(e,t)=>{let n=e.view.state.doc.resolve(t);if(!n)return;let a=e.state.doc.nodeAt(t);if(a&&B(a)&&!V(a,n)){let e=a.isLeaf||a.isAtom?0:-1;return{pos:n.pos+e,start:n.pos,depth:n.depth,node:a}}return(0,m.eL)(n,B)},U=(e,t)=>{let n=t.getAnimationPositionsAbs(e,(0,b.wC)((0,p.KA)().getState())===v.w.SLIDE_VIEW).reduce((e,t)=>Math.max(e,t),0),a=e.doc.nodeAt(n),i=a&&n>0?a.nodeSize:0;return n+i},G=()=>new x.k_({key:D,state:{init:()=>new T,apply:(e,t,n,a)=>t.apply(e,a)},props:{decorations(e){let t=[],n=this.getState(e);if(!1===n.enabled)return f.zF.create(e.doc,t);let a=U(e,n);return e.doc.descendants((n,i,r,o)=>{let l=e.doc.resolve(i),s=B(n)||V(n,l);if(i<a&&s&&t.push(f.NZ.node(i,i+n.nodeSize,{class:N})),(0,E.M)(n)||(0,I.Pb)(n))t.push(f.NZ.node(i,i+n.nodeSize,{class:H}));else if(j(n)||A(n)||(0,R.hj)(n))t.push(f.NZ.node(i,i+n.nodeSize,{class:O}));else if(V(n,l))t.push(f.NZ.node(i,i+n.nodeSize,{class:F,style:"--animate-index: ".concat(o+1)}));else if(B(n)){let e=!!r&&(0,C.Ti)(n,r),a=n.isAtom;t.push(f.NZ.node(i,i+n.nodeSize,{class:(0,g.cx)(P,e&&"animatable-on-load-annotatable",a&&"animatable-on-load-atom")})),(0,S.wL)(n)&&t.push(f.NZ.node(i,i+n.nodeSize,{class:"animatable-on-load-accent"}))}return!((0,y.jg)(n)&&l.depth>1||(0,E.q)(n)||j(n)||A(n)||(0,R.hj)(n))}),f.zF.create(e.doc,t)}}}),K=m.YY.create({name:"animations",addOptions:()=>({}),addCommands:()=>({addAnimationPositions:(e,t)=>n=>{let{state:a,dispatch:i}=n;return i&&a.tr.setMeta(D,{type:"addAnimationPositions",isPresentMode:t,pos:e}),!0},enableAnimations:e=>t=>{let{state:n,dispatch:a}=t;return a&&n.tr.setMeta(D,{type:"enableAnimations",enabled:e}),!0},resetAnimationPositions:e=>t=>{let{state:n,dispatch:a}=t;return a&&n.tr.setMeta(D,{type:"resetAnimationPositions",isPresentMode:e}),!0}}),addProseMirrorPlugins:()=>[G()]});var Q=n(85732);let Z=()=>(0,Q.NF)()?(0,r.jsx)("div",{id:"sites-animations-script",dangerouslySetInnerHTML:{__html:"<script>".concat('(()=>{var o=()=>{requestAnimationFrame(()=>{window.gammaSiteAnimationsInitialized===!0?console.log("%c[animateOnLoad] - ALREADY INITIALIZED $$$$$$$$$$$$$$$$$$$$","background-color: orange; color: black; padding: 5px; font-size: 1.5em;"):(console.log("%c[animateOnLoad] ADDING site-animations-bootstrap class $$$$$$$$$$$$$$$$$$$$","background-color: aqua; color: black; padding: 5px; font-size: 1.5em;"),document.body.classList.add("site-animations-bootstrap"))})};if("PerformanceObserver"in window){let n=new PerformanceObserver(e=>{for(let a of e.getEntries())a.name==="first-contentful-paint"&&(o(),n.disconnect())});n.observe({entryTypes:["paint"]})}else console.warn("PerformanceObserver not supported. Animating now."),o();})();\n',"<\/script>")}}):null;var q=n(57860),$=n(39162),J=n(63902);let Y=new String(".site-animations-bootstrap .editor-navbar-animations-enabled .ProseMirror{}.site-animations-bootstrap .editor-navbar-animations-enabled .ProseMirror .navbar-view-content{opacity:1;-webkit-transform:none;-moz-transform:none;-ms-transform:none;-o-transform:none;transform:none}.site-animations-bootstrap .editor-navbar-animations-enabled .ProseMirror .navbar-view-backdrop{-webkit-box-shadow:var(--md-shadow),var(--card-border-shadow);-moz-box-shadow:var(--md-shadow),var(--card-border-shadow);box-shadow:var(--md-shadow),var(--card-border-shadow)}.site-animations-bootstrap .editor-animations-enabled .ProseMirror{}.site-animations-bootstrap .editor-animations-enabled .ProseMirror .animatable-on-load,.site-animations-bootstrap .editor-animations-enabled .ProseMirror .animatable-on-load-accent,.site-animations-bootstrap .editor-animations-enabled .ProseMirror .animatable-on-load-content-child{}.site-animations-bootstrap .editor-animations-enabled .ProseMirror .animatable-on-load.animatable-on-load-atom,.site-animations-bootstrap .editor-animations-enabled .ProseMirror .animatable-on-load:not(.animatable-on-load-annotatable),.site-animations-bootstrap .editor-animations-enabled .ProseMirror .animatable-on-load.animatable-on-load-annotatable [data-node-view-content],.site-animations-bootstrap .editor-animations-enabled .ProseMirror .animatable-on-load-accent.animatable-on-load-atom,.site-animations-bootstrap .editor-animations-enabled .ProseMirror .animatable-on-load-accent:not(.animatable-on-load-annotatable),.site-animations-bootstrap .editor-animations-enabled .ProseMirror .animatable-on-load-accent.animatable-on-load-annotatable [data-node-view-content],.site-animations-bootstrap .editor-animations-enabled .ProseMirror .animatable-on-load-content-child.animatable-on-load-atom,.site-animations-bootstrap .editor-animations-enabled .ProseMirror .animatable-on-load-content-child:not(.animatable-on-load-annotatable),.site-animations-bootstrap .editor-animations-enabled .ProseMirror .animatable-on-load-content-child.animatable-on-load-annotatable [data-node-view-content]{opacity:1;-webkit-transform:none;-moz-transform:none;-ms-transform:none;-o-transform:none;transform:none;-webkit-transition-property:var(--animation-transition-property);-moz-transition-timing-function:var(--animation-transition-property);-o-transition-timing-function:var(--animation-transition-property);transition-property:var(--animation-transition-property);-webkit-transition-duration:var(--animation-transition-duration);-moz-transition-duration:var(--animation-transition-duration);-o-transition-duration:var(--animation-transition-duration);transition-duration:var(--animation-transition-duration);-webkit-transition-timing-function:var(--animation-easing-function);-moz-transition-timing-function:var(--animation-easing-function);-o-transition-timing-function:var(--animation-easing-function);transition-timing-function:var(--animation-easing-function)}.site-animations-bootstrap .editor-animations-enabled .ProseMirror .animatable-on-load-as-block{}.site-animations-bootstrap .editor-animations-enabled .ProseMirror .animatable-on-load-as-block:not(.block-calloutBox),.site-animations-bootstrap .editor-animations-enabled .ProseMirror .animatable-on-load-as-block.block-calloutBox .calloutBox{opacity:1;-webkit-transform:none;-moz-transform:none;-ms-transform:none;-o-transform:none;transform:none;-webkit-transition-property:var(--animation-transition-property);-moz-transition-timing-function:var(--animation-transition-property);-o-transition-timing-function:var(--animation-transition-property);transition-property:var(--animation-transition-property);-webkit-transition-duration:var(--animation-transition-duration);-moz-transition-duration:var(--animation-transition-duration);-o-transition-duration:var(--animation-transition-duration);transition-duration:var(--animation-transition-duration);-webkit-transition-timing-function:var(--animation-easing-function);-moz-transition-timing-function:var(--animation-easing-function);-o-transition-timing-function:var(--animation-easing-function);transition-timing-function:var(--animation-easing-function)}.site-animations-bootstrap .editor-animations-enabled .ProseMirror .is-present-mode .animatable-on-load,.site-animations-bootstrap .editor-animations-enabled .ProseMirror .is-full-width .animatable-on-load{}.site-animations-bootstrap .editor-animations-enabled .ProseMirror .is-present-mode .animatable-on-load.animatable-on-load-accent,.site-animations-bootstrap .editor-animations-enabled .ProseMirror .is-full-width .animatable-on-load.animatable-on-load-accent{opacity:1;-webkit-transform:scale(1);-moz-transform:scale(1);-ms-transform:scale(1);-o-transform:scale(1);transform:scale(1)}.site-animations-bootstrap .editor-animations-enabled .ProseMirror .animatable-on-load-content-child.block-image{opacity:1;-webkit-transform:none;-moz-transform:none;-ms-transform:none;-o-transform:none;transform:none;-webkit-transition-property:var(--animation-transition-property);-moz-transition-timing-function:var(--animation-transition-property);-o-transition-timing-function:var(--animation-transition-property);transition-property:var(--animation-transition-property);-webkit-transition-duration:var(--animation-transition-duration);-moz-transition-duration:var(--animation-transition-duration);-o-transition-duration:var(--animation-transition-duration);transition-duration:var(--animation-transition-duration);-webkit-transition-timing-function:var(--animation-easing-function);-moz-transition-timing-function:var(--animation-easing-function);-o-transition-timing-function:var(--animation-easing-function);transition-timing-function:var(--animation-easing-function)}.site-animations-bootstrap .editor-animations-enabled .ProseMirror .animatable-on-load-content-child.node-smartLayoutCell{}.site-animations-bootstrap .editor-animations-enabled .ProseMirror .animatable-on-load-content-child.node-smartLayoutCell [data-spotlight-parent]>*{opacity:1;-webkit-transform:none;-moz-transform:none;-ms-transform:none;-o-transform:none;transform:none;-webkit-transition-property:var(--animation-transition-property);-moz-transition-timing-function:var(--animation-transition-property);-o-transition-timing-function:var(--animation-transition-property);transition-property:var(--animation-transition-property);-webkit-transition-duration:var(--animation-transition-duration);-moz-transition-duration:var(--animation-transition-duration);-o-transition-duration:var(--animation-transition-duration);transition-duration:var(--animation-transition-duration);-webkit-transition-timing-function:var(--animation-easing-function);-moz-transition-timing-function:var(--animation-easing-function);-o-transition-timing-function:var(--animation-easing-function);transition-timing-function:var(--animation-easing-function)}@media not print{.editor-navbar-animations-enabled .ProseMirror{.navbar-view-content{opacity:0;-webkit-transform:translatey(var(--animation-yOffset));-moz-transform:translatey(var(--animation-yOffset));-ms-transform:translatey(var(--animation-yOffset));-o-transform:translatey(var(--animation-yOffset));transform:translatey(var(--animation-yOffset));-webkit-transition-property:opacity,-webkit-transform;-moz-transition-timing-function:opacity,-moz-transform;-o-transition-timing-function:opacity,-o-transform;transition-property:opacity,-webkit-transform;transition-property:opacity,-moz-transform;transition-property:opacity,-o-transform;transition-property:opacity,transform;-webkit-transition-duration:1s;-moz-transition-duration:1s;-o-transition-duration:1s;transition-duration:1s;-webkit-transition-timing-function:var(--animation-easing-function);-moz-transition-timing-function:var(--animation-easing-function);-o-transition-timing-function:var(--animation-easing-function);transition-timing-function:var(--animation-easing-function);&.animate-has-animated{opacity:1;-webkit-transform:none;-moz-transform:none;-ms-transform:none;-o-transform:none;transform:none}}.navbar-view-backdrop{-webkit-box-shadow:0 0 0 0 rgba(0,0,0,0);-moz-box-shadow:0 0 0 0 rgba(0,0,0,0);box-shadow:0 0 0 0 rgba(0,0,0,0);-webkit-transition-property:box-shadow;-moz-transition-timing-function:box-shadow;-o-transition-timing-function:box-shadow;transition-property:box-shadow;-webkit-transition-duration:1s;-moz-transition-duration:1s;-o-transition-duration:1s;transition-duration:1s;-webkit-transition-timing-function:var(--animation-easing-function);-moz-transition-timing-function:var(--animation-easing-function);-o-transition-timing-function:var(--animation-easing-function);transition-timing-function:var(--animation-easing-function);&.animate-has-animated{-webkit-box-shadow:var(--md-shadow),var(--card-border-shadow);-moz-box-shadow:var(--md-shadow),var(--card-border-shadow);box-shadow:var(--md-shadow),var(--card-border-shadow)}}}.editor-animations-enabled .ProseMirror{.animatable-on-load,.animatable-on-load-accent,.animatable-on-load-content-child{&.animatable-on-load-atom,&:not(.animatable-on-load-annotatable),&.animatable-on-load-annotatable [data-node-view-content]{opacity:0;-webkit-transform:translatey(var(--animation-yOffset));-moz-transform:translatey(var(--animation-yOffset));-ms-transform:translatey(var(--animation-yOffset));-o-transform:translatey(var(--animation-yOffset));transform:translatey(var(--animation-yOffset));-webkit-transition-property:var(--animation-transition-property);-moz-transition-timing-function:var(--animation-transition-property);-o-transition-timing-function:var(--animation-transition-property);transition-property:var(--animation-transition-property);-webkit-transition-duration:var(--animation-transition-duration);-moz-transition-duration:var(--animation-transition-duration);-o-transition-duration:var(--animation-transition-duration);transition-duration:var(--animation-transition-duration);-webkit-transition-timing-function:var(--animation-easing-function);-moz-transition-timing-function:var(--animation-easing-function);-o-transition-timing-function:var(--animation-easing-function);transition-timing-function:var(--animation-easing-function)}&.animate-has-animated{&.animatable-on-load-atom,&:not(.animatable-on-load-annotatable),&.animatable-on-load-annotatable [data-node-view-content]{opacity:1;-webkit-transform:none;-moz-transform:none;-ms-transform:none;-o-transform:none;transform:none}}}.animatable-on-load-as-block{&:not(.block-calloutBox),&.block-calloutBox .calloutBox{opacity:0;-webkit-transform:translatey(var(--animation-yOffset));-moz-transform:translatey(var(--animation-yOffset));-ms-transform:translatey(var(--animation-yOffset));-o-transform:translatey(var(--animation-yOffset));transform:translatey(var(--animation-yOffset));-webkit-transition-property:var(--animation-transition-property);-moz-transition-timing-function:var(--animation-transition-property);-o-transition-timing-function:var(--animation-transition-property);transition-property:var(--animation-transition-property);-webkit-transition-duration:var(--animation-transition-duration);-moz-transition-duration:var(--animation-transition-duration);-o-transition-duration:var(--animation-transition-duration);transition-duration:var(--animation-transition-duration);-webkit-transition-timing-function:var(--animation-easing-function);-moz-transition-timing-function:var(--animation-easing-function);-o-transition-timing-function:var(--animation-easing-function);transition-timing-function:var(--animation-easing-function)}&.animate-has-animated{&:not(.block-calloutBox),&.block-calloutBox .calloutBox{opacity:1;-webkit-transform:none;-moz-transform:none;-ms-transform:none;-o-transform:none;transform:none}}}.is-present-mode .animatable-on-load,.is-full-width .animatable-on-load{&.animatable-on-load-accent{opacity:0;-webkit-transform:scale(.9);-moz-transform:scale(.9);-ms-transform:scale(.9);-o-transform:scale(.9);transform:scale(.9);&.animate-has-animated{opacity:1;-webkit-transform:scale(1);-moz-transform:scale(1);-ms-transform:scale(1);-o-transform:scale(1);transform:scale(1)}}}.animatable-on-load-content-child.block-image{opacity:0;-webkit-transition-property:var(--animation-transition-property);-moz-transition-timing-function:var(--animation-transition-property);-o-transition-timing-function:var(--animation-transition-property);transition-property:var(--animation-transition-property);-webkit-transition-duration:var(--animation-transition-duration);-moz-transition-duration:var(--animation-transition-duration);-o-transition-duration:var(--animation-transition-duration);transition-duration:var(--animation-transition-duration);-webkit-transition-timing-function:var(--animation-easing-function);-moz-transition-timing-function:var(--animation-easing-function);-o-transition-timing-function:var(--animation-easing-function);transition-timing-function:var(--animation-easing-function);-webkit-transform:translatey(var(--animation-yOffset));-moz-transform:translatey(var(--animation-yOffset));-ms-transform:translatey(var(--animation-yOffset));-o-transform:translatey(var(--animation-yOffset));transform:translatey(var(--animation-yOffset));&.animate-has-animated{opacity:1;-webkit-transform:none;-moz-transform:none;-ms-transform:none;-o-transform:none;transform:none}}.node-gallery .animatable-on-load-content-child.block-image{-webkit-transition-delay:-webkit-calc(var(--animation-transition-delay)*var(--animate-index));-moz-transition-delay:-moz-calc(var(--animation-transition-delay)*var(--animate-index));-o-transition-delay:calc(var(--animation-transition-delay)*var(--animate-index));transition-delay:-webkit-calc(var(--animation-transition-delay)*var(--animate-index));transition-delay:-moz-calc(var(--animation-transition-delay)*var(--animate-index));transition-delay:calc(var(--animation-transition-delay)*var(--animate-index))}.animatable-on-load-content-child.node-smartLayoutCell{[data-spotlight-parent]>*{opacity:0;-webkit-transition-property:var(--animation-transition-property);-moz-transition-timing-function:var(--animation-transition-property);-o-transition-timing-function:var(--animation-transition-property);transition-property:var(--animation-transition-property);-webkit-transition-duration:var(--animation-transition-duration);-moz-transition-duration:var(--animation-transition-duration);-o-transition-duration:var(--animation-transition-duration);transition-duration:var(--animation-transition-duration);-webkit-transition-timing-function:var(--animation-easing-function);-moz-transition-timing-function:var(--animation-easing-function);-o-transition-timing-function:var(--animation-easing-function);transition-timing-function:var(--animation-easing-function);-webkit-transform:translatey(var(--animation-yOffset));-moz-transform:translatey(var(--animation-yOffset));-ms-transform:translatey(var(--animation-yOffset));-o-transform:translatey(var(--animation-yOffset));transform:translatey(var(--animation-yOffset));-webkit-transition-delay:-webkit-calc(var(--animation-transition-delay)*var(--animate-index));-moz-transition-delay:-moz-calc(var(--animation-transition-delay)*var(--animate-index));-o-transition-delay:calc(var(--animation-transition-delay)*var(--animate-index));transition-delay:-webkit-calc(var(--animation-transition-delay)*var(--animate-index));transition-delay:-moz-calc(var(--animation-transition-delay)*var(--animate-index));transition-delay:calc(var(--animation-transition-delay)*var(--animate-index))}&.animate-has-animated [data-spotlight-parent]>*{opacity:1;-webkit-transform:none;-moz-transform:none;-ms-transform:none;-o-transform:none;transform:none}&.animate-has-animated [data-spotlight-parent].smart-layout-cell-not-emphasized>*{opacity:.5}}}}");Y.__hash="f03b4467801bf294";let X=Y.toString(),ee=()=>(0,r.jsx)("style",{id:"editor-animations-styles",dangerouslySetInnerHTML:{__html:X}});var et=n(65588),en=n(83004),ea=n(91792),ei=n(61385),er=n(5872),eo=n(43607);let el={fontSize:"var(--chakra-fontSizes-sm) !important",fontFamily:"var(--chakra-fonts-body), sans-serif !important",fontWeight:"500 !important",lineHeight:"1.5 !important",textTransform:"none",letterSpacing:"normal !important",textAlign:"start !important",margin:"0 !important",color:"var(--chakra-colors-gray-800) !important",background:"none !important",blockquote:{borderLeftWidth:"0px !important",borderLeftStyle:"solid !important",borderLeftColor:"transparent !important",padding:"0 !important",color:"var(--chakra-colors-gray-800) !important",fontStyle:"normal !important"},border:"0 none !important",padding:"0 !important",content:'""'},es={...el,color:"var(--chakra-colors-blue-500) !important","&:hover":{textDecoration:"underline"},cursor:"pointer"},ed={"p,h1,h2,h3,h4,h5,h6, .title, .section-title":{...el,margin:0},a:es,"ul, ol":{marginLeft:"1.2em"},blockquote:{borderLeft:"3px solid var(--chakra-colors-gray-200)",paddingLeft:"0.5em"},color:"var(--chakra-colors-gray-800) !important",wordBreak:"break-word",lineHeight:"1.5 !important",letterSpacing:"normal !important",".mention":{bgColor:"trueblue.50",whiteSpace:"break-spaces"}},ec={fontFamily:"var(--chakra-fonts-body) !important",fontWeight:"500","@media screen and (max-width: 30rem)":{".controls-wrapper":{}},"@media screen and (min-width: 30rem)":{".controls-wrapper":{paddingInlineStart:"var(--comment-padding)"},".controls-wrapper__gridLayout, .controls-wrapper__gallery":{paddingInlineStart:"calc(-1 * var(--grid-padding) + var(--comment-padding))"}},".comments-list":{".comments-sign-up":{a:{...el,...es,fontSize:"xs",color:"gray.500",fontWeight:"bold","&:hover":{color:"gray.500",textDecoration:"underline"}}},".comment":{".reactions-row ul":{marginInlineStart:"auto"},".comment-date":{fontSize:"var(--chakra-fontSizes-xs) !important",color:"var(--chakra-colors-gray-500) !important"},...ed},".block-image":{"&.is-focused":{"img, .image, .placeholder":{boxShadow:"var(--chakra-shadows-outline)"}}},".block-target-html":{"p,h1,h2,h3,h4,h5,h6,blockquote,ol,ul,li, .title, .section-title":{...el,"::after":el},a:{...es},li:{margin:"0 !important",padding:"0 !important",listStyle:"none !important",p:{margin:0}},img:{maxWidth:"200px",maxHeight:"80px"}}},".comment-editor .ProseMirror":{...ed,"\n      @media only screen and (max-device-width: 812px) and (-webkit-min-device-pixel-ratio: 2),\n      @media only screen and (max-device-width: 812px) and (-webkit-min-device-pixel-ratio: 3),\n      @media only screen and (max-device-width: 640px) and (-webkit-min-device-pixel-ratio: 4)\n    ":{fontSize:"16px  !important"},padding:"12px",borderRadius:"5px","&.focus-visible":{boxShadow:"0 0 0 2px rgb(49, 130, 206)"},"a.image-link":{pointerEvents:"none"}}};var eu=n(9329),ep=n(16419),eh=n.n(ep),em=n(76694);let eg={".slash-menu-prompt":{containerType:"inline-size"},".slash-menu-placeholder-long":{display:"inline"},".slash-menu-placeholder-short":{display:"none"},".slash-menu-button-text":{display:"inline"},"@container (max-width: 450px)":{".slash-menu-prompt .slash-menu-button-text":{display:"none"},".slash-menu-prompt .slash-menu-placeholder-long":{display:"none"},".slash-menu-prompt .slash-menu-placeholder-short":{display:"inline"}}};var ex=n(7915);function ef(){let e=(0,eu._)(["\n  0% {\n    box-shadow: ",";\n  }\n  7%,\n  60% {\n    box-shadow: var(--link-box-shadow);\n  }\n  100% {\n    box-shadow: ",";\n  }\n"]);return ef=function(){return e},e}function eb(){let e=(0,eu._)(["\n  0% \n  100% {\n    box-shadow: ",";\n  }\n"]);return eb=function(){return e},e}let ev="0 0 0 0 rgba(0, 0, 0, 0.0)",ey=(0,en.i7)(ef(),ev,ev),ew=(0,en.i7)(eb(),ev),eC={"math-display":{fontSize:"1.125em",".katex":{whiteSpace:"normal"}},"math-inline":{"&.ProseMirror-selectednode":{marginY:"-0.25em"}},"math-display, math-inline":{"&.ProseMirror-selectednode":{boxShadow:"outline",borderRadius:"var(--box-border-radius)",backgroundColor:"gray.50",padding:".25em",marginX:"3px",".math-src":{color:"gray.600"}}}};var ej=n(61651),eA=n(77650),ek=n(8266);let eS={content:"attr(data-placeholder)",position:"absolute",top:0,opacity:.25,pointerEvents:"none",left:0,width:"100%",color:"var(--heading-color)",lineClamp:1,textOverflow:"ellipsis",overflow:"hidden",boxOrient:"vertical",wordBreak:"break-all",height:"100%",whiteSpace:"nowrap"},eI={...eS,content:"attr(data-multiline-placeholder)",color:"inherit",position:"relative",lineClamp:0,whiteSpace:"normal",wordBreak:"normal"},eE=e=>'"'.concat(e,'"'),eL=e=>({".block-smartLayout":{'[data-node-view-content-outer="smartLayout"]':{display:"contents"},'[data-node-view-content-inner="smartLayout"]':{display:"contents"},"[data-selection-ring]":{outlineStyle:"none",outlineWidth:"1px",outlineColor:"var(--grid-outline-color)"},'[data-selection-ring="padded"]':{outlineOffset:"0.25em",".add-button":{m:"-0.25em"}},"&:not(.is-focused)":{"[data-content-empty=true] > [data-node-view-content]":{height:0,"[data-placeholder]::after, [data-multiline-placeholder]::after":{display:"none"}}},"&.is-focused":{"[data-content-empty=true]":{"[placeholder]::before":eS}},["&.is-focused, &:hover, &[".concat(ex.y,"]")]:{".is-editable":{"[data-selection-ring]":{outlineStyle:"solid"},".add-button":{opacity:1}}}},".node-smartLayoutCell":{display:"contents","> [data-node-view-wrapper]":{display:"contents"},"--heading-placeholder":eE(eA.Ru._({id:"HX5SVx"})),'[data-node-view-content-inner="smartLayoutCell"] > .first-block':{mt:[0,0]},'[data-node-view-content-inner="smartLayoutCell"] > .last-block':{mb:[0,0]},".slash-menu-prompt":{display:"none"},".block-heading, .block-title":{...(0,ek.hQ)(e).tight},".block-paragraph":{...(0,ek.xC)(e).tight}},".smart-layout-cell-not-emphasized  > [data-content-reference], .smart-layout-cell-not-emphasized [data-smart-layout-emphasis]":{opacity:.5}});var eR=n(39659),eD=n(90026),eM=n(63255);function e_(){let e=(0,eu._)(["\n  0% {\n    align-items: flex-start;\n    grid-template-rows: 0.2fr;\n    overflow: hidden;\n  }\n  99% {\n    align-items: flex-start;\n    overflow: hidden;\n  }\n  100% {\n    align-items: initial;\n    grid-template-rows: 1fr;\n    overflow: visible;\n  }\n"]);return e_=function(){return e},e}let ez=(0,en.i7)(e_()),eT=(e,t)=>({height:"100%",outlineWidth:"0px",lineHeight:"var(--line-height-body)",letterSpacing:"var(--letter-spacing-body)","&.is-focused":{".is-empty":{"[data-placeholder]":{_after:eS},"[data-multiline-placeholder]":{position:"relative",_after:eI,"> [data-node-view-content-inner]":{position:"absolute",width:"100%",minH:"1em"}}}},"--block-margin":(0,ek.bd)(e),"--grid-border":"1px","--grid-padding":"1.22em",".block-card":{"&.expandable-node":{"&-selected .expandable-selected":{animation:"".concat(ey," 3000ms ease-in-out forwards")},"&-reset .expandable-selected":{animation:"".concat(ew)}}},".block":{my:"var(--block-margin)",fontFamily:"var(--body-font)",fontWeight:"var(--body-font-weight)",color:"var(--body-color)"},"&.is-nested":{display:"grid",animation:"".concat(ez," ").concat(ei.M2,"ms ease-out forwards")},"&.is-full-width":{".block.is-full-width":{width:"var(--full-width)",position:"relative",left:"50%",transform:"translateX(-50%)"}},'[data-node-view-content-inner="cardLayoutItem"], [data-node-view-content-inner="card"]':{"> .first-block":{mt:"0em"},"> .last-block":{mb:"0em"}},"a.link":{color:"var(--text-color, var(--link-color))",cursor:"pointer",fontWeight:"bold",textDecoration:"underline",'&[href=""]':{textDecorationStyle:"dashed"},"&:hover":{color:"var(--text-color, var(--link-color-hover))"},"&:active":{color:"var(--text-color, var(--link-color-hover))"}},".block-toggle":{"&.expandable-node":{"&-selected .toggle":{animation:"".concat(ey," 3000ms ease-in-out forwards")},"&-reset .toggle":{animation:"".concat(ew)}},'[data-open="false"]':{'[data-node-view-content-inner="toggle"]':{"> :not(:first-child)":{display:"none"}}}},...eR.h.default,...eD.H.default,...eM.X0,...eC,".block-codeBlock":{pre:{fontFamily:"mono",fontSize:ek.$N.codeBlock,"@media print":{fontSize:eh()(ek.$N.codeBlock)},color:"var(--body-color)",background:"var(--neutral-background-color)",borderRadius:"var(--box-border-radius)",overflow:"hidden",code:{display:"block",padding:".75em 1em"}}},code:{backgroundColor:"var(--neutral-background-color)",color:"var(--body-color)",...eR.w},".block-blockquote":{blockquote:{pl:"1.5em"}},".block-embed, .block-video":{"&.expandable-node":{"&-selected":{".embed-preview, .embed-viewer, .video-player":{animation:"".concat(ey," 3000ms ease-in-out forwards")}},"&-reset":{".embed-preview, .embed-viewer, .video-player":{animation:"".concat(ew)}}}},".block-image":{"&.expandable-node":{"&-selected":{"[data-selection-ring]":{animation:"".concat(ey," 3000ms ease-in-out forwards")}},"&-reset ":{"[data-selection-ring]":{animation:"".concat(ew)}}}},".block-contributors":{".contributors-list":{fontSize:"1.25em",fontWeight:"bold"}},".mention":{bgColor:"var(--accent-color-background-muted)",color:"var(--body-color)"},".block-gallery":{"&.gallery-layout-flex":{".add-image":{mb:"calc(0.75 * var(--grid-padding))"}},mx:"calc(-1 * var(--grid-padding))",my:"calc(-0.25 * var(--grid-padding))",".gallery":{px:"var(--grid-padding)",py:"calc(0.75 * var(--grid-padding))",border:"1px solid",borderColor:"transparent",borderRadius:"var(--box-border-radius)",["&.".concat(em.u)]:{border:"1px dashed var(--chakra-colors-trueblue-300) !important",backgroundColor:"var(--chakra-colors-trueblue-50) !important",".gallery-placeholder":{pointerEvents:"none"}}},"&.is-focused, &.is-empty":{".gallery":{backgroundColor:"".concat(t?ej.N.DARK_BG:ej.N.LIGHT_BG)}},["&.is-focused, &:hover, &[".concat(ex.y,"]")]:{".add-image":{opacity:1}},"&.expandable-node":{"&-selected .gallery":{animation:"".concat(ey," 3000ms ease-in-out forwards")},"&-reset .gallery":{animation:"".concat(ew)}}},...eg,...eL(e),".block-gridLayout":{mx:"calc(-1 * var(--grid-padding))",".layout-content":{display:"contents","> div":{display:"contents"}},".grid-cell":{position:"relative",height:"100%",paddingX:"var(--grid-padding)",display:"flex",flexDirection:"column",outlineWidth:"1px",outlineStyle:"none",outlineColor:"var(--grid-outline-color)",".block-gallery":{my:"0"}},["&.is-focused, &:hover, &[".concat(ex.y,"]")]:{".is-editable":{".grid-cell":{outlineStyle:"solid"}},".add-column":{opacity:1}}},".node-cardLayoutItem, .node-cardAccentLayoutItem":{position:"relative",display:"flex",flexDirection:"column",justifyContent:"stretch",minWidth:0,minHeight:0,"> [data-node-view-wrapper]":{position:"relative",height:"100%",width:"100%"}},".node-cardNotes":{display:"none"},".block-table":{table:{'[data-node-view-content-inner="table"]':{display:"contents",'[data-node-view-content-inner="tableRow"]':{display:"contents"},td:{verticalAlign:"top",".block-heading [data-placeholder]::before":{display:"none"}}}},td:{minWidth:"3em",paddingX:"1em",position:"relative",".block":{maxWidth:e?"75vw":void 0},"&:not(:first-of-type)":{borderInlineStart:"1px solid transparent"}},".selectedCell:after":{zIndex:2,position:"absolute",content:'""',left:0,right:0,top:0,bottom:0,backgroundColor:"trueblue.100",pointerEvents:"none",opacity:.4},"&.is-focused, &:hover":{"td:not(:first-of-type)":{borderInlineStart:"1px solid var(--grid-outline-color)"}}},".tippy-arrow":{borderLeftColor:"red"},".footnote-label":{textDecoration:"underline",textDecorationColor:"var(--link-color)",_hover:{bgColor:"var(--accent-color-background-muted)",color:"gray.700",borderRadius:"sm"}},".footnote":{color:"var(--link-color)",_hover:{_after:{bgColor:"var(--accent-color-background-muted)",color:"gray.700"}}},".node-emoji":{color:"initial"},".block-heading":{...(0,ek.hQ)(e).default,".heading":{position:"relative"}},".block-title":{...(0,ek.hQ)(e).default,".title":{position:"relative"}},".node-gridLayout, .node-calloutBox":{".block-heading, .block-title":{...(0,ek.hQ)(e).compact},".block-paragraph":{...(0,ek.xC)(e).compact}},".node-calloutBox":{".first-block":{mt:(0,ek.hQ)(e).compact.mt}},".block-table td":{".block":{...(0,ek.xC)(e).tight,"&.first-block":{mt:(0,ek.xC)(e).tight.my}},".block-heading, .block-title":{...(0,ek.hQ)(e).tight}},'[data-node-view-content-inner="card"]:not(:has(> .node-cardAccentLayoutItem)) [data-node-view-content-inner="cardLayoutItem"] > .first-block:not(.last-block)':{"&.block-heading, &.block-title":{"&:not(:has(+ .block-heading, + .block-title, + .node-gridLayout))":{mb:(0,ek.hQ)(e).relaxed.mb}}},'[data-node-view-content-inner="cardLayoutItem"] > .first-block:not(.last-block)':{"&.block-paragraph":{...(0,ek.xC)(e).compact,"+ .block-heading, + .block-title":{mt:(0,ek.hQ)(e).compact.mt}},'&.block-heading:has([level="2"], [level="3"], [level="4"])':{mb:(0,ek.hQ)(e).compact.mb,"+ .block-heading, + .block-title":{mt:(0,ek.hQ)(e).compact.mt}}}});var eN=n(65978);let eP=(0,d.memo)(()=>{let e=(0,eo.FX)(),t=(0,ea.rd)();return(0,r.jsx)(en.mL,{styles:n=>{let a={[".".concat(ei._P)]:eT(e,t),[".".concat(eN.V)]:ec,[".".concat(er.S)]:er.E};if(a)return(0,et.A)(a)(n)}})});eP.displayName="GlobalCardStyles";var eO=n(71595);let eH=e=>{let{children:t,isPublishedPage:n,forceHeight:a}=e,i=(0,eO.En)(),l=(0,J.oR)(),s=(0,w.Xb)()&&(l||i);return(0,r.jsxs)(o.s,{alignSelf:"stretch",position:"relative",height:"string"==typeof a?a:n||s?"100%":"var(--100vh)",direction:"column",flex:s?1:void 0,children:[(0,r.jsx)(eP,{}),(0,r.jsx)(ee,{}),t]})};var eF=n(26420),eB=n(95669),eV=n.n(eB),eW=n(48094),eU=n(32617),eG=n(58809),eK=n(39247),eQ=n(39892);let eZ="Made with Gamma. A new medium for presenting ideas, powered by AI.",eq=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?e||"Untitled":e?"".concat(e," | Gamma"):"Gamma"},e$=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(null==e?void 0:e.trim())||(t?"":eZ)};var eJ=n(91938);let eY=e=>{let{title:t,description:n=eZ,imageUrl:a,canonicalUrl:i,noindex:o=!1,nofollow:l=!1}=e,s=t||"Gamma",d=a||eJ.$.OG_IMAGE_URL_REBRAND,c=n.slice(0,300),u=eJ.$.APPLICATION_ENVIRONMENT,p="production"===u||"dev"===u?[o?"noindex":"index",l?"nofollow":"follow"].join(", "):"noindex, nofollow";return(0,r.jsxs)(eV(),{children:[(0,r.jsx)("title",{children:s}),(0,r.jsx)("meta",{name:"robots",content:p}),(0,r.jsx)("meta",{content:c,name:"description"},"description"),(0,r.jsx)("meta",{content:s,property:"og:title"},"og:title"),(0,r.jsx)("meta",{content:c,property:"og:description"},"og:description"),(0,r.jsx)("meta",{content:d,property:"og:image"},"og:image"),(0,r.jsx)("meta",{content:s,property:"twitter:title"},"twitter:title"),(0,r.jsx)("meta",{content:c,property:"twitter:description"},"twitter:description"),(0,r.jsx)("meta",{content:d,property:"twitter:image"},"twitter:image"),(0,r.jsx)("meta",{property:"og:type",content:"website"},"og:type"),(0,r.jsx)("meta",{content:"summary_large_image",name:"twitter:card"},"twitter:card"),i&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("link",{rel:"canonical",href:i},"canonical"),(0,r.jsx)("meta",{property:"og:url",content:i},"og:url")]})]})},eX=e=>{var t,n,a;let{doc:i,token:o,content:l,noindex:s,nofollow:d,canonicalUrl:c}=e,u=(0,eQ.nk)(null==i?void 0:i.organization)||(0,Q.NF)(),h=null==l||null==(t=l.content)?void 0:t[0].attrs,m=eq(null==i?void 0:i.title,u),g=(0,p.GV)(eK.E5),x=e$((null==h||null==(n=h.settings)?void 0:n.metaDescription)||g,u),f=null==i||null==(a=i.titleCard)?void 0:a.previewUrl,b="".concat(f).concat(o?"?shareToken="+o:"");return(0,r.jsx)(eY,{title:m,description:x,imageUrl:b,canonicalUrl:c,noindex:s,nofollow:d})};var e0=n(87386);let e1=e=>{let{content:t}=e,[n,a]=(0,d.useState)(!1),i=t&&!!(0,e0.findNodeByType)(t,["embed","video"]),r=(0,d.useRef)(!1);(0,d.useEffect)(()=>{t&&i&&!r.current&&(a(!0),r.current=!0)},[t,i]),(0,eO.WM)(n,'function loadEmbedJs(){var e=window.iframely=window.iframely||{};if(e.load)e.load();else{var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src=("https:"==document.location.protocol?"https:":"http:")+"//cdn.iframe.ly/embed.js";var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(t,a)}}loadEmbedJs();')};var e2=n(72688),e4=n(87930);let e5=(e,t)=>{var n,a;null==(n=e4.U.getState(e.state))||n.compute(e.state.doc).processChanges(t),null==(a=e2.Jl.getState(e.state))||a.compute(e.state).processChanges(t),e.commands.command(()=>((0,k.jL)(e.state.doc,t),!0))};var e6=n(12364),e3=n.n(e6),e9=n(47687),e7=n.n(e9),e8=n(53907),te=n(27865),tt=n(33521),tn=n(99552),ta=n(73071),ti=n(47665),tr=n(73813);let to=e=>{e.classList.add(N),e.classList.contains(H)&&e.querySelectorAll(".".concat(F)).forEach(e=>{e.classList.add(N)})};var tl=n(17192);let ts="number"==typeof eJ.$.EDITOR_ANIMATION_DEBUG_FACTOR?eJ.$.EDITOR_ANIMATION_DEBUG_FACTOR:1,td="cubic-bezier(0.22, 1, 0.36, 1)",tc=+ts,tu=.15*ts,tp=()=>document.querySelectorAll([P,O,H].map(e=>".".concat(e)).join(", ")),th=(e,t)=>{let n=(0,b.$i)(t)||"",a=(0,ti.W0)(e,n);if(a){let t=a.pos+a.node.nodeSize-1;console.debug("[useAnimateOnLoad] Animating to presenting cardEndPos:",t),e.commands.addAnimationPositions([t],!0)}},tm=e=>{let{scrollingParentSelector:t,editor:n,instanceId:a,disabledOverride:i}=e,r=(0,te.O2)("editor"),o=(0,eo.UT)("edit"),l=(0,p.GV)(e=>{var t,a;let r=null!=n&&!!n.shouldUsePublishedVersion||((0,b.wC)(e)===v.w.SLIDE_VIEW?!1===(0,b.nD)(e):!1===o),l=!1==!!(null==(t=(0,b.FI)(e))?void 0:t.pos),s=(0,b.b6)(e),d=!(0,e8.pn)(null==n?void 0:n.gammaDocId)(e),c=(null==(a=(0,eG.Jo)(e))?void 0:a.archived)!==!0;return r&&l&&!0!==i&&s&&d&&c}),[s,c]=(0,d.useState)(tc),u=(0,ta.b)(),h=(0,p.GV)(b.OG),m=(0,p.GV)(b.w7),g=(0,p.GV)(b.mA),x=(0,p.GV)(e=>(0,b.wC)(e)===v.w.SLIDE_VIEW&&!(0,b.OG)(e)),f=(0,p.CU)(),y=(0,p.GV)(b.$i)||"",w=!h&&!m&&!g;return(0,d.useEffect)(()=>{if(!l||!n)return;let e=r.scrollerForEvents,t=e7()(()=>{r.isAtBottom(5)&&(n.commands.addAnimationPositions([n.view.state.doc.content.size],h),tp().forEach(e=>{e instanceof HTMLElement&&!e.classList.contains(N)&&to(e)}))},500);return null==e||e.addEventListener("scroll",t),()=>{null==e||e.removeEventListener("scroll",t)}},[n,r,l,h]),(0,d.useEffect)(()=>{x&&(console.debug("[useAnimateOnLoad] Setting animation duration to 0s"),c(0))},[x]),(0,d.useEffect)(()=>{var e,t;null==n||null==(e=(t=n.commands).enableAnimations)||e.call(t,l)},[n,l]),(0,d.useEffect)(()=>{if(!h||!n)return;console.debug("[useAnimateOnLoad] PRESENT_MODE Entering present mode - Resetting animations"),n.commands.resetAnimationPositions(!0),requestAnimationFrame(()=>{c(tc)});let e=e3()(e=>{let{transaction:t}=e;t.docChanged&&th(n,f.getState())},500,{leading:!0,trailing:!0,maxWait:1e3});return n.on("update",e),()=>{n.off("update",e)}},[n,f,h]),(0,d.useEffect)(()=>{y&&n&&setTimeout(()=>{th(n,f.getState())},150)},[n,f,y]),(0,d.useEffect)(()=>{var e;if(!u||!n||w||!l||h)return;let i=tp();console.debug("[useAnimateOnLoad] DOC_MODE - Setting up animations:",{isFullyInDocMode:m,rootSelectorEl:document.querySelector(t),rootSelector:t,elements:i,editorId:n.editorId,instanceId:a}),!(null==(e=window.gammaTiming)?void 0:e.editorAnimationsInitialized)&&(null==n?void 0:n.shouldUsePublishedVersion)&&(0,tt.P)("editorAnimationsInitialized");let r=()=>{if(window.gammaSiteAnimationsInitialized||!(null==n?void 0:n.shouldUsePublishedVersion))return;window.gammaSiteAnimationsInitialized=!0;let e="site-animations-bootstrap";document.body.classList.contains(e)?(document.body.classList.remove(e),console.debug("%c[useAnimateOnLoad] REMOVING site-animations-bootstrap class $$$$$$$$$$$$$$$$$$$$","background-color: deeppink; color: white; padding: 5px; font-size: 1.5em;")):console.debug("%c[useAnimateOnLoad] site-animations-bootstrap class not found $$$$$$$$$$$$$$$$$$$$","background-color: deeppink; color: white; padding: 5px; font-size: 1.5em;")},o=new IntersectionObserver(e=>{let t=[];for(let a of e)if(a.isIntersecting){let e=Number(a.target.getAttribute("data-pos"));e&&to(a.target);let i=e||n.view.posAtDOM(a.target,0);if(i&&i>0){let r=W(n,i);console.debug("[useAnimateOnLoad] animate isIntersecting",{pos:i,dataPos:e,$closestAnimatablePos:r,dataAttrPos:a.target.getAttribute("data-pos")},a.target),e?t.push(e):r&&t.push(r.pos),o.unobserve(a.target)}}r(),requestAnimationFrame(()=>{c(tc)}),setTimeout(()=>{n.commands.addAnimationPositions(t,!1)})},{root:"body"!==t?document.querySelector(t):void 0,rootMargin:"-100px"});return i.forEach(e=>{o.observe(e)}),()=>{i.forEach(e=>{o.unobserve(e)})}},[u,n,a,l,h,w,m,y,t]),{editorAnimationsClass:l?"editor-animations-enabled":"",editorAnimationsCSSVars:{"--animation-yOffset":"20px","--animation-transition-property":"opacity, transform","--animation-transition-duration":"".concat(s,"s"),"--animation-transition-delay":"".concat(0===s?0:tu,"s"),"--animation-easing-function":td}}},tg=e=>{let{disabledOverride:t}=e,n=(0,p.jL)(),a=(0,p.GV)(e=>{let n=(0,b.zu)(e),a=(0,tl.h)(null==n?void 0:n.settings)||!1==!!(null==n?void 0:n.docId);return!0!==t&&a});return(0,d.useEffect)(()=>{if(!a)return;let e=document.querySelectorAll([tr.Hj,tr.md].map(e=>".".concat(e)).join(", ")),t=new IntersectionObserver(e=>{for(let a of e)a.isIntersecting&&(console.debug("[useSiteNavAnimations] animate isIntersecting",a.target),to(a.target),(0,tn.l$)(n)(!0),t.unobserve(a.target))},{root:document.body,rootMargin:"0px"});return e.forEach(e=>{t.observe(e)}),()=>{e.forEach(e=>{t.unobserve(e)}),(0,tn.l$)(n)(!1)}},[a,n]),{navbarAnimationsClass:a?"editor-navbar-animations-enabled":"",navbarAnimationsCSSVars:{"--animation-yOffset":"20px","--animation-transition-property":"opacity, transform","--animation-transition-duration":"".concat(tc,"s"),"--animation-transition-delay":"".concat(tu,"s"),"--animation-easing-function":td}}};var tx=n(41885),tf=n(70375),tb=n(28548),tv=n(91892),ty=n(58497),tw=n(99696),tC=n(55616),tj=n(95714);Promise.all([n.e(6935),n.e(9978)]).then(n.bind(n,12504)).then(e=>{a=e.applyDevTools,i=e.removeDevTools});let tA=e=>{let t=(0,p.GV)(u.Ew);(0,d.useEffect)(()=>{if(e){if(t){console.debug("[Prosemirror DevTools] Activating prosemirror-dev-tools");try{a(e.view)}catch(e){}}else try{i()}catch(e){}return eJ.$.DEBUG_ENABLED&&(window.openPMDT=()=>a(e.view)),()=>{i(),delete window.openPMDT}}},[e,t])};var tk=n(49251),tS=n(4747),tI=n(44911),tE=n(1739),tL=n(2426),tR=n(66082),tD=n(71839),tM=n(15607),t_=n(46957),tz=n(16936),tT=n(27229),tN=n(58959),tP=n(80314),tO=n(29810),tH=n(95571),tF=n(89703),tB=n(41896),tV=n(89115),tW=n(88889),tU=n(62695),tG=n(48932),tK=n(14110),tQ=n(75287);let tZ=()=>(0,eo.wO)({base:!0,lg:!1})||!1,tq=()=>{let e=(0,tQ.l)(),t=(0,p.GV)(t=>{let n=(0,eG.Jo)(t),a=null==n?void 0:n.site;if(!a||!e)return"";let i=(0,tK.z5)(a);return i||""}),n=(0,tG.c)({url:t});return{homeUrl:n.linkUrl,handleLogoClick:n.handleClick}},t$=e=>{let{active:t}=e;return(0,r.jsxs)(eF.a,{boxSize:"1.5rem",pos:"relative",pointerEvents:"none",children:[(0,r.jsx)(tJ,{top:t?"50%":"calc(50% + .375rem)",transform:t?"rotate(45deg)":void 0}),(0,r.jsx)(tJ,{top:"50%",opacity:+!t}),(0,r.jsx)(tJ,{top:t?"50%":"calc(50% - .375rem)",transform:t?"rotate(-45deg)":void 0})]})},tJ=e=>(0,r.jsx)(eF.a,{pos:"absolute",w:"1.25rem",h:"0.125rem",borderRadius:"full",bg:"currentcolor",insetStart:"0.125rem",transitionProperty:"all",transitionDuration:"normal",...e}),tY=e=>{let{isOpen:t,...n}=e;return(0,r.jsx)(tz.K,{variant:"unstyled",size:"xs",icon:(0,r.jsx)(t$,{active:t}),contentEditable:!1,...n})},tX=e=>{var t,n;let a={width:void 0,height:void 0,aspectRatio:void 0};if(!e)return a;let i=null==e||null==(t=e.meta)?void 0:t.width,r=null==e||null==(n=e.meta)?void 0:n.height,o=i&&r&&i/r||1;return o>1?a.width="100%":a.width="auto",a.height="100%",a.aspectRatio=o,a},t0=e=>{var t,n,a,i,r,o,l,s;let d=null==(i=e.content.content.find(e=>"navbarLinks"===e.type.name))||null==(a=i.content)||null==(n=a.content)||null==(t=n[0])?void 0:t.textContent,c=null==(s=e.content.content.find(e=>"navbarButtons"===e.type.name))||null==(l=s.content)||null==(o=l.content)||null==(r=o[0])?void 0:r.textContent;return void 0!==d&&""!==d||void 0!==c&&""!==c},t1=e=>{let{node:t,editor:n,getPos:a}=e,{isOpen:i,onToggle:l}=(0,tT.j)(),s=t.attrs.logo,c=(0,p.GV)(b.SJ),{defaultContentWidth:u,fontSize:h}=(0,p.GV)(b.Uu),{cardWidthEms:m,baseFontSize:x}=(0,tV.S)({theme:c,fontSize:h,isMobileDevice:!1,contentWidth:u}),f=(0,p.GV)(b.Cl),v=(0,p.GV)(tn.lo),y=(0,J.oR)(),w=tZ(),C=y?w&&t0(t):w,j=s&&s.src,A=(0,d.useMemo)(()=>tX(s),[s]),k="".concat(tr.kb-2*tr.cw,"px"),S=!j&&!t0(t)&&y,{homeUrl:I,handleLogoClick:E}=tq(),L=(0,tU.j)(n,a),R=(0,tF.f)(),D=(0,d.useCallback)(()=>{L(),R({isOpen:!0})},[L,R]);return(0,d.useEffect)(()=>{if(C&&!i){var e,t;null==(e=(t=n.commands).forceHideBubbleMenu)||e.call(t,!1)}},[C,i,n]),(0,r.jsx)(tB.VR,{children:(0,r.jsxs)(o.s,{direction:"column",align:"center",justify:"center",pos:"relative",w:"100%",p:"".concat(tr.cw,"px"),zIndex:"1",h:tr.D0,children:[(0,r.jsx)(eF.a,{pos:"absolute","data-id":"navbar-view-backdrop",className:(0,g.cx)(tr.Hj,v&&N),inset:"0",sx:tH.CO,style:{borderRadius:"0px"}}),S?null:(0,r.jsxs)(tN.z,{className:(0,g.cx)(tr.md,v&&N),...C&&!i?{[tr.hu]:!0}:{},spacing:4,maxW:"".concat(m,"em"),w:"100%",fontSize:"".concat(x,"em"),align:"center",sx:{".header-dropdown":tH.CO,"[data-node-view-content-inner=navbar]":{display:"flex",width:"100%",flexDirection:w?"column":"row",alignItems:"center"},".node-navbarLinks":{flexGrow:+!w,width:w?"100%":void 0},".node-navbarButtons":{marginTop:w?"0.5em":void 0,marginLeft:w?void 0:"0.5em",width:w?"100%":void 0},".node-buttonGroup":{flexGrow:+!!w,"--button-group-direction":"row-reverse",'[data-node-view-content-inner="button"]':{whiteSpace:"nowrap !important"},width:w?"100%":void 0}},children:[j||f?(0,r.jsx)(eF.a,{as:tP.N,href:I,onClick:E,h:k,w:(null==A?void 0:A.aspectRatio)?"calc(".concat(k," * ").concat(A.aspectRatio,")"):k,children:(0,r.jsx)(tW.Y,{image:s,imageSx:{backgroundSize:"contain",borderRadius:(null==s?void 0:s.src)?"none":"md",cursor:"pointer",...A},handleEditableClick:D,...e})}):null,!C&&(0,r.jsx)(tB.$p,{style:{flex:1}}),C&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(tO.h,{}),(0,r.jsx)(tY,{"aria-label":eA.Ru._({id:"knMf50"}),color:"var(--body-color)",onClick:l,isOpen:i,mr:4}),i&&(0,r.jsx)(eF.a,{pos:"absolute",w:"100%",left:"0",top:tr.kb,backgroundColor:"var(--card-color)",transform:"translateY(".concat(i?"0":"-100%",")"),opacity:+!!i,pointerEvents:i?"auto":"none",transitionProperty:"transform, opacity",transitionDuration:"normal",className:"header-dropdown",p:4,children:(0,r.jsx)(tB.$p,{})})]})]})]})})},t2=m.bP.create({name:"navbar",content:"navbarLinks navbarButtons",imageKeyPath:"logo",accessoryImageKey:"logo",addAttributes:()=>({logo:{default:null,...(0,tM.tb)("logo")}}),parseHTML:()=>[{tag:'nav[class="navbar"]'}],renderHTML(e){let{HTMLAttributes:t}=e;return["nav",(0,m.KV)(t,{class:"navbar"}),0]},addNodeView:()=>(0,tD.g)(t1,{update:t_.z0})});var t4=n(25600),t5=n(7631),t6=n(95017),t3=n(15253),t9=n(55292),t7=n(15587),t8=n(14812),ne=n(19564),nt=n(54765),nn=n(43828),na=n(9343),ni=n(49611),nr=n(48810),no=n(31394);let nl=e=>{let{variant:t}=e;return{buttonStyle:{..."solid"===t?{backgroundColor:"var(--placeholder-button-bg-color) !important",backgroundImage:"0 none !important",borderColor:"var(--placeholder-button-bg-color) !important",_hover:{backgroundColor:"var(--placeholder-button-bg-hover-color) !important",borderColor:"var(--placeholder-button-bg-hover-color)"}}:"outline"===t?{borderColor:"var(--placeholder-button-text-color) !important",backgroundColor:"transparent !important",_hover:{borderColor:"var(--placeholder-button-text-hover-color)"}}:{},borderRadius:"var(--button-border-radius, var(--box-border-radius))"}}},ns=e=>{let{editor:t,getPos:n,node:a,maxButtons:i,variant:l,label:s}=e,c=(0,p.GV)(b.Cl),u=!i||a.childCount<i,h=(0,d.useCallback)(()=>{t.commands.addButtonToGroup(n())},[t,n]),m=(0,d.useMemo)(()=>({...(0,no.s)({variant:l})}),[l]);if(!u||!c)return null;let{buttonStyle:g}=nl({variant:l});return(0,r.jsx)(o.s,{position:"relative",align:"center",children:(0,r.jsx)(ni.$,{onClick:h,className:"button",...m,...g,role:"group",userSelect:"none",contentEditable:!1,children:(0,r.jsx)(nr.E,{as:"div",wordBreak:"break-all",textAlign:"center",pos:"relative",color:"var(--placeholder-button-text-color)",_groupHover:{color:"var(--placeholder-button-text-hover-color) !important"},children:s})})})},nd=e=>{let{decorations:t}=e,n=tZ(),a=(0,t7.v)(t);return(0,r.jsx)(nt.u,{...e,children:(0,r.jsxs)(o.s,{w:"100%","data-selection-ring":"padded",borderRadius:"var(--box-border-radius)",direction:n?"column-reverse":"row-reverse",fontFamily:"var(--body-font)",sx:(0,na.J)(n),gap:"0.5em",children:[a&&(0,r.jsx)(ns,{...e,variant:"solid",label:(0,r.jsx)(ne.x6,{id:"xe7fzh"})}),!n&&!a&&(0,r.jsx)(nn.k,{...e,direction:"row-reverse",maxButtons:2}),(0,r.jsx)(tB.$p,{})]})})},nc=m.bP.create({name:"navbarButtons",content:"button{0, ".concat(2,"}"),addNodeView:()=>(0,tB.gu)(nd,{update:t_.R$}),parseHTML:()=>[{tag:"div[class=navbar-buttons]"},{tag:"buttons"}],renderHTML(e){let{HTMLAttributes:t}=e;return["div",(0,m.KV)(t,{class:"navbar-buttons"}),0]}});var nu=n(21699);let np=e=>{let{node:t,decorations:n}=e,{horizontalAlign:a}=t.attrs,i=tZ(),l=(0,nu.Ms)(n),s=i?"column":"row",d=(0,p.GV)(b.nD),c=(0,t7.v)(n),u=(0,r.jsx)(nn.k,{...e,direction:s,tooltip:(0,r.jsx)(ne.x6,{id:"JecGQl"}),maxButtons:5}),h=d||i?void 0:{_after:nh};return(0,r.jsx)(nt.u,{...e,children:(0,r.jsxs)(o.s,{w:"100%","data-selection-ring":"padded",borderRadius:"var(--box-border-radius)",direction:s,justify:(0,tR.lI)(a)||"var(--flex-align)",pl:i?void 0:4,sx:{...(0,na.J)(i),".button[data-variant=link]":{outlineStyle:l?"solid":"none",outlineWidth:"1px",outlineColor:"var(--grid-outline-color)",color:"var(--body-color)",fontWeight:"var(--body-font-weight)",_hover:h,"&[data-is-current-page=true]":{color:"var(--link-color)",_after:i?{}:nh}}},fontFamily:"var(--body-font)",gap:"0.5em",children:[c&&(0,r.jsx)(ns,{...e,variant:"link",label:(0,r.jsx)(ne.x6,{id:"JecGQl"})}),(0,r.jsx)(tB.$p,{}),!i&&!c&&u]})})},nh={content:'""',pos:"absolute",w:"100%",left:0,bottom:"0.125em",height:"0.25em",borderRadius:"inherit",zIndex:"0",backgroundColor:"var(--link-color)",backgroundImage:"var(--accent-gradient)"},nm=m.bP.create({name:"navbarLinks",content:"button*",addNodeView:()=>(0,tB.gu)(np,{update:t_.R$}),parseHTML:()=>[{tag:"div[class=navbar-links]"}],renderHTML(e){let{HTMLAttributes:t}=e;return["div",(0,m.KV)(t,{class:"navbar-links"}),0]}}),ng=()=>[tf.y.extend({content:"navbar"}),t2,nm,nc,tI.$,ty.E,tE.Hf,tx.yN,tw.z,tv.J2,tb.B,t5.a,tL.bY,tR.wq,t6.n,t4.bU,t7.h,tE.mk,t8.Q],nx=(0,d.memo)(e=>{let{theme:t=t9.z,scrollingParentSelector:n,...a}=e,i=(0,J.oR)(),l=(0,d.useMemo)(()=>ng(),[]),s=(0,q.h)({...a,extensions:l,editable:!i});tA(s);let c=(0,tj.ZI)(t),u=(0,tC.S)(t,!0),{navbarAnimationsClass:p,navbarAnimationsCSSVars:h}=tg({disabledOverride:!1===i});if(!s)return null;s.isSiteNavbarEditor=!0;let m=i?(0,r.jsx)(t3.N,{editor:s}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(tB.$Z,{editor:s,style:{wordBreak:"break-word",flex:1,display:"flex",flexDirection:"column"}}),(0,r.jsx)(tS.Ht,{editor:s,menuContext:"navigation",scrollingParentSelector:n}),(0,r.jsx)(tk.G,{editor:s})]});return(0,r.jsx)(o.s,{flex:"1",direction:"column","data-navbar-editor":!0,className:p,style:h,sx:{...c,...u,...t.config.contentStyles},children:m})});nx.displayName="NavbarEditor";var nf=n(89942),nb=n(95889);n(6064),n(44637),n(6181),n(12562),n(66863);var nv=n(69768);n(34379),n(85057),n(6807);var ny=n(70006);n(65148),n(77639),n(59025),n(2018);var nw=n(61204),nC=n(48342),nj=n(16410);let nA=e=>{let{fillColorOverride:t}=e;return(0,r.jsx)(eF.a,{display:"inline-block",ms:1,children:(0,r.jsx)(nC.Fu,{w:"61px",fillColorOverride:t})})},nk={darkButton:{border:"var(--chakra-colors-deepocean-200) !important",bg:"var(--chakra-colors-deepocean-950)",color:"white"},lightButton:{border:"var(--chakra-colors-sky-700)",bg:"white",color:"var(--chakra-colors-sky-700)"}},nS=e=>{let{docId:t,abuseReportingEnabled:n=!0,onClick:a,gammaUrl:i}=e,o=(0,ea.rd)(),l=o?nk.lightButton:nk.darkButton;return(0,r.jsx)(nC.L8,{isDark:!o,children:(0,r.jsxs)(nw.e,{isAttached:!0,children:[(0,r.jsx)(ni.$,{as:tP.N,onClick:a,variant:"plain",target:"_blank",href:i,textDecoration:"none !important",size:"sm",color:l.color,bg:l.bg,borderColor:l.border,"data-id":"made-with-gamma-btn",boxShadow:"none",...n&&{borderInlineEndRadius:"none"},children:(0,r.jsx)(ne.x6,{id:"b9utUl",components:{0:(0,r.jsx)(nA,{fillColorOverride:l.color})}})}),n&&(0,r.jsx)(nj._,{docId:t,buttonType:"iconRight",buttonProps:{bg:l.bg,color:l.color,borderColor:l.border,boxShadow:"none"}})]})})},nI=()=>(0,w.Xb)()?{display:"flex",justifyContent:"center",m:6,position:"relative"}:{position:"fixed",right:[1,6],bottom:[1,4]},nE=e=>{let{docWorkspace:t,forceShow:n=!1,abuseReportingEnabled:a=!0,...i}=e,{docId:l}=(0,$.m)(),s=(0,nb.st)(),c=(0,d.useCallback)(()=>{null==s||s.track(nb.VV.MADE_WITH_GAMMA_CLICKED,{doc_id:l})},[s,l]),u=(0,nf.nk)(t);return!1===n&&!1!==u?null:(0,r.jsx)(o.s,{...nI(),...i,children:(0,r.jsx)(nS,{docId:l,onClick:c,abuseReportingEnabled:a,gammaUrl:"https://gamma.app"})})};var nL=n(92397),nR=n(71753),nD=n(53957);let nM=()=>{let{editor:e}=(0,$.m)(),t=(0,s.useRouter)(),n=(0,p.CU)();(0,d.useEffect)(function(){if(!e)return;t.beforePopState(e=>{let{as:t}=e;return!t.startsWith("/docs/")});let a=nv.uE.on("changed",t=>{var a;let{cardId:i}=(0,ny.$9)(t.url),r=n.getState(),o=(0,b.wC)(r);if(console.debug("[useHandleCardHash][handleURLChange]",{payload:t,cardId:i}),o!==v.w.SLIDE_VIEW&&(null==(a=t.state)?void 0:a.fromPos)&&"pop"===t.method){let{fromPos:n,fromPct:a}=t.state;e.chain().scrollToPositionInCard(n,a||void 0).command(e=>{let{tr:t}=e;return(0,nR.Ey)(n)(t),!0}).run()}else{let t=(0,b.bO)(r)[0];(0,nL.OM)({cardId:i||t,editor:e})}});return()=>{t.beforePopState(()=>!0),a()}},[e,t,n]),(0,d.useEffect)(function(){if(!e)return;let{cardId:t}=(0,ny.$9)(window.location.href);t&&(0,nD.o)({cardId:t,method:"replace"})},[e])},n_=new String(':root{--\\31 00vh:100%}html{min-height:var(--\\31 00vh);min-height:-webkit-fill-available;height:var(--\\31 00vh);height:-webkit-fill-available}body{position:relative;--\\31 00vh:100vh;--editor-width:100vw}[data-node-view-content-inner="paragraph"]:empty::after{content:"\xa0"}');n_.__hash="3b0f3b1f5b7e38c3";var nz=n(83106);let nT=e=>"(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':\n  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],\n  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=\n  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);\n  })(window,document,'script','dataLayer','GTM-".concat(e,"');").replace(/\n\s+/g," "),nN=e=>{let{gtmId:t}=e,n=nz.W.sanitize(t);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(eV(),{children:(0,r.jsx)("script",{dangerouslySetInnerHTML:{__html:nT(n)}})}),(0,r.jsx)("noscript",{children:(0,r.jsx)("iframe",{title:"Google Tag Manager noscript",src:"https://www.googletagmanager.com/ns.html?id=GTM-".concat(n),height:"0",width:"0",style:{display:"none",visibility:"hidden"}})})]})},nP=e=>"!function(f,b,e,v,n,t,s)\n  {if(f.fbq)return;n=f.fbq=function(){n.callMethod?\n  n.callMethod.apply(n,arguments):n.queue.push(arguments)};\n  if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';\n  n.queue=[];t=b.createElement(e);t.async=!0;\n  t.src=v;s=b.getElementsByTagName(e)[0];\n  s.parentNode.insertBefore(t,s)}(window, document,'script',\n  'https://connect.facebook.net/en_US/fbevents.js');\n  fbq('init', '".concat(e,"');\n  fbq('track', 'PageView');").replace(/\n\s+/g," "),nO=e=>{let{pixelId:t}=e,n=nz.W.sanitize(t);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(eV(),{children:(0,r.jsx)("script",{dangerouslySetInnerHTML:{__html:nP(n)}})}),(0,r.jsx)("noscript",{children:(0,r.jsx)("img",{alt:"Facebook Pixel",height:"1",width:"1",style:{display:"none"},src:"https://www.facebook.com/tr?id=".concat(n,"&ev=PageView&noscript=1")})})]})},nH=e=>{let{dispatch:t,doc:n,editor:a}=e;t((0,b.Yl)({theme:n.theme||null})),t((0,b.kd)({isAllowedToEdit:!1})),t((0,eG.Tm)({currentPage:n})),e5(a,t),(0,eW.oZ)(a,t)},nF=e=>{var t,n,a,i,l,s;let{doc:c,content:u,editor:h}=e,m=(0,p.jL)(),x=(0,d.useRef)(!1),f=(0,eU.u)("siteAnimationsEnabled"),b=null==c||null==(n=c.organization)||null==(t=n.products)?void 0:t.includes("pro");x.current||(nH({dispatch:m,doc:c,editor:h}),x.current=!0),h.gammaDocId=c.id,h.shouldUsePublishedVersion=!0,nM(),e1({content:u});let{editorAnimationsClass:v,editorAnimationsCSSVars:y}=tm({editor:h,scrollingParentSelector:"body",disabledOverride:!1===f}),{customCode:C}=u.content[0].attrs,j=(0,Q.pg)(c.site),A=null==(a=c.site)?void 0:a.gtmContainerId,k=null==(i=c.site)?void 0:i.metaPixelId,S=(!b||!c.site)&&(null==c?void 0:c.searchEngineIndexingAllowed)!==!0;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(eX,{doc:c,content:u,noindex:S,nofollow:S}),(0,r.jsx)(eV(),{children:(null==c||null==(l=c.site)?void 0:l.faviconUrl)&&(0,r.jsx)("link",{rel:"icon",href:c.site.faviconUrl})}),(0,r.jsx)("style",{id:"global-styles",dangerouslySetInnerHTML:{__html:n_.toString()}}),(0,r.jsx)(en.mL,{styles:{html:{overflowX:"hidden"},body:{overflow:"hidden",WebkitOverflowScrolling:"touch","--doc-padding-top":j?tr.D0:void 0}}}),A&&(0,r.jsx)(nN,{gtmId:A}),k&&(0,r.jsx)(nO,{pixelId:k}),(null==C?void 0:C.bodyStart)&&(0,r.jsx)(eF.a,{"data-custom-code":"body-start",dangerouslySetInnerHTML:{__html:C.bodyStart}}),j&&(0,r.jsx)(o.s,{pos:"absolute",top:0,left:0,w:"100%",zIndex:"10",children:(0,r.jsx)(nx,{theme:c.theme,content:null==(s=c.site)?void 0:s.navContent})}),(0,r.jsx)(eF.a,{className:(0,g.cx)("simple-editor-root",v),style:y,width:"100%",position:"relative","data-is-mobile":(0,w.Xb)(),children:(0,r.jsx)(t3.N,{editor:h})}),(0,r.jsx)(nE,{minH:(0,w.Xb)()?"60px":void 0,docWorkspace:c.organization})]})},nB=()=>{},nV=e=>{let{children:t}=e;return(0,r.jsx)(o.s,{flex:1,alignItems:"center",justifyContent:"center",color:"gray.500",fontSize:"2xl",children:t})},nW=e=>{var t;let{doc:n,docId:a,flags:i}=e,o=(0,s.useRouter)(),d=null==n||null==(t=n.publishedSnapshot)?void 0:t.content.default;return o.isFallback?(0,r.jsx)(nV,{children:(0,r.jsx)(l.y,{size:"md"})}):d&&a&&n?(0,r.jsx)(nU,{doc:n,docId:a,content:d,flags:i}):(0,r.jsx)(nV,{children:"Sorry, we couldn't find that page."})},nU=e=>{let{doc:t,docId:n,flags:a,content:i}=e,o=(0,d.useMemo)(()=>(0,h.C)().concat(K),[]),l=(0,q.h)({extensions:o,content:i,editable:!1});l.isReadOnly=!0;let s=(0,d.useRef)(!1);return s.current||(s.current=!0,(0,p.BT)(),u.of.set(a),u.of.hasInitialized=!0),(0,r.jsx)(c.UU,{children:(0,r.jsxs)(eH,{isPublishedPage:!0,children:[(0,r.jsx)(Z,{}),(0,r.jsx)($.p.Provider,{value:{editor:l,docId:n,isUnauthorized:!1,passwordRequired:void 0,setCollaborativeEditorInstance:nB,getCollaborativeEditorInstance:()=>l||null,confirmNavigation:()=>Promise.resolve()},children:(0,r.jsx)(nF,{doc:t,content:i,editor:l})})]})})}},6018:(e,t,n)=>{"use strict";n.d(t,{R:()=>p,w:()=>u});var a=n(6064),i=n(27002),r=n(89942),o=n(25839),l=n(95889),s=n(42721),d=n(779),c=n(62826);let u=async(e,t,n)=>{var u,h;let m=(0,r.vT)("unlimited_credits",t),g=null!=(h=i.of.get("aiDebits")[e])?h:d.rA[e];if(p(e,t,n),0===g||m)return;let x=(null==t?void 0:t.id)||(0,s.gx)();if(!x)return;let f=(0,a.H4n)(),b=null==(u=(await f.mutate({mutation:a.lgx,variables:{value:g,workspaceId:x}})).data)?void 0:u.deductCredits;return b?(l.zS.track(l.VV.AI_CREDITS_DEDUCTED,{operation:e,used:g,remaining:b.credits,interactionId:n}),(0,o.KA)().dispatch((0,c.z0)({availableCredits:b.credits})),b.credits):null},p=(e,t,n)=>{var a;let o=(0,r.vT)("unlimited_credits",t),s=null!=(a=i.of.get("aiDebits")[e])?a:d.rA[e];l.zS.track(l.VV.AI_CREDITS_USED,{operation:e,used:s,has_unlimited_ai:o,interactionId:n})}},6046:(e,t,n)=>{"use strict";n.d(t,{$:()=>s});var a=n(6029),i=n(55729),r=n(56760);let o=e=>{let{renderers:t}=e;return(0,a.jsx)(a.Fragment,{children:Object.entries(t).map(e=>{let[t,n]=e;return r.createPortal(n.reactElement,n.element,t)})})};class l extends i.Component{componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){let{editor:e}=this.props;if(e&&e.options.element){if(e.contentComponent)return;let t=this.editorContentRef.current;t.append(...e.options.element.childNodes),e.setOptions({element:t}),e.contentComponent=this,e.createNodeViews(),this.initialized=!0}}maybeFlushSync(e){this.initialized?(0,r.flushSync)(e):e()}setRenderer(e,t){this.maybeFlushSync(()=>{this.setState(n=>{let{renderers:a}=n;return{renderers:{...a,[e]:t}}})})}removeRenderer(e){this.maybeFlushSync(()=>{this.setState(t=>{let{renderers:n}=t,a={...n};return delete a[e],{renderers:a}})})}componentWillUnmount(){let{editor:e}=this.props;if(!e||(this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),e.contentComponent=null,!e.options.element.firstChild))return;let t=document.createElement("div");t.append(...e.options.element.childNodes),e.setOptions({element:t})}render(){let{editor:e,portalComponent:t,...n}=this.props;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{ref:this.editorContentRef,...n}),(0,a.jsx)(this.portalComponent,{renderers:this.state.renderers})]})}constructor(e){super(e),this.editorContentRef=i.createRef(),this.initialized=!1,this.portalComponent=e.portalComponent||o,this.state={renderers:{}}}}let s=i.memo(l)},6272:(e,t,n)=>{"use strict";n.d(t,{z:()=>i});var a=n(58929);let i=e=>"AbortError"===e.name||e instanceof a.f&&"aborted"===e.type},6700:(e,t,n)=>{"use strict";var a=Object.create?function(e,t,n,a){void 0===a&&(a=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,a,i)}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]};Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||a(t,e,n)}(n(84169),t)},6845:(e,t,n)=>{"use strict";n.d(t,{Wq:()=>m,iM:()=>p,jL:()=>h,wE:()=>g,wV:()=>x});var a=n(37243),i=n(38822),r=n.n(i),o=n(63867),l=n(25839),s=n(43634),d=n(85235),c=n(33201),u=n(61385);let p=a.YY.create({name:"cardCollapse",addKeyboardShortcuts:()=>({Escape:e=>{let{editor:t}=e,n=(0,l.KA)();if((0,s.wC)(n.getState())===d.w.SLIDE_VIEW)return!1;let{selection:i}=t.state;if(!i.empty)return!1;let r=(0,a.KP)(c.jg)(i);return!(!r||!(r.depth>u.$x)||m(r.node))&&(g(r.node.attrs.id,!0),!0)}}),addProseMirrorPlugins:()=>[new o.k_({key:new o.hs("cardCollapse"),appendTransaction:(e,t,n)=>{if(n.selection.eq(t.selection)||!n.selection.empty)return;let i=(0,a.KP)(c.jg)(n.selection);if(!i)return;let{node:r,pos:l}=i;if(m(r))try{let{tr:e}=n,t=o.nh.create(e.doc,l);if(!t)return;return e.setSelection(t)}catch(e){console.error("Error moving selection out of collapsed card",{node:r,pos:l},e)}}})]}),h=(e,t)=>{let n=[],a=[];e.descendants((e,t,i)=>{if(!(0,c.jg)(e))return;let{id:r}=e.attrs;i&&"document"===i.type.name?n.push(r):a.push(r)}),t((0,s.ln)({cardIds:n,isCollapsed:!1})),t((0,s.ln)({cardIds:a,isCollapsed:!0}))},m=e=>{let t="string"==typeof e?e:e.attrs.id;if(!t)return;let n=(0,l.KA)().getState();return(0,s.WS)(t)(n)},g=(e,t)=>{if(r()(e))return void console.error("[setCardCollapsed] Input is unexpectedly not string | string[]: ",e);let n=Array.isArray(e)?e:[e],a=(0,l.KA)();(1!==n.length||(0,s.WS)(n[0])(a.getState())!==t)&&a.dispatch((0,s.ln)({cardIds:n,isCollapsed:t}))},x=e=>{let t=(0,l.KA)();void 0===t.getState().TipTap.memoState.expandedCards[e]&&t.dispatch((0,s.ln)({cardIds:[e],isCollapsed:!1}))}},7631:(e,t,n)=>{"use strict";n.d(t,{a:()=>l});var a=n(37243),i=n(63867),r=n(91242),o=n(23513);let l=a.YY.create({name:"focusHelpers",addCommands:()=>({focusDelayed:()=>e=>{let{editor:t}=e;return requestAnimationFrame(()=>t.commands.focus()),!0},insertContentAndSelect:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return n=>{let{chain:a,state:i}=n,{from:r,$from:o}=i.selection;return 0===o.parentOffset?a().insertContentAt({from:r-1,to:r},e,{updateSelection:!1}).selectInsertedNode(t).run():a().insertContent(e,{updateSelection:!1}).selectInsertedNode(t).run()}},focusMapped:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;return a=>{let{tr:i,view:o}=a,l=i.mapping.map(e,n)+t;try{let e=(0,r.s)(i.doc.resolve(l));e&&i.setSelection(e),o.focus()}catch(e){console.error("[focusMapped] error selecting pos",l,e)}return!0}},selectInsertedNode:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return t=>{let{tr:n,view:a}=t,i=(0,r.t)(n);if(!i)return!1;let o=(0,r.s)(i,e);return!!o&&(n.setSelection(o),a.focus(),!0)}},selectNodeAtPos:function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return n=>{let{state:a,tr:r,view:o}=n;try{r.setSelection(i.nh.create(a.doc,e)),t&&r.scrollIntoView(),o.focus()}catch(t){console.warn("[selectNodeAtPos] Error selecting node",e,t)}return!0}},selectInsideNodeAtPos:(e,t)=>n=>{let{tr:a,state:i}=n,o=i.doc.resolve(e),l=(0,r.s)(o,t);return!!l&&(a.setSelection(l),!0)},deleteSelectionAndSelectNear:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return t=>{let{tr:n,state:a}=t,{selection:i}=a;if(i.empty)return!1;n.deleteSelection().scrollIntoView();let r=(0,o.n)(n.doc.resolve(i.from),e);return r&&n.setSelection(r),!0}}})})},7915:(e,t,n)=>{"use strict";n.d(t,{y:()=>i});var a=n(63867);n(5061),n(25839),n(70703),n(23460),n(87379),n(39822),n(39385),n(61250),n(8376),n(16264);let i="data-drag-handle-hovering";new a.hs("globalDragHandle")},7957:(e,t,n)=>{"use strict";n.d(t,{A3:()=>l,Tg:()=>o,_w:()=>r,i:()=>s});var a=n(99492),i=n(77650);let r=()=>({note:{name:i.Ru._({id:"KiJn9B"}),commandName:()=>i.Ru._({id:"Cq+sLh"}),description:i.Ru._({id:"ooy/OF"}),icon:a.jyJ,colors:"accent"},info:{name:i.Ru._({id:"CE+M2e"}),commandName:()=>i.Ru._({id:"1E4ojF"}),description:i.Ru._({id:"NfbNtV"}),icon:a.iW_,colors:{light:{backgroundColor:"#b6d6fc",iconColor:"#006ED6"},dark:{backgroundColor:"#022349",iconColor:"#8DD4FB"}}},warning:{name:i.Ru._({id:"r6y+jM"}),commandName:()=>i.Ru._({id:"xb1fsI"}),icon:a.JAe,description:i.Ru._({id:"tpYgEx"}),colors:{light:{backgroundColor:"#fcf2b5",iconColor:"#B29500"},dark:{backgroundColor:"#4b3f02",iconColor:"#F5F380"}}},caution:{name:i.Ru._({id:"VvjZ7K"}),commandName:()=>i.Ru._({id:"tC/T1p"}),description:i.Ru._({id:"nbib7S"}),icon:a.rfe,colors:{light:{backgroundColor:"#ffb3b4",iconColor:"#EB0000"},dark:{backgroundColor:"#450707",iconColor:"#EF8784"}}},success:{name:i.Ru._({id:"zzDlyQ"}),commandName:()=>i.Ru._({id:"Vv+D/T"}),description:i.Ru._({id:"pqvop4"}),icon:a.SGM,colors:{light:{backgroundColor:"#b6fcb8",iconColor:"#008545"},dark:{backgroundColor:"#183a13",iconColor:"#8CE29F"}}},question:{name:i.Ru._({id:"bfgr/e"}),commandName:()=>i.Ru._({id:"Ev0Vqt"}),description:i.Ru._({id:"IsUqRH"}),icon:a.wRm,colors:{light:{backgroundColor:"#d9d9d9",iconColor:"#7A7A7A"},dark:{backgroundColor:"#262626",iconColor:"#AFAFAF"}}}}),o=e=>r()[e]||r().note,l=()=>Object.entries(r()).map(e=>{let[t,{commandName:n,icon:a}]=e;return{key:"calloutBox-".concat(t),name:n,nodeName:"calloutBox",icon:a,shortcut:"/".concat(t),keywords:["callout","box"],execute:e=>e.chain().focus().insertContent([{type:"calloutBox",attrs:{variant:t},content:[{type:"paragraph"}]}]).run()}}),s=()=>Object.fromEntries(Object.keys(r()).map(e=>["calloutBox-".concat(e),{type:"calloutBox",attrs:{variant:e},content:[{type:"paragraph"}]}]))},8098:(e,t,n)=>{"use strict";n.d(t,{q:()=>a});let a=new(n(83747)).b},8224:(e,t,n)=>{"use strict";n.d(t,{BF:()=>F,lw:()=>eE,M9:()=>eD});var a=n(6029),i=n(48810),r=n(26476),o=n(99492),l=n(55597),s=n(48342),d=n(19564),c=n(37243),u=n(55729),p=n(39247),h=n(25839),m=n(63902),g=n(26420),x=n(48621);let f={card:o.vti,doc:o.vGi,user:o.Hzw},b=e=>{let{type:t}=e,n=f[t];return(0,a.jsx)(g.a,{as:"span",display:"inline-flex",className:"mention",minW:"5em",opacity:"0.6",borderRadius:"sm",color:"gray.700",children:(0,a.jsx)(g.a,{display:"inline-flex",py:"0.125em",children:(0,a.jsx)(x.g,{icon:n,style:{marginLeft:"0.5em",alignSelf:"center"}})})})};var v=n(19546),y=n(41896),w=n(43634),C=n(85732),j=n(70006),A=n(38934),k=n(2320),S=n(46957);let I=e=>{let{filterFn:t,getAttributesFn:n}=e;return e=>(function(e){let{type:t}=e;if(!t.isInline)throw Error("[nodePasteRule] This paste rule was only designed to consider inline nodes.");return new c._n({find:e.find,handler:t=>{let{state:n,range:a,match:i}=t,{tr:r}=n,o=a.from,l=a.to,s=(0,c.gk)(e.getAttributes,void 0,i)||{};r.replaceWith(o,l,e.type.create(s))}})})({find:e=>{let n=[...e.matchAll(j.D_)];return n?n.map(e=>{var t;return{index:null!=(t=e.index)?t:-1,text:e[0],match:e}}).filter(e=>{let n=(0,j.TY)(e.text),{cardId:a}=(0,j.$9)(e.text);return t(n,a,e)}):[]},type:e,getAttributes:e=>{let t=(0,j.TY)(e[0]),{cardId:a}=(0,j.$9)(e[0]);return n({match:e,docId:t,cardId:a})}})};var E=n(58959),L=n(80314),R=n(3276),D=n(82203),M=n.n(D),_=n(91938);let z={borderRadius:"md",padding:"0.05em 0.1em",display:"inline",color:"gray.700"},T=(0,u.forwardRef)((e,t)=>{let{mentionLabel:n,mentionIcon:r,mentionTargetUrl:o,onClick:l,hasError:s=!1,isSimpleLinkVersion:d=!1,...c}=e,u=d?M():"span";return(0,a.jsxs)(g.a,{ref:t,position:"relative","data-selection-ring":!0,className:"mention",onClick:l,...z,color:s?"gray.600":z.color,...c,as:u,...{href:d?o:void 0,cursor:(l||d)&&!s?"pointer":"default"},children:[(0,a.jsxs)(E.z,{display:"inline-flex",spacing:0,children:[r&&(0,a.jsx)(g.a,{display:"inline-block",textAlign:"center",minWidth:4,children:(0,a.jsx)(x.g,{icon:r,fixedWidth:!0,size:"sm",style:{marginInlineStart:"0.1em",marginInlineEnd:"0.3em"}})}),(0,a.jsx)(i.E,{noOfLines:1,whiteSpace:"normal",wordBreak:"break-all",flex:1,lineHeight:"normal",children:n})]}),_.$.GAMMA_PUPPETEER_SERVICE&&o&&(0,a.jsx)(L.N,{href:o,h:"100%",w:"100%",position:"absolute",zIndex:"-10","data-pdf-link":!0,top:"0",left:"0"})]})});T.displayName="MentionTag";let N=()=>(0,a.jsx)(g.a,{as:"span",className:"mention",...z,children:(0,a.jsx)(R.y,{size:"xs",opacity:"0.8",margin:"0 0.1em"})}),P="Untitled",O=e=>{let{node:t,editor:n}=e,{id:c,docId:g}=t.attrs,x=(0,h.GV)((0,p.F1)(c)),f=(0,h.GV)(w.bO).includes(c),b=(0,h.GV)(w.nD);(0,u.useEffect)(()=>{n.storage[F.name][c]=x},[x,n.storage,c]);let A=(0,u.useCallback)(e=>{(0,v.T)(n,e,c)},[n,c]),k=(0,m.oR)(),S=(0,u.useMemo)(()=>{let e=(0,j.Io)({cardId:c,docId:g||n.gammaDocId});return k?(0,C.M7)({url:e}):e},[c,g,n,k]);return(0,a.jsx)(y.VR,{as:"span",children:f?(0,a.jsx)(T,{"data-testid":"card-mention",onClick:b?void 0:A,onDoubleClick:b?A:void 0,mentionLabel:x||P,mentionIcon:o.vti,mentionTargetUrl:S}):(0,a.jsx)(s.Tz,{label:(0,a.jsx)(i.E,{children:(0,a.jsx)(d.x6,{id:"HAIPtO",components:{0:(0,a.jsx)(r.u,{fontSize:"sm",color:"blackAlpha.800"})}})}),children:(0,a.jsx)(T,{"data-testid":"card-mention",hasError:!0,mentionLabel:"Cannot find referenced card",mentionIcon:l.AEl})})})},H=e=>(0,a.jsx)(y.VR,{as:"span",children:(0,a.jsx)(b,{type:"card"})}),F=c.bP.create({name:"cardMention",addStorage:()=>({}),addOptions:()=>({HTMLAttributes:{},suggestion:{char:k.A}}),priority:A.y.CardMention,group:"inline",inline:!0,selectable:!0,atom:!0,addAttributes:()=>({id:{default:null},docId:{default:null},mentionedById:{default:null}}),addPasteRules(){return[I({filterFn:(e,t)=>e===this.editor.gammaDocId&&!!t,getAttributesFn:e=>{let{docId:t,cardId:n}=e;return{id:n,docId:t}}})(this.type)]},addCommands(){return{addCardMention:(e,t)=>{let{id:n,docId:a,mentionedById:i}=e;return e=>{var r;let{state:o,chain:l}=e,s=o.selection.$to.nodeAfter;return(null==s||null==(r=s.text)?void 0:r.startsWith(" "))&&(t.to+=1),l().focus().insertContentAt(t,[{type:this.name,attrs:{id:n,docId:a,mentionedById:i}},{type:"text",text:" "}]).run(),!0}}}},parseHTML(){return[{tag:'a[data-type="'.concat(this.name,'"]'),priority:51}]},renderHTML(e){let{HTMLAttributes:t,node:n}=e,{id:a,docId:i}=n.attrs,r=this.storage[a]||P;return["a",(0,c.KV)({"data-type":this.name,href:(0,j.Io)({docId:i,cardId:a})},this.options.HTMLAttributes,t),r]},renderText(e){let{node:t}=e,{id:n,docId:a}=t.attrs,i=this.storage[n]||P,r=(0,j.Io)({docId:a,cardId:n});return"[".concat(i,"](").concat(r,")")},addNodeView(){return this.editor.isThumbnail?(0,y.gu)(H,{update:S.z0}):(0,y.gu)(O,{update:S.z0})}});var B=n(99038);let V="docMention";var W=n(12514),U=n(77650),G=n(77850),K=n(36062),Q=n(16842),Z=n(69388),q=n(40452),$=n(80074),J=n(33787),Y=n(29810),X=n(88608),ee=n(29608),et=n(71595);let en=e=>e&&e.length?e:U.Ru._({id:"7ZviFu",values:{GAMMA_ARTIFACT_PROPER_NOUN:B.TP}}),ea=e=>{let{createdByName:t,createdByProfileImageUrl:n,createdByYou:r,timestampDescription:o}=e;return(0,a.jsxs)(q.s,{align:"center",children:[(0,a.jsx)(s.Vc,{size:"xs",fontSize:"xs",name:t,src:n,tooltipProps:{placement:"top"}}),(0,a.jsxs)(g.a,{marginInlineStart:2,marginInlineEnd:2,w:"100%",children:[(0,a.jsx)(i.E,{noOfLines:1,fontSize:"xs",w:"100%",wordBreak:"break-all",children:r?(0,a.jsx)(d.x6,{id:"WZTg05"}):(0,a.jsx)(d.x6,{id:"pS1F3d",values:{createdByName:t}})}),o&&(0,a.jsx)(i.E,{noOfLines:1,fontSize:"11px",color:"gray.400",children:o})]})]})};var ei=n(90394),er=n(46898),eo=n(27229),el=n(78140),es=n(36999),ed=n(16936),ec=n(41283),eu=n(6760),ep=n(85595),eh=n(74676);let em=e=>{let{href:t,title:n,createdByName:r,createdByEmail:c,createdTime:u,isDuplicateEnabled:p,isRenameEnabled:h,isShareEnabled:m,isTrashed:f,isFavorited:b,isTrashAndRestoreEnabled:v,isRemoveFromChannelEnabled:y,onDuplicate:w,onFavorite:C,onUnfavorite:j,onTrash:A,onPermanentDelete:k,onRestore:S,onShareClick:I,onRename:E,onRemoveFromChannel:L,onRemixThis:D,isRemixLoading:M}=e,{onCopy:_}=(0,ei.i)("".concat(window.location.origin).concat(t)),z=(0,er.d)(),{isOpen:T,onOpen:N,onClose:P}=(0,eo.j)();return(0,a.jsxs)(el.W,{isLazy:!0,closeOnSelect:!1,modifiers:[{name:"flip",enabled:!0,options:{fallbackPlacements:["bottom","bottom-start","bottom-end","right-start","left-start","right-end","left-end","top-start","top-end"]}}],children:[(0,a.jsx)(es.I,{"data-dashboard-doc-menu":!0,as:ed.K,size:"xs",variant:"ghost",borderRadius:"full",onClick:N,icon:(0,a.jsx)(x.g,{fixedWidth:!0,icon:o.vHW}),color:"gray.400",_hover:{color:"gray.700",bg:"gray.200"},children:(0,a.jsx)(d.x6,{id:"7L01XJ"})}),T&&(0,a.jsx)(W.Z,{children:(0,a.jsxs)(ec.c,{maxW:"sm",zIndex:"overlay",children:[(0,a.jsxs)(g.a,{px:4,py:0,wordBreak:"break-word",children:[(0,a.jsx)(i.E,{noOfLines:2,children:n}),(0,a.jsx)(i.E,{fontSize:"sm",color:"gray.500",noOfLines:1,children:(0,a.jsx)(d.x6,{id:"MXSt4t",values:{0:(0,X.Yq)(u,"MMMM do, yyyy")}})}),c&&r&&(0,a.jsx)(s.Tz,{label:c,children:(0,a.jsx)(i.E,{display:"inline-block",fontSize:"sm",color:"gray.500",noOfLines:1,children:(0,a.jsx)(d.x6,{id:"Wpe4mQ",values:{createdByName:r}})})})]}),(m||h||y)&&(0,a.jsx)(eu.N,{}),y&&(0,a.jsx)(ep.D,{onClick:L,icon:(0,a.jsx)(x.g,{fixedWidth:!0,icon:o.Dfk}),children:(0,a.jsx)(d.x6,{id:"bv+Frh"})}),m&&(0,a.jsx)(ep.D,{onClick:I,icon:(0,a.jsx)(x.g,{fixedWidth:!0,icon:o.t5Z}),children:(0,a.jsx)(d.x6,{id:"iyga2M"})}),h&&(0,a.jsx)(ep.D,{onClick:E,icon:(0,a.jsx)(x.g,{fixedWidth:!0,icon:o.tAZ}),children:(0,a.jsx)(d.x6,{id:"Cg4Iup"})}),(0,a.jsx)(eu.N,{}),C?b?(0,a.jsx)(ep.D,{icon:(0,a.jsx)(g.a,{color:"yellow.400",children:(0,a.jsx)(x.g,{fixedWidth:!0,icon:l.yy})}),onClick:j,children:(0,a.jsx)(d.x6,{id:"T/pF0Z"})}):(0,a.jsx)(ep.D,{icon:(0,a.jsx)(x.g,{fixedWidth:!0,icon:o.yy}),onClick:C,children:(0,a.jsx)(d.x6,{id:"pBsoKL"})}):null,D&&(0,a.jsx)(ep.D,{onClick:D,isDisabled:M,icon:M?(0,a.jsx)(R.y,{size:"sm"}):(0,a.jsx)(x.g,{fixedWidth:!0,icon:o._$C}),children:(0,a.jsxs)(q.s,{align:"center",justify:"space-between",w:"100%",children:["Remix this",(0,a.jsx)(eh.E,{children:"AI"})]})}),p&&!!w&&(0,a.jsx)(ep.D,{icon:(0,a.jsx)(x.g,{fixedWidth:!0,icon:o.$3n}),onClick:w,children:(0,a.jsx)(d.x6,{id:"euc6Ns"})}),(0,a.jsx)(ep.D,{icon:(0,a.jsx)(x.g,{fixedWidth:!0,icon:o.gnH}),onClick:()=>{_(),z({title:(0,a.jsx)(d.x6,{id:"h5GS+N"}),status:"success",duration:3e3,position:"top"})},children:(0,a.jsx)(d.x6,{id:"y1eoq1"})}),v&&(0,a.jsx)(eu.N,{}),v?f?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(ep.D,{icon:(0,a.jsx)(x.g,{fixedWidth:!0,icon:l.ub2}),onClick:S,children:(0,a.jsx)(d.x6,{id:"yKu/3Y"})}),k&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(eu.N,{}),(0,a.jsx)(ep.D,{color:"red.500",icon:(0,a.jsx)(x.g,{fixedWidth:!0,icon:o.bnw}),onClick:k,children:(0,a.jsx)(d.x6,{id:"0Lbaux"})})]})]}):(0,a.jsx)(ep.D,{color:"red.500",icon:(0,a.jsx)(x.g,{fixedWidth:!0,icon:o.yLS}),onClick:()=>{P(),null==A||A()},children:(0,a.jsx)(d.x6,{id:"1C/Yjq"})}):null]})})]})},eg=e=>{let{isFavorited:t,onFavorite:n,onUnfavorite:i,disableInteractions:r=!1,...c}=e,[p,h]=(0,u.useState)(!1),m=(0,u.useCallback)(()=>{if(!n||!i)return void console.error("[FavoriteButton] onFavorite or onUnfavorite is not defined");t?(h(!1),i()):(h(!0),setTimeout(()=>{h(!1)},1e3),n())},[t,n,i]);return(0,a.jsx)(s.Tz,{label:t?(0,a.jsx)(d.x6,{id:"T/pF0Z"}):(0,a.jsx)(d.x6,{id:"pBsoKL"}),placement:"top",children:(0,a.jsx)(ed.K,{...c,...r?{tabIndex:-1,pointerEvents:"none"}:{},zIndex:"1","data-favorite-button":!0,"aria-label":U.Ru._({id:"pBsoKL"}),className:"star-wrapper ".concat(p?"active":""),onClick:m,variant:"ghost",size:"xs",color:t?"yellow.400":"gray.400",_hover:{color:t?"yellow.500":"gray.400",bg:t?void 0:"blackAlpha.100"},bg:t?"yellow.50":"transparent",borderRadius:"full",icon:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(x.g,{icon:t?l.yy:o.yy}),(0,a.jsxs)(g.a,{fontSize:"2.5px",children:[(0,a.jsxs)("div",{className:"star",children:[(0,a.jsx)("div",{className:"tl"}),(0,a.jsx)("div",{className:"tr"}),(0,a.jsx)("div",{className:"bl"}),(0,a.jsx)("div",{className:"br"})]}),(0,a.jsx)("div",{className:"ring"}),(0,a.jsx)("div",{className:"circles"})]})]})})})},ex=e=>{let{href:t,NextLink:n,target:i,children:r}=e;return n?(0,a.jsx)(K.r,{outline:"none",as:n,href:t,target:i,children:r}):(0,a.jsx)(K.r,{outline:"none",href:t,target:i,children:r})},ef=u.forwardRef((e,t)=>{let{id:n,title:r,thumbnailImageUrl:o,NextLink:l,href:d,createdByYou:c=!1,createdByName:u,createdByEmail:p,createdTime:h,createdByProfileImageUrl:m,timestampDescription:x,editors:f,isDuplicateEnabled:b=!0,isRenameEnabled:v=!1,isShareEnabled:y=!1,isTrashAndRestoreEnabled:w=!0,isRemoveFromChannelEnabled:C=!1,isTrashed:j=!1,isFavorited:A=!1,onDuplicate:k,onFavorite:S,onUnfavorite:I,onTrash:E,onPermanentDelete:L,onRestore:R,onShareClick:D,onRename:M,onRemoveFromChannel:_,onRemixThis:z,isRemixLoading:T,context:N="grid",tags:P=[],menuEnabled:O=!1,openInNewWindow:H=!1,activity:F,isOffline:B,...V}=e,W=(0,et.En)(),G=H?"_blank":void 0,ei=f&&f.length>0&&(0,a.jsx)(Q.Z,{size:"xs",max:5,fontSize:"xs",children:f.map(e=>(0,a.jsx)(s.Vc,{shadow:"md",borderWidth:"1px",name:W&&e.user.displayName?U.Ru._({id:"bxVoEp",values:{0:e.user.displayName,1:(0,X.Gx)(e.lastEdited)}}):" ",src:e.user.profileImageUrl,tooltipProps:{placement:"top"}},"".concat(n,"-").concat(e.user.id)))});return(0,a.jsx)(K.Q,{overflow:"hidden",ref:t,"data-doc-grid-item-id":n,bg:"white",borderRadius:"5px",shadow:"md",as:Z.E,_focusWithin:{shadow:"outline",_hover:{shadow:"outline"}},cursor:"pointer",_hover:{shadow:"lg",bgColor:"popover"===N?"white":"gray.50"},transition:"box-shadow .2s ease",role:"group",className:"highlight-mask",...V,children:(0,a.jsxs)(q.s,{direction:"column",wordBreak:"break-word",alignContent:"space-between",height:"100%",children:[o&&(0,a.jsx)(ex,{NextLink:l,href:d,target:G,children:(0,a.jsx)($.g,{ratio:40/21,bgColor:"gray.50",children:(0,a.jsxs)(q.s,{borderBottomWidth:"1px",borderBottomColor:"gray.50",children:[(0,a.jsx)(J._,{src:null==o?void 0:o.src,fallbackSrc:null==o?void 0:o.fallbackSrc,fit:"cover"}),!!ei&&(0,a.jsx)(g.a,{position:"absolute",insetEnd:0,bottom:0,borderRadius:"full",p:3,zIndex:1,children:ei})]})})}),(0,a.jsxs)(q.s,{p:3,position:"relative",direction:"column",justifyContent:"space-between",h:"100%",alignItems:"flex-start",children:[(0,a.jsx)(ex,{NextLink:l,href:d,target:G,children:(0,a.jsx)(i.E,{noOfLines:2,h:12,mb:2,children:en(r)})}),(0,a.jsxs)(q.s,{direction:"column",w:"100%",children:[P&&P.length>0&&l&&(0,a.jsx)(s.Op,{tags:P,NextLink:l,overflowButtonLabel:U.Ru._({id:"K0UBDD"}),isDisabled:B}),(0,a.jsxs)(q.s,{mt:2,align:"flex-start",w:"100%",justify:"space-between",children:[F&&F,u&&(0,a.jsx)(ea,{createdByYou:c,createdByName:u,createdByProfileImageUrl:m,timestampDescription:x}),(0,a.jsx)(Y.h,{}),O&&(0,a.jsx)(em,{href:d,title:en(r),createdByName:u,createdByEmail:p,createdTime:h,isDuplicateEnabled:b,isRenameEnabled:v,isShareEnabled:y,isTrashAndRestoreEnabled:w,isRemoveFromChannelEnabled:C,isTrashed:j,isFavorited:A,onDuplicate:k,onFavorite:S,onUnfavorite:I,onTrash:E,onPermanentDelete:L,onRestore:R,onShareClick:D,onRename:M,onRemoveFromChannel:_,onRemixThis:z,isRemixLoading:T})]})]})]}),!!S&&!!I&&(0,a.jsx)(g.a,{position:"absolute",top:3,insetEnd:3,zIndex:3,children:(0,a.jsx)(eg,{isFavorited:A,onFavorite:S,onUnfavorite:I,opacity:A?1:+!!(0,ee.Xb)(),_groupHover:(0,ee.Xb)()||B&&!A?void 0:{opacity:1},_focus:B?void 0:{opacity:1,shadow:"outline"},disableInteractions:B})})]})},n)});ef.displayName="DocumentGridItem";var eb=n(74892),ev=n(6064),ey=n(27002),ew=n(48932),eC=n(6181);let ej=()=>U.Ru._({id:"NJnubC",values:{GAMMA_ARTIFACT_PROPER_NOUN:B.TP}}),eA=(0,G.P)(g.a),ek=e=>{var t,n;let{node:i,editor:r}=e,{id:l}=i.attrs,c=(0,ey.u)("screenshotsEnabled"),p=(0,m.oR)(),{user:h}=(0,eC.ur)(),[g]=(0,ev.D7K)(),x=(0,et.En)(),{data:f,error:b,loading:v,subscribeToMore:w}=(0,ev.AZr)({variables:{id:l},skip:p||!l}),C=!!(!p&&h);(0,u.useEffect)(()=>{if(C)return w({document:ev.Tyz,variables:{id:l},updateQuery:(e,t)=>{let{subscriptionData:n}=t;return n.data&&n.data.doc?{doc:{...e.doc,...n.data.doc,__typename:"Doc"}}:e},onError:e=>{}})},[l,b,w,C]);let{title:A,createdTime:k,createdBy:S,editedTime:I,editors:E,docUser:L}=(null==f?void 0:f.doc)||{},{linkUrl:R,handleClick:D}=(0,ew.c)({url:(0,j.LN)({docId:l,docTitle:A,absolute:!0}),nonPublishedUrl:(0,j.LN)({docId:l,docTitle:A})});(0,u.useEffect)(()=>{r.storage[V][l]=b?ej():A},[A,r.storage,l,b]);let M={src:c?null==f||null==(n=f.doc)||null==(t=n.titleCard)?void 0:t.previewUrl:eb.A.src,fallbackSrc:eb.A.src},_=e=>()=>{if(!h)return;let t={input:{docId:l,userId:h.id,favorited:e}};g({variables:t,update:(e,t)=>{let{data:n}=t;e.writeFragment({id:"Doc:".concat(l),fragment:ev.pfv,data:{docUser:null==n?void 0:n.updateDocUser}})},optimisticResponse:{updateDocUser:{...L,favorited:t.input.favorited,__typename:"DocUser"}}})},{popperRef:z,referenceRef:P,isHovering:O,onMouseOver:H,onMouseOut:F,getPopperProps:U}=(0,et.bf)();return(0,a.jsxs)(y.VR,{as:"span",children:[v?(0,a.jsx)(N,{}):b?(0,a.jsx)(s.Tz,{label:(0,a.jsx)(d.x6,{id:"MnhVwn",values:{GAMMA_ARTIFACT_PROPER_NOUN:B.TP}}),children:(0,a.jsx)(T,{hasError:!0,mentionLabel:ej(),mentionIcon:o.DW4})}):R?(0,a.jsx)(T,{onMouseOver:p?void 0:H,onMouseOut:p?void 0:F,onClick:D,ref:P,isSimpleLinkVersion:p,mentionLabel:A||"",mentionIcon:o.vGi,mentionTargetUrl:R}):null,(0,a.jsx)(W.Z,{children:!b&&O&&f&&f.doc&&!p&&(0,a.jsx)(eA,{width:"320px","data-target-name":"doc-mention-popup",border:"1px solid",borderColor:"gray.200",borderRadius:"lg",overflow:"hidden",shadow:"lg",maxW:"80vw",zIndex:"tooltip",ref:z,onMouseOver:H,onMouseOut:F,...U(),...et._w,children:(0,a.jsx)(ef,{createdByYou:(null==S?void 0:S.id)===(null==h?void 0:h.id),title:A||"",timestampDescription:x?(0,a.jsx)(d.x6,{id:"yxz5Og",values:{0:(0,X.Bo)(I)}}):"---",NextLink:null,href:R,onClick:D,id:l,createdByName:(null==S?void 0:S.displayName)||"",createdByEmail:(null==S?void 0:S.email)||"",createdByProfileImageUrl:(null==S?void 0:S.profileImageUrl)||"",createdTime:k,thumbnailImageUrl:M,editors:E,isFavorited:!!(null==L?void 0:L.favorited),onFavorite:_(new Date),onUnfavorite:_(null),menuEnabled:!1,openInNewWindow:!0})})})]})},eS=e=>(0,a.jsx)(y.VR,{as:"span",children:(0,a.jsx)(b,{type:"doc"})}),eI="Unknown ".concat(B.TP),eE=c.bP.create({name:V,addStorage:()=>({}),addOptions:()=>({HTMLAttributes:{},suggestion:{char:k.A}}),priority:A.y.DocMention,group:"inline",inline:!0,selectable:!0,atom:!0,addAttributes:()=>({id:{default:null},mentionedById:{default:null}}),addPasteRules(){return[I({filterFn:(e,t)=>e!==this.editor.gammaDocId||!t,getAttributesFn:e=>{let{docId:t}=e;return{id:t}}})(this.type)]},addCommands(){return{addDocMention:(e,t)=>{let{id:n,mentionedById:a}=e;return e=>{var i;let{state:r,chain:o}=e,l=r.selection.$to.nodeAfter;return(null==l||null==(i=l.text)?void 0:i.startsWith(" "))&&(t.to+=1),o().focus().insertContentAt(t,[{type:this.name,attrs:{id:n,mentionedById:a}},{type:"text",text:" "}]).run(),!0}}}},parseHTML(){return[{tag:'a[data-type="'.concat(this.name,'"]'),priority:51}]},renderHTML(e){let{HTMLAttributes:t,node:n}=e,a=this.storage[n.attrs.id]||eI;return["a",(0,c.KV)({"data-type":this.name,href:(0,j.LN)({docId:n.attrs.id,absolute:!0})},this.options.HTMLAttributes,t),a]},renderText(e){let{node:t}=e,n=this.storage[t.attrs.id]||eI,a=(0,j.LN)({docId:t.attrs.id,absolute:!0});return"[".concat(n,"](").concat(a,")")},addNodeView(){return this.editor.isThumbnail?(0,y.gu)(eS,{update:S.z0}):(0,y.gu)(ek,{update:S.z0})}}),eL=e=>{let{node:t}=e,{label:n}=t.attrs;return(0,a.jsx)(y.VR,{as:"span",children:(0,a.jsx)(T,{mentionLabel:"@".concat(n)})})},eR=e=>(0,a.jsx)(y.VR,{as:"span",children:(0,a.jsx)(b,{type:"user"})}),eD=c.bP.create({name:"mention",addOptions:()=>({HTMLAttributes:{},renderLabel(e){var t;let{options:n,node:a}=e;return"".concat(n.suggestion.char).concat(null!=(t=a.attrs.label)?t:a.attrs.id)},suggestion:{char:k.A}}),priority:A.y.UserMention,group:"inline",inline:!0,selectable:!0,atom:!0,addAttributes:()=>({id:{default:null,parseHTML:e=>e.getAttribute("data-id"),renderHTML:e=>e.id?{"data-id":e.id}:{}},label:{default:null,parseHTML:e=>e.getAttribute("data-label"),renderHTML:e=>e.label?{"data-label":e.label}:{}},profileImageUrl:{default:null,parseHTML:e=>e.getAttribute("data-profile-image-url"),renderHTML:e=>e.profileImageUrl?{"data-profile-image-url":e.profileImageUrl}:{}},mentionedById:{default:null,parseHTML:e=>e.getAttribute("data-mentioned-by-id"),renderHTML:e=>e.mentionedById?{"data-mentioned-by-id":e.mentionedById}:{}}}),addCommands(){return{addUserMention:(e,t)=>{let{id:n,label:a,profileImageUrl:i,mentionedById:r}=e;return e=>{var o;let{state:l,chain:s}=e,d=l.selection.$to.nodeAfter;return(null==d||null==(o=d.text)?void 0:o.startsWith(" "))&&(t.to+=1),s().focus().insertContentAt(t,[{type:this.name,attrs:{id:n,label:a,profileImageUrl:i,mentionedById:r}},{type:"text",text:" "}]).run(),!0}}}},parseHTML(){return[{tag:'span[data-type="'.concat(this.name,'"]')}]},renderHTML(e){let{node:t,HTMLAttributes:n}=e;return["span",(0,c.KV)({"data-type":this.name},this.options.HTMLAttributes,n),this.options.renderLabel({options:this.options,node:t})]},renderText(e){let{node:t}=e;return this.options.renderLabel({options:this.options,node:t})},addNodeView(){return this.editor.isThumbnail?(0,y.gu)(eR,{update:S.z0}):(0,y.gu)(eL,{update:S.z0})}})},8327:(e,t,n)=>{"use strict";n.d(t,{KD:()=>o,P6:()=>l,TF:()=>s,ve:()=>r});var a=n(40782),i=n(20775);let r=e=>{var t,n,a,i,r,o,l;return("image.ai-generated"===e.source?null==(t=e.aiParams)?void 0:t.prompt:e.query)||(null==(n=e.meta)?void 0:n.description)||(null==(a=e.meta)?void 0:a.alt_description)||(null==(i=e.meta)?void 0:i.title)||(null==(r=e.meta)?void 0:r.snippet)||(null==(l=e.meta)||null==(o=l.tags)?void 0:o.join(", "))},o=e=>e.height>e.width?"portrait":e.height<e.width?"landscape":"square",l=e=>{if(e.meta&&e.meta.width&&e.meta.height)return o(e.meta);if(e.aiParams){let t=e.aiParams;if(t.aspectRatio)return t.aspectRatio;if(t.width&&t.height)return o({width:t.width,height:t.height})}return i.X},s=(e,t,n)=>{let i={src:e.imageUrl,tempUrl:e.thumbnailUrl,meta:{height:e.height,width:e.width,description:e.description,alt_description:e.altDescription,title:e.title,snippet:e.snippet},query:t,source:a.j[n]};return"aiGenerated"===n&&(i.aiParams={prompt:e.aiPrompt,height:e.height,width:e.width,model:e.aiModel,stylePreset:e.aiStylePreset}),i}},8376:(e,t,n)=>{"use strict";n.d(t,{M:()=>c});var a=n(62040),i=n(15607),r=n(55424),o=n(94922),l=n(47665);let s=(e,t)=>!!d(e),d=e=>{if(!(e.parent&&(0,l.jg)(e.parent)))return!0;let t=(0,i.TK)(e,l.jg)[0];if(!t)return!0;let n=e.doc.resolve(t.pos);return 0===Object.keys((0,o.l0)(n)).length},c=(e,t,n)=>{var o;let l=e.posAtCoords({left:t.clientX,top:t.clientY});if(!l||l.inside<0||!e.state.doc.resolve(l.pos))return null;let d=l.pos,c=e.state.doc.resolve(l.inside),u=e.state.doc.nodeAt(l.inside),p=e.state.doc.nodeAt(l.pos);if((null==u?void 0:u.type.name)==="smartLayout"&&(null==p?void 0:p.type.name)==="smartLayoutCell")return null;let h=(0,i.IV)(c,r.q)[0];return h&&(d=l.inside,h.pos===d)||!d||n&&null==(d=(0,a.Um)(e.state.doc,d,n))?null:s(e.state.doc.resolve(d),null==(o=e.dragging)?void 0:o.slice)?d:null}},8763:(e,t,n)=>{"use strict";n.d(t,{C:()=>E,D:()=>I});var a=n(6029),i=n(26420),r=n(41885),o=n(76931),l=n(70375),s=n(28548),d=n(91892),c=n(58497),u=n(99696),p=n(55729),h=n(68247),m=n(36464),g=n(87140),x=n(1739),f=n(12117),b=n(2426),v=n(24392),y=n(70815),w=n(66082),C=n(9893),j=n(22004),A=n(95663),k=n(97984),S=n(41896);let I=()=>[l.y.extend({content:"block+"}),s.B,g.a,j.f,c.E,x.Hf,y.DZ.configure({HTMLAttributes:{class:h.U6}}),v.B,f.Z4,r.yN,u.z,d.J2,k.r,k.f,w.wq,A.n,C.N.extend({excludes:"underline link",renderHTML(e){let{HTMLAttributes:t}=e,{href:n}=t;return["a",{...this.options.HTMLAttributes,href:n,class:"link"},0]}}).configure({openOnClick:!1}),o.Cy,b.bY,x.mk],E=e=>{let{isEditing:t,disableGradients:n,...r}=e,o=(0,p.useMemo)(()=>I(),[]),l=(0,S.hG)({extensions:o,parseOptions:{preserveWhitespace:"full"},...r,editable:!0});return(0,p.useEffect)(()=>{t?(null==l||l.commands.focus(),l.setEditable(!0)):(null==l||l.commands.blur(),l.setEditable(!1))},[t,l]),l.isThumbnail=!0,l.shouldUseLiteMenus=!0,(0,a.jsxs)(i.a,{sx:{width:"100%"},className:n?h.Dv:void 0,children:[(0,a.jsx)(S.$Z,{style:{width:"100%"},className:"text",editor:l}),(0,a.jsx)(m.Ht,{editor:l,appendToSelector:"[data-tldraw-menu-root]"})]})}},9100:(e,t,n)=>{"use strict";n.d(t,{Dn:()=>s,r4:()=>o,vf:()=>l});var a=n(99492),i=n(55597),r=n(77650);let o=3,l=()=>[{name:r.Ru._({id:"bjuYAW"}),key:"solid",icon:i.Cpz},{name:r.Ru._({id:"bCuf07"}),key:"outline",icon:a.Cpz},{name:r.Ru._({id:"1lWK8g"}),key:"link",icon:a.CQO}],s={buttonGroup:{alignEnabled:!0,colorEnabled:!0,linkDropdownEnabled:!0,variants:["solid","outline"],defaultVariant:"solid"},navbarButtons:{alignEnabled:!1,colorEnabled:!0,linkDropdownEnabled:!1,variants:["solid","outline"],defaultVariant:"solid"},navbarLinks:{alignEnabled:!0,colorEnabled:!1,linkDropdownEnabled:!1,variants:["link"],defaultVariant:"link"}}},9118:(e,t,n)=>{"use strict";n.d(t,{Mo:()=>x,ZD:()=>c,xt:()=>h});var a=n(50729),i=n(77650),r=n(26194),o=n.n(r),l=n(99767),s=n(62e3);let d={en:{displayName:"English (US)",displayNameLocalized:()=>i.Ru._({id:"cJWHou"})},"en-gb":{displayName:"English (UK)",displayNameLocalized:()=>i.Ru._({id:"KDEMVl"})},"en-in":{displayName:"English (India)",displayNameLocalized:()=>i.Ru._({id:"mqnttg"})},es:{displayName:"Espa\xf1ol",displayNameLocalized:()=>i.Ru._({id:"65A04M"})},"es-es":{displayName:"Espa\xf1ol (Espa\xf1a)",displayNameLocalized:()=>i.Ru._({id:"UYPXPZ"})},"es-mx":{displayName:"Espa\xf1ol (M\xe9xico)",displayNameLocalized:()=>i.Ru._({id:"CdooNf"})},"es-419":{displayName:"Espa\xf1ol (Latinoam\xe9rica)",displayNameLocalized:()=>i.Ru._({id:"Ni47Oh"})},ca:{displayName:"Catal\xe0",displayNameLocalized:()=>i.Ru._({id:"M1RLfx"})},fr:{displayName:"Fran\xe7ais",displayNameLocalized:()=>i.Ru._({id:"nLC6tu"})},"zh-cn":{displayName:"简体中文",displayNameLocalized:()=>i.Ru._({id:"QBySSi"})},"zh-tw":{displayName:"繁體中文",displayNameLocalized:()=>i.Ru._({id:"Mpms0p"})},ko:{displayName:"한국어",displayNameLocalized:()=>i.Ru._({id:"h6S9Yz"})},ja:{displayName:"日本語 (です/ます体)",displayNameLocalized:()=>i.Ru._({id:"I9nscg"})},"ja-da":{displayName:"日本語 (だ/である体)",displayNameLocalized:()=>i.Ru._({id:"GMG8Tf"})},"pt-br":{displayName:"Portugu\xeas (Brasil)",displayNameLocalized:()=>i.Ru._({id:"R7+D0/"})},"pt-pt":{displayName:"Portugu\xeas (Portugal)",displayNameLocalized:()=>i.Ru._({id:"512Uma"})},de:{displayName:"Deutsch",displayNameLocalized:()=>i.Ru._({id:"DDcvSo"})},it:{displayName:"Italiano",displayNameLocalized:()=>i.Ru._({id:"Lj7sBL"})},ru:{displayName:"Русский",displayNameLocalized:()=>i.Ru._({id:"nji0/X"})},pl:{displayName:"Polski",displayNameLocalized:()=>i.Ru._({id:"trnWaw"})},uk:{displayName:"Українська",displayNameLocalized:()=>i.Ru._({id:"V9+2pH"})},ro:{displayName:"Rom\xe2nă",displayNameLocalized:()=>i.Ru._({id:"uJc01W"})},hu:{displayName:"Magyar",displayNameLocalized:()=>i.Ru._({id:"mkWad2"})},cs:{displayName:"Čeština",displayNameLocalized:()=>i.Ru._({id:"w9VTXG"})},el:{displayName:"Ελληνικά",displayNameLocalized:()=>i.Ru._({id:"CZXzs4"})},tr:{displayName:"T\xfcrk\xe7e",displayNameLocalized:()=>i.Ru._({id:"Kz91g/"})},ar:{displayName:"العربية",displayNameLocalized:()=>i.Ru._({id:"8HV3WN"})},"ar-sa":{displayName:"العربية (السعودية)",displayNameLocalized:()=>i.Ru._({id:"9E6cqp"})},he:{displayName:"עברית",displayNameLocalized:()=>i.Ru._({id:"3oTCgM"})},fa:{displayName:"فارسی",displayNameLocalized:()=>i.Ru._({id:"JFI3iH"})},nl:{displayName:"Nederlands",displayNameLocalized:()=>i.Ru._({id:"KIjvtr"})},sv:{displayName:"Svenska",displayNameLocalized:()=>i.Ru._({id:"UaISq3"})},da:{displayName:"Dansk",displayNameLocalized:()=>i.Ru._({id:"Fo2vDn"})},nb:{displayName:"Norsk",displayNameLocalized:()=>i.Ru._({id:"1IipHp"})},fi:{displayName:"Suomi",displayNameLocalized:()=>i.Ru._({id:"USZ2N6"})},id:{displayName:"Bahasa Indonesia",displayNameLocalized:()=>i.Ru._({id:"BQukYF"})},vi:{displayName:"Tiếng Việt",displayNameLocalized:()=>i.Ru._({id:"fROFIL"})},hi:{displayName:"हिन्दी",displayNameLocalized:()=>i.Ru._({id:"tGjibo"})},gu:{displayName:"ગુજરાતી",displayNameLocalized:()=>i.Ru._({id:"sGpqyx"})},mr:{displayName:"मराठी",displayNameLocalized:()=>i.Ru._({id:"vKSpmV"})},te:{displayName:"తెలుగు",displayNameLocalized:()=>i.Ru._({id:"2SnOmG"})},bn:{displayName:"বাংলা",displayNameLocalized:()=>i.Ru._({id:"Hds3Bq"})},ta:{displayName:"தமிழ்",displayNameLocalized:()=>i.Ru._({id:"fb427h"})},ur:{displayName:"اردو",displayNameLocalized:()=>i.Ru._({id:"tmwuH9"})},kn:{displayName:"ಕನ್ನಡ",displayNameLocalized:()=>i.Ru._({id:"ffJEXe"})},ml:{displayName:"മലയാളം",displayNameLocalized:()=>i.Ru._({id:"WQrafy"})},th:{displayName:"ภาษาไทย",displayNameLocalized:()=>i.Ru._({id:"SUr44j"})},sr:{displayName:"Српски",displayNameLocalized:()=>i.Ru._({id:"9aBtdW"})},hr:{displayName:"Hrvatski",displayNameLocalized:()=>i.Ru._({id:"0aMWde"})},sq:{displayName:"Shqip",displayNameLocalized:()=>i.Ru._({id:"pVxf7b"})},bg:{displayName:"Български",displayNameLocalized:()=>i.Ru._({id:"KhEBDR"})},sl:{displayName:"Slovenščina",displayNameLocalized:()=>i.Ru._({id:"LSdcWW"})},bs:{displayName:"Bosanski",displayNameLocalized:()=>i.Ru._({id:"oI7LTM"})},mk:{displayName:"Македонски",displayNameLocalized:()=>i.Ru._({id:"0MMlCU"})},sw:{displayName:"Kiswahili",displayNameLocalized:()=>i.Ru._({id:"Yz+oFV"})},ha:{displayName:"Hausa",displayNameLocalized:()=>i.Ru._({id:"MvvYTW"})},yo:{displayName:"Yor\xf9b\xe1",displayNameLocalized:()=>i.Ru._({id:"FcCBes"})},tl:{displayName:"Tagalog",displayNameLocalized:()=>i.Ru._({id:"ISVD3+"})},ms:{displayName:"Bahasa Melayu",displayNameLocalized:()=>i.Ru._({id:"tF97tn"})},kk:{displayName:"Қазақ тілі",displayNameLocalized:()=>i.Ru._({id:"F/vx72"})},uz:{displayName:"O'zbek tili",displayNameLocalized:()=>i.Ru._({id:"b1dG47"})},af:{displayName:"Afrikaans",displayNameLocalized:()=>i.Ru._({id:"1Cox/a"})},lv:{displayName:"Latviešu",displayNameLocalized:()=>i.Ru._({id:"/0YsGP"})},lt:{displayName:"Lietuvių",displayNameLocalized:()=>i.Ru._({id:"Ot2qtY"})},et:{displayName:"Eesti",displayNameLocalized:()=>i.Ru._({id:"l2pzUk"})},is:{displayName:"\xcdslenska",displayNameLocalized:()=>i.Ru._({id:"rJl8hp"})},cy:{displayName:"Cymraeg",displayNameLocalized:()=>i.Ru._({id:"4w9b2x"})}},c=Object.keys(a.AI_LOCALES).map(e=>{let t=d[e];return{key:e,englishName:a.AI_LOCALES[e].englishName,displayName:t.displayName,displayNameLocalized:t.displayNameLocalized}}),u=e=>{let t=null==e?void 0:e.toLowerCase();return c.find(e=>e.key.toLowerCase()===t)||null},p=e=>{let t=u(e);if(t)return t;let n=l.tF[e],a=n&&u(n);if(a)return a;let[i]=e?e.toLowerCase().split("-"):[],r=i&&u(i);return r||null},h=e=>{let t=p(e);if(t)return t;let n=g(e);if(n)return n;let a=p((0,s.J)());return a||m},m={key:"en",englishName:"English (US)",displayName:"English (US)",displayNameLocalized:()=>i.Ru._({id:"cJWHou"})},g=e=>{let t=(0,s.J)();try{let n=new Intl.DisplayNames([t],{type:"language",fallback:"none"}),a=new Intl.DisplayNames(["en"],{type:"language",fallback:"none"}).of(e),i=n.of(e);if(!a||!i)return null;return{key:e.toLowerCase(),englishName:a,displayName:i,displayNameLocalized:()=>i}}catch(e){return null}},x=()=>o()(c,e=>e.displayNameLocalized())},9343:(e,t,n)=>{"use strict";n.d(t,{J:()=>p,r:()=>u});var a=n(6029),i=n(40452),r=n(43607),o=n(41896),l=n(54765),s=n(66082),d=n(43828),c=n(9100);let u=e=>{let{decorations:t,node:n}=e,{horizontalAlign:u}=n.attrs,h=(0,r.FX)(),m=h?"column":"row";return(0,a.jsx)(l.u,{...e,children:(0,a.jsxs)(i.s,{dir:(0,s.fZ)(t,u),w:"100%","data-selection-ring":"padded",borderRadius:"var(--box-border-radius)",direction:m,justify:(0,s.lI)(u)||"var(--flex-align)",sx:p(h),gap:"0.5em",alignItems:"center",children:[(0,a.jsx)(o.$p,{}),(0,a.jsx)(d.k,{...e,direction:m,maxButtons:c.r4})]})})},p=e=>({"> [data-node-view-content]":{display:"contents","> [data-node-view-content-inner]":{display:"contents"}},"--button-width":e?"100%":"auto",".node-button":{width:"var(--button-width)",".button":{width:"100%"}},_hover:{".add-button":{opacity:1}}})},9893:(e,t,n)=>{"use strict";n.d(t,{N:()=>G});var a=n(37243),i=n(70787),r=n(94289),o=n(63867),l=n(25839),s=n(76083),d=n(71753),c=n(43634),u=n(15607),p=n(22529),h=n(28615),m=n(65674),g=n(38194),x=n(38934),f=n(64234),b=n(50861),v=n(64811),y=n(19546);let w=e=>new o.k_({key:new o.hs("handleCmdClickLink"),props:{handleDOMEvents:{click:(t,n)=>{var a;let i=(0,l.KA)(),r=(0,c.nD)(i.getState()),o=null==(a=n.target)?void 0:a.closest("a"),s=null==o?void 0:o.href;if(!s||(null==o?void 0:o.closest("[data-comments-wrapper]")))return!1;n.preventDefault();let d=n.ctrlKey||n.metaKey,p=(0,u.Ww)(s),h=(0,c.bO)(i.getState()),m=(0,u.Cf)(s,h);if(r){if(!d)return!1;if(m)return(0,y.T)(e,n,p),!1}else if(!d&&m)return(0,y.T)(e,n,p),!1;return window.open(s,"_blank"),!1}}}}),C=new o.hs("linkKeyboardNav"),j=()=>new o.k_({key:C,props:{handleKeyDown(e,t){let n,a;if("ArrowLeft"!==t.key&&"ArrowRight"!==t.key)return!1;let{state:i}=e,{selection:r}=i;if(!(r instanceof o.U3))return!1;let l="ArrowLeft"===t.key?-1:1,s=t.metaKey||t.ctrlKey,d=t.shiftKey,c=t.altKey,u=i.schema.marks.link,p=r.head,h=A(i,p,u),m=A(i,p-l,u),g=A(i,p+l,u);if(!(h||m||g))return!1;if(s)n=function(e,t,n){let a=e.resolve(t);return n>0?a.end(a.depth):a.start(a.depth)}(i.doc,p,l);else if(c){let e="ArrowLeft"===t.key?p-1:p+1,a=function(e,t,n){let a=e.resolve(t).marks().find(e=>e.type===n);if(!a)return null;let i=t-1,r=t+1;for(let r=t-1;r>=0;r--)try{if(!e.resolve(r).marks().some(e=>e.type===n&&e.eq(a))){i=r;break}0===r&&(i=0)}catch(e){break}for(let i=t;i<=e.content.size;i++)try{if(!e.resolve(i).marks().some(e=>e.type===n&&e.eq(a))){r=i;break}i===e.content.size&&(r=e.content.size)}catch(e){r=i;break}return{from:i,to:r}}(i.doc,e,u);if(!a)return!1;n="ArrowLeft"===t.key?a.from:a.to}else n=p+l;return n=Math.max(0,Math.min(n,i.doc.content.size)),a=d?o.U3.create(i.doc,r.anchor,n):o.U3.create(i.doc,n),e.dispatch(i.tr.setSelection(a).scrollIntoView()),!0}}});function A(e,t,n){if(t<0||t>e.doc.content.size)return!1;let a=e.doc.resolve(t);return!!n.isInSet(a.marks())}var k=n(6029),S=n(26420),I=n(48810),E=n(12514),L=n(36062),R=n(19564),D=n(77850),M=n(4014),_=n(55729),z=n(91938),T=n(92739),N=n(48932),P=n(63902),O=n(41896),H=n(29608),F=n(71595),B=n(42276);let V=(0,D.P)(S.a),W=e=>{let{node:t,children:n}=e,{href:a,meta:i}=t.attrs,r=(0,P.oR)(),{linkUrl:o,handleClick:l}=(0,N.c)({url:a||""}),{interceptLinkClick:s,linkUrlSafe:d,isUntrusted:c,linkInterceptEnabled:u}=(0,T.i)(o),p=(0,_.useCallback)(e=>{if(null==l||l(e),u)return s(e)},[l,s,u]),{popperRef:h,referenceRef:m,isHovering:g,onMouseOver:x,onMouseOut:f,getPopperProps:b}=(0,F.bf)({disabled:(0,H.mG)()}),v=!r&&!z.$.GAMMA_CYPRESS_TEST&&(0,H.H8)();return(0,k.jsxs)(O.VR,{as:"span",children:[c?(0,k.jsx)(I.E,{as:"span",textDecoration:"underline",color:"gray.500",children:(0,k.jsx)(R.x6,{id:"b7jHrl"})}):(0,k.jsxs)(I.E,{as:"a",className:"link",rel:"noopener nofollow",href:u?d||"":o,onClick:p,onMouseOver:x,onMouseOut:f,ref:m,children:[v&&(0,k.jsx)("span",{contentEditable:!1,children:"​"}),r?n:(0,k.jsx)(O.$p,{as:"span"}),v&&(0,k.jsx)("span",{contentEditable:!1,children:"​"})]}),!1===r&&g&&o&&i?(0,k.jsx)(E.Z,{children:(0,k.jsx)(M.N,{children:(0,k.jsx)(V,{position:"relative",zIndex:"popover",ref:h,onMouseOver:x,onMouseOut:f,className:"link-preview-hover",...b(),...F._w,w:"min(500px, 80vw)",minW:"auto !important",children:(0,k.jsxs)(L.Q,{backgroundColor:"white",border:"1px solid",borderColor:"gray.200",shadow:"lg",borderRadius:"lg",_hover:{backgroundColor:"trueblue.50"},children:[(0,k.jsx)(B.Ch,{node:t}),(0,k.jsx)(L.r,{href:o,target:"_blank",rel:"noopener nofollow",onClick:p})]})})})}):null]})};var U=n(37327);let G=i.Ay.extend({priority:x.y.Link,inclusive:!1,excludes:"underline footnoteLabel link",addAttributes:()=>({href:{default:""},source:{},thumbnail:{...(0,u.tb)("thumbnail")},embed:{...(0,u.tb)("embed")},meta:{...(0,u.tb)("meta")}}),onCreate(){let e=(0,l.KA)().getState(),t=(0,c.nD)(e),n=(0,p.mB)(e);if(!(t&&n))return;let{view:a,state:i}=this.editor,{doc:r,schema:o,tr:s}=i;try{let e=!1;(0,d.Zo)(r,o.marks.link).forEach(t=>{let{node:n,pos:a}=t,i=n.marks.find(e=>"link"===e.type.name);i&&"string"!=typeof i.attrs.href&&(e=!0,s.removeMark(a,a+n.nodeSize,i).addMark(a,a+n.nodeSize,o.marks.link.create({...i.attrs,href:String(i.attrs.href)})))}),e&&a.dispatch(s)}catch(e){console.error("[Link.onCreate] error",e)}},renderHTML(e){var t;let{HTMLAttributes:n}=e;return"string"==typeof n.href&&(null==(t=n.href)?void 0:t.startsWith("javascript:"))?["a",(0,a.KV)(this.options.HTMLAttributes,{...n,href:""}),0]:n.href?["a",(0,a.KV)(this.options.HTMLAttributes,n),0]:["a",(0,a.KV)(this.options.HTMLAttributes,{...n,href:null}),0]},renderHTMLforAI(e){let{mark:t,disableBookmarks:n}=e,a=t.attrs.href;return n?["a",{href:t.attrs.href},0]:["a",{bookmark:(0,g.vL)(t),href:a},0]},parseHTML:()=>[{tag:'a[href]:not([href *= "javascript:" i])'},{tag:"a[bookmark]",getAttrs:g.Ll}],addCommands(){var e;return{...null==(e=this.parent)?void 0:e.call(this),convertLinkToMedia:e=>t=>{let{chain:n,editor:a}=t,{href:i,...r}=a.getAttributes("link");if(!i||(0,U.hc)(i))return!1;if(!r.source)return n().extendMarkRange("link").insertEmbedAndFetchMetadata(i,e,!1).run(),!0;let o=f.Fn[r.source],l=(null==o?void 0:o.nodeName)||"embed";return n().extendMarkRange("link").insertContent({type:l,attrs:{...r,sourceUrl:i,url:i,displayStyle:e}}).selectInsertedNode().run(),!0},convertMediaToLink:()=>e=>{let{state:t,chain:n}=e;if(!(t.selection instanceof o.nh))return!1;let{from:a,to:i,node:r}=t.selection;if(!(0,b._Y)(r))return!1;let{sourceUrl:l,meta:s}=r.attrs,d=(null==s?void 0:s.title)||l||"link",c={from:a+1,to:a+1+d.length};return n().insertContentAt({from:a,to:i},[{type:"paragraph",attrs:{},content:[{type:"text",text:d}]}],{updateSelection:!0}).setTextSelection(c).setMark(G.name,{...r.attrs,href:l}).run(),!0},convertLinkToButton:()=>e=>{let{editor:t,chain:n}=e,{href:a=""}=t.getAttributes("link");return n().extendMarkRange("link").deleteSelection().insertContentAndSelect((0,s.GO)().buttonGroup).updateAttributes("button",{href:a}).run(),!0},convertButtonToLink:()=>e=>{let{chain:t,state:n,editor:i}=e,{selection:o}=n,l=(0,a.KP)(e=>"button"===e.type.name)(o),s=(0,a.KP)(e=>"buttonGroup"===e.type.name)(o);if(!s||!l)return!1;let{node:d,pos:c}=l,{node:u,pos:p}=s;if(!d)return!1;let h={type:"paragraph",content:d.content.toJSON()},m=u.maybeChild(0)===d,g=m?p:c,x=g+(m?1:2),f=x+r.bP.fromJSON(i.schema,h).content.size,b=t();return 1===u.childCount?b.deleteNode("buttonGroup"):b.deleteNode("button"),b.insertContentAt(g,h,{updateSelection:!1}).setTextSelection({from:x,to:f}).setMark(G.name,{href:d.attrs.href}).focus().run(),!0},convertButtonToMedia:e=>t=>{let{chain:n,state:i}=t,{selection:r}=i,o=(0,a.KP)(e=>"button"===e.type.name)(r),l=(0,a.KP)(e=>"buttonGroup"===e.type.name)(r);if(!o||!l)return!1;let{node:s,pos:d}=o,{node:c,pos:u}=l;if(!s||!c)return!1;let{href:p}=s.attrs;if(!p||(0,U.hc)(p))return!1;if(c.maybeChild(0)===s){let t=[];c.forEach(e=>{"button"===e.type.name&&e!==s&&t.push(e.toJSON())});let a=n();a.setNodeSelection(u).deleteNode("buttonGroup").insertEmbedAndFetchMetadata(p,e,!1),1!==c.childCount&&t.length>0&&a.insertContentAt(u+1,{type:"buttonGroup",content:t},{updateSelection:!1}),a.focus().run()}else n().setNodeSelection(d).insertEmbedAndFetchMetadata(p,e,!1).selectInsertedNode().focus().run();return!0},convertMediaToButton:()=>e=>{let{chain:t,state:n}=e;if(!(n.selection instanceof o.nh))return!1;let{node:a}=n.selection;if(!(0,b._Y)(a))return!1;let{sourceUrl:i=""}=a.attrs;return t().deleteSelection().insertContentAt(n.selection.from,(0,s.GO)().buttonGroup).updateAttributes("button",{href:i}).focus().run(),!0},updateSurroundingLink:e=>t=>{let{state:n,chain:a,editor:i}=t,{from:r,to:o}=n.selection;return(0,U.uI)(e,i),a().extendMarkRange(G.name).unsetMark(G.name).setMark(G.name,{href:e}).setMeta("preventAutolink",!0).setTextSelection({from:r,to:o}),!0},removeSurroundingLink:()=>e=>{let{state:t,chain:n}=e,{from:a,to:i}=t.selection;return n().extendMarkRange("link").unsetMark("link").setMeta("preventAutolink",!0).setTextSelection({from:a,to:i}).focus(),!0}}},addKeyboardShortcuts(){return{"Mod-k":e=>{let{editor:t}=e,{selection:n}=t.state;return!n.empty&&t.commands.toggleMark(this.name)}}},addProseMirrorPlugins(){var e;let t=(null==(e=this.parent)?void 0:e.call(this))||[];return h.D1||t.push((0,m.f)(this,W)),t.push(w(this.editor)),t.push(j()),t}}).configure({HTMLAttributes:{target:void 0,rel:"noopener noreferrer",class:"link"},validate:U.KB,protocols:v.r,linkOnPaste:!1})},10139:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AI_LOCALES=t.AI_LOCALE_KEYS=void 0,t.AI_LOCALE_KEYS=["en","en-gb","en-in","es","es-es","es-mx","es-419","ca","fr","zh-cn","zh-tw","ko","ja","ja-da","pt-br","pt-pt","de","it","ru","pl","uk","ro","hu","cs","el","tr","ar","ar-sa","he","fa","nl","sv","da","nb","fi","id","vi","hi","gu","mr","te","bn","ta","ur","kn","ml","th","sr","hr","sq","bg","sl","bs","mk","sw","ha","yo","tl","ms","kk","uz","af","lv","lt","et","is","cy"],t.AI_LOCALES={en:{englishName:"English (US)"},"en-gb":{englishName:"English (UK)"},"en-in":{englishName:"English (India)"},es:{englishName:"Spanish"},"es-es":{englishName:"Spanish (Spain)"},"es-mx":{englishName:"Spanish (Mexico)"},"es-419":{englishName:"Spanish (Latin America)"},ca:{englishName:"Catalan"},fr:{englishName:"French"},"zh-cn":{englishName:"Simplified Chinese"},"zh-tw":{englishName:"Traditional Chinese"},ko:{englishName:"Korean"},ja:{englishName:"Japanese (です/ます style)"},"ja-da":{englishName:"Japanese (だ/である style)"},"pt-br":{englishName:"Portuguese (Brazil)"},"pt-pt":{englishName:"Portuguese (Portugal)"},de:{englishName:"German"},it:{englishName:"Italian"},ru:{englishName:"Russian"},pl:{englishName:"Polish"},uk:{englishName:"Ukrainian"},ro:{englishName:"Romanian"},hu:{englishName:"Hungarian"},cs:{englishName:"Czech"},el:{englishName:"Greek"},tr:{englishName:"Turkish"},ar:{englishName:"Arabic"},"ar-sa":{englishName:"Arabic (Saudi Arabia)"},he:{englishName:"Hebrew"},fa:{englishName:"Persian"},nl:{englishName:"Dutch"},sv:{englishName:"Swedish"},da:{englishName:"Danish"},nb:{englishName:"Norwegian"},fi:{englishName:"Finnish"},id:{englishName:"Indonesian"},vi:{englishName:"Vietnamese"},hi:{englishName:"Hindi"},gu:{englishName:"Gujarati"},mr:{englishName:"Marathi"},te:{englishName:"Telugu"},bn:{englishName:"Bengali"},ta:{englishName:"Tamil"},ur:{englishName:"Urdu"},kn:{englishName:"Kannada"},ml:{englishName:"Malayalam"},th:{englishName:"Thai"},sr:{englishName:"Serbian"},hr:{englishName:"Croatian"},sq:{englishName:"Albanian"},bg:{englishName:"Bulgarian"},sl:{englishName:"Slovenian"},bs:{englishName:"Bosnian"},mk:{englishName:"Macedonian"},sw:{englishName:"Swahili"},ha:{englishName:"Hausa"},yo:{englishName:"Yoruba"},tl:{englishName:"Tagalog"},ms:{englishName:"Malay"},kk:{englishName:"Kazakh"},uz:{englishName:"Uzbek"},af:{englishName:"Afrikaans"},lv:{englishName:"Latvian"},lt:{englishName:"Lithuanian"},et:{englishName:"Estonian"},is:{englishName:"Icelandic"},cy:{englishName:"Welsh"}}},10307:(e,t,n)=>{"use strict";n.d(t,{n:()=>e2});var a=n(6029),i=n(24302),r=n(40452),o=n(58959),l=n(57405),s=n(77364),d=n(19564),c=n(55729),u=n(33633),p=n(647),h=n(95563),m=n(25839),g=n(35946),x=n(26420),f=n(26385),b=n(48810),v=n(91938),y=n(17859),w=n(26814),C=n(6018),j=n(66380),A=n(95889),k=n(43634),S=n(6181),I=n(71595),E=n(84130);let L={fontSize:"sm",borderRadius:"md",p:2};var R=n(3276),D=n(77650),M=n(83743),_=n(53996),z=n(55597),T=n(48621),N=n(76083),P=n(67097);let O=e=>{let{src:t,...n}=e;return(0,a.jsx)(P.Me,{src:t,borderRadius:"md",h:"6em",resizeParams:P.p7,...n})};var H=n(65230),F=n(80180);let B=[{key:"low-quality",label:(0,a.jsx)(d.x6,{id:"9cm/hp"})},{key:"too-different",label:(0,a.jsx)(d.x6,{id:"/wLn3u"})},{key:"too-similar",label:(0,a.jsx)(d.x6,{id:"Np7sCV"})},{key:"instructions",label:(0,a.jsx)(d.x6,{id:"Tq32Jp"})},{key:"other",label:(0,a.jsx)(d.x6,{id:"/IX/7x"})}],V="ImageChat",W=e=>{var t;let{messageId:n,imageUrl:i,toolInvocation:r,chatId:o}=e,[l,s]=(0,c.useState)(void 0),d=null==(t=r.result.images.find(e=>e.attrs.src===i))?void 0:t.attrs,u=(0,c.useCallback)((e,t,a)=>{(0,y.bO)({rating:e,agentType:V,feedback:t,tags:a,imageUrl:i,toolInvocation:r,image:d,chatId:o,messageId:n,interactionId:n})},[n,i,r,d,o]),p=(0,c.useCallback)(e=>{s(e),(0,y.V2)({messageId:n,rating:e,agentType:V,imageUrl:i,toolInvocation:r,image:d,chatId:o,interactionId:n})},[n,i,r,d,o]);return d?(0,a.jsx)(x.a,{position:"relative",alignSelf:"flex-end",opacity:0,_groupHover:{opacity:1},transitionProperty:"opacity",transitionDuration:"normal",onClick:F.dG,children:(0,a.jsx)(H.f3,{trackFeedback:u,rating:l,setRating:p,RatingButtons:H.Ep,feedbackTags:B,size:"xs"})}):null};var U=n(55084);let G=(0,c.memo)(e=>{let{image:t,toolInvocation:n,onClick:i,ratingsEnabled:r,messageId:o,chatId:l,editor:s}=e,d=(0,m.GV)((0,U.X)({toolCallId:n.toolCallId,src:t.attrs.src})),c=t.attrs.src;return c?(0,a.jsxs)(x.a,{position:"relative",cursor:"pointer",onClick:i,h:"fit-content",role:"group",children:[(0,a.jsx)(O,{src:c,alt:t.attrs.query,filter:d?"brightness(0.8)":void 0,transitionProperty:"all",transitionDuration:"normal",_hover:{filter:"brightness(0.8)"},w:"100%",h:"auto",objectFit:"cover",onDragStart:()=>{s&&(0,N.fS)(s,{type:"image",attrs:t.attrs})}}),d&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(x.a,{position:"absolute",inset:"0",borderWidth:2,borderColor:"blue.500",borderRadius:"md",pointerEvents:"none"}),(0,a.jsx)(_.o,{position:"absolute",inset:"0",pointerEvents:"none",children:(0,a.jsx)(x.a,{borderRadius:"full",p:1,color:"white",children:(0,a.jsx)(T.g,{icon:z.e68})})})]}),r&&"success"===n.result.status&&(0,a.jsx)(x.a,{position:"absolute",bottom:1,insetEnd:1,children:(0,a.jsx)(W,{chatId:l,messageId:o,imageUrl:c,toolInvocation:n})})]}):null});G.displayName="ChatToolResultImage";let K=e=>{var t;let{onSelectImage:n,toolInvocation:i,ratingsEnabled:r,messageId:o,chatId:l,editor:s}=e;return"aborted"===i.result.status?null:"error"===i.result.status?(0,a.jsx)(x.a,{bg:"red.100",p:2,mt:2,borderRadius:"md",position:"relative",children:(0,a.jsx)(b.E,{fontSize:"xs",color:"red.600",fontWeight:"semibold",children:i.result.error})}):(0,a.jsx)(x.a,{mt:1,children:(0,a.jsx)(M.r,{columns:3,spacing:2,children:null==(t=i.result.images)?void 0:t.map(e=>(0,a.jsx)(G,{image:e,toolInvocation:i,onClick:()=>{n({toolCallId:i.toolCallId,image:e})},ratingsEnabled:r,messageId:o,chatId:l,editor:s},e.attrs.src))})})},Q={generateImage:{present:()=>D.Ru._({id:"0YTg9V"}),past:()=>D.Ru._({id:"kuh/JT"})},editContent:{present:()=>D.Ru._({id:"lst4sw"}),past:()=>D.Ru._({id:"V3CaX7"})},removeBackground:{present:()=>D.Ru._({id:"RdqLb7"}),past:()=>D.Ru._({id:"gmS8TU"})},searchImage:{present:()=>D.Ru._({id:"r/Co7N"}),past:()=>D.Ru._({id:"AhoeWI"})},vectorize:{present:()=>D.Ru._({id:"Q55bBQ"}),past:()=>D.Ru._({id:"c1cnyM"})},upscale:{present:()=>D.Ru._({id:"5oQX1R"}),past:()=>D.Ru._({id:"nstbgt"})},animate:{present:()=>D.Ru._({id:"ixpQjd"}),past:()=>D.Ru._({id:"gtfeTa"})}},Z=(0,c.memo)(e=>{let{toolInvocation:t,onSelectImage:n,ratingsEnabled:i,chatId:r,editor:l}=e,s="result"!==t.state;return(0,a.jsxs)(x.a,{children:[(0,a.jsx)(o.z,{justify:"space-between",align:"center",children:(0,a.jsxs)(o.z,{children:[s&&(0,a.jsx)(R.y,{size:"xs"}),(0,a.jsx)(b.E,{fontSize:"xs",color:"gray.600",fontWeight:"semibold",children:s&&"".concat(q(t.toolName,s),"...")})]})}),"result"===t.state&&(0,a.jsx)(K,{toolInvocation:t,onSelectImage:n,messageId:t.result.messageId,ratingsEnabled:i,chatId:r,editor:l})]})});Z.displayName="ImageChatToolCall";let q=(e,t)=>{let n=Q[e]||Q.editContent;return t?n.present():n.past()},$=e=>{var t;let{message:n,onSelectImage:i,chatId:r,editor:o}=e;return(0,a.jsx)(l.T,{...L,alignSelf:"flex-start",width:"100%",position:"relative",align:"start",children:null==(t=n.parts)?void 0:t.map((e,t)=>"text"===e.type?(0,a.jsx)(b.E,{children:e.text},t):"tool-invocation"===e.type?(0,a.jsx)(Z,{toolInvocation:e.toolInvocation,onSelectImage:i,ratingsEnabled:!0,chatId:r,editor:o},t):'Unknown part type "'.concat(e.type,'"'))})};var J=n(33787),Y=n(23293);let X={src:"https://assets.gammahosted.com/j1bla5j5f/_next/static/media/empty-state.1b05b2ca.png"},ee=(0,c.memo)(()=>(0,a.jsx)(r.s,{direction:"column",height:"100%",justifyContent:"flex-end",children:(0,a.jsxs)(f.B,{spacing:6,alignItems:"center",p:4,borderRadius:"lg",textAlign:"center",children:[(0,a.jsx)(J._,{src:X.src,alt:"Empty state",maxW:"200px"}),(0,a.jsxs)(f.B,{spacing:1,children:[(0,a.jsx)(Y.D,{size:"sm",fontWeight:"semibold",children:D.Ru._({id:"vscZYY"})}),(0,a.jsx)(b.E,{color:"gray.600",fontSize:"sm",children:D.Ru._({id:"VxbH2f"})})]})]})}));ee.displayName="ImageChatEmptyState";var et=n(17496),en=n(49611),ea=n(29810),ei=n(41781),er=n(99492),eo=n(640),el=n(89942),es=n(16936),ed=n(48342),ec=n(57963),eu=n(90184),ep=n(39892);let eh=(0,c.memo)(e=>{let{placeholder:t,isLoading:n,handleSubmit:i,handleStop:s,autoFocus:u,status:p}=e,[h,m]=(0,c.useState)(""),g=(0,c.useCallback)(e=>{m(e.target.value)},[m]),x=(0,c.useRef)(null),f=(0,c.useRef)(null),v=(0,ep.ez)("unlimited_credits");return(0,c.useEffect)(()=>{let e=E.W.on("prefillMessage",e=>{var t;let{message:n}=e;m(n),null==(t=f.current)||t.focus()});return()=>{e()}},[]),(0,c.useEffect)(()=>{if(u){var e;null==(e=f.current)||e.focus()}},[u]),(0,a.jsxs)(r.s,{w:"100%",as:"form",onSubmit:e=>{console.log("[buddy] enter submit status=",p),e.preventDefault(),("ready"===p||"error"===p)&&(i(h),m(""))},ref:x,position:"relative",border:"1px solid",borderRadius:"md",borderColor:"gray.200",pt:1,outline:"1px solid",outlineColor:"transparent",transitionProperty:"all",transitionDuration:"normal",ps:4,pb:1,bg:"white",_focusWithin:{borderColor:"trueblue.500",shadow:"outline"},children:[(0,a.jsx)(ec._,{id:"edit-textarea",name:"prompt-input",variant:"unstyled",value:h,onChange:g,ref:f,placeholder:t,onKeyDown:e=>{if("Enter"===e.key&&!e.shiftKey){var t;e.preventDefault(),null==(t=e.currentTarget.form)||t.requestSubmit()}},border:"none",outline:"none",shadow:"none",initialHeight:"36px",resizeOnMount:!1,maxHeight:"33vh",overflowY:"auto",pe:16}),(0,a.jsxs)(o.z,{position:"absolute",bottom:"1.5",insetEnd:"2",zIndex:10,spacing:2,children:[(0,a.jsx)(R.y,{boxSize:8,position:"absolute",zIndex:10,pointerEvents:"none",color:"deepocean.950",opacity:+!!n,transitionProperty:"common",transitionDuration:"normal"}),(0,a.jsx)(ed.Tz,{placement:"top",label:n?(0,a.jsx)(l.T,{spacing:0,children:(0,a.jsx)(d.x6,{id:"ygCKqB"})}):(0,a.jsxs)(l.T,{spacing:0,children:[(0,a.jsx)(d.x6,{id:"4k2VbT"}),!v&&(0,a.jsx)(b.E,{color:"gray.400",children:(0,a.jsx)(eu.G,{type:"imageChat",ms:0})}),(0,a.jsx)(ed.iM,{shortcut:"Enter"})]}),children:(0,a.jsx)(es.K,{size:"sm",icon:n?(0,a.jsx)(T.g,{icon:z.APi}):(0,a.jsx)(T.g,{icon:z.fmP}),isDisabled:!h&&!n,"aria-label":D.Ru._({id:"hQRttt"}),onClick:e=>{if(n){console.log("jordan handling stop"),e.stopPropagation(),s();return}i(h),m("")}})})]})]})});eh.displayName="ImageChatInput";var em=n(65273),eg=n(98701),ex=n(9118),ef=n(30286),eb=n(44798),ev=n(43607),ey=n(15607),ew=n(33201);let eC=e=>{let[t,n]=(0,c.useState)([]),a=(0,c.useRef)({}),[i,r]=(0,c.useState)("ready"),{generate:o}=(0,eg.pt)("SuggestImageGenerates",{onStart(){r("generating"),n([])},onContent(e){n(ej(e))},onComplete(e){n(ej(e)),r("done")},onError(e){console.error("Error generating suggestions",e),r("error")},timeout:2e4}),l=(0,m.GV)(ef.H6),s=(0,ex.xt)(l),d=(0,eb.Sx)(e),u=(0,ev.lC)(e,!0),p=(0,c.useCallback)(e=>{let t=d?d():null;if(!t)return void n([]);let i=a.current[e];if(i){n(i),r("done");return}let l=(0,S.gx)();if(!l)return void n([]);let{promise:c}=o({variables:{cardHtml:t,language:s.englishName},workspaceId:l});c.then(t=>{a.current[e]=ej(t)})},[o,s,d]);return(0,I.Vg)(()=>{let t=(0,ey.IV)(e.state.selection.$from,ew.jg)[0];t&&p(t.node.attrs.id)},[p,e.state.selection],[u]),{suggestions:t,generateSuggestionsStatus:i}},ej=e=>e.split("\n").filter(Boolean);var eA=n(78140),ek=n(36999),eS=n(41283),eI=n(85595);let eE=e=>{let{suggestions:t,onSubmit:n}=e;return(0,a.jsxs)(r.s,{gap:2,flexWrap:"wrap",alignItems:"flex-start",children:[t.map((e,t)=>{var i;return(0,a.jsx)(en.$,{leftIcon:(0,a.jsx)(T.g,{icon:z._$C}),onClick:()=>n(e.prompt),borderRadius:"full",variant:"ghost",bg:"blackAlpha.100",color:"blackAlpha.800",_hover:{bg:"blackAlpha.300"},colorScheme:"blackAlpha",size:"xs",isTruncated:!0,flexShrink:0,sx:{["@media (max-height: ".concat(700,"px)")]:{display:t>0?"none":"flex"}},children:(0,a.jsx)(b.E,{isTruncated:!0,children:null!=(i=e.quick_action)?i:e.prompt})},t)}),t.length>1&&(0,a.jsxs)(eA.W,{children:[(0,a.jsxs)(ek.I,{as:en.$,leftIcon:(0,a.jsx)(T.g,{icon:z._$C}),rightIcon:(0,a.jsx)(T.g,{icon:z.Jt$}),borderRadius:"full",variant:"ghost",bg:"blackAlpha.100",color:"blackAlpha.800",_hover:{bg:"blackAlpha.300"},colorScheme:"blackAlpha",size:"xs",sx:{["@media (max-height: ".concat(700,"px)")]:{display:"flex"},["@media (min-height: ".concat(701,"px)")]:{display:"none"}},children:[t.length-1," more..."]}),(0,a.jsx)(eS.c,{children:t.slice(1).map((e,t)=>{var i;return(0,a.jsx)(eI.D,{onClick:()=>n(e.prompt),icon:(0,a.jsx)(T.g,{icon:z._$C}),children:null!=(i=e.quick_action)?i:e.prompt},t)})})]})]})},eL=e=>{let{status:t,messages:n,handleNewChat:i,manualSubmit:r,handleStop:s,editor:c}=e,u="submitted"===t||"streaming"===t,p=(0,el.ez)("unlimited_credits"),h=(0,m.GV)(U.hN),g=(0,m.GV)(U.W_);return(0,a.jsxs)(l.T,{direction:"column",align:"stretch",spacing:2,p:4,borderTop:"1px solid",borderColor:"trueblue.100",bg:"trueblue.50",children:[(0,a.jsxs)(o.z,{align:"flex-start",spacing:4,children:[g&&(0,a.jsx)(O,{src:g.src,alt:g.query,h:"auto",maxW:"5em",maxH:"5em",alignSelf:"start",shadow:"base"}),!u&&c&&(h?(0,a.jsx)(eR,{onSubmit:r,imageToEdit:h,editor:c}):(0,a.jsx)(eD,{editor:c,onSubmit:r}))]}),(0,a.jsx)(eh,{placeholder:h?D.Ru._({id:"XXCZ3T"}):D.Ru._({id:"1p/b90"}),isLoading:u,handleSubmit:r,handleStop:s,status:t}),(0,a.jsx)(et.S,{in:n.length>0||!p,children:(0,a.jsxs)(o.z,{pt:2,children:[(0,a.jsx)(en.$,{size:"sm",variant:"link",onClick:i,leftIcon:(0,a.jsx)(T.g,{icon:er.V3T,size:"sm"}),children:(0,a.jsx)(d.x6,{id:"hIQkLb"})}),(0,a.jsx)(ea.h,{}),(0,a.jsx)(eo.f,{modalId:"ai-credits-modal-message-list",variant:"ghost",justify:"flex-end",segmentEvent:A.VV.GAMMA_UPSELL_CALLOUT_AI_CREDITS_IMAGE_CHAT})]})})]})},eR=e=>{let{onSubmit:t,imageToEdit:n}=e,{suggestions:i,generateSuggestionsStatus:r}=(0,em.s)(n),l=i.map(e=>({prompt:e}));return"generating"===r&&0===l.length?(0,a.jsxs)(o.z,{wrap:"wrap",children:[(0,a.jsx)(ei.E,{size:"sm",w:"5em",h:"1.25em",borderRadius:"full"}),(0,a.jsx)(ei.E,{size:"sm",w:"6em",h:"1.25em",borderRadius:"full"}),(0,a.jsx)(ei.E,{size:"sm",w:"5em",h:"1.25em",borderRadius:"full"}),(0,a.jsx)(ei.E,{size:"sm",w:"4em",h:"1.25em",borderRadius:"full"})]}):(0,a.jsx)(eE,{suggestions:l,onSubmit:t})},eD=e=>{let{editor:t,onSubmit:n}=e,{suggestions:i,generateSuggestionsStatus:r}=eC(t),l=i.map(e=>({prompt:e}));return"generating"===r&&0===l.length?(0,a.jsxs)(o.z,{wrap:"wrap",children:[(0,a.jsx)(ei.E,{size:"sm",w:"5em",h:"1.25em",borderRadius:"full"}),(0,a.jsx)(ei.E,{size:"sm",w:"6em",h:"1.25em",borderRadius:"full"}),(0,a.jsx)(ei.E,{size:"sm",w:"5em",h:"1.25em",borderRadius:"full"}),(0,a.jsx)(ei.E,{size:"sm",w:"4em",h:"1.25em",borderRadius:"full"})]}):(0,a.jsx)(eE,{suggestions:l,onSubmit:n})};var eM=n(85942);let e_=e=>{let{message:t,onSelectImage:n,previousMessage:i,chatId:r,editor:o}=e,s=(0,eM.xz)(t),d=i?(0,eM.xz)(i).flatMap(eM.Fh):[],c=s.filter(e=>{let t=(0,eM.Fh)(e);return!d.some(e=>t.some(t=>t.attrs.src===e.attrs.src))});return(0,a.jsxs)(l.T,{...L,bg:"periwinkle.100",maxW:"90%",alignSelf:"flex-end",borderBottomEndRadius:"0",align:"start",children:[c.map(e=>(0,a.jsx)(Z,{toolInvocation:e,onSelectImage:n,ratingsEnabled:!1,chatId:r,editor:o},e.toolCallId)),(0,a.jsx)(b.E,{children:t.content})]})};var ez=n(37243),eT=n(63867),eN=n(94922),eP=n(47665),eO=n(50861),eH=n(39977),eF=n(56603);let eB=e=>{let t=(0,m.CU)(),n=(0,m.jL)();(0,c.useEffect)(()=>{if(!e)return;let t=()=>{let t=eV(e,null==e?void 0:e.state.selection);n((0,U.iU)(t))};return e.on("update",t),e.on("selectionUpdate",t),t(),()=>{e.off("update",t),e.off("selectionUpdate",t)}},[e,n,t])},eV=(e,t)=>{if(!e||!t||!(t instanceof eT.nh))return null;let n=(0,eH.A)({editor:e,selection:t});return(null==n?void 0:n.mediaType)!=="image"?null:{attrs:n.attrs,id:n.id,relativePosition:(0,eF.JO)(e.state,t.from)}},eW=(e,t,n)=>{let a=(0,eF.d_)(e.state,t);if(!a)throw Error("Could not get absolute position from relative position");(0,eH.v)({editor:e,pos:a,attrs:n})},eU=(e,t)=>{let n=e.view,a=e.state.selection,i=e.state.doc.resolve(a.from),r=(0,ez.eL)(i,eP.jg),{mostVisible:o,visibleCards:l}=(0,eP.lA)(e),s=l.some(e=>e.pos===(null==r?void 0:r.pos)),d=(0,ey.Bi)(e,"image");if(s&&d){e.chain().insertContentAndSelect({type:"image",attrs:t}).focus().run(),setTimeout(()=>{e.commands.scrollIntoView()},300);return}try{let a=(null==o?void 0:o.pos)?(0,eN.dg)(n.state.tr,o.pos):null,i=null==a?void 0:a.body;if(i){let t=i.pos+i.node.nodeSize-1;if(e.commands.setTextSelection(t),!(0,ey.Bi)(e,"image")){let t=i.pos+2;e.commands.setTextSelection(t)}if(!(0,ey.Bi)(e,"image"))return}e.chain().insertContentAndSelect({type:"image",attrs:t}).focus().run(),setTimeout(()=>{e.commands.scrollIntoView()},300)}catch(e){console.error("Error inserting SelectedImage",e)}},eG=e=>(e=(0,eO.Ez)(e),{tempUrl:(0,P.Ub)(e.src,P.p7,e.meta),showPlaceholder:!1,...e});var eK=n(42350),eQ=n(6272),eZ=n(70965),eq=n(58495);let e$=e=>{let{userMessage:t,imageToEdit:n,messageId:a}=e;return n&&n.src?{message:{role:"user",content:t,parts:[{type:"tool-invocation",toolInvocation:{state:"result",toolName:"image_input",toolCallId:(0,eq.Ak)(),args:{},result:{status:"success",images:[{attrs:n}],messageId:a}}}]},attachments:[{name:"image-to-edit",url:n.src}],availableTools:(0,eK.X)({imageToEdit:n})}:{message:{role:"user",content:t},attachments:void 0,availableTools:(0,eK.X)({imageToEdit:null})}};function eJ(e){let{editor:t}=e,n=(0,m.jL)(),i=(0,m.CU)(),[r,o]=(0,c.useState)(!0);return((0,c.useEffect)(()=>{let e=eV(t,null==t?void 0:t.state.selection);n((0,U.iU)(e)),(0,U.g_)(i.getState())||n((0,U.Yr)((0,eZ.H)())),o(!1)},[]),r)?null:(0,a.jsx)(e0,{editor:t})}let eY=(0,c.memo)(e=>{let{messages:t,status:n,handleNewChat:i,handleSelectedImageChange:o,manualSubmit:l,handleStop:s,chatId:u,editor:p,error:h}=e,m=(0,c.useRef)(null),g=t.length>0,v="submitted"===n;return((0,c.useEffect)(()=>{m.current&&(m.current.scrollTop=m.current.scrollHeight)},[t]),p)?(0,a.jsxs)(r.s,{direction:"column",height:"calc(100% - 48px)",children:[(0,a.jsxs)(x.a,{flex:"1",overflow:"auto",p:4,ref:m,children:[!g&&(0,a.jsx)(ee,{}),(0,a.jsxs)(f.B,{spacing:2,flex:1,children:[t.map((e,n)=>{let i=t[n-1];return"user"===e.role?(0,a.jsx)(e_,{message:e,onSelectImage:o,previousMessage:i,chatId:u,editor:p},e.id):"assistant"===e.role?(0,a.jsx)($,{message:e,isLoading:v,onSubmit:l,onSelectImage:o,chatId:u,editor:p},e.id):null}),v&&(0,a.jsx)(b.E,{fontSize:"xs",color:"gray.600",pt:2,px:2,children:(0,a.jsx)(d.x6,{id:"Ed99mE"})}),h&&(0,a.jsx)(b.E,{fontSize:"xs",color:"red.600",pt:2,px:2,children:String(h)})]})]}),(0,a.jsx)(eL,{status:n,messages:t,handleNewChat:i,manualSubmit:l,handleStop:s,editor:p})]}):null});eY.displayName="ImageBuddyChatInner";let eX=()=>({messageId:(0,eZ.O)(),availableTools:void 0,imageToEdit:null,insertRelativePosition:null});function e0(e){let{editor:t}=e,n=(0,m.CU)(),i=(0,m.jL)(),r=(0,m.GV)(U.yZ),o=(0,m.GV)(U.hN),l=(0,m.GV)(k.sX),s=(0,m.GV)(U.g_),d=(0,m.GV)(U.ze),{imageStyle:u}=(0,j.V)(),p=(0,c.useRef)(null),h=(0,c.useRef)(eX()),{messages:x,append:f,status:b,error:L,setMessages:R,setInput:D,stop:M}=(0,g.Y_)({id:s,initialMessages:d,api:"".concat(v.$.API_HOST,"/ai/agent/message?agentName=ImageChat"),headers:{"Content-Type":"application/json"},experimental_prepareRequestBody:e=>{let{messages:t}=e,{messageId:n,availableTools:a}=h.current||{};return{id:s,messageId:n,availableTools:a,messages:t,workspaceId:(0,S.gx)(),context:{type:"doc",docId:l}}},maxSteps:2,onToolCall:async e=>{let{toolCall:n}=e;p.current=new AbortController;let{imageToEdit:a,messageId:r}=h.current,o={workspaceId:(0,S.gx)(),docId:l,imageToEdit:null!=a?a:null,interactionId:r,messageId:r,chatId:s,abortController:p.current,preferredAiImageStyle:u};try{let e=eK.d[n.toolName];if(!e)throw Error("Invalid tool ".concat(n.toolName));let a=await e.execute(n.args,o);if("success"===a.status&&a.images.length>0){var d,c;(0,C.w)(null!=(c=e.creditCostType)?c:"imageChat",void 0,r);let o=a.images[0];P({toolCallId:n.toolCallId,image:o}),i((0,U.n9)({image:o,toolCallId:n.toolCallId})),(null==(d=h.current)?void 0:d.insertRelativePosition)&&eW(t,h.current.insertRelativePosition,o.attrs)}return p.current=null,{...a,messageId:h.current.messageId}}catch(e){if((0,eQ.z)(e))return{status:"aborted",error:"user aborted the request",messageId:h.current.messageId};return{status:"error",error:e.message,messageId:h.current.messageId}}finally{p.current=null}},credentials:"include"}),_=(0,w.tO)(void 0,"imageChat",A.VV.GAMMA_UPSELL_CALLOUT_AI_CREDITS_IMAGE_CHAT),z=(0,c.useCallback)((e,t)=>{_()&&f(e,t)},[f,_]);(0,c.useEffect)(()=>{window.buddyDebug=()=>({messages:x,reducer:n.getState().BuddyChat})},[x,n]);let T=(0,c.useCallback)(()=>{M(),R([]),h.current=eX(),i((0,U.CX)({chatId:(0,eZ.H)()})),i((0,U.iU)(r))},[i,r,R,M]),N=(0,c.useCallback)(e=>{let{image:t}=e;t.attrs.src&&(0,y.Sf)({imageUrl:t.attrs.src,interactionId:h.current.messageId,chatId:s,image:t.attrs})},[s]),P=(0,I.lW)(N,2e3),O=(0,I.lW)((0,c.useCallback)(e=>{i((0,U.jf)(e))},[i]),300);(0,c.useEffect)(()=>{O(x)},[x,O]);let H=(0,c.useCallback)(()=>{var e;M(),R(e=>e.map(eM.HC)),null==(e=p.current)||e.abort()},[R,M]),F=(0,c.useCallback)(e=>{P(e);let a=eG(e.image.attrs),r=(0,U.yZ)(n.getState());if(r)i((0,U.n9)(e)),eW(t,r.relativePosition,a);else{if(!t)return;eU(t,a)}},[i,t,n,P]),B=(0,c.useCallback)(e=>{var t;let a=null==(t=(0,U.yZ)(n.getState()))?void 0:t.relativePosition,i=(0,eZ.O)(),{message:r,attachments:l,availableTools:s}=e$({userMessage:e,imageToEdit:o,messageId:i});h.current={messageId:i,availableTools:s,imageToEdit:o,insertRelativePosition:a||null},z(r,{experimental_attachments:l}),D("")},[n,o,z,D]);return(0,c.useEffect)(()=>{let e=E.W.on("sendMessage",e=>{let{message:t}=e;B(t)});return()=>{e()}},[B]),(0,a.jsx)(eY,{messages:x,error:L,status:b,handleNewChat:T,handleSelectedImageChange:F,manualSubmit:B,handleStop:H,chatId:s,editor:t})}let e1=e=>{let{closePanel:t,isOpen:n,editor:u}=e;eB(u);let g={bgColor:(0,i.dU)("white","gray.800"),textColor:(0,i.dU)("gray.800","white")},x=(0,m.jL)();return(0,c.useEffect)(()=>{n||x((0,U.Po)(null))},[n,x]),(0,a.jsx)(p.Z,{bgColor:g.bgColor,w:"100%",children:(0,a.jsxs)(r.s,{direction:"column",w:"100%",h:"100%",children:[(0,a.jsxs)(o.z,{position:"relative",py:2,px:4,children:[(0,a.jsx)(r.s,{flex:1,children:(0,a.jsx)(l.T,{align:"start",spacing:0,children:(0,a.jsx)(h.N,{children:(0,a.jsx)(d.x6,{id:"mw/rmM"})})})}),(0,a.jsx)(s.J,{onClick:t})]}),(0,a.jsx)(eJ,{editor:u})]})})};e1.panelPosition="right",e1.panelName="image-chat",e1.canCollapse=!1,e1.minWidth=400;let e2=()=>{let{togglePanel:e,isPanelOpen:t}=(0,u.ww)(e1);return{toggleBuddyChatPanel:e,isBuddyChatPanelOpen:t}}},11215:(e,t,n)=>{"use strict";n.d(t,{P3:()=>p,WP:()=>u}),n(13731);var a=n(29452),i=n.n(a),r=n(76083),o=n(82172),l=n(3298),s=n(90278),d=n(48369);let c=()=>(0,d.aQ)().filter(e=>!e.disabled),u=()=>c().map(e=>{let{key:t,name:n,description:a,icon:o,keywords:d=[],defaultAttrs:c,defaultOptions:u,featureFlag:p,family:h}=e,m={type:"smartLayout",attrs:{variantKey:t,options:u},content:i()(3).map(()=>({type:"smartLayoutCell",content:(0,l.Hg)(),attrs:c}))};return{key:"smartLayout-".concat(t),name:n,keywords:[...d,"layout","smart"],description:a,nodeName:"smartLayout",icon:o,execute:e=>{e.chain().focus().insertContentAndSelect(m).run()},dragStartFn:e=>(0,r.fS)(e,m),dragEndFn:e=>{(0,s.tN)(e,e.state.selection.$from)},featureFlag:p,family:h}}),p=()=>c().map(e=>{let{key:t,name:n,description:a,icon:i,featureFlag:r}=e;return{key:"listToSmartLayout-".concat(t),name:n,icon:i,description:a,group:"list",apply:e=>e.commands.listToSmartLayout(t),checkDisabled:e=>!(0,o.Jx)(e),featureFlag:r}})},11235:(e,t,n)=>{"use strict";n.d(t,{f:()=>g});var a=n(25839),i=n(63902),r=n(43607),o=n(43634),l=n(85235),s=n(90108),d=n(86932),c=n(21699),u=n(59824),p=n(16309),h=n(58082),m=n(54604);let g=e=>{var t;let{node:n,decorations:s,editor:g}=e,f=n.attrs,{id:b,previewContent:v}=f,y=(0,r.FX)(),w=(0,i.oR)(),C=g.isThumbnail,j=(0,a.GV)(o.jO),[A,k]=(0,m.E)(b),S=(0,a.GV)(o.mA)?l.w.DOC_PREVIEW:"doc"===A?l.w.DOC_VIEW:l.w.SLIDE_VIEW,I=(0,a.GV)(e=>(0,o.nD)(e,S)),E=S===l.w.SLIDE_VIEW,L=(0,a.GV)(o.eo),R=(0,a.GV)(o.We),D=(0,a.GV)(o.yh),M=(0,a.GV)((0,o.tC)(b)),_=(0,c.Ms)(s),z=(0,a.GV)((0,o.WS)(b)),T=(0,d.A3)(s),{isNested:N,nestedDepth:P,isFirstCard:O,isLastCard:H,inheritContainerWidth:F,displayLayout:B,insideSideLayout:V,cardAccentBackgroundMaskEffect:W,cardAccentBackgroundMaskIntensity:U,hasLayoutItem:G,cardContentType:K,hasNonEmptyCardNotes:Q}=(0,p.tg)(s),{theme:Z,isDark:q}=(0,h.a)(s),{cardDimensions:$,defaultFullBleed:J,defaultContentWidth:Y,presentBackdrop:X=!1,verticalAlign:ee,fontSize:et,scaleContentToFit:en}=x(g),ea=(0,u.iI)($),ei="default"===f.cardSize?"full"===J:"full"===f.cardSize,er=f.verticalAlign||ee||ea.defaultVerticalAlign,eo=E&&!N&&!!ea.aspectRatio&&!X,el=null!=(t=f.container.width)?t:F;return{hasNonEmptyCardNotes:Q,isCollapsed:z,isEditable:I,isFirstCard:O,isFocused:_,isExpandableSelected:T,isLastCard:H,isLetterboxed:eo,isMobileDevice:y,isNested:N,isPresenting:"doc"!==A&&"presentCollapsed"!==A,isPresentingCurrent:"presentCurrent"===A,isPresentingParent:"presentParent"===A,isPresentMode:E,isPublished:w,isStatic:j,isDark:q,isThumbnail:C,mode:S,nestedDepth:P,presentVariant:A,prevPresentVariant:k,previewContent:v,theme:Z,attrs:f,cardId:b,isFullBleed:ei,displayFullBleed:C||!N&&(ei||E&&!X),defaultContentWidth:Y,contentWidth:el,verticalAlign:er,isWideContent:(null!=el?el:Y)==="lg",displayLayout:B,insideSideLayout:V,cardAccentBackgroundMaskEffect:W,cardAccentBackgroundMaskIntensity:U,cardDimensions:ea,cardDimensionsKey:$,showPresentBackdrop:X,hasLayoutItem:G,cardContentType:K,userZoomLevel:L,docZoomLevel:R,fontSize:et,docZoomToFit:D,scaleContentToFit:en,isCommentOpenOnCard:M}},x=e=>{let t=(0,a.GV)(o.Uu);if(e.isStatic)try{return(0,s.lI)(e).settings}catch(e){console.error("[caught] useDocSettings: ".concat(e))}return t}},12180:(e,t,n)=>{"use strict";n.d(t,{PH:()=>c,UG:()=>d,XD:()=>h,fA:()=>u,gb:()=>p});var a=n(6029),i=n(2241),r=n(99492),o=n(55597),l=n(48621),s=n(77650);let d=.25*!n(28615).D1,c={top:0,right:0,bottom:0,left:0},u={monochrome:{label:()=>s.Ru._({id:"VvdC4u"})},spin:{label:()=>s.Ru._({id:"0LFzg9"})},complement:{label:()=>s.Ru._({id:"2HDXEj"})},complement2:{label:()=>s.Ru._({id:"XTxqsS"})},alternating:{label:()=>s.Ru._({id:"K+2OGd"})}},p="monochrome",h=Object.freeze({pie:{icon:(0,a.jsx)(l.g,{icon:r.W1p}),selectedIcon:(0,a.jsx)(l.g,{icon:o.W1p}),label:()=>s.Ru._({id:"RT6aCN"})},donut:{icon:(0,a.jsxs)(i.B.span,{className:"fa-layers fa-fw",children:[(0,a.jsx)(l.g,{icon:r.xD0}),(0,a.jsx)(l.g,{icon:r.ZPt})]}),selectedIcon:(0,a.jsxs)(i.B.span,{className:"fa-layers fa-fw",children:[(0,a.jsx)(l.g,{icon:o.xD0}),(0,a.jsx)(l.g,{icon:r.ZPt})]}),label:()=>s.Ru._({id:"Cn5cfQ"})},line:{icon:(0,a.jsx)(l.g,{icon:r.gK3}),selectedIcon:(0,a.jsx)(l.g,{icon:o.gK3}),label:()=>s.Ru._({id:"MZW+2G"})},bar:{icon:(0,a.jsx)(l.g,{icon:r.s67}),selectedIcon:(0,a.jsx)(l.g,{icon:o.s67}),label:()=>s.Ru._({id:"EzalDc"})},"horizontal-bar":{icon:(0,a.jsx)(l.g,{icon:r.Mkm}),selectedIcon:(0,a.jsx)(l.g,{icon:o.Mkm}),label:()=>s.Ru._({id:"CeeoKy"})}})},12354:(e,t,n)=>{"use strict";n.d(t,{_V:()=>eR,zs:()=>ec.zs,uy:()=>ec.uy,N2:()=>ec.N2,RR:()=>C.R,$k:()=>ec.$k,CU:()=>ec.CU,iZ:()=>ec.iZ,No:()=>ec.No,F8:()=>ec.F8,GP:()=>ec.GP,BS:()=>ec.BS,sI:()=>ec.sI,Zu:()=>ec.Zu,WE:()=>ec.WE});var a=n(37243),i=n(59275),r=n(63867),o=n(29614),l=n(45611),s=n(8327),d=n(25839),c=n(55978),u=n(41896),p=n(15607),h=n(38194),m=n(38934),g=n(46957),x=n(97255);let f=new r.hs("convertToGridLayout"),b=()=>new r.k_({key:f,props:{decorations:e=>{let{doc:t}=e,n=[];return t.descendants((e,t,a)=>{"image"===e.type.name&&"cardLayoutItem"===a.type.name&&n.push(x.NZ.node(t,t+e.nodeSize,{},{isTopLevel:!0}))}),x.zF.create(t,n)}}});var v=n(98088),y=n(50861),w=n(84979),C=n(86364),j=n(6029),A=n(26420),k=n(74676),S=n(48810),I=n(97481),E=n.n(I),L=n(55729),R=n(27002),D=n(59230),M=n(14122),_=n(89703),z=n(43634),T=n(71595),N=n(67097),P=n(61679),O=n(54765),H=n(28647),F=n(58082),B=n(24903),V=n(66082),W=n(25600),U=n(14389),G=n(98968),K=n(4522),Q=n(45002),Z=n(71093),q=n(33170),$=n(38636),J=n(66824),Y=n(26006),X=n(45460),ee=n(40452),et=n(19564),en=n(77650),ea=n(22115),ei=n(5061),er=n(78893),eo=n(33201),el=n(5872),es=n(46510),ed=n(64056),ec=n(61250),eu=n(99492),ep=n(55597),eh=n(84130),em=n(35292),eg=n(10307),ex=n(90184),ef=n(70015),eb=n(49249),ev=n(83143);let ey=e=>{let{editor:t,node:n,getPos:i}=e,r=(0,a.eL)(t.state.doc.resolve(i()),G.Pb),o=!!r,{resize:l,fullWidthBlock:s,id:d,clickBehavior:c}=n.attrs,{startRemoveBg:u,isRemovingBg:p}=(0,eb.D)({editor:t,id:d}),h=(0,y.gk)(c),{startCrop:m}=(0,J.E)(t),g=(0,L.useCallback)(()=>{t.commands.selectNodeAtPos(i()),p&&C.R.emit("cancelRemoveBg",{id:d}),t.chain().deleteSelectionAndSelectNear().run()},[t,d,p,i]),x=(0,_.f)(),f=(0,L.useCallback)(e=>{t.commands.updateAttributes(eR.name,{clickBehavior:e})},[t]),b=(0,ef.d)({editor:t,node:n,getPos:i,imageSrc:n.attrs.src}),v=(0,R.u)("disableRemoveBackground"),w=(0,em.l)(n.attrs),{toggleBuddyChatPanel:A,isBuddyChatPanelOpen:k}=(0,eg.n)();return{contextMenuItems:[...b,{divider:!0},{key:"edit-image",label:(0,j.jsx)(et.x6,{id:"9IrgTy"}),icon:eu.MT7,onClick:()=>{t.view.focus(),x({isOpen:!0})}},...w?[{key:"ask-ai",label:(0,j.jsx)(et.x6,{id:"vKZEFh"}),icon:ep.p7g,onClick:()=>{k||A(),setTimeout(()=>{eh.W.emit("prefillMessage",{message:""})},200)}}]:[],...v?[]:[{key:"remove-background",label:p?(0,j.jsx)(et.x6,{id:"RdqLb7"}):(0,j.jsx)(et.x6,{id:"ylbfBl"}),icon:p?eu.z1G:eu.sAw,rightIcon:p?void 0:(0,j.jsx)(ex.G,{type:"removeBackground",ms:2,color:"gray.400"}),disabled:p,onClick:u}],...o?[]:[{key:"crop",label:(0,j.jsx)(et.x6,{id:"qKx+US"}),icon:eu.K1P,onClick:()=>{t.commands.selectNodeAtPos(i()),m({id:d,clipType:null==l?void 0:l.clipType})}}],...(0,ev.bT)(n)?[{key:"reset-formatting",label:(0,j.jsx)(et.x6,{id:"5eaf8Z"}),icon:eu.U23,onClick:()=>(0,ev.LQ)(t)}]:[],{divider:!0},{key:"add-comment",label:(0,j.jsx)(et.x6,{id:"oFsfkI"}),icon:eu.DN2,onClick:()=>{t.commands.selectNodeAtPos(i()),(0,G.wG)(t.state.selection)}},{divider:!0},...o?[]:[{key:"align",label:(0,j.jsx)(et.x6,{id:"9ms+e0"}),icon:eu.ecg,disabled:s,items:V.gj.map(e=>{let{name:n,key:a,icon:i,checkActive:r,apply:o}=e;return{key:a,icon:r&&r(t)?eu.e68:i,label:n(),onClick:()=>{o&&o(t),s&&t.commands.updateAttributes(eR.name,{fullWidthBlock:!1,resize:{...l,width:null}})}}})}],{key:"click-action",label:(0,j.jsx)(et.x6,{id:"PWv7TI"}),icon:eu.ii0,items:[{key:"do-nothing",icon:"none"===h?eu.e68:void 0,label:(0,j.jsx)(et.x6,{id:"gIjBW2"}),onClick:()=>f("none")},{key:"expand",icon:"expand"===h?eu.e68:void 0,label:(0,j.jsx)(et.x6,{id:"1A3EXy"}),onClick:()=>f("expand")},{key:"new-tab",icon:"newTab"===h?eu.e68:void 0,label:(0,j.jsx)(et.x6,{id:"Alx2/L"}),onClick:()=>{t.commands.selectNodeAtPos(i()),f("newTab")}}]},...o?[{divider:!0},{key:"edit-gallery",icon:eu.Qyz,label:(0,j.jsx)(et.x6,{id:"uv9eFb"}),onClick:()=>{t.commands.selectNodeAtPos(r.pos)}}]:[],{divider:!0},{key:"delete",label:(0,j.jsx)(et.x6,{id:"cnGeoo"}),icon:eu.yLS,onClick:g,color:"red.500"}]}},ew=e=>e.some(e=>e.spec.isTopLevel),eC=(e,t)=>ew((0,eo.j5)(e,t)),ej=e=>{let{node:t}=e;return(0,a.BQ)(e)&&(null==t?void 0:t.type.name)==="image"},eA=e=>{let{editor:t,event:n,isCropping:a}=e,i=t.view,{selection:o}=i.state;if(!(o instanceof r.nh)||!t.isEditable)return!1;let{node:l}=o,s=o.from,d=o.to;if(!ej(o))return!1;let c=n.target,u=c.getAttribute("data-media-add-text"),p=eC(t,s);if(!u||!p||a)return!1;let h=(0,ed.eq)({view:i,from:s,to:d,node:l}),m=(0,ed.Sm)({horizontalAlign:h,eventTarget:c,node:l,editor:t}),g=(0,ed.Cn)({eventTarget:c,horizontalAlign:h,nodeSize:l.nodeSize,editor:t}),x=(0,ed.I4)({horizontalAlign:h,prevPos:s});return t.chain().insertContentAt({from:s,to:d},m,{updateSelection:!1}).setMeta("annotationEvent",{type:"move",insertPos:x,insertPosRaw:x,pos:s,end:d}).focusMapped(s,g).run(),!1},ek=(0,X.R)((e,t)=>{let{children:n,resizeableSx:a,alignStyles:i,horizontalAlign:r,decorations:o,editor:l,node:s,isDark:c,isResizing:u,getPos:p}=e,h=s.attrs.id,m=(0,d.GV)((0,ec.iZ)(h)),g=ew(o),x=(0,d.GV)(z.Cl),f=x&&g&&!m&&("right"===r||"center"===r),b=x&&g&&!m&&(!r||"left"===r||"center"===r),[v,y]=(0,L.useState)({side:null,id:null}),{onOpenContextMenu:w,onCloseContextMenu:C,menuProps:k}=(0,er.$)({editor:l,getPos:p}),{contextMenuItems:S}=ey({editor:l,node:s,getPos:p});return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)(ee.s,{dir:(0,V.fZ)(o,r),"data-media-node-wrapper":!0,"data-testid":"image-node-wrapper",onContextMenu:w,ref:t,h:"100%",w:"100%",direction:f||b?"row":"column",className:el.S,sx:{...a},onClick:e=>{eA({editor:l,event:e,isCropping:m})},css:{...i,...f||b?{alignItems:"stretch"}:{}},onDragOver:e=>{if(e.preventDefault(),!v){var t;let n=(0,es.Vk)(l.view,e,null==(t=l.view.dragging)?void 0:t.slice),a=(0,es.rj)(e.target,l.view),i=null==n?void 0:n.node.attrs.id;n&&a&&i&&(y({side:a,id:i}),setTimeout(()=>{y(null)},5e3))}},onDragEnd:e=>{e.preventDefault(),v&&y(null)},onDragLeave:e=>{e.preventDefault(),y(null)},children:[f&&(0,j.jsx)(A.a,{"data-media-add-side":"left",flex:"1",pos:"relative",css:{containerType:"size"},children:(null==v?void 0:v.side)==="left"&&(null==v?void 0:v.id)===s.attrs.id?(0,j.jsx)(eI,{me:4}):(0,j.jsx)(eS,{side:"left",me:4,isDark:c,isResizing:u})}),n,b&&(0,j.jsx)(A.a,{"data-media-add-side":"right",flex:"1",pos:"relative",css:{containerType:"size"},children:(null==v?void 0:v.side)==="right"&&(null==v?void 0:v.id)===s.attrs.id?(0,j.jsx)(eI,{ms:4}):(0,j.jsx)(eS,{side:"right",ms:4,isDark:c,isResizing:u})})]}),(0,j.jsx)(ea.tz,{menuItems:S,isOpen:k.isOpen,position:k.position,onClose:C,size:"small"})]})}),eS=e=>{let{side:t,isDark:n,isResizing:a,...i}=e,r=(0,ei.fW)();return(0,j.jsx)(A.a,{p:2,flex:"1",borderRadius:"lg","data-media-add-text":!0,opacity:0,height:"100%",transitionProperty:"common",transitionDuration:"normal",...i,cursor:"text",css:{"@container (width < 150px)":{display:"none"},"&:after":{position:"absolute",top:0,..."left"===t?{right:"var(--chakra-space-4)"}:{left:"var(--chakra-space-4)"},backgroundColor:n?"rgba(255, 255, 255, 0.2)":"rgba(0, 0, 0, 0.1)",color:n?"var(--chakra-colors-whiteAlpha-700)":"var(--chakra-colors-gray-600)",zIndex:1,borderRadius:"var(--chakra-radii-lg)",content:'"'.concat(en.Ru._({id:"HpUrSQ"}),'"'),textAlign:r?"right":"left",fontSize:"var(--chakra-fontSizes-sm)",padding:"var(--chakra-space-2)",width:"calc(100% - var(--chakra-space-4) - var(--chakra-space-2) - var(--chakra-space-2))",height:"calc(100% - var(--chakra-space-2) - var(--chakra-space-2))"},"&:hover":{opacity:+!a}}})},eI=e=>(0,j.jsx)(A.a,{p:2,flex:"1",height:"100%",borderRadius:"lg",transitionProperty:"common",transitionDuration:"normal",background:"var(--chakra-ring-color)",color:"var(--chakra-colors-whiteAlpha-900)",display:"flex",alignItems:"center",justifyContent:"center",...e,css:{"@container (width < 150px)":{display:"none"}},children:(0,j.jsx)(S.E,{fontSize:"sm",fontWeight:"medium",children:(0,j.jsx)(et.x6,{id:"Wv5uRs"})})}),eE=e=>{let{...t}=e,n=(0,d.jL)(),{node:a,editor:i,updateAttributes:r,selected:o,decorations:l,getPos:s}=t,{src:c,tempUrl:u,uploadStatus:p,meta:h,showPlaceholder:m,horizontalAlign:g,resize:x,id:f,href:b,clickBehavior:v,source:k}=a.attrs,S=(null==x?void 0:x.width)||(null==h?void 0:h.width),I=(0,N.SV)(c||u),X=(0,N.y9)(c||u)||(null==h?void 0:h.frame_count)&&h.frame_count>1,ee=null==h?void 0:h.has_transparency,et=(0,P.D)(k),{isFullWidth:en}=(0,H.D)(l),ea=(0,V.yp)(en?"center":g),ei=(0,G.NZ)(t),er=(0,G.ni)(t),eo=(0,G.Im)(t),el=(0,W.DM)(l),es=(0,d.GV)(z.nD),ed=(0,B.Q)(i),{cardColor:eu,bodyColor:ep,isDark:eh}=(0,F.a)(t.decorations),em=p===D.A.Uploading,eg=es?"expand":(0,y.gk)(v),ex="newTab"===eg&&!!b,ef=(0,d.GV)(R.Gm),{isZoomed:ev,enterZoom:ey,exitZoom:ew}=(0,Z.RL)(f),{width:eC,height:ej,aspectRatio:eA,containerWrapperRef:eS,imageRef:eI,setSize:eE}=(0,Y.j)();(0,L.useEffect)(()=>C.R.on("startCrop",e=>{let{id:t}=e;f===t&&(eE(),requestAnimationFrame(()=>{var e,t;null==(e=(t=i.commands).refreshBubbleMenu)||e.call(t)}))}),[f,eE,i]);let eR=(0,L.useCallback)(e=>{r(E()({},a.attrs,e,{meta:{has_transparency:!0}}))},[r,a.attrs]),{bgRemovalInProgress:eD,removeBgUrl:eM}=(0,eb._)({editor:i,id:a.attrs.id,src:a.attrs.src,updateAttributes:eR}),{ref:e_,isResizing:ez,setIsResizing:eT,resizeableSx:eN}=(0,Q.Y3)(i),eP=e_.current&&el&&!ei&&!ed,eO=e_.current&&!ei&&!ed,eH=(0,L.useCallback)((e,t)=>{r({...a.attrs,fullWidthBlock:void 0===t?a.attrs.fullWidthBlock:t,resize:{...a.attrs.resize,...e}})},[a.attrs,r]),eF=(0,T.jm)(),eB=(0,d.GV)((0,ec.iZ)(f)),{confirmCrop:eV}=(0,J.E)(i);(0,T.Vg)(()=>{if(eB&&!o&&eV({id:f}),!o){var e,t;eT(!1),null==(e=(t=i.commands).forceHideBubbleMenu)||e.call(t,!1)}},[i,n,o,eB,f,eV,eT],[o]);let eW=!eB&&!ez&&!ei&&!i.isThumbnail,eU=!i.isThumbnail&&"expand"===eg,eG=(0,L.useCallback)(()=>{eB||ez||ey()},[ey,eB,ez]),eK=(0,_.f)(),eQ=(0,L.useMemo)(()=>{if(!ei&&es)return()=>{eK({isOpen:!0})}},[ei,es,eK]),eZ=(0,L.useCallback)(()=>{if(o){var e,t;null==(e=(t=i.commands).refreshBubbleMenu)||e.call(t)}},[o,i]),eq=eM?{...a.attrs,src:eM,tempUrl:a.attrs.src}:a.attrs,e$=eo?{height:(0,G.w5)((0,G.IG)(t),(0,G.yL)(t)),padding:"".concat((0,G.yL)(t)/2,"em ").concat((0,G.yL)(t),"em")}:{};return(0,j.jsxs)(O.u,{...t,as:"div",className:es||"none"!==eg?void 0:w.T,style:{height:ei?"100%":void 0},children:[(m||!c&&!u)&&(0,j.jsx)(K.VM,{...t}),!m&&(c||u)&&(0,j.jsxs)(ek,{ref:eS,resizeableSx:eN,alignStyles:ea,horizontalAlign:g,editor:i,decorations:l,node:a,isDark:eh,isResizing:ez,getPos:s,children:[eO&&eB&&(0,j.jsx)(q.Ft,{imageWrapperRef:e_,updateResizeAttrs:eH,refreshDeps:[eF],currentWidth:eC,currentHeight:ej,clipPath:null==x?void 0:x.clipPath,clipAspectRatio:null==x?void 0:x.clipAspectRatio,onFinishCrop:()=>{requestAnimationFrame(()=>{var e,t;null==(e=(t=i.commands).refreshBubbleMenu)||e.call(t)})}}),eP&&!eB&&o&&!en&&(0,j.jsx)(Q.u4,{imageWrapperRef:e_,setIsResizing:eT,updateResizeAttrs:eH,refreshDeps:[a.attrs,eF]}),(0,j.jsxs)(A.a,{ref:e_,css:{mask:eB?"":"none !important","--media-maxH":!em||ez||(null==x?void 0:x.width)||ei?void 0:"".concat(100*U.Mg,"vh")},sx:ee?void 0:M.z,"data-drag-handle":!0,"data-image-node-element":!0,"data-selection-ring":"inside","data-selection-background":!0,"data-node-image-testid":f,w:ei?"100%":S?"calc(".concat(S," * var(--font-size) / 16)"):"fit-content",maxW:"100%",position:"relative",overflow:"hidden",...ei?{h:er?"100%":void 0,display:"flex",justifyContent:"center",alignContent:"center"}:{},children:[eU&&(0,j.jsx)(Z.Kc,{enterZoom:eG,doubleClickNonZoomHandler:eQ}),ef&&(0,j.jsx)(eL,{imageAttrs:eq}),(0,j.jsx)($.F,{containerWidth:eC,intrinsicAspectRatio:eA||void 0,isCroppingThisImage:eB,imageAttrs:eq,onLoad:eZ,linkHref:ex?b||"":void 0,filter:et?"url(#theme-body-color-fill)":void 0,ref:eI,width:ei?"auto":S||ez||en||I?"100%":null==h?void 0:h.width,minW:ei?"100%":void 0,objectFit:ei?"cover":"contain",isThumbnail:ei||i.isThumbnail,flex:er?1:void 0,containerProps:{display:er?"flex":"block"},shouldUseImgProxyCrop:er&&!X&&!I,bodyColor:ep,...e$}),eW&&(0,j.jsx)(Z.Gx,{isZoomed:ev,exitZoom:ew,editor:i,children:(0,j.jsx)($.F,{imageAttrs:a.attrs,backgroundColor:eu,bodyColor:ep,w:I?"80vw":void 0,isZoomed:!0})}),(em||eD)&&es&&(0,j.jsx)(K.Td,{removeBackground:eD}),p==D.A.Error&&(0,j.jsx)(K.Hy,{})]})]})]})},eL=e=>{let{imageAttrs:t}=e;return(0,j.jsxs)(A.a,{position:"absolute",as:"span",maxW:"95%",zIndex:1,bottom:0,m:1,children:[(0,j.jsx)(k.E,{maxW:"100%",colorScheme:"green",m:0,children:(0,j.jsxs)(S.E,{isTruncated:!0,whiteSpace:"nowrap",textOverflow:"ellipsis",fontSize:"10px",maxW:"100%",children:["url: ",t.src]})}),(0,j.jsx)(k.E,{maxW:"100%",colorScheme:"yellow",children:(0,j.jsxs)(S.E,{isTruncated:!0,whiteSpace:"nowrap",textOverflow:"ellipsis",fontSize:"10px",maxW:"100%",children:["tempUrl: ",t.tempUrl]})})]})},eR=i.Ay.extend({selectable:!0,draggable:!0,group:"block media",priority:m.y.Image,expandable:!0,addOptions(){var e;return{...null==(e=this.parent)?void 0:e.call(this),placeholders:{}}},addNodeView:()=>(0,u.gu)(eE,{update:g.z0}),extendNodeSchema(e){var t;return{accessoryImageKey:(0,a.gk)((0,a.iI)(e,"accessoryImageKey",e)),imageKeyPath:null!=(t=(0,a.gk)((0,a.iI)(e,"imageKeyPath",e)))?t:""}},parseHTML:()=>[{tag:"img[".concat(o.A,"]"),getAttrs:l.K},{tag:"img[src], img[tempUrl]"},{tag:"img[bookmark]",getAttrs:h.Ll},{tag:"div[class=card-accent-layout-item]",context:"cardLayoutItem//",getAttrs:e=>{try{let t=JSON.parse(e.getAttribute("data-background")||"{}");if("image"!==t.type||!t.image)return!1;let n={...t.image,source:t.source};return(0,y.Ez)(n)}catch(t){return console.error("[Image] Error parsing accent image background",e,t),!1}}}],renderHTML(e){let{HTMLAttributes:t}=e;return["img",(0,a.KV)(this.options.HTMLAttributes,t,{loading:"lazy"})]},renderHTMLforAI(e){let{node:t,disableBookmarks:n}=e;return n?["img",{src:t.attrs.src,alt:(0,s.ve)(t.attrs)}]:["img",{bookmark:(0,h.vL)(t),alt:(0,s.ve)(t.attrs)}]},addAttributes:()=>({id:(0,c.e)(v.z),savedMediaId:{},src:{},tempUrl:{},uploadStatus:{},meta:{...(0,p.tb)("meta")},providerMeta:{...(0,p.tb)("providerMeta")},aiParams:{...(0,p.tb)("aiParams")},loadImageParams:{...(0,p.tb)("loadImageParams")},loadImageStatus:{},loadImageId:{},name:{},query:{},source:{},showPlaceholder:{},fullWidthBlock:{default:!1},resize:{...(0,p.tb)("resize"),default:w.P},clickBehavior:{default:null},href:{default:null}}),addKeyboardShortcuts:()=>({Enter:e=>{let{editor:t}=e,n=t.state.selection;if(n instanceof r.nh&&n.node.type.name===i.Ay.name){let e=(0,ec.Hu)((0,d.KA)().getState()),{id:t}=n.node.attrs;if(e)return C.R.emit("endClip",{id:t,confirm:!0}),!0}return!1}}),addProseMirrorPlugins:()=>[new r.k_({key:new r.hs("imageDrag"),props:{handleDOMEvents:{dragstart:(e,t)=>{var n;let{selection:i}=e.state,r=(0,a.BQ)(i)&&(null==(n=i.node)?void 0:n.type.name)==="image"?i.node.attrs.id:null;if(r){let e=(0,d.KA)().getState();if((0,ec.iZ)(r)(e))return t.preventDefault(),!0}return!1}}}}),b()],addCommands(){let e=this.name,t=t=>{let{selection:n}=t;return n instanceof r.nh&&n.node.type.name===e?n.node:void 0};return{resetImageClip:()=>n=>{let{chain:a,state:i}=n,r=t(i);if(!r)return console.warn("[resetImageClip] Selected node is not an image: ",i.selection),!0;let{clipPath:o,clipType:l,clipAspectRatio:s}=w.P;return a().updateAttributes(e,{resize:{...r.attrs.resize,clipPath:o,clipType:l,clipAspectRatio:s}}).run()},resetImageScale:()=>n=>{let{chain:a,state:i}=n,r=t(i);return r?a().updateAttributes(e,{resize:{...r.attrs.resize,width:null,isAuto:null}}).run():(console.warn("[resetImageClip] Selected node is not an image: ",i.selection),!0)}}}});n(58617),n(58638)},14122:(e,t,n)=>{"use strict";n.d(t,{t:()=>i,z:()=>a});let a={borderRadius:"var(--box-border-radius)"},i=e=>({"svg.colorable-icon":{path:{fill:e},"[stroke], [stroke] > *":{stroke:e,fill:"none"}}})},14300:(e,t,n)=>{"use strict";n.d(t,{E:()=>s,V:()=>d});var a=n(6029),i=n(10500),r=n(49611),o=n(48342),l=n(6830),s=function(e){return e[e.small=4]="small",e[e.medium=7]="medium",e}({});let d=e=>{let{color:t,setColor:n=()=>{},isActive:s=!1,name:d,size:c=7,tooltipIsDisabled:u=!1}=e,p=(0,l.$p)(t)?"white":"black";return(0,a.jsx)(o.Tz,{label:d||t.toUpperCase(),placement:"top",isDisabled:u,children:(0,a.jsx)(r.$,{display:"inline-block",alignSelf:"center",boxSize:c,borderRadius:"md",border:"1px solid",borderColor:"blackAlpha.300",color:p,bgColor:null!=t?t:"#FFFFFF",onClick:()=>n(t),variant:"unstyled",minW:0,fontSize:"xs",transitionProperty:"border",transitionDuration:"normal",children:s&&(0,a.jsx)(i.S,{})})})}},14368:(e,t,n)=>{"use strict";n.d(t,{R:()=>r});var a=n(51684),i=n(77650);let r={key:"image.web",featureFlag:"webImageSearch",label:()=>i.Ru._({id:"coorYU"}),icon:a.$UM,keywords:["image","photo","pic"],description:()=>i.Ru._({id:"NMbF1d"}),resizeToFit:!0}},14389:(e,t,n)=>{"use strict";n.d(t,{Ef:()=>r,MK:()=>i,Mg:()=>l,St:()=>o});var a=n(36512);let i=30,r=16,o=a.s5*r,l=.6},14503:(e,t,n)=>{"use strict";n.d(t,{HF:()=>d,KW:()=>s,NH:()=>p,Pn:()=>f,Ui:()=>v,aH:()=>c,dX:()=>l,fx:()=>h,kV:()=>m,oD:()=>g,ob:()=>x,t6:()=>u,uH:()=>b});var a=n(63867),i=n(46675),r=n(61292),o=n(48413);let l=new a.hs("selectingCells");function s(e){for(let t=e.depth-1;t>0;t--)if("row"==e.node(t).type.spec.tableRole)return e.node(0).resolve(e.before(t+1));return null}function d(e){for(let t=e.depth;t>0;t--){let n=e.node(t).type.spec.tableRole;if("cell"===n||"header_cell"===n)return e.node(t)}return null}function c(e){let t=e.$head;for(let e=t.depth;e>0;e--)if("row"==t.node(e).type.spec.tableRole)return!0;return!1}function u(e){return e instanceof i.HT?e.$anchorCell.pos>e.$headCell.pos?e.$anchorCell:e.$headCell:e instanceof a.nh&&"cell"==e.node.type.spec.tableRole?e.$anchor:s(e.$head)||function(e){for(let t=e.nodeAfter,n=e.pos;t;t=t.firstChild,n++){let a=t.type.spec.tableRole;if("cell"==a||"header_cell"==a)return e.doc.resolve(n)}for(let t=e.nodeBefore,n=e.pos;t;t=t.lastChild,n--){let a=t.type.spec.tableRole;if("cell"==a||"header_cell"==a)return e.doc.resolve(n-t.nodeSize)}}(e.$head)}function p(e){return"row"==e.parent.type.spec.tableRole&&e.nodeAfter}function h(e){return e.node(0).resolve(e.pos+e.nodeAfter.nodeSize)}function m(e,t){return e.depth==t.depth&&e.pos>=t.start(-1)&&e.pos<=t.end(-1)}function g(e,t,n){let a=e.start(-1),i=o.J.get(e.node(-1)).nextCell(e.pos-a,t,n);return null==i?null:e.node(0).resolve(a+i)}function x(e,t,n){let a={};for(let t in e)a[t]=e[t];return a[t]=n,a}function f(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=x(e,"colspan",e.colspan-n);return a.colwidth&&(a.colwidth=a.colwidth.slice(),a.colwidth.splice(t,n),a.colwidth.some(e=>e>0)||(a.colwidth=null)),a}function b(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=x(e,"colspan",e.colspan+n);if(a.colwidth){a.colwidth=a.colwidth.slice();for(let e=0;e<n;e++)a.colwidth.splice(t,0,0)}return a}function v(e,t,n){let a=(0,r.e)(t.type.schema).header_cell;for(let i=0;i<e.height;i++)if(t.nodeAt(e.map[n+i*e.width]).type!=a)return!1;return!0}},14812:(e,t,n)=>{"use strict";n.d(t,{Q:()=>d});var a=n(37243),i=n(59230),r=n(67097),o=n(50861),l=n(36145),s=n(16595);let d=a.YY.create({name:"mediaUpload",addCommands(){return{cancelImageUploadsOnLoad:()=>e=>{let{tr:t,state:n}=e;return!!this.editor.isEditable&&((0,a.xe)(n.doc,e=>{let t=(0,s.um)(e);return!!(t&&t.uploadStatus===i.A.Uploading)}).forEach(e=>{let n=(0,s.um)(e.node),a=(0,s.wH)(e.node,(null==n?void 0:n.src)?{uploadStatus:i.A.Done}:{tempUrl:null,uploadStatus:i.A.Error});t.setNodeMarkup(e.pos,null,a).setMeta("addToHistory",!1).setMeta("imageUploadUpdateAttrs",!0)}),!0)},uploadBlobsOnLoad:()=>e=>{let{tr:t,state:n}=e;return!!this.storage.orgId&&!!this.editor.isEditable&&((0,a.xe)(n.doc,e=>{let t=(0,s.um)(e);return!!(null==t?void 0:t.src)&&t.src.startsWith("blob:")}).forEach(e=>{let n=(0,s.um)(e.node);if(!n)return;let a=n.src,i=(0,s.wH)(e.node,(0,s.F)(a));t.setNodeMarkup(e.pos,null,i).setMeta("addToHistory",!1).setMeta("imageUploadUpdateAttrs",!0),(0,l.xH)(this.editor,a)}),!0)},uploadRemoteUrlsOnLoad:()=>e=>{let{tr:t,state:n}=e;return!!this.storage.orgId&&!!this.editor.isEditable&&((0,a.xe)(n.doc,e=>{let t=(0,s.um)(e);return!!(null==t?void 0:t.src)&&t.src.startsWith("http")&&(0,r.cW)(t.src)&&t.uploadStatus!==i.A.Done}).forEach(e=>{var n;let a=(0,s.um)(e.node);if(!a)return;let r=a.src,o=(0,s.wH)(e.node,{uploadStatus:i.A.Uploading,source:null!=(n=a.source)?n:"image.custom",tempUrl:r});t.setNodeMarkup(e.pos,null,o).setMeta("addToHistory",!1).setMeta("imageUploadUpdateAttrs",!0),(0,l.XE)(this.editor,r,void 0,!0)}),!0)},uploadDataUrlsOnLoad:()=>e=>{let{tr:t,state:n}=e;return!!this.storage.orgId&&!!this.editor.isEditable&&((0,a.xe)(n.doc,e=>{let t=(0,s.um)(e);return!!(null==t?void 0:t.src)&&t.src.startsWith("data:")}).forEach(e=>{let n=(0,s.um)(e.node);if(!n)return;let a=(0,r.Xz)(n.src);if(!a)return;let i=URL.createObjectURL(a),o=(0,s.wH)(e.node,(0,s.F)(i));t.setNodeMarkup(e.pos,null,o).setMeta("addToHistory",!1).setMeta("imageUploadUpdateAttrs",!0),(0,l.XE)(this.editor,i,a)}),!0)},initializeUploadExtension:e=>t=>{let{chain:n}=t;return this.storage.orgId=e,n().cancelImageUploadsOnLoad().uploadBlobsOnLoad().uploadDataUrlsOnLoad().uploadRemoteUrlsOnLoad().revokeAllImageTempURLs().run(),!0},revokeAllImageTempURLs:()=>e=>{let{tr:t,state:n}=e;return(0,a.xe)(n.doc,e=>{let t=(0,s.um)(e);return!!(t&&t.tempUrl&&t.src&&t.uploadStatus===i.A.Done)}).forEach(e=>{let n=(0,s.wH)(e.node,{tempUrl:null});t.setNodeMarkup(e.pos,null,n).setMeta("addToHistory",!1).setMeta("imageUploadUpdateAttrs",!0)}),!0},revokeImageTempURLs:e=>t=>{let{tr:n,state:i}=t;return(0,a.xe)(i.doc,t=>{let n=(0,s.um)(t);return!!n&&n.tempUrl===e}).forEach(e=>{let t=(0,s.wH)(e.node,{tempUrl:null});n.setNodeMarkup(e.pos,null,t).setMeta("addToHistory",!1).setMeta("imageUploadUpdateAttrs",!0)}),URL.revokeObjectURL(e),!0},updateImageOnUploadFailure:function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return n=>{let{tr:a,state:r}=n,o=r.doc.nodeAt(e);if(!o||!o.attrs)return!1;let l=(0,s.um)(o),d=t?{...l,uploadStatus:i.A.Done}:(0,s.yK)({isError:!0}),c=(0,s.wH)(o,d);return a.setNodeMarkup(e,void 0,c).setMeta("imageUploadUpdateAttrs",!0).setMeta("addToHistory",!1).setMeta("annotationEvent",{type:"update-node-attrs",pos:e}),!0}},updateImageOnUploadSuccess:(e,t)=>n=>{let{tr:a,state:i}=n,r=i.doc.nodeAt(e);if(!r||!r.attrs)return!1;let l=(0,s.yK)({isError:!1,result:t,attrs:r.attrs}),d=(0,o.Ez)(l),c=(0,s.wH)(r,d);return a.setNodeMarkup(e,void 0,c).setMeta("imageUploadUpdateAttrs",!0).setMeta("addToHistory",!1).setMeta("annotationEvent",{type:"update-node-attrs",pos:e}),!0}}},addStorage:()=>({orgId:void 0,completedUploads:{}}),addProseMirrorPlugins(){return[(0,l.Qx)(this.editor)]}})},15253:(e,t,n)=>{"use strict";n.d(t,{N:()=>c});var a=n(6029),i=n(37243),r=n(55729),o=n(41896),l=n(4097),s=n(28613);i.KE;class d extends r.Component{componentDidMount(){this.mounted=!0}componentWillUnmount(){this.mounted=!1}init(){let{editor:e}=this.props;if(!e)return;let{doc:t}=e.state;e.contentComponent=this,e.createNodeViews(),this.RootComponent=(0,a.jsx)(u,{editor:e,node:t})}setRenderer(e,t){this.renderers.set(e,t),this.mounted&&this.setState({counter:this.state.counter+1})}removeRenderer(e){this.renderers.delete(e),this.mounted&&this.setState({counter:this.state.counter+1})}render(){let{editor:e}=this.props;return e?(0,a.jsx)("div",{className:"ProseMirror",children:this.RootComponent}):null}constructor(e){super(e),this.RootComponent=null,this.renderers=new Map,this.mounted=!1,this.editorContentRef=r.createRef(),this.editorContentChildren=r.createRef(),this.state={counter:0},this.init()}}let c=r.memo(d),u=e=>{let{node:t,editor:n}=e;return(0,a.jsx)(l.e.Provider,{value:{editor:n,node:t},children:(0,a.jsx)(o.VR,{children:(0,a.jsx)(s.$,{})})})}},15587:(e,t,n)=>{"use strict";n.d(t,{h:()=>d,v:()=>c});var a=n(37243),i=n(63867),r=n(97255),o=n(15607),l=n(56124);let s=e=>e.isTextblock||["gallery","cardLayoutItem","buttonGroup","navbarLinks","navbarButtons","toggleSummary"].includes(e.type.name),d=a.YY.create({name:"emptyNodes",addOptions:()=>({emptyNodeClass:"is-empty",showOnlyWhenEditable:!0,showOnlyCurrent:!1}),addProseMirrorPlugins(){return[new i.k_({key:new i.hs("emptyNodes"),props:{decorations:e=>{let{doc:t,selection:n}=e,a=[],i=this.editor.isEditable||!this.options.showOnlyWhenEditable||this.editor.isThumbnail,{anchor:d}=n;if(i)return t.descendants((e,t)=>{if("table"===e.type.name&&(0,l.VM)(e))return!1;if(!s(e))return;let n=d>=t&&d<=t+e.nodeSize,i=(0,o.mf)(e);(n||!this.options.showOnlyCurrent)&&i&&a.push(r.NZ.node(t,t+e.nodeSize,{class:this.options.emptyNodeClass},{isEmpty:!0}))}),r.zF.create(t,a)}}})]}}),c=e=>e.some(e=>e.spec.isEmpty)},16264:(e,t,n)=>{"use strict";n(5061),n(33201),n(6845),n(61385),n(98968),n(50861),n(56124),n(53891)},16309:(e,t,n)=>{"use strict";n.d(t,{qc:()=>y,tg:()=>C});var a=n(37243),i=n(63867),r=n(97255),o=n(8944),l=n(25839),s=n(6830),d=n(62171),c=n(15607),u=n(67864),p=n(94922),h=n(92397),m=n(71737);n(61385);var g=n(47665);class x{constructor(e=null){this.dragging=e}}let f=new i.hs("cardPlugin"),b=["card","calloutBox","image","cardLayoutItem","cardAccentLayoutItem","cardNotes","chart","smartLayoutCell"],v=(e,t)=>{let n=[];return e.descendants((a,i,u,h)=>{if(t.includes(a.type.name)){var x,f,b,v;let t=e.resolve(i),y=(0,g.jg)(a),w=(0,c.TK)(t,g.jg),C=w.slice(+!y).map(e=>e.node),{node:j,pos:A}=w[0]||{},k=A?e.resolve(A):null,S=y?a:j||a,I=y?u.childCount:null==k?void 0:k.parent.childCount,E=y?h:null==k?void 0:k.index(),L=C.length,R=L>0,D=(0,g.kj)(C,"width"),M=(0,g.g6)(S),_=!!(S.firstChild&&(0,g.sw)(S.firstChild)),z=(0,p.o_)(S),T=null==z||null==(x=z.mask)?void 0:x.effect,N=null==z||null==(f=z.mask)?void 0:f.intensity,P=(0,d.gK)(null==(b=S.attrs.container)?void 0:b.background),O=P?(0,s.$p)(P):void 0,H=(0,o.uw)((0,l.KA)().getState()),F=(0,p.zr)({layout:S.attrs.layout,parentCards:C,isMobileDevice:H}),B=null!==S.lastChild&&(0,m.eh)(S),V=B&&!(0,m.o_)(S.lastChild),W=!!(null==(v=S.attrs.cardMarginSettings)?void 0:v.isHidden),U={isCardDecoration:!0,nestedDepth:L,isNested:R,isFirstCard:!R&&0===E,isLastCard:!R&&"number"==typeof I&&E===I-1,hasLayoutItem:_,cardContentType:M,cardAccentBackgroundMaskEffect:T,cardAccentBackgroundMaskIntensity:N,isCardDark:O,cardColorOverride:P,displayLayout:F,insideSideLayout:(0,p.in)(C),inheritContainerWidth:D,hasCardNotesNode:B,hasNonEmptyCardNotes:V,hasHiddenCardMargins:W};n.push(r.NZ.node(i,i+a.nodeSize,{},U))}}),n},y=e=>new i.k_({key:f,state:{init:()=>new x,apply:(e,t)=>t},props:{decorations:e=>{let{doc:t}=e,n=v(t,b);return n.length>0?r.zF.create(t,n):r.zF.empty},handleDOMEvents:{drop(e){var t;let n=null==(t=e.dragging)?void 0:t.annotations,a=f.getState(e.state);if(!a)return!1;a.dragging=n}},handleDrop:(t,n,a)=>{var i;let r=f.getState(t.state),o=null==r?void 0:r.dragging;r&&(r.dragging=null);let l=(0,h.M7)(t,n,a);if(!l)return!1;let s=a.content.toJSON();if(!s)return!1;let d=(null==(i=s[0])?void 0:i.type)==="card";if(d&&o)return e.commands.rearrangeCards({from:o.origNodePos,to:l.pos,position:"above"});let c=d?s:{type:"card",content:s},{selection:p}=t.state,m=!p.empty;try{return e.chain().insertContentAt(l.pos,c,{updateSelection:!1}).command(n=>{let{tr:a}=n;if(m&&a.deleteSelection(),o){let n=(0,u.nh)({view:t,tr:a,cardWrapOffset:+!d,dragging:o,dropPos:l.pos});requestAnimationFrame(()=>{var t,a;null==(t=(a=e.commands).moveAnnotations)||t.call(a,n)})}return!0}).focusMapped(l.pos,1).run()}catch(e){return console.error("(caught) [Cardplugin] handleDrop error:",e),!0}},handlePaste:(t,n,i)=>{var r;let o=i.content.toJSON();if(!o)return!1;if((null==(r=o[0])?void 0:r.type)==="card"){let r=t.state.selection,o=(0,a.KP)(g.jg)(r);if(o){n.preventDefault();let t=o.pos+o.node.nodeSize;return e.commands.insertContentAt(t,i.content.toJSON()),!0}}return!1}}}),w={isNested:!1,hasLayoutItem:!1,nestedDepth:0,isFirstCard:!1,isCardDecoration:!0,isLastCard:!1,displayLayout:"blank",cardContentType:"responsive",insideSideLayout:!1,hasCardNotesNode:!1,hasNonEmptyCardNotes:!1,hasHiddenCardMargins:!1},C=e=>{let t=e.find(e=>e.spec.isCardDecoration);return t?t.spec:w}},16410:(e,t,n)=>{"use strict";n.d(t,{_:()=>_});var a=n(6029),i=n(27229),r=n(16936),o=n(49611),l=n(46898),s=n(67909),d=n(36071),c=n(68728),u=n(17920),p=n(3674),h=n(40691),m=n(26385),g=n(48810),x=n(15863),f=n(72089),b=n(17496),v=n(36218),y=n(16426),w=n(61204),C=n(55597),j=n(48621),A=n(48342),k=n(19564),S=n(77650),I=n(55729),E=n(2018),L=n(6807),R=n(65148);let D={[E.tiT.DeceptiveOrMisleading]:{title:(0,a.jsx)(k.x6,{id:"Y5QK1F"})},[E.tiT.Explicit]:{title:(0,a.jsx)(k.x6,{id:"Zeb01n"})},[E.tiT.Other]:{title:(0,a.jsx)(k.x6,{id:"/IX/7x"})},[E.tiT.Spam]:{title:(0,a.jsx)(k.x6,{id:"Y5QK1F"})},[E.tiT.Inappropriate]:{title:(0,a.jsx)(k.x6,{id:"Zeb01n"})}},M=[E.tiT.DeceptiveOrMisleading,E.tiT.Explicit,E.tiT.Other],_=e=>{let{docId:t,buttonType:n,onSubmitReport:l,buttonProps:s}=e,[d]=(0,L.M)(R.E.abuseReports,[]),[c,u]=(0,I.useState)(d.includes(t||"")),{isOpen:p,onOpen:h,onClose:m}=(0,i.j)({id:"report-page-modal"}),g=(0,I.useCallback)(()=>{u(!0),m(),null==l||l()},[m,l]);return c||!t?null:(0,a.jsxs)(a.Fragment,{children:[p&&(0,a.jsx)(z,{docId:t,isOpen:!0,onClose:m,onSubmit:g}),"iconRight"===n?(0,a.jsx)(A.Tz,{label:(0,a.jsx)(k.x6,{id:"ch68HI"}),children:(0,a.jsx)(r.K,{"aria-label":S.Ru._({id:"ch68HI"}),borderInlineStartWidth:"0px",variant:"plain",size:"sm",borderInlineStartRadius:0,icon:(0,a.jsx)(j.g,{icon:C.tHS,size:"sm"}),onClick:h,...s})}):"button"===n?(0,a.jsx)(o.$,{marginX:"auto",colorScheme:"gray",color:"gray.500",size:"sm",variant:"ghost",leftIcon:(0,a.jsx)(j.g,{icon:C.tHS}),onClick:h,children:(0,a.jsx)(k.x6,{id:"ch68HI"})}):null]})},z=e=>{let{docId:t,isOpen:n,onClose:i,onSubmit:r}=e,[C,j]=(0,L.M)(R.E.abuseReports,[]),[_,z]=(0,I.useState)(),[T]=(0,E.pZI)(),[N,P]=(0,I.useState)(),O=(0,l.d)(),H=(0,I.useCallback)(()=>{_&&T({variables:{input:{docId:t,reason:_,description:N}}}).then(()=>{j([...C,t]),O({title:(0,a.jsx)(k.x6,{id:"7sBcV9"}),description:(0,a.jsx)(k.x6,{id:"m02YqD"}),status:"success",duration:5e3,isClosable:!0,position:"top"}),r()})},[_,T,t,N,j,C,O,r]);return(0,a.jsx)(A.L8,{isDark:!1,children:(0,a.jsxs)(s.aF,{isOpen:n,onClose:i,trapFocus:!1,children:[(0,a.jsx)(d.m,{}),(0,a.jsxs)(c.$,{children:[(0,a.jsx)(u.r,{children:(0,a.jsx)(k.x6,{id:"ch68HI"})}),(0,a.jsx)(p.s,{}),(0,a.jsx)(h.c,{children:(0,a.jsxs)(m.B,{spacing:0,children:[(0,a.jsx)(g.E,{mb:6,children:(0,a.jsx)(k.x6,{id:"oNyQYO"})}),(0,a.jsx)(x.z,{onChange:e=>{z(e)},value:_,children:(0,a.jsx)(m.B,{children:M.map(e=>{let t=D[e];return(0,a.jsx)(f.s,{value:e,children:null==t?void 0:t.title},e)})})}),(0,a.jsx)(b.S,{in:_===E.tiT.Other,children:(0,a.jsx)(v.T,{onChange:e=>{P(e.target.value)},maxLength:200,placeholder:S.Ru._({id:"1ULmtx"}),mt:4})})]})}),(0,a.jsx)(y.j,{children:(0,a.jsxs)(w.e,{children:[(0,a.jsx)(o.$,{colorScheme:"gray",onClick:i,variant:"ghost",children:(0,a.jsx)(k.x6,{id:"dEgA5A"})}),(0,a.jsx)(A.Tz,{label:(0,a.jsx)(k.x6,{id:"h7+4yF"}),isDisabled:!!_,shouldWrapChildren:!0,children:(0,a.jsx)(o.$,{onClick:H,variant:"hazardous",isDisabled:!_,children:(0,a.jsx)(k.x6,{id:"ovTgfk"})})})]})})]})]})})}},16595:(e,t,n)=>{"use strict";n.d(t,{Df:()=>x,F:()=>h,Ki:()=>v,XJ:()=>C,bY:()=>j,um:()=>g,wH:()=>m,wt:()=>y,yK:()=>p});var a=n(37243),i=n(60449),r=n.n(i),o=n(97481),l=n.n(o),s=n(42725),d=n.n(s),c=n(59230),u=n(46007);let p=e=>{let{result:t,isError:n,attrs:a}=e;if(n)return{uploadStatus:c.A.Error,showPlaceholder:!0,tempUrl:null,src:null};let{fullResults:i,...r}=t;return{uploadStatus:c.A.Done,showPlaceholder:!1,source:(null==a?void 0:a.source)||"image.custom",...r}},h=e=>({tempUrl:e,uploadStatus:c.A.Uploading,src:null,source:"image.custom"}),m=(e,t)=>{let n=e.type.spec.imageKeyPath,a=n?d()({},n,t):t;return l()({},e.attrs,a)},g=e=>{let t=e.type.spec.imageKeyPath;return t||"image"===e.type.name?t?r()(e.attrs,t,e.attrs):e.attrs:null},x=(e,t,n,i)=>{if(null==i?void 0:i.id)return i.id;if("smartLayoutCell"===t.type.name)return t.attrs.id;if("cardAccentLayoutItem"===t.type.name){let t=(0,a.eL)(e.state.doc.resolve(n),e=>"card"===e.type.name);return t?t.node.attrs.id:null}},f=(e,t)=>(0,a.xe)(e.state.doc,e=>{let n=g(e);return[null==n?void 0:n.tempUrl,null==n?void 0:n.src].includes(t)}),b=(e,t)=>(0,a.xe)(e.state.doc,e=>"embed"===e.type.name&&e.attrs.url===t),v=(e,t,n)=>{e.parentEditor&&(e=e.parentEditor),t&&w(e,n,t);let a=f(e,t);if(0==a.length)return void console.warn("[MediaUpload] Couldn't find placeholder node");a.forEach(t=>{let{pos:a}=t;e.commands.updateImageOnUploadSuccess(a,n)}),setTimeout(()=>{e.commands.revokeImageTempURLs(t)},3e4)},y=function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e.parentEditor&&(e=e.parentEditor);let i=f(e,t);if(0==i.length)return void console.warn("[MediaUpload] Couldn't find placeholder node");i.forEach(t=>e.commands.updateImageOnUploadFailure(t.pos,a)),console.error(n)},w=(e,t,n)=>{e.storage.mediaUpload.completedUploads[n]=t},C=(e,t,n)=>{let a=b(e,t);if(0==a.length)return void console.warn("[MediaUpload] Couldn't find placeholder node");a.forEach(t=>{e.commands.updateAttributesAtPos(t.pos,{url:n.src,sourceUrl:n.src,embed:{url:n.src},thumbnail:{src:n.thumbnail,uploadStatus:c.A.Done,showPlaceholder:!1}})})},j=e=>({meta:{title:e.name,description:(0,u.z3)(e.size,1)},thumbnail:{uploadStatus:c.A.Uploading,showPlaceholder:!0},source:"embed.pdf"})},17006:(e,t,n)=>{"use strict";n.d(t,{Uw:()=>o,bh:()=>l,eL:()=>r,tX:()=>s});var a=n(17406),i=n(80274);let r=1.25,o=1.6,l=(e,t)=>{let{size:n,mobileSize:a}=(0,i.o)(e);if(e&&(0,i.Ii)(e)){var r,o;let e=(null!=(r=t.config.headingFontSize)?r:1)/(null!=(o=t.config.fontSize)?o:1),i=n*e,l=a?a*e:void 0;return{fontSize:l?["".concat(l,"em"),"".concat(i,"em")]:"".concat(i,"em"),"@media print":{fontSize:"".concat(i,"em")},lineHeight:"var(--line-height-heading)"}}return{fontSize:a?["".concat(a,"em"),"".concat(n,"em")]:"".concat(n,"em"),"@media print":{fontSize:"".concat(n,"em")},lineHeight:"var(--line-height-body)"}},s=e=>{let t={".block-paragraph":{...l("default",e)},".block-heading":{'.heading[level="1"]':{...l("h1",e)},'.heading[level="2"]':{...l("h2",e)},'.heading[level="3"]':{...l("h3",e)},'.heading[level="4"]':{...l("h4",e)}},".block-title":{".title":{...l("title",e)},'.title[level="1"]':{...l("title",e)},'.title[level="2"]':{...l("titleLg",e)},'.title[level="3"]':{...l("titleXl",e)}}};return Object.keys((0,a.ZD)()).forEach(n=>{let a=l(n,e);t['[data-font-size="'.concat(n,'"]')]=a}),t}},17275:(e,t,n)=>{"use strict";n.d(t,{c:()=>r});var a=n(52762),i=n(94922);let r=(e,t,n,r,o)=>{let l=t.doc.nodeAt(n);if((null==l?void 0:l.type.name)!=="card")return!1;let s=l.attrs,d=(0,i.lH)(r);if((0,i.Fm)(t,n,e.schema,d),r===s.layout)return!0;t.setNodeAttribute(n,"layout",r);let{accent:c}=(0,i.dg)(t,n);if(o&&c&&c.node.attrs.background.type===a.h.NONE){let e=o();e&&t.setNodeAttribute(c.pos,"background",e)}let{layoutTemplateColumns:u}=l.attrs,p=s.layout;return u&&("left"===p&&"right"===r||"right"===p&&"left"===r)&&t.setNodeAttribute(n,"layoutTemplateColumns",u.split(" ").reverse().join(" ")),!0}},17485:(e,t,n)=>{"use strict";n.d(t,{z_:()=>m,Kl:()=>g,zF:()=>h});var a=n(6029),i=n(99492),r=n(77650),o=n(49611),l=n(48621),s=n(48342),d=n(2681),c=n(80180);let u=e=>{var t;let{value:n,updateValue:r,choices:u,defaultIcon:p,option:h}=e;return(0,a.jsxs)(d.ms,{isLazy:!0,children:[(0,a.jsx)(s.Tz,{placement:"top",label:h.name(),shouldWrapChildren:!0,children:(0,a.jsx)(d.gf,{as:o.$,variant:"toolbar",onMouseDown:c.Fw,rightIcon:(0,a.jsx)(l.g,{icon:i.Jt$,transform:"shrink-6"}),children:(0,a.jsx)(l.g,{icon:(null==(t=u[n])?void 0:t.icon)||p})})}),(0,a.jsx)(d.Q5,{children:Object.entries(u).map(e=>{let[t,{icon:n,name:i,disabled:o}]=e;return o?null:(0,a.jsx)(d.tJ,{icon:(0,a.jsx)(l.g,{icon:n,fixedWidth:!0}),onClick:()=>r(t),children:i},t)})})]})},p=()=>({square:{name:r.Ru._({id:"1DA6ap"}),icon:i.Nfw},circle:{name:r.Ru._({id:"7xMmki"}),icon:i.GEE},landscape:{name:r.Ru._({id:"XxIeKn"}),icon:i.Cpz},portrait:{name:r.Ru._({id:"3bV9gD"}),icon:i.b0A}}),h={square:{aspectRatio:"1 / 1"},circle:{borderRadius:"9999px",aspectRatio:"1 / 1"},landscape:{aspectRatio:"1.618 / 1"},portrait:{aspectRatio:"4 / 5"}},m={square:1,circle:1,landscape:1.618,portrait:.8},g={key:"imageShape",defaultValue:()=>null,Control:e=>{let{value:t,updateValue:n,editor:r,option:o}=e;return(0,a.jsx)(u,{value:t,updateValue:n,editor:r,choices:p(),option:o,defaultIcon:i.Nfw})},ControlMenu:(e,t,n)=>({key:n.key,label:n.name(),icon:"square"===e?i.Nfw:"circle"===e?i.GEE:"landscape"===e?i.Cpz:i.b0A,items:Object.entries(p()).map(n=>{let[a,{name:r}]=n;return{key:r,label:r,icon:e===a?i.e68:void 0,onClick:()=>t(a)}})}),name:()=>r.Ru._({id:"JbOau/"})}},17798:(e,t,n)=>{"use strict";n.d(t,{Up:()=>a.U,MN:()=>o,hb:()=>l,TV:()=>d,qD:()=>c,mx:()=>u,GQ:()=>p.G,uF:()=>m,fo:()=>g.f,Zd:()=>v,Pl:()=>y.P,fG:()=>w,RA:()=>C,yj:()=>j,UX:()=>A,Oz:()=>k,Ve:()=>S,OO:()=>I,fX:()=>E,NR:()=>q,Dc:()=>$,sI:()=>L,Dr:()=>R,Il:()=>D,un:()=>_.u,xT:()=>M.x,sS:()=>T,fb:()=>N,st:()=>P,Ow:()=>O,w:()=>F,V2:()=>B,ap:()=>V,ae:()=>W.a,O5:()=>U,Rn:()=>G.R,Jp:()=>K.J,r9:()=>Q,N$:()=>Z});var a=n(40061),i=n(51684),r=n(77650);let o={label:()=>"Airtable",key:"embed.airtable",description:()=>r.Ru._({id:"KlL5LU"}),icon:i.Qte,image:{src:"https://assets.gammahosted.com/j1bla5j5f/_next/static/media/airtable.e403549a.svg",height:64,width:64,blurWidth:0,blurHeight:0},urlRegex:/^https?:\/\/airtable.com/,categories:["app","form"],defaultDisplayStyle:"inline",inlineInteractive:!0,iframeOptions:{allowPopups:!0},rewriteEmbedUrl:e=>{try{if(e.includes("/embed/"))return e;let t=new URL(e);return t.pathname="/embed".concat(t.pathname),t.toString()}catch(t){return e}},keywords:["airtable","database","spreadsheet","table"]},l={label:()=>"Amplitude",key:"embed.amplitude",keywords:["amplitude","analytics"],description:()=>r.Ru._({id:"wa1wV8"}),icon:i.q9c,image:{src:"https://assets.gammahosted.com/j1bla5j5f/_next/static/media/amplitude.5828f141.svg",height:64,width:64,blurWidth:0,blurHeight:0},urlRegex:/^https?:\/\/analytics.amplitude.com/};var s=n(81107);let d={key:"image.bing",label:()=>r.Ru._({id:"2V6hMo"}),icon:s.uu9,image:{src:"https://assets.gammahosted.com/j1bla5j5f/_next/static/media/bing.0f94cfbe.svg",height:1024,width:678,blurWidth:0,blurHeight:0},keywords:["image","photo","bing","pic"]},c={label:()=>"Calendly",key:"embed.calendly",description:()=>r.Ru._({id:"grPhlY"}),icon:i.okg,image:{src:"https://assets.gammahosted.com/j1bla5j5f/_next/static/media/calendly.d1a57857.svg",height:150,width:150,blurWidth:0,blurHeight:0},urlRegex:/^https?:\/\/calendly.com/,defaultDisplayStyle:"inline",inlineInteractive:!0,categories:["form"],iframeOptions:{allowPopups:!0},keywords:["calendly","meeting","schedule","appointment"]},u={label:()=>r.Ru._({id:"bk8Zu0"}),key:"image.custom",description:()=>r.Ru._({id:"RPwTMJ"}),icon:i.Cyq,keywords:["image","upload"],resizeToFit:!0};var p=n(77569),h=n(74698);let m={label:()=>"Figma",key:"embed.figma",icon:s.slN,keywords:["design","prototype","wireframe","figjam","whiteboard"],description:()=>r.Ru._({id:"riUMyL"}),image:{src:"https://assets.gammahosted.com/j1bla5j5f/_next/static/media/figma.14e7d0c1.svg",height:2500,width:1667,blurWidth:0,blurHeight:0},urlRegex:/^https?:\/\/www.figma.com/,canEmbedPrivate:!0,forcePreviewOnMobile:!0,rewriteEmbedUrl:e=>{if(e.includes("embed.figma.com"))return e;let t=e.match(/figma\.com\/(file|proto|design|board)\/([^/?]+)\/([^/?]+)/);if(!t)return e;let[,n,a,i]=t;try{return"https://embed.figma.com/".concat(n,"/").concat(a,"/").concat(i,"?embed-host=share")}catch(t){return console.error("[FigmaProvider] Error rewriting Figma URL: ".concat(t)),h.l7("figmaEmbedData",{type:n,designId:a,title:i,url:e}),h.Cp(t),e}}};var g=n(83740),x=n(99038),f=n(15577),b=n(70006);let v={label:()=>"Gamma embed",key:"embed.gamma",icon:i.c9S,keywords:["embed"],description:()=>r.Ru._({id:"XLlwPZ",values:{GAMMA_ARTIFACT_PROPER_NOUN:x.TP}}),image:{src:"https://assets.gammahosted.com/j1bla5j5f/_next/static/media/GammaIconLogoSquareGradient.b0f7e174.svg",height:40,width:40,blurWidth:0,blurHeight:0},urlRegex:/^https?:\/\/(www\.|staging\.)?gamma.app/,canEmbedPrivate:!0,forcePreviewOnMobile:!0,rewriteEmbedUrl:e=>{if((0,b.fS)(e))return e;let t=(0,b.TY)(e),n=(0,f.t$)(e)||"gamma.app";return"https://".concat(n,"/embed/").concat(t)}};var y=n(49106);let w={label:()=>"Google Drive",key:"embed.gdrive",description:()=>r.Ru._({id:"1q3pN1",values:{SHEETS_PROPER_NOUN:"Sheets",DOCS_PROPER_NOUN:"Docs",SLIDES_PROPER_NOUN:"Slides",GAMMA_ARTIFACT_PROPER_NOUN:x.TP}}),icon:s.xG9,image:{src:"https://assets.gammahosted.com/j1bla5j5f/_next/static/media/google-drive.2d314cf9.svg",height:78,width:87,blurWidth:0,blurHeight:0},urlRegex:/^https?:\/\/docs.google.com\//,canEmbedPrivate:!0,rewriteEmbedUrl:e=>{if(!e.includes("/presentation/"))return new URL(e.replace("/preview","/edit")).toString();{let t=new URL(e.replace("/edit","/preview"));return t.searchParams.set("rm","minimal"),t.toString()}},keywords:["docs","sheet","slide","gdrive","document"]},C={label:()=>"Google Form",key:"embed.google.form",description:()=>r.Ru._({id:"sgbNf4"}),icon:s.xG9,image:{src:"https://assets.gammahosted.com/j1bla5j5f/_next/static/media/google-form.c5494f4d.svg",height:66,width:48,blurWidth:0,blurHeight:0},urlRegex:/^https?:\/\/docs.google.com\/forms/,canEmbedPrivate:!0,keywords:["google form","form","survey","questionnaire"],defaultDisplayStyle:"inline",inlineInteractive:!0,categories:["form"],iframeOptions:{allowPopups:!0}},j={key:"image.google",label:()=>r.Ru._({id:"h2JWN5"}),icon:s.FjH,image:{src:"https://assets.gammahosted.com/j1bla5j5f/_next/static/media/google-image.5d5a5835.svg",height:24,width:24,blurWidth:0,blurHeight:0},keywords:["image","photo"]},A={key:"color.gradient",label:()=>r.Ru._({id:"/S8bMP"}),description:()=>r.Ru._({id:"/XRwS6"}),icon:i.S7o,keywords:["gradient","color","mesh"]},k={label:()=>"Instagram",key:"embed.instagram",icon:s.QV6,image:{src:"https://assets.gammahosted.com/j1bla5j5f/_next/static/media/instagram.d0a61bd7.svg",height:132,width:132,blurWidth:0,blurHeight:0},urlRegex:/^https?:\/\/www.instagram.com/,defaultDisplayStyle:"inline",iframeOptions:{allowPopups:!0},inlineInteractive:!0,preferHtml:!0,keywords:["instagram","insta","social"],minWidth:"328px"},S={label:()=>"Jotform",key:"embed.jotform",description:()=>r.Ru._({id:"7yLOnm"}),icon:i.n2$,image:{src:"https://assets.gammahosted.com/j1bla5j5f/_next/static/media/jotform.0a55e4a9.svg",height:334,width:304,blurWidth:0,blurHeight:0},urlRegex:/^https?:\/\/form\.jotform\.com/,defaultDisplayStyle:"inline",inlineInteractive:!0,categories:["form"],iframeOptions:{allowPopups:!0},keywords:["jotform","form","survey","questionnaire"]},I={key:"image.lexica",featureFlag:"lexicaImageSearch",label:()=>r.Ru._({id:"cSVX+F"}),description:()=>r.Ru._({id:"RdyK6U"}),image:{src:"https://assets.gammahosted.com/j1bla5j5f/_next/static/media/lexica.8699ff3f.png",height:48,width:48,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAHlBMVEVMaXH///+/v78xMTG2trYNDQ0SEhKwsLC6urqnp6cTTeQWAAAACnRSTlMAAd82rxZZ466vHPM4JQAAAAlwSFlzAAALEwAACxMBAJqcGAAAAChJREFUeJxjYGBgZmYAAUYGTnYog4MJymDBYCCk2FlZwQxmNjY2VgYADLgAbROHxbEAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8},keywords:["ai","lexica","stable diffusion","generated","photo","photography","image"]},E={key:"video.loom",label:()=>r.Ru._({id:"yrPgHm"}),description:()=>r.Ru._({id:"NMTPSf"}),icon:i.n2W,image:{src:"https://assets.gammahosted.com/j1bla5j5f/_next/static/media/loom.a033778e.svg",height:190,width:190,blurWidth:0,blurHeight:0},urlRegex:/^https:\/\/www.loom.com/,rewriteEmbedUrl:e=>{if(!e.includes("/embed/"))return e;let t=new URL(e);return t.searchParams.set("hideEmbedTopBar","true"),t.toString()},keywords:["video","recording","loom","screen"]},L={key:"embed.microsoft.office",label:()=>"Office 365",description:()=>r.Ru._({id:"cbRq5v",values:{MICROSOFT_PROPER_NOUN:"Microsoft",WORD_PROPER_NOUN:"Word",POWERPOINT_PROPER_NOUN:"PowerPoint",EXCEL_PROPER_NOUN:"Excel",ONENOTE_PROPER_NOUN:"OneNote"}}),icon:s.uu9,image:{src:"https://assets.gammahosted.com/j1bla5j5f/_next/static/media/office-365.868363a8.svg",height:48,width:48,blurWidth:0,blurHeight:0},urlRegex:/^https?:\/\/.*\.sharepoint\.com\//,canEmbedPrivate:!0,iframeOptions:{allowPopups:!0},rewriteEmbedUrl:e=>{let t=new URL(e.replace("/:p:/r","").replace("/doc2.aspx","/Doc.aspx"));return t.searchParams.set("action","embedview"),t.searchParams.delete("mobileredirect"),t.toString()},keywords:["word","excel","powerpoint","office","microsoft","msoffice"]},R={label:()=>r.Ru._({id:"yA1Sb+",values:{MIRO_PROPER_NOUN:"Miro"}}),key:"embed.miro",icon:i.Kuo,description:()=>r.Ru._({id:"Px3dYF"}),image:{src:"https://assets.gammahosted.com/j1bla5j5f/_next/static/media/miro.78878247.svg",height:2500,width:2500,blurWidth:0,blurHeight:0},urlRegex:/^https?:\/\/miro.com/,canEmbedPrivate:!0,forcePreviewOnMobile:!0,iframeOptions:{allowPopups:!0},keywords:["whiteboard","workshop","brainstorm","miro"],rewriteEmbedUrl:e=>(e.includes("/embed/")||e.includes("/live-embed/")||(e=e.replace("/board/","/embed/")),e.includes("embedAutoplay=")||(e+=(e.includes("?")?"&":"?")+"embedAutoplay=true&autoplay=yep"),e)},D={label:()=>r.Ru._({id:"1r0gtu"}),key:"embed.pdf",description:()=>r.Ru._({id:"2SUV3x"}),icon:i.O_q,urlRegex:/\.pdf$/,image:{src:"https://assets.gammahosted.com/j1bla5j5f/_next/static/media/PDF_icon.2d280cf2.svg",height:512,width:512,blurWidth:0,blurHeight:0},featureFlag:"uploadPDF",iframeOptions:{noSandbox:!0},downloadable:!0,keywords:["pdf","doc","upload","file"]};var M=n(83658),_=n(45934),z=n(55597);let T={key:"embed.microsoft.powerbi",label:()=>"PowerBI",image:{src:"https://assets.gammahosted.com/j1bla5j5f/_next/static/media/powerbi.94baf198.svg",height:630,width:630,blurWidth:0,blurHeight:0},icon:z.hem,urlRegex:/^https?:\/\/app\.powerbi\.com\//,canEmbedPrivate:!0,iframeOptions:{allowPopups:!0},keywords:["microsoft","powerbi"]},N={label:()=>r.Ru._({id:"toutGW"}),key:"image.qrCode",icon:n(99492).Yop,keywords:["qr","qrcode"],resizeToFit:!0},P={label:()=>"Spotify",key:"video.spotify",keywords:["spotify","music","podcast","playlist","song","album"],description:()=>r.Ru._({id:"lrKTd0"}),icon:s.QEP,image:{src:"https://assets.gammahosted.com/j1bla5j5f/_next/static/media/spotify.2dd06f33.svg",height:1333,width:1333,blurWidth:0,blurHeight:0},urlRegex:/^https?:\/\/open.spotify.com/,preferHtml:!0},O={label:()=>"Tally Form",key:"embed.tally",description:()=>r.Ru._({id:"Qzo1BZ"}),icon:i.n2$,image:{src:"https://assets.gammahosted.com/j1bla5j5f/_next/static/media/tally.dd047104.png",height:512,width:512,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAANlBMVEVMaXE0E101El/WGcw0EV71GOI0E1ouBVgwEVs1EmAzEl40El9uFIbjG9v/Hu+cF6U3E1//HPTo62sPAAAAEnRSTlMAXX1kJiNdBtn+7KX26aH8oEjnHZjJAAAACXBIWXMAAAsTAAALEwEAmpwYAAAANUlEQVR4nC3GQRKAIAzF0CjF9isK3v+yDB3eJsE3LJLBI0kDsFvqP8Cp9n4V8IiyCteB56QJO9EBVMm1x1cAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8},urlRegex:/^https?:\/\/tally.so/,defaultDisplayStyle:"inline",inlineInteractive:!0,categories:["form"],iframeOptions:{allowPopups:!0}},H=/\/video\/(\d+)/,F={label:()=>"TikTok",key:"video.tiktok",icon:s.AIX,image:{src:"https://assets.gammahosted.com/j1bla5j5f/_next/static/media/tiktok.cbd7f7ff.svg",height:256,width:256,blurWidth:0,blurHeight:0},urlRegex:/^https?:\/\/www.tiktok.com/,defaultDisplayStyle:"inline",iframeOptions:{allowPopups:!0},preferHtml:!0,rewriteEmbedUrl(e){var t;let n=null==(t=e.match(H))?void 0:t[1];return n?"https://www.tiktok.com/embed/v2/".concat(n):e},keywords:["tiktok","video","social"],minWidth:"325px",maxWidth:"325px"},B={key:"embed.twitter",label:()=>"Tweet",icon:s.HQ1,image:{src:"https://assets.gammahosted.com/j1bla5j5f/_next/static/media/twitter.c7499c85.svg",height:1110,width:1110,blurWidth:0,blurHeight:0},urlRegex:/^https?:\/\/(www\.)?twitter\.com/,keywords:["twitter","tweet"],preferHtml:!0,defaultDisplayStyle:"inline",inlineInteractive:!0},V={label:()=>"Typeform",key:"embed.typeform",description:()=>r.Ru._({id:"yjYR46"}),icon:z.n2$,image:{src:"https://assets.gammahosted.com/j1bla5j5f/_next/static/media/typeform.6d709d2e.svg",height:800,width:800,blurWidth:0,blurHeight:0},urlRegex:/^https?:\/\/([a-z0-9]*\.)?typeform\.com/,defaultDisplayStyle:"inline",inlineInteractive:!0,categories:["form"],iframeOptions:{allowPopups:!0},keywords:["typeform","form","survey","questionnaire"]};var W=n(93043);let U={key:"video.vimeo",label:()=>r.Ru._({id:"M1Uyl1"}),icon:s.vYD,image:{src:"https://assets.gammahosted.com/j1bla5j5f/_next/static/media/vimeo.4de20653.svg",height:48,width:48,blurWidth:0,blurHeight:0},urlRegex:/^https?:\/\/(player\.)?vimeo\.com/,keywords:["vimeo","video"]};var G=n(14368),K=n(83488);let Q={label:()=>"Wistia",key:"video.wistia",icon:i.n2W,image:{src:"https://assets.gammahosted.com/j1bla5j5f/_next/static/media/wistia.613af213.svg",height:1899,width:2500,blurWidth:0,blurHeight:0},urlRegex:/^https?:\/\/fast.wistia.net/,keywords:["wistia","video"]},Z={key:"video.youtube",label:()=>r.Ru._({id:"7J5KkU"}),icon:s.B4m,image:{src:"https://assets.gammahosted.com/j1bla5j5f/_next/static/media/youtube.b0610934.svg",height:461,width:461,blurWidth:0,blurHeight:0},urlRegex:/^https?:\/\/www\.youtube\.com/,keywords:["youtube","video"]},q=[d,y.P,j,G.R,I,W.a,Z,E,m,C,w,K.J,u,N,a.U,L,T,B,U,p.G,D,R,o,l,Q,P,F,k,A,g.f,c,V,S,O,v,M.x,_.u],$=Object.fromEntries(Object.values(q).flat().map(e=>[e.key,e]))},17859:(e,t,n)=>{"use strict";n.d(t,{$F:()=>s.$,D8:()=>v,Sf:()=>g,V2:()=>x,Vc:()=>y,WN:()=>m,XD:()=>h,Yh:()=>u,bO:()=>f,pS:()=>b,rl:()=>c,tB:()=>p});var a=n(91938),i=n(21329),r=n(95889),o=n(6181),l=n(29608),s=n(68469);let d=(e,t)=>{r.zS.track(e,{...t,gitSHA:a.$.GIT_SHA,product:(0,i.A4)((0,o.vp)()),device:(0,l.ZI)()})},c=e=>{d(r.VV.AI_REQUEST_SENT,e)},u=e=>{d(r.VV.AI_REQUEST_RESPONSE,e)},p=e=>{d(r.VV.AI_REQUEST_ERROR,e)},h=e=>{d(r.VV.AI_IMAGE_FEEDBACK_SUBMITTED,e)},m=e=>{d(r.VV.AI_IMAGE_RATED,e)},g=e=>{d(r.VV.AI_IMAGE_SELECTED,e)},x=e=>{d(r.VV.AI_AGENT_RESPONSE_RATED,e)},f=e=>{d(r.VV.AI_AGENT_RESPONSE_FEEDBACK,{...e,tags_map:e.tags.reduce((e,t)=>(e[t]=!0,e),{})})},b=e=>{d(r.VV.AI_CARD_FEEDBACK,e)},v=e=>{d(r.VV.AI_CARD_RATING,e)},y=e=>{d(r.VV.IMAGE_REPLACED,e)}},17928:(e,t,n)=>{"use strict";n.d(t,{DN:()=>i,LF:()=>o});var a=n(83747),i=function(e){return e.CREATE_COMMENT_FROM_SELECTION="createCommentFromSelection",e.OPEN_POPUP_COMMENT="openPopupComment",e.POPUP_COMMENT_TOGGLED="popupCommentToggled",e.OPEN_THEME_DRAWER="openThemeDrawer",e.OPEN_PAGE_SETUP="openPageSetup",e.OPEN_PRESENT_MODE_CONTEXT_MENU="openPresentModeContextMenu",e.Y_DOC_IS_TOO_LARGE="yDocIsTooLarge",e}({});class r extends a.b{}let o=new r},19297:(e,t,n)=>{"use strict";n.d(t,{DF:()=>f,NJ:()=>d,Ny:()=>g,Ob:()=>b,X6:()=>s,ds:()=>c,nX:()=>y,rP:()=>C,xK:()=>w});var a=n(37243),i=n(15607),r=n(33201);let o=["card","document","gridLayout","gallery"],l=e=>e.isBlock&&!o.includes(e.type.name)&&!(e.isTextblock&&(0,i.Op)(e)),s=e=>"gridLayout"===e.type.name,d=e=>"gridCell"===e.type.name,c=(e,t,n)=>{let a=n&&u(e,n,t);if(a)return a;if(n&&!g(n,e.state.schema))return null;let i=p(e,t,"right")||p(e,t,"left");return!i||n&&n.content.firstChild===i.node?null:i},u=(e,t,n)=>{var r;if(!x(t,e.state.schema))return null;let o=null==(r=e.posAtCoords({left:n.clientX,top:n.clientY}))?void 0:r.inside;if(!o||-1==o)return null;let{doc:l}=e.state,s=l.resolve(o),c=l.nodeAt(o),u=c&&d(c)?{node:c,pos:o}:(0,a.eL)(s,d),p=(null==u?void 0:u.pos)&&(0,i.q0)(u.pos,e);if(!u||!p)return null;let h=n.clientX>p.left+p.width/2?"right":"left";return{pos:u.pos,node:u.node,rect:p,side:h}},p=(e,t,n)=>{var r;let o=null==(r=e.posAtCoords({left:t.clientX+("left"==n?30:-30),top:t.clientY}))?void 0:r.inside;if(!o||-1==o)return null;let{doc:s,schema:d}=e.state,c=s.resolve(o),u=s.nodeAt(o),p=u&&l(u)?{node:u,pos:o}:(0,a.eL)(c,l);if(!p)return null;let g=(0,i.q0)(o,e);if(!g)return null;let x="left"==n?t.clientX-g.left:g.right-t.clientX,f=x<0,b=30*((null==u?void 0:u.type.name)!=="gridCell");if(!(f&&x>-b||"right"==n&&x<(g.right-g.left)*.15))return null;let v=s.resolve(p.pos),y=(null==u?void 0:u.type.name)==="gridCell"&&h(v,d)||m(v,d);if(f||!y){let t=(0,a.eL)(c,e=>"gridCell"===e.type.name);if(t&&h(s.resolve(t.pos),d)){let a=(0,i.q0)(t.pos,e);return a?{pos:t.pos,node:t.node,side:n,rect:a}:null}}return y?{pos:p.pos,rect:g,node:p.node,side:n}:null},h=(e,t)=>e.parent.canReplaceWith(e.index(),e.index(),t.nodes.gridCell),m=(e,t)=>e.parent.canReplaceWith(e.index(),e.indexAfter(),t.nodes.gridLayout),g=(e,t)=>t.nodes.gridCell.validContent(e.content),x=(e,t)=>t.nodes.gridLayout.validContent(e.content),f=e=>v(e,"gridLayout"),b=e=>{let t=v(e,"gridLayout");if(!t||!t.nodeAfter)throw Error();let n=t.nodeAfter,a=[],i=t.start(t.depth+1);for(let e=0;e<n.childCount;e++){let t=n.child(e);i+=0===e?0:n.child(e-1).nodeSize,a.push({node:t,pos:i})}return a},v=(e,t)=>{var n;if((null==(n=e.nodeAfter)?void 0:n.type.name)===t)return e;let a=e.doc;for(let n=e.depth;n>0;n--)if(e.node(n).type.name===t)return a.resolve(e.before(n));return null},y=(e,t)=>{let n=b(e),a=n[-1===t?n.length-1:t];return a?e.doc.resolve(a.pos):null},w=e=>b(e).findIndex(t=>t.pos===e.pos),C=(e,t,n)=>{var i,o;let l=null==(i=(0,r.j5)(n,e).find(e=>e.spec.isLayoutCellDecoration))?void 0:i.spec.colIndex,d=null==(o=(0,r.j5)(n,t).find(e=>e.spec.isLayoutCellDecoration))?void 0:o.spec.colIndex,c=n.state.doc.resolve(e),u=(0,a.eL)(c,s);if(!u)return;let p=n.state.doc.resolve(t),h=(0,a.eL)(p,s);if(!h||h.pos!==u.pos)return;let m=[...u.node.attrs.colWidths],[g]=m.splice(l,1);return m.splice(d,0,g),{colWidths:m,parentPos:u.pos}}},19546:(e,t,n)=>{"use strict";n.d(t,{T:()=>o});var a=n(69768),i=n(15607),r=n(53957);let o=(e,t,n)=>{if(!n)return;let o=(0,i.MY)(e,100);o&&(0,a.g5)({data:{fromPos:o.pos,fromPct:o.pct},emitChange:!1}),(0,r.o)({cardId:n,method:"push",data:{fromPos:null,fromPct:null}})}},20196:(e,t,n)=>{"use strict";n.d(t,{s:()=>a});let a={minWidth:1800,maxWidth:5e3,count:10}},20591:(e,t,n)=>{"use strict";n.d(t,{a:()=>F,c:()=>H});var a=n(6029),i=n(24302),r=n(96414),o=n(41960),l=n(54920),s=n(29768),d=n(92130),c=n(26476),u=n(94740),p=n(59272),h=n(26420),m=n(18078),g=n(38676),x=n(58959),f=n(23293),b=n(96430),v=n(25311),y=n(49146),w=n(23908),C=n(36693),j=n(20061),A=n(3448),k=n(99492),S=n(48621),I=n(48342),E=n(19564),L=n(87827),R=n(48810),D=n(55597),M=n(77650);n(55729);let _=e=>{let{prefix:t="",support:n="",suffix:i=""}=e;return(0,a.jsxs)(R.E,{children:[t,(0,a.jsx)(R.E,{color:"gray.400",as:"span",children:n}),i]})},z=()=>[{description:(0,a.jsx)(E.x6,{id:"8aebws"}),shortcut:"/"},{description:(0,a.jsx)(E.x6,{id:"JZEY8K"}),shortcut:"Mod+Shift+O"},{description:(0,a.jsx)(E.x6,{id:"3Lpas4"}),shortcut:"***"},{description:(0,a.jsx)(E.x6,{id:"e+t/xM"}),shortcut:"Mod+P"},{description:(0,a.jsx)(E.x6,{id:"MF+p5R"}),shortcut:"Mod+Enter"},{description:(0,a.jsx)(E.x6,{id:"NiZZRh"}),shortcut:"Mod+K"},{description:(0,a.jsx)(E.x6,{id:"4J90L0"}),shortcut:(0,a.jsx)(_,{prefix:"@",support:"name"})},{description:(0,a.jsx)(E.x6,{id:"1fOM5v"}),shortcut:(0,a.jsx)(_,{prefix:"@",support:"cardTitle"})}],T=()=>[{description:(0,a.jsx)(E.x6,{id:"bSLwU6"}),shortcut:"!!!"},{description:(0,a.jsx)(E.x6,{id:"Xm/s+u"}),shortcut:"!!"},{description:(0,a.jsx)(E.x6,{id:"MHrjPM"}),shortcut:"!"},{description:(0,a.jsx)(E.x6,{id:"lXKZGw"}),shortcut:["#","Mod+Alt+1"]},{description:(0,a.jsx)(E.x6,{id:"El7NbA"}),shortcut:["##","Mod+Alt+2"]},{description:(0,a.jsx)(E.x6,{id:"SFN6dN"}),shortcut:["###","Mod+Alt+3"]},{description:(0,a.jsx)(E.x6,{id:"nJeKmw"}),shortcut:["####","Mod+Alt+4"]},{description:(0,a.jsx)(E.x6,{id:"yzF66j"}),shortcut:"Mod+K"},{description:(0,a.jsx)(E.x6,{id:"QpoxX6",components:{0:(0,a.jsx)("span",{role:"img","aria-label":M.Ru._({id:"ssT83y"})})}}),shortcut:(0,a.jsx)(_,{prefix:":",support:"heart_eyes",suffix:":"})},{description:(0,a.jsx)(E.x6,{id:"KmydK6"}),shortcut:[(0,a.jsx)(_,{prefix:"*",support:"bold",suffix:"*"},"0"),"Mod+B"]},{description:(0,a.jsx)(E.x6,{id:"pzutoc"}),shortcut:[(0,a.jsx)(_,{prefix:"_",support:"italic",suffix:"_"},"0"),"Mod+I"]},{description:(0,a.jsx)(E.x6,{id:"YyXtnN"}),shortcut:"Mod+U"},{description:(0,a.jsx)(E.x6,{id:"WhOsNE"}),shortcut:"Mod+Shift+X"},{description:(0,a.jsx)(E.x6,{id:"VjjKVj"}),shortcut:"Mod+Shift+L"},{description:(0,a.jsx)(E.x6,{id:"95ckMP"}),shortcut:"Mod+Shift+E"},{description:(0,a.jsx)(E.x6,{id:"vTKw81"}),shortcut:"Mod+Shift+R"},{description:(0,a.jsx)(E.x6,{id:"Gc5apx"}),shortcut:[(0,a.jsx)(_,{prefix:"`",support:"code",suffix:"`"},"0"),"Mod+Shift+C"]},{description:(0,a.jsx)(E.x6,{id:"sFkOYO"}),shortcut:[(0,a.jsx)(_,{prefix:"$",support:"x^2",suffix:"$ "},"0"),"$$ "]},{description:(0,a.jsx)(E.x6,{id:"eKJQi9"}),shortcut:"Mod+Shift+H"},{description:(0,a.jsx)(E.x6,{id:"M3G9ZD"}),shortcut:["1. ","Mod+/","Mod+Shift+7"]},{description:(0,a.jsx)(E.x6,{id:"ynb7Kh"}),shortcut:["- ","Mod+.","Mod+Shift+8"]},{description:(0,a.jsx)(E.x6,{id:"rCIbrq"}),shortcut:["[] ","Mod+,","Mod+Shift+9"]},{description:(0,a.jsx)(E.x6,{id:"dOxPd4"}),shortcut:[(0,a.jsx)(_,{prefix:"^",support:"note",suffix:"^"},"0"),"Mod+Alt+F"]}],N=()=>[{description:(0,a.jsx)(E.x6,{id:"9xCxY6"}),shortcut:["←","→"]},{description:(0,a.jsx)(E.x6,{id:"6r2KAP"}),shortcut:["↑","↓"]},{description:(0,a.jsx)(E.x6,{id:"rEj/lx"}),shortcut:"Enter"},{description:(0,a.jsx)(E.x6,{id:"IkakN2"}),shortcut:"Esc"},{description:(0,a.jsx)(E.x6,{id:"dQU33K"}),shortcut:"Mod+Shift+O"},{description:(0,a.jsx)(E.x6,{id:"CgmvBu"}),shortcut:"S"},{description:(0,a.jsx)(E.x6,{id:"K0Oq/D"}),shortcut:"R"},{description:(0,a.jsx)(E.x6,{id:"q8Gtmt",components:{0:(0,a.jsx)("br",{})}}),shortcut:(0,a.jsx)(S.g,{icon:D.svs})}],P={borderColor:"gray.50",py:2,px:2},O={borderColor:"gray.600",py:2,px:2},H=e=>{let{list:t}=e,n=(0,i.dU)(P,O),u={bg:(0,i.dU)("gray.50","gray.700"),borderColor:(0,i.dU)("gray.200","gray.600"),color:(0,i.dU)("gray.700","white")};return(0,a.jsx)(r.K,{w:"100%",children:(0,a.jsx)(o.X,{variant:"simple",children:(0,a.jsx)(l.N,{children:t.map((e,t)=>{let{shortcut:i,description:r}=e;return(0,a.jsxs)(s.Tr,{children:[(0,a.jsx)(d.Td,{w:"60%",...n,children:r}),(0,a.jsx)(d.Td,{w:"40%",...n,children:Array.isArray(i)?i.map((e,t)=>(0,a.jsx)(c.u,{display:"inline-block",px:2,py:1,me:1,children:"string"==typeof e?(0,I.lp)(e):e},t)):"string"==typeof i?(0,a.jsx)(c.u,{...u,display:"inline-block",px:2,py:1,children:(0,I.lp)(i)}):(0,a.jsx)(c.u,{...u,display:"inline-block",px:2,py:1,children:i})})]},t)})})})})},F=e=>{let{isOpen:t,onClose:n}=e,r=(0,L.n)(T),o=(0,L.n)(N),l=(0,L.n)(z),s=(0,i.dU)("gray.700","white"),d=(0,i.dU)("gray.50","gray.600");return(0,a.jsxs)(u.A,{returnFocusOnClose:!1,closeOnBlur:!1,placement:"top",isOpen:t,onClose:n,modifiers:[{name:"computeStyles",options:{gpuAcceleration:!1}}],children:[(0,a.jsx)(p.d,{children:(0,a.jsx)(h.a,{position:"fixed",bottom:0,insetEnd:0})}),(0,a.jsxs)(m.h,{zIndex:"menu",h:"80vh",w:"400px",flex:1,position:"relative",color:s,borderColor:d,children:[(0,a.jsxs)(g.D,{border:"0 none",mb:2,position:"sticky",children:[(0,a.jsxs)(x.z,{spacing:2,children:[(0,a.jsx)(S.g,{icon:k.Lhe}),(0,a.jsx)(f.D,{size:"md",children:(0,a.jsx)(E.x6,{id:"CTqTgr"})})]}),(0,a.jsx)(b.q,{})]}),(0,a.jsx)(v.e,{overflowY:"auto",children:(0,a.jsxs)(y.t,{variant:"soft-rounded",size:"sm",isFitted:!0,children:[(0,a.jsxs)(w.w,{mb:6,children:[(0,a.jsxs)(C.o,{children:[(0,a.jsx)(h.a,{me:2,children:(0,a.jsx)(S.g,{icon:k.zLW})}),(0,a.jsx)(E.x6,{id:"vVRhxh"})]}),(0,a.jsxs)(C.o,{children:[(0,a.jsx)(h.a,{me:2,children:(0,a.jsx)(S.g,{icon:k.qon})}),(0,a.jsx)(E.x6,{id:"UodEcE"})]})]}),(0,a.jsxs)(j.T,{children:[(0,a.jsxs)(A.K,{p:0,pb:1,mt:4,children:[(0,a.jsx)(H,{list:l}),(0,a.jsx)(I._x,{pt:4,pb:4,children:(0,a.jsx)(E.x6,{id:"Bb47jg"})}),(0,a.jsx)(H,{list:r})]}),(0,a.jsx)(A.K,{p:0,pb:1,mt:4,children:(0,a.jsx)(H,{list:o})})]})]})})]})]})}},20775:(e,t,n)=>{"use strict";n.d(t,{X:()=>a});let a="square"},20887:(e,t,n)=>{"use strict";n.d(t,{a:()=>b,B:()=>$});var a=n(6029),i=n(26420),r=n(33787),o=n(74676),l=n(48810),s=n(48621),d=n(48342),c=n(77650),u=n(55729),p=n(82328),h=n(90184),m=n(87827),g=n(95889),x=n(76083),f=n(59712);let b=(0,u.forwardRef)((e,t)=>{let{query:n,editor:l}=e,{isInOfflineMode:c}=(0,p.u)(),b=(0,m.n)(x.E1).filter(e=>{if((0,x.gT)(l,e,void 0,c))return!1;let{name:t,keywords:a=[]}=e;return t().toLowerCase().includes(n.toLowerCase())||a.find(e=>e.startsWith(n.toLowerCase()))}),v=(0,u.useCallback)(e=>{if(!b[e])return;let{execute:t}=b[e],a=l.state.selection;l.chain().deleteRange({from:a.from-n.length-1,to:a.to}).run(),(0,x.Jb)(b[e],g.oU.SLASH_MENU),t(l)},[l,b,n.length]),{selectedIndex:w,selectedItemEl:C}=(0,f.Rj)({ref:t,selectItem:v,options:b});return b.length>0?(0,a.jsx)(i.a,{"data-slash-menu-dropdown":!0,children:(0,a.jsx)(d.qF,{children:(0,a.jsx)(d.QE,{width:"375px",children:b.map((e,t)=>{let{name:n,icon:i,iconStyle:l,image:c,shortcut:u,creditType:p,badge:m,nodeName:g}=e;return(0,a.jsxs)(d.nh,{ref:t===w?C:null,icon:c?(0,a.jsx)(r._,{h:"1.5em",w:"1.25em",objectFit:"contain",src:c.src}):i?(0,a.jsx)(s.g,{icon:i,rotation:null==l?void 0:l.rotation,size:"1x",fixedWidth:!0,color:"var(--chakra-colors-trueblue-600)"}):(0,a.jsx)(a.Fragment,{}),tabIndex:t===w?0:-1,onClick:()=>v(t),command:u,children:[n(),g&&(0,a.jsx)(y,{nodeName:g}),p&&(0,a.jsx)(h.G,{type:p,colorScheme:"blackAlpha",bg:"whiteAlpha.800"}),m&&(0,a.jsx)(o.E,{ms:2,colorScheme:"green",children:m()})]},t)})})})}):(0,a.jsx)(a.Fragment,{})}),v={smartLayout:()=>c.Ru._({id:"Biyg+u"}),smartDiagram:()=>c.Ru._({id:"PgKDOY"}),diagram:()=>c.Ru._({id:"i+ShMB"})},y=e=>{let{nodeName:t}=e,n=v[t];return n?(0,a.jsx)(l.E,{mt:-1,color:"gray.500",fontSize:"xs",children:n()}):null};var w=n(58959),C=n(26476),j=n(61204),A=n(94740),k=n(66199),S=n(49611),I=n(12514),E=n(18078),L=n(51684),R=n(19564),D=n(37243),M=n(66380),_=n(40061),z=n(25839),T=n(33201),N=n(58082),P=n(47665);let O=(e,t)=>{let n,a,{state:i}=e;if(!i)return;let r=[];try{(n=(0,D.eL)(null==e?void 0:e.state.doc.resolve(i.selection.from),P.jg))&&(r=(0,T.j5)(e,n.pos),a=(0,N.x)(r,t).isCardDark)}catch(e){console.error(e)}return a};var H=n(43634),F=n(80180),B=n(99389),V=n(72470),W=n(77979),U=n(38036),G=n(99492);let K=(e,t)=>{let[n,a]=(0,u.useState)(null),[i,r]=(0,u.useState)(!0),o=(0,u.useRef)(null),l=(0,u.useRef)(null),s=(0,u.useRef)("keyboard"),d=(0,u.useRef)(!1),c=(0,u.useRef)(null);(0,u.useEffect)(()=>{"keyboard"===s.current&&null!==n&&l.current&&!i&&(d.current=!0,setTimeout(()=>{if(l.current&&c.current){let e=c.current.getBoundingClientRect(),t=l.current.getBoundingClientRect();(t.bottom>e.bottom||t.top<e.top)&&l.current.scrollIntoView({behavior:"auto",block:"nearest"}),l.current.focus()}setTimeout(()=>{d.current=!1},100)},0))},[n,i]);let p=(0,u.useCallback)(e=>{d.current||(s.current="mouse",a(e),r(!1))},[]),h=(0,u.useCallback)(()=>{a(0)},[]),m=(0,u.useCallback)(n=>{if(s.current="keyboard","Escape"===n.key)return n.currentTarget.value?(n.preventDefault(),n.stopPropagation(),{action:"clearSearch"}):void 0;if("ArrowDown"===n.key){n.preventDefault(),n.stopPropagation(),e.length>0&&(r(!1),a(0));return}if("Enter"===n.key){n.preventDefault(),n.stopPropagation(),e.length>0&&t(0);return}if("Tab"===n.key){e.length>0&&(n.preventDefault(),n.stopPropagation(),r(!1),a(0));return}n.stopPropagation()},[e.length,t]),g=(0,u.useCallback)((n,i)=>{switch(s.current="keyboard",n.key){case"ArrowUp":n.preventDefault(),n.stopPropagation(),0===i?(r(!0),a(null),o.current&&o.current.focus()):a(i-1);break;case"ArrowDown":n.preventDefault(),n.stopPropagation(),i<e.length-1?a(i+1):a(0);break;case"Enter":case"Tab":n.preventDefault(),n.stopPropagation(),t(i);break;case"Escape":break;default:1===n.key.length&&(r(!0),a(null),o.current&&o.current.focus())}},[e.length,t]);return{focusedIndex:n,focusedItemEl:l,searchInputRef:o,handleSearchKeyDown:m,handleSearchFocus:(0,u.useCallback)(()=>{r(!0)},[]),handleSearchChange:h,handleItemKeyDown:g,handleMouseMove:p,listBoxRef:c}},Q=e=>{let{editor:t,isCardDark:n}=e,[l,f]=(0,u.useState)(""),{isInOfflineMode:b}=(0,p.u)(),v=(0,m.n)(x.E1).filter(e=>{if((0,x.gT)(t,e,void 0,b))return!1;let{name:n,keywords:a=[]}=e;return!l||n().toLowerCase().includes(l.toLowerCase())||a.find(e=>e.toLowerCase().includes(l.toLowerCase()))}),y=(0,u.useCallback)(e=>{if(!v[e])return;let{execute:n}=v[e],a=t.state.selection;t.chain().deleteRange({from:a.from,to:a.to}).run(),(0,x.Jb)(v[e],g.oU.SLASH_MENU_BLOCK_PROMPT),n(t)},[t,v]),{focusedIndex:w,focusedItemEl:C,searchInputRef:j,handleSearchKeyDown:A,handleSearchFocus:k,handleSearchChange:S,handleItemKeyDown:I,handleMouseMove:E,listBoxRef:L}=K(v,y);(0,u.useEffect)(()=>{j.current&&setTimeout(()=>{var e;null==(e=j.current)||e.focus()},50)},[]);let D=0===v.length;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.a,{p:2,borderBottom:"1px solid",borderColor:n?"titanium.700":"titanium.100",children:(0,a.jsxs)(V.M,{size:"sm",children:[(0,a.jsx)(W.W,{pointerEvents:"none",children:(0,a.jsx)(s.g,{icon:G.MjD})}),(0,a.jsx)(U.p,{ref:j,placeholder:c.Ru._({id:"Mm1grj"}),value:l,onChange:e=>{f(e.target.value),S()},onClick:F.dG,onMouseDown:F.dG,onKeyDown:e=>{let t=A(e);(null==t?void 0:t.action)==="clearSearch"&&f("")},onFocus:k,borderRadius:"md","data-slash-menu-search-input":!0})]})}),D?(0,a.jsx)(i.a,{p:3,color:n?"titanium.300":"deepocean.950",children:(0,a.jsx)(R.x6,{id:"rj6/sx",values:{searchTerm:l}})}):(0,a.jsx)(i.a,{maxH:"50vh",overflowY:"auto",ref:L,children:(0,a.jsx)(d.qF,{children:(0,a.jsx)(d.QE,{border:"none",borderRadius:"none",children:v.map((e,t)=>{let{name:n,icon:i,iconStyle:l,image:c,shortcut:u,creditType:p,badge:m}=e;return(0,a.jsxs)(d.nh,{ref:t===w?e=>{C.current=e}:null,icon:c?(0,a.jsx)(r._,{h:"1.5em",w:"1.25em",objectFit:"contain",src:c.src}):i?(0,a.jsx)(s.g,{icon:i,rotation:null==l?void 0:l.rotation,size:"1x",fixedWidth:!0,color:"var(--chakra-colors-trueblue-600)"}):(0,a.jsx)(a.Fragment,{}),tabIndex:t===w?0:-1,onClick:()=>y(t),onMouseMove:()=>E(t),onMouseDown:F.dG,onKeyDown:e=>I(e,t),command:u,children:[n(),p&&(0,a.jsx)(h.G,{type:p,colorScheme:"blackAlpha",bg:"whiteAlpha.800"}),m&&(0,a.jsx)(o.E,{ms:2,colorScheme:"green",children:m()})]},t)})})})})]})},Z=e=>{switch(e){case"aiGenerated":default:return _.L;case"web":return"image.web";case"pictographic":return"image.pictographic";case"giphy":return"image.giphy";case"unsplash":return"image.unsplash"}},q=e=>(0,B.Vo)()[e],$=e=>{var t;let{editor:n,dir:i,slashMenuOpen:r,setSlashMenuOpen:o}=e,c=(0,M.V)(),u=(0,z.GV)(H.SJ),{selection:p}=n.state;if(!p.empty)return null;let h=(0,D.eL)(n.state.doc.resolve(p.from),e=>"table"===e.type.name),m=null!=(t=O(n,u))&&t;return(0,a.jsx)(d.L8,{isDark:m,children:(0,a.jsx)(w.z,{spacing:2,dir:i,color:"gray.400","data-print-hidden":!0,position:"absolute",inset:"0",contentEditable:!1,overflow:"hidden",fontFamily:"body",fontSize:"0.8em",onMouseDown:F.Fw,pointerEvents:"none",userSelect:"none","data-guider-highlight":"slash-menu-prompt",className:"slash-menu-prompt",children:(0,a.jsxs)(w.z,{spacing:2,width:"100%",children:[(0,a.jsx)(l.E,{whiteSpace:"nowrap",className:"slash-menu-placeholder-long",children:(0,a.jsx)(R.x6,{id:"ll36Dw",components:{0:(0,a.jsx)(C.u,{})}})}),(0,a.jsx)(l.E,{whiteSpace:"nowrap",className:"slash-menu-placeholder-short",children:(0,a.jsx)(R.x6,{id:"RcqUBT",components:{0:(0,a.jsx)(C.u,{})}})}),(0,a.jsxs)(j.e,{variant:"plain",size:"xs",spacing:1,pointerEvents:"auto",children:[(0,a.jsxs)(A.A,{isOpen:r,onClose:()=>{o(!1),n.chain().focus().run()},onOpen:()=>o(!0),isLazy:!0,children:[(0,a.jsx)(d.Tz,{label:(0,a.jsx)(R.x6,{id:"NZGeUO"}),shortcut:"Type '/'",placement:"top",shouldWrapChildren:!0,children:(0,a.jsx)(k.W,{children:(0,a.jsx)(S.$,{color:m?"gray.400":"gray.700",borderColor:m?"gray.600":"gray.300",backgroundColor:"transparent",children:(0,a.jsxs)(w.z,{children:[(0,a.jsx)(s.g,{icon:L.sUV}),(0,a.jsx)("span",{className:"slash-menu-button-text",children:(0,a.jsx)(R.x6,{id:"4gCq8e"})})]})})})}),(0,a.jsx)(I.Z,{children:(0,a.jsx)(E.h,{borderRadius:"lg",boxShadow:"0px 8px 16px rgba(0, 0, 0, 0.15)",children:(0,a.jsx)(Q,{isCardDark:m,editor:n})})})]}),(0,a.jsx)(d.Tz,{label:(0,a.jsx)(R.x6,{id:"7PxiS5"}),placement:"top",shouldWrapChildren:!0,shortcut:"/image",children:(0,a.jsx)(S.$,{color:m?"gray.400":"gray.700",borderColor:m?"gray.600":"gray.300",backgroundColor:"transparent",onClick:()=>{let e=q(Z(c.imageProvider));e&&((0,x.Jb)(e,g.oU.BLOCK_PROMPT),e.execute(n))},children:(0,a.jsxs)(w.z,{children:[(0,a.jsx)(s.g,{icon:L.Cyq}),(0,a.jsx)("span",{className:"slash-menu-button-text",children:(0,a.jsx)(R.x6,{id:"P5MuiB"})})]})})}),!h&&(0,a.jsx)(d.Tz,{label:(0,a.jsx)(R.x6,{id:"hLgX3L"}),placement:"top",shouldWrapChildren:!0,shortcut:"/table",children:(0,a.jsx)(S.$,{color:m?"gray.400":"gray.700",borderColor:m?"gray.600":"gray.300",backgroundColor:"transparent",onClick:()=>{let e=q("table2");e&&((0,x.Jb)(e,g.oU.BLOCK_PROMPT),e.execute(n))},children:(0,a.jsxs)(w.z,{children:[(0,a.jsx)(s.g,{icon:L.w97}),(0,a.jsx)("span",{className:"slash-menu-button-text",children:(0,a.jsx)(R.x6,{id:"ttzhtD"})})]})})})]})]})})})}},21290:(e,t,n)=>{"use strict";n.d(t,{C9:()=>a,PX:()=>i,bc:()=>r});let a="10vh",i="20vh",r="80vh"},21699:(e,t,n)=>{"use strict";n.d(t,{Ms:()=>r,Qj:()=>i});var a=n(63867);let i=e=>{let t=e.state.selection;return t instanceof a.U3&&!t.empty},r=e=>e.some(e=>e.spec.isFocusedInside)},21982:(e,t,n)=>{"use strict";n.d(t,{Hy:()=>E,Pf:()=>L,Td:()=>I,v9:()=>R});var a=n(6029),i=n(4192),r=n(3276),o=n(48810),l=n(40452),s=n(57405),d=n(26420),c=n(58959),u=n(51684),p=n(99492),h=n(48621),m=n(19564),g=n(55729),x=n(25839),f=n(91792),b=n(9329),v=n(53996),y=n(83004);function w(){let e=(0,b._)(["\n      from {transform: rotate(-5deg) scale(1)}\n        to {transform: rotate(5deg) scale(1.2)}\n  "]);return w=function(){return e},e}let C=e=>{let{provider:t,color:n="gray"}=e,i=(0,y.i7)(w()),l="aiGenerated"===t?p._$C:p.$UM;return(0,a.jsxs)(v.o,{className:"image-loading-spinner",children:[(0,a.jsx)(r.y,{color:"".concat(n,".300"),thickness:"3px",size:"xl",position:"absolute",speed:"0.7s",emptyColor:"transparent"}),(0,a.jsx)(o.E,{color:"".concat(n,".400"),position:"absolute",lineHeight:"2",fontSize:"lg",animation:"".concat(i," infinite alternate 700ms ease-out"),children:(0,a.jsx)(h.g,{icon:l,fixedWidth:!0})})]})};var j=n(43634),A=n(61651),k=n(62917),S=n(84343);let I=e=>{let{removeBackground:t=!1,scootRight:n=!1}=e;return(0,a.jsxs)(i.vw,{size:"sm",variant:"subtle",colorScheme:"gray",pos:"absolute",top:4,left:4,p:1,ml:28*!!n,children:[(0,a.jsx)(r.y,{color:"gray.600",size:"xs"}),t&&(0,a.jsx)(o.E,{as:"span",ml:1,fontFamily:"body",children:(0,a.jsx)(m.x6,{id:"gVcJ1/"})})]})},E=()=>(0,a.jsx)(i.vw,{size:"sm",variant:"subtle",colorScheme:"red",pos:"absolute",top:4,left:4,children:(0,a.jsxs)(i.d1,{children:[(0,a.jsx)(h.g,{icon:p.tUE})," ",(0,a.jsx)(m.x6,{id:"rmh/nq"})]})}),L=(0,g.memo)(e=>{let{children:t,icon:n=u.Cyq,isLoading:i=!1,isUploading:r=!1,hasUploadError:p=!1,isAccentImageDrawer:m=!1,loadingProvider:b,openEditBackgroundDrawer:v,onSelectAndFocus:y,defaultSource:w,hasQuickActions:L=!1,handleDoubleClick:R,promptPreview:D,...M}=e,[_,z]=(0,g.useState)(!1),T=(0,x.GV)(j.nD),N=(0,f.rd)();return(0,g.useEffect)(()=>{w&&!1===(0,k.Ub)(w)?z(!1):L&&T?z(!0):z(!1)},[w,L,T]),(0,a.jsxs)(l.s,{"data-testid":"media-placeholder","data-test-media-source":w,color:N?A.N.DARK_COLOR:A.N.LIGHT_COLOR,align:"center",justify:"center",p:3,bg:N?A.N.DARK_BG:A.N.LIGHT_BG,className:"placeholder","data-drag-handle":!0,"data-export-as-image":!0,position:"relative",cursor:"default",sx:{containerType:"size","@container (width < 150px) or (height < 140px)":{".quick-actions":{display:"none"},".ai-image-loading-spinner":{transform:"scale(0.5)"}}},onDoubleClick:R,transition:"background-color 0.2s",...M,children:[!i&&(0,a.jsxs)(s.T,{pointerEvents:"none",children:[(0,a.jsx)(d.a,{color:N?A.N.DARK_ICON_COLOR:A.N.LIGHT_ICON_COLOR,sx:{"@container (0px <= width <= 32px) or (height < 100px)":{fontSize:"sm"},"@container (32px < width <= 80px)":{fontSize:"2xl"},fontSize:"4xl"},children:(0,a.jsx)(h.g,{icon:n,fixedWidth:!0})}),_&&(0,a.jsx)(c.z,{pointerEvents:"auto",className:"quick-actions",children:(0,a.jsx)(S.Z,{onSelectImage:y,isAccentImageDrawer:m,openEditBackgroundDrawer:v})})]}),i&&(0,a.jsxs)(s.T,{children:[(0,a.jsx)(C,{provider:b}),D&&(0,a.jsx)(o.E,{fontSize:"1em",mt:"1em",children:D})]}),r&&(0,a.jsx)(I,{}),p&&(0,a.jsx)(E,{}),t]})});L.displayName="MediaPlaceholderImage";let R={minW:16,minH:16,bg:"gray.200"}},22004:(e,t,n)=>{"use strict";n.d(t,{f:()=>f});var a=n(37243),i=n(83902),r=n(41896),o=n(12117),l=n(46957),s=n(6029),d=n(55729),c=n(20887),u=n(54765),p=n(71737),h=n(15587),m=n(66082),g=n(21699);let x=e=>{let{node:t,decorations:n,editor:a}=e,i=(0,h.v)(n),o=(0,g.Ms)(n),l=(0,m.fZ)(n),{horizontalAlign:x,fontSize:f,placeholder:b}=t.attrs,v=(0,m.yp)(x),y="left"===x&&"ltr"===l||"right"===x&&"rtl"===l,[w,C]=(0,d.useState)(!1),j=o&&i&&(!x||y)&&!(0,p.NO)(a)&&!b||w;return(0,s.jsxs)(u.u,{...e,style:{position:"relative"},children:[(0,s.jsx)(r.$p,{dir:l,"data-font-size":f,"data-multiline-placeholder":b,style:{textAlign:v.textAlign}}),j&&(0,s.jsx)(c.B,{...e,dir:l,slashMenuOpen:w,setSlashMenuOpen:C})]})},f=i.A.extend({name:"paragraph",group:"block cardNotesBlock",selectable:!1,addNodeView:()=>(0,r.gu)(x,{update:l.z0}),allowFontSizes:"body",addAttributes:()=>({fontSize:o.mD}),parseHTML:()=>[{tag:"p"}],renderHTML(e){let{HTMLAttributes:t}=e;return["p",(0,a.KV)(t,{class:"paragraph"}),0]},renderHTMLforAI(e){let{HTMLAttributes:t}=e;return["p",t,0]}})},22115:(e,t,n)=>{"use strict";n.d(t,{tz:()=>D,EF:()=>M,pO:()=>_});var a=n(6029),i=n(78140),r=n(41283),o=n(96500),l=n(48810),s=n(26420),d=n(85595),c=n(58959),u=n(12514),p=n(99492),h=n(55597),m=n(48621),g=n(55729),x=n(5061);let f={x:-1e3,y:-1e3};function b(e){return"items"in e}function v(e){return"check"in e}function y(e){return"label"in e}function w(e){return"divider"in e}let C=e=>{let{initial:t,top:n,bottom:a}=e,i=Math.abs(n.x-t.x),r=Math.abs(n.y-t.y),o=Math.abs(a.y-t.y);return 0===i?{alpha:0,beta:0}:{alpha:Math.atan(r/i),beta:Math.atan(o/i)}},j=e=>{let{menuItems:t,position:n,isOpen:a,onClose:i}=e,r=(0,g.useRef)(null),o=(0,g.useRef)(new Map),[l,s]=(0,g.useState)([]),{itemsIndex:d,itemsHash:c,getItemFromKey:u}=function(e){let t=new Map,n=(e,t)=>{let n=null;for(let a of e){if(!(n=t[a]))throw console.log(e,a),Error("item not found");t=b(n)?n.items:[]}if(!n)throw console.log(e),Error("item not found");return n},a=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];e.forEach((e,i)=>{if(!y(e))return;let r=e.key;if(t.has(r))throw console.log(t.get(r)),Error("duplicated key=".concat(r));let o=[...n,i];t.set(r,o),b(e)&&a(e.items,o)})};a(e);let i=[...t.entries()].map(e=>{let[t,n]=e;return"".concat(t,":").concat(n.join("|"))}).join(",");return{itemsIndex:t,itemsHash:i,getItemFromKey:(e,a)=>n(t.get(e)||[],a)}}(t),p=(0,g.useCallback)(e=>{var n,a,i,c,p,h,m,g;let x=e.target;if(!(x instanceof HTMLElement))return;let f=null==x?void 0:x.closest("[data-menu-item-key]"),v=null==x?void 0:x.closest("[data-menu-id]");if(!(v instanceof HTMLElement)||!(f instanceof HTMLElement))return;let y=(null==v?void 0:v.getAttribute("data-menu-id"))||"",w=(null==f?void 0:f.getAttribute("data-menu-item-key"))||"";if(!y||!w)return;let j=o.current.get(y);if(!j)return;let{trigger:A,hideTimer:k}=j,S="".concat(y,":").concat(w),I=null==(n=d.get(w))?void 0:n.length,E=null!=(h=o.current.get(I&&(null==(a=l[I])?void 0:a.key)||""))?h:{},{element:L,key:R,hideTimer:D}=null!=E?E:{},M=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500;E.hideTimer=setTimeout(()=>{s(e=>{let t=e.splice(0,I);return e.forEach(e=>{let{key:t}=e,n=o.current.get(t);n&&(n.hideTimer&&clearTimeout(n.hideTimer),o.current.delete(t))}),t})},e)};if(k&&(clearTimeout(k),j.hideTimer=void 0),w===R){j.trigger={x:e.clientX,y:e.clientY},D&&(clearTimeout(D),E.hideTimer=void 0);return}if(L&&A&&function(e){let{el:t,initial:n,currentCoords:a}=e;if(!t||t.offsetTop<0||t.offsetLeft<0||t.offsetLeft<n.x&&a.x>n.x||t.offsetLeft>n.x&&a.x<n.x)return!1;let i={x:0};t.offsetLeft<n.x&&(i.x+=t.offsetWidth);let r=C({initial:n,top:{y:t.offsetTop,x:t.offsetLeft+i.x},bottom:{y:t.offsetTop+t.offsetHeight,x:t.offsetLeft+i.x}}),o=Math.atan(Math.abs(n.y-a.y)/Math.abs(a.x-n.x));return a.y<n.y?o<r.alpha:o<r.beta}({el:L,initial:A,currentCoords:{x:e.clientX,y:e.clientY}})){D||M();return}if(r.current===S)return;if(r.current=S,!b(u(w,t))){I&&l[I]&&M(0);return}k&&(clearTimeout(k),j.hideTimer=void 0);let _=l.find(e=>{let{key:t}=e;return t===y});if(!_)return void console.error("menu not found",{openMenus:{...l},menuKey:y});let z=_.position,T={x:(null!=(m=null==(i=j.element)?void 0:i.offsetLeft)?m:z.x)+((null==(c=j.element)?void 0:c.offsetWidth)||0),y:f.offsetTop+(null!=(g=null==(p=j.element)?void 0:p.offsetTop)?g:z.y)};j.trigger={x:e.clientX,y:e.clientY},s(e=>{var t;let n=e.slice(0,I);return n.push({key:w,position:T,offset:{x:(null==(t=j.element)?void 0:t.offsetWidth)||f.offsetWidth,y:-1*f.offsetHeight}}),o.current.has(w)||o.current.set(w,{}),o.current.get(w).key=w,n})},[l,c]);return(0,g.useEffect)(()=>(window.addEventListener("mousemove",p),()=>{window.removeEventListener("mousemove",p)}),[p]),(0,g.useEffect)(()=>{!1===a?(s([]),o.current=new Map):s([{key:"_root",position:n,offset:{x:0,y:0}}]);let e=e=>{var t;a&&((null==(t=e.target)?void 0:t.closest("[data-menu-id]"))||i())};return window.addEventListener("mousedown",e),()=>{window.removeEventListener("mousedown",e)}},[a,i]),(0,g.useEffect)(()=>{s(e=>(e.length&&(e[0].position={x:n.x,y:n.y}),e))},[n.x,n.y]),{setMenuRef:e=>t=>{o.current.has(e)||o.current.set(e,{}),o.current.get(e).element=t},openMenus:l,getMenuItems:function(e){if("_root"===e)return t;let n=u(e,t);return b(n)?n.items:[]}}};var A=n(12364),k=n.n(A);let S=e=>{let{element:t,position:n,offset:a={x:0,y:0},isRtl:i=!1}=e,[r,o]=(0,g.useState)({width:window.innerWidth,height:window.innerHeight}),[l,s]=(0,g.useState)({x:n.x,y:n.y}),d=(0,g.useCallback)(e=>{let{width:t,height:o}=r;if(n.x<0||n.y<0)return;let d={x:0,y:0};i?(d.x=-((e.offsetWidth+a.x)*1),n.x+d.x<=0&&(d.x=0)):e.offsetWidth+n.x>t&&(d.x=-((e.offsetWidth+a.x)*1)),e.offsetHeight+n.y>o&&(d.y=-((e.offsetHeight+a.y)*1));let c={x:n.x+d.x,y:n.y+d.y};(c.x!==l.x||c.y!==l.y)&&s(c)},[r,n.x,n.y,i,l.x,l.y,a.x,a.y]);return(0,g.useEffect)(()=>{let e=k()(()=>{o({width:window.innerWidth,height:window.innerHeight})},150);return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]),(0,g.useEffect)(()=>{t&&d(t)},[d,t]),{calculatePosition:d,position:l}},I=(0,g.forwardRef)((e,t)=>{let{isOpen:n,onClose:u,menuItems:h,position:f,parentOffset:C={x:0,y:0},id:j,activeElement:A,size:k="medium"}=e,I=(0,x.fW)(),L=(0,g.useRef)(null),{position:D,calculatePosition:M}=S({element:L.current,position:f,offset:C,isRtl:I}),_=()=>{var e;let n=(null==(e=L.current)?void 0:e.parentNode)||null;"function"==typeof t?t(n):t&&(t.current=n)};(0,g.useEffect)(()=>{t&&_()},[t]);let z=h.map(e=>w(e)?"divider":e.key).join(",");(0,g.useEffect)(()=>{L.current&&M(L.current)},[z,f]);let T=(0,g.useMemo)(()=>h.filter(e=>y(e)),[h]),N=!!T.find(e=>v(e)),P=!!T.find(e=>e.icon);return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(i.W,{isOpen:n,onClose:u,closeOnBlur:!1,closeOnSelect:!0,children:(0,a.jsx)(r.c,{"data-menu-id":j,zIndex:"tooltip",rootProps:{style:{top:D.y,left:D.x}},ref:e=>{L.current=e,_(),e&&M(e)},fontSize:"small"===k?"sm":"large"===k?"lg":"md",children:h.map((e,t)=>w(e)?(0,a.jsx)(o.c,{color:"gray.300",my:"small"===k?1:"large"===k?3:2},"divider-".concat(t)):"title"in e?(0,a.jsx)(l.E,{color:"gray.500",ps:3,children:e.title},e.key):"element"in e?(0,a.jsx)(s.a,{children:e.element(u)},e.key):(0,a.jsx)(d.D,{py:"small"===k?1:"large"===k?3:2,cursor:"pointer",icon:(0,a.jsx)(E,{item:e,menuHasIcons:P,menuHasChecked:N}),background:(y(e)?e.background:void 0)||(A===e.key?"gray.50":void 0),closeOnSelect:!b(e),onClick:b(e)?void 0:e.onClick,isDisabled:e.disabled,color:e.color,"data-menu-item-key":e.key,children:(0,a.jsxs)(c.z,{width:"100%",pointerEvents:"none",children:[(0,a.jsx)(s.a,{flexGrow:2,children:e.label}),e.rightIcon&&(0,a.jsx)(s.a,{flexGrow:0,ps:2,children:(0,a.jsx)(R,{icon:e.rightIcon})}),b(e)&&(0,a.jsx)(s.a,{flexGrow:0,ps:2,children:(0,a.jsx)(m.g,{icon:I?p.Uec:p.vmR})})]})},e.key))})})})});I.displayName="ContextMenuInner";let E=e=>{let{item:t,menuHasIcons:n,menuHasChecked:i}=e;return(0,a.jsx)(c.z,{justifyContent:"center",children:(0,a.jsxs)(a.Fragment,{children:[i&&(0,a.jsx)(L,{item:t}),n&&(0,a.jsx)(R,{icon:t.icon})]})})},L=e=>{let{item:t}=e;return v(t)&&t.check?"multiple"===t.check?(0,a.jsx)(m.g,{icon:h.EZy,width:"1em"}):(0,a.jsx)(m.g,{icon:h.e68,width:"1em"}):(0,a.jsx)(s.a,{width:"1em"})},R=e=>{let{icon:t}=e;return t?"icon"in t?(0,a.jsx)(m.g,{icon:t,width:"1em"}):t:(0,a.jsx)(s.a,{width:"1em"})},D=e=>{let{onClose:t,isOpen:n,menuItems:i,position:r,size:o="medium"}=e,{setMenuRef:l,openMenus:s,getMenuItems:d}=j({isOpen:n,onClose:t,menuItems:i,position:r});return(0,a.jsx)(u.Z,{appendToParentPortal:!1,children:[...s,null].map((e,n)=>{var i,r;return null===e?(0,a.jsx)(I,{id:"placeholder",menuItems:[],position:f,isOpen:!1,onClose:t,size:o},"menu-".concat(n)):(0,a.jsx)(I,{id:e.key,activeElement:null!=(r=null==(i=s[n+1])?void 0:i.key)?r:void 0,menuItems:d(e.key),position:e.position,parentOffset:e.offset,isOpen:!0,onClose:t,ref:l(e.key),size:o},"menu-".concat(n))})})},M=()=>{let[e,t]=(0,g.useState)(f),[n,a]=(0,g.useState)(!1);return{onContextMenu:e=>{e.stopPropagation(),e.preventDefault(),t({x:e.clientX,y:e.clientY}),a(!0)},menuProps:{isOpen:n,position:e,onClose:()=>{a(!1),t(f)}}}},_=e=>{let[t,n]=(0,g.useState)(!1),[a,i]=(0,g.useState)(f);return{onContextMenu:a=>{if(a.stopPropagation(),a.preventDefault(),e.current){let t=e.current.getBoundingClientRect();i({x:t.left,y:t.bottom})}n(!t)},menuProps:{isOpen:t,position:a,onClose:()=>{n(!1),i(f)}}}}},22445:(e,t,n)=>{"use strict";n.d(t,{E:()=>l});var a=n(27229),i=n(55729),r=n(74158),o=n(4007);let l=e=>{let{id:t,...n}=e,{isOpen:l,onOpen:s,onClose:d}=(0,a.j)(n),c=(0,r.wA)();return(0,i.useEffect)(()=>{t&&c((0,o.WI)({id:t,isOpen:l}))},[l,c,t]),(0,i.useEffect)(()=>()=>{t&&c((0,o.WI)({id:t,isOpen:!1}))},[c,t]),{isOpen:l,onOpen:s,onClose:d}}},22911:(e,t,n)=>{"use strict";n.d(t,{F:()=>o,L:()=>r});var a=n(6700),i=n(91938);let r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(!e)return"unknown";try{let i=new URL(e),r=(0,a.removeWWWPrefix)(i.hostname);if(n.includes(r))return"trusted";let o=t.find(t=>t.url===e);if(!o)return"unknown";if(3===o.status)return"untrusted";if(2===o.status)return"unknown";if(1===o.status)return"trusted";o.status}catch(t){console.error("[getLinkTrustLevel] Error checking link",e,t)}return"unknown"},o=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(!e)return"";let a=r(e,t,n);return"trusted"===a?e:"untrusted"===a?"".concat(i.$.FRONTEND_URL,"/[untrusted-url]"):"".concat(i.$.FRONTEND_URL,"/external-link?url=[").concat(encodeURIComponent(e),"]")}},23050:(e,t,n)=>{"use strict";n.d(t,{B2:()=>o,Hb:()=>i,g_:()=>r});var a=n(63867);let i="+++",r="/continue",o=1500;new a.hs("autocomplete")},23103:(e,t,n)=>{"use strict";n.d(t,{B:()=>r,l:()=>o});var a=n(91938),i=n(87996);let r=e=>e&&i.Dc[e]?i.Dc[e]:i.Jp,o=e=>"".concat(a.$.EMBED_PROXY_URL,"?alt_url=").concat(e)},23201:(e,t,n)=>{"use strict";n.d(t,{OG:()=>c});var a=n(67604),i=n(6936),r=n(23439),o=n(68450),l=n(7240),s=n(14816),d=n(88608);let c=e=>{try{let t=(0,d.R6)(),n=(0,a.A)(e),c=(0,i.A)(n,0);if((0,r.A)(n)||(0,o.A)(n))return(0,l.A)(c,new Date,{locale:t});return"".concat((0,s.A)(n,"PPp",{locale:t}))}catch(e){return console.error("[normalizeDate] Error normalizing date:",e),"date unknown"}}},23513:(e,t,n)=>{"use strict";n.d(t,{i:()=>u,n:()=>c});var a=n(15902),i=n(63867),r=n(62040);let o=(e,t,n)=>t&&i.nh.isSelectable(t)?i.nh.create(e,n):null,l=(e,t,n)=>t&&t.inlineContent?i.U3.create(e,n):null;function s(e,t,n){return e&&n?n:e&&t?t:!e&&t?t:!e&&n?n:null}function d(e,t){let{doc:n,pos:r,parent:d,nodeAfter:c,nodeBefore:u}=e;if(d.inlineContent)return i.U3.create(n,r);let p=t>0,h=s(p,l(n,u,r-1),l(n,c,r+1));if(h)return h;if(a.n.valid(e))return new a.n(e);if(d.type.spec.isolating){let t=s(p,o(n,u,r-((null==u?void 0:u.nodeSize)||0)),o(n,c,r));if(t)return t;if(0===d.childCount&&i.nh.isSelectable(d))return i.nh.create(n,e.before())}return null}function c(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=d(e,t);if(n)return n;for(let n=e.depth-1;n>=0&&!e.node(n+1).type.spec.isolating;n--){let a=t<0?e.before(n+1):e.after(n+1),i=d(e.doc.resolve(a),t);if(i)return i}return null}let u=(e,t)=>{let n,a=e.steps.length-1,i=e.steps[a];return i instanceof r.Ln||i instanceof r.Wg?(e.mapping.maps[a].forEach((e,t,a,i)=>{null==n&&(n=i)}),null==n)?null:c(e.doc.resolve(n),t):null}},23624:(e,t,n)=>{"use strict";n.d(t,{N:()=>i});var a=n(6029);n(55729);class i{render(){var e,t,n;let i=this.component,r=this.props;("function"==typeof i&&i.prototype&&i.prototype.isReactComponent||"object"==typeof i&&(null==(n=i.$$typeof)?void 0:n.toString())==="Symbol(react.forward_ref)")&&(r.ref=e=>{this.ref=e}),this.reactElement=(0,a.jsx)(i,{...r}),this.updateWrapperEl&&this.updateWrapperEl(this.element,r),null==(t=this.editor)||null==(e=t.contentComponent)||e.setRenderer(this.id,this)}updateProps(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.props={...this.props,...e},this.render()}destroy(){var e,t;null==(t=this.editor)||null==(e=t.contentComponent)||e.removeRenderer(this.id)}constructor(e,{editor:t,props:n={},as:a="div",className:i="",updateWrapperEl:r}){this.ref=null,this.id=Math.floor(0xffffffff*Math.random()).toString(),this.component=e,this.editor=t,this.props=n,this.updateWrapperEl=r,this.element=document.createElement(a),this.element.classList.add("react-renderer"),i&&this.element.classList.add(...i.split(" ")),this.render()}}},23746:(e,t,n)=>{"use strict";n.d(t,{EB:()=>d,Gx:()=>a,Up:()=>l,uQ:()=>r,zQ:()=>i});let a="themed-clickable-box",i={transitionProperty:"transform",transitionDuration:"normal"},r={transform:"scale(1.03)",_before:{content:'""',position:"absolute",inset:0,borderRadius:"inherit",boxShadow:"inset 0 0 0 500px var(--expandable-hover-background)",pointerEvents:"none"}},o={border:"var(--shape-border-width) solid var(--neutral-border-color)",borderRadius:"var(--box-border-radius)",backgroundColor:"var(--clickable-background-color)",boxShadow:"var(--clickable-shadow)",backdropFilter:"var(--card-backdrop-filter)","@media print":{boxShadow:"none"}},l={_hover:{transform:"scale(1.1)"},color:"var(--link-color)",height:"auto",padding:"0.7em",paddingY:"0.2em",minW:"2.5em",position:"relative"},s=(e,t)=>({...i,...o,_hover:t?void 0:r,"@media print":{boxShadow:"none"}}),d=(e,t)=>({[".".concat(a)]:s(e,t)})},23907:(e,t,n)=>{"use strict";n.d(t,{z:()=>W});var a=n(6029),i=n(26385),r=n(61204),o=n(16936),l=n(99430),s=n(96500),d=n(40452),c=n(49611),u=n(99492),p=n(48621),h=n(48342),m=n(19564),g=n(77650),x=n(12180),f=n(27002),b=n(74471),v=n(66082),y=n(58959),w=n(48810),C=n(29810),j=n(26420);let A=e=>{let{label:t,control:n,icon:i}=e;return(0,a.jsxs)(y.z,{spacing:4,children:[i,(0,a.jsx)(w.E,{children:t}),(0,a.jsx)(C.h,{}),(0,a.jsx)(j.a,{children:n})]})};function k(e,t){return function(n,a,i){var r;return t({chartAttributes:{...i,[e]:{...null!=(r=i[e])?r:{},[n]:a}}})}}let S=e=>{var t;let{chartType:n,attributes:i,updateAttributes:r}=e,o=i.chartAttributes||{},s=o[n],d=k(n,r);return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(A,{label:g.Ru._({id:"Y7a6MU"}),control:(0,a.jsx)(l.d,{isChecked:null==(t=null==s?void 0:s.axisPullToZero)||t,onChange:e=>d("axisPullToZero",e.target.checked,o)})})})},I=e=>{let{chartType:t="bar",...n}=e;return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(S,{chartType:t,...n})})};var E=n(68917),L=n(78140),R=n(36999),D=n(41283),M=n(37930),_=n(48478);let z=e=>{var t;let{attributes:n,updateAttributes:i}=e,r=n.chartAttributes||{},o=r.pie||{},l=k("pie",i),s=null!=(t=o.legendPosition)?t:"bottom",d={top:g.Ru._({id:"WWy8TN"}),right:g.Ru._({id:"nOPbWJ"}),bottom:g.Ru._({id:"zsiX7I"}),left:g.Ru._({id:"UlKSMd"})},u=e=>void 0===d[e]?"bottom":e;return(0,a.jsx)(A,{label:g.Ru._({id:"G4H8LE"}),control:(0,a.jsxs)(L.W,{isLazy:!0,children:[(0,a.jsx)(R.I,{as:c.$,variant:"plain",size:"sm",w:40,boxShadow:"none",textAlign:"left",rightIcon:(0,a.jsx)(E.D,{}),sx:{"span:first-of-type":{overflow:"clip",textOverflow:"ellipsis"}},children:d[s]}),(0,a.jsx)(D.c,{zIndex:"modalPopover",children:(0,a.jsx)(M.i,{value:s,type:"radio",onChange:e=>{l("legendPosition",u(Array.isArray(e)?e[0]:e),r)},children:Object.entries(d).map(e=>{let[t,n]=e;return(0,a.jsx)(_.k,{value:t,children:(0,a.jsx)(y.z,{children:(0,a.jsx)(w.E,{children:n})})},t)})})})]})})},T={pie:z,donut:z,line:e=>{let{...t}=e;return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(S,{chartType:"line",...t})})},bar:I,"horizontal-bar":e=>(0,a.jsx)(I,{...e,chartType:"horizontal-bar"})};var N=n(55729),P=n(33612),O=n.n(P),H=n(94297),F=n(14300);let B=e=>{let{accentColor:t,selected:n,onChange:i,steps:r=5}=e,o=Array(r).fill(0).map((e,t)=>t),l=(0,N.useMemo)(()=>Object.fromEntries(Object.entries(x.fA).map(e=>{let[n,{label:a}]=e;return[n,{label:a,scale:(0,H.M)(t,o,n)}]})),[t,r]);n&&!l[n]&&(n=void 0);let s=g.Ru._({id:"ovBPCi"});return(0,a.jsx)(A,{icon:(0,a.jsx)(p.g,{icon:u.wIs}),label:g.Ru._({id:"tvmuQ0"}),control:(0,a.jsxs)(L.W,{isLazy:!0,children:[(0,a.jsx)(R.I,{as:c.$,variant:"plain",size:"sm",w:40,boxShadow:"none",textAlign:"left",rightIcon:(0,a.jsx)(E.D,{}),sx:{"span:first-of-type":{overflow:"clip",textOverflow:"ellipsis"}},children:n?l[n].label():s}),(0,a.jsx)(D.c,{zIndex:"modalPopover",children:(0,a.jsx)(M.i,{value:n||"default",type:"radio",onChange:e=>{i("default"===e?void 0:e)},children:Object.entries({default:{...l[x.gb],label:()=>s},...l}).map(e=>{let[i,{label:r,scale:l}]=e;return 1.5>[...l.values()].map(e=>O().readability(e,t)).reduce((e,t)=>Math.max(e,t),0)&&i!==n?null:(0,a.jsx)(_.k,{value:i,children:(0,a.jsxs)(y.z,{children:[(0,a.jsx)(w.E,{children:r()}),(0,a.jsx)(C.h,{}),(0,a.jsx)(V,{scale:l,data:o})]})},i)})})})]})})},V=e=>{let{scale:t,data:n}=e;return(0,a.jsx)(y.z,{spacing:1,children:n.map(e=>(0,a.jsx)(F.V,{color:t.get(e),size:F.E.small,tooltipIsDisabled:!0},e))})},W=e=>{let{attributes:t,updateAttributes:n,accentColor:y,setEditing:w,editor:C}=e,j=T[t.chartType],{data:k}=t,S=(0,f.u)("chartInlineLabels");return(0,a.jsxs)(i.B,{spacing:0,children:[(0,a.jsxs)(i.B,{spacing:4,p:4,children:[(0,a.jsx)(r.e,{mb:2,children:Object.entries(x.XD).map(e=>{let[i,{icon:r,selectedIcon:l,label:s}]=e,d=t.chartType===i;return(0,a.jsx)(h.Tz,{placement:"top",label:s(),children:(0,a.jsx)(o.K,{"aria-label":s(),flex:1,variant:"plain",size:"md",icon:d?l:r,boxShadow:"none",background:d?"trueblue.50":"white",color:d?"trueblue.400":"gray.600",onClick:()=>n({chartType:i})})},"".concat(s()))})}),(0,a.jsx)(B,{accentColor:y,selected:t.colorScheme,steps:5,onChange:e=>{n({colorScheme:e})}}),(0,a.jsx)(A,{icon:(0,a.jsx)(p.g,{icon:u.n2$}),label:g.Ru._({id:"sgzcYD"}),control:(0,a.jsx)(l.d,{isChecked:!t.hideLabels,onChange:e=>n({hideLabels:!e.target.checked})})}),S&&(0,a.jsx)(A,{icon:(0,a.jsx)(p.g,{icon:u.jon}),label:g.Ru._({id:"hw0byi"}),control:(0,a.jsx)(l.d,{isChecked:t.showInlineLabels,onChange:e=>n({showInlineLabels:e.target.checked})})}),C&&(0,a.jsx)(A,{icon:(0,a.jsx)(p.g,{icon:u.ecg}),label:g.Ru._({id:"0j+RGO"}),control:(0,a.jsx)(r.e,{dir:"ltr",spacing:1,size:"sm",children:v.gj.map(e=>{let{name:t,icon:n,checkActive:i,apply:r}=e;if(i&&r)return(0,a.jsx)(b.I,{label:t(),icon:n,onClick:()=>{r(C)},isActive:i(C),my:0},t())})})}),j&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.c,{my:3}),(0,a.jsx)(j,{...e})]})]}),w&&(0,a.jsx)(d.s,{px:5,py:3,bg:"gray.50",alignItems:"center",justify:"center",children:(0,a.jsx)(c.$,{variant:"link",size:"sm",colorScheme:"gray",my:0,leftIcon:(0,a.jsx)(p.g,{icon:u.MT7}),onClick:()=>w(!0),children:k?(0,a.jsx)(m.x6,{id:"BhcOHV"}):(0,a.jsx)(m.x6,{id:"UHoZ5e"})})})]})}},24392:(e,t,n)=>{"use strict";n.d(t,{B:()=>a});let a=n(91929).B.extend({addKeyboardShortcuts(){return{"Shift-Enter":()=>this.editor.commands.setHardBreak()}}})},24573:(e,t,n)=>{"use strict";n.d(t,{xT:()=>es,q8:()=>d.q8});var a=n(6029),i=n(48342),r=n(55729);n(87827);var o=n(25839),l=n(95889),s=n(29608),d=n(64310),c=n(67909),u=n(36071),p=n(68728),h=n(40691),m=n(74158),g=n(46091),x=n(45143),f=n(70315),b=n(3912),v=n(6181);let y=(0,f.Ay)("mod+K"),w=e=>{let{isEnabledFn:t=()=>!0,isOpen:n=!1}=e,{user:a}=(0,v.ur)(),i=(0,m.wA)(),o=(0,l.st)();(0,r.useEffect)(()=>{if(!(0,s.Xb)()&&a)return b.WC.on("keydown","GLOBAL_SEARCH",e=>!!y(e)&&!!t()&&(e.preventDefault(),o&&!n&&o.track(l.VV.SEARCH_OPENED,{source:"keyboard_shortcut"}),i((0,d.q8)({isOpen:!n})),!0))},[i,t,a,n,o])};var C=n(40452),j=n(3674),A=n(19564),k=n(33750),S=n.n(k),I=n(6064),E=n(75748),L=n(71595),R=n(6807),D=n(65148),M=n(78686),_=n(72470),z=n(77979),T=n(38036),N=n(3276),P=n(77650);let O=e=>{let{onChange:t,query:n,isDisabled:i,isLoading:o,isFocused:l}=e,d=(0,r.useRef)(null);return(0,r.useEffect)(()=>{d.current&&l&&(d.current.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"}),d.current.focus())},[d,l]),(0,a.jsxs)(_.M,{size:"lg",variant:"unstyled",sx:{input:{paddingInlineStart:12}},children:[(0,a.jsx)(z.W,{p:4,pointerEvents:"none",color:"gray.300",children:(0,a.jsx)(M.W,{})}),(0,a.jsx)(T.p,{isDisabled:i,placeholder:P.Ru._({id:"NiZZRh"}),p:3,border:"none",outline:"none",shadow:"none",value:n,onChange:t,_placeholder:{opacity:1,color:"gray.300"},ref:d}),(0,a.jsx)(z.t,{p:4,pointerEvents:"none",color:"gray.500",opacity:+!!o,transitionProperty:"common",transitionDuration:"normal",marginInlineEnd:8*!!(0,s.Xb)(),children:(0,a.jsx)(N.y,{size:"sm"})})]})};var H=n(72104),F=n(17496),B=n(96500),V=n(58959),W=n(48810),U=n(26476),G=n(29810),K=n(16936);let Q=e=>{let{onClose:t,showTip:n}=e;return(0,a.jsxs)(F.S,{in:n,children:[(0,a.jsx)(B.c,{}),(0,a.jsxs)(V.z,{p:4,px:6,children:[(0,a.jsxs)(W.E,{fontSize:"sm",color:"gray.600",children:[(0,a.jsxs)("span",{role:"img","aria-label":"Wave",children:["\uD83D\uDC4B"," "]}),(0,a.jsx)(A.x6,{id:"3SXj0j",values:{0:(0,i.lp)("Mod+K")},components:{0:(0,a.jsx)(U.u,{})}})]}),(0,a.jsx)(G.h,{}),(0,a.jsx)(K.K,{"aria-label":P.Ru._({id:"yz7wBu"}),icon:(0,a.jsx)(H.U,{boxSize:2.5}),isRound:!0,size:"xs",variant:"ghost",onClick:t})]})]})};var Z=n(26385),q=n(36062),$=n(26420),J=n(48621),Y=n(24729),X=n(70006);let ee=e=>{let{result:t,isActive:n,focusedItemEl:r,onMouseMove:o,onClick:l}=e,{name:s,id:d,slug:c,isMember:u,memberCount:p,members:h}=t;return(0,a.jsx)(q.Q,{children:(0,a.jsxs)(V.z,{ref:n?r:null,className:"search-result",wordBreak:"break-word",onMouseMove:o,p:3,align:"flex-start",alignItems:"center",borderRadius:"md",transitionProperty:"common",transitionDuration:"normal",role:"group",bg:n?"gray.50":"transparent",cursor:"pointer",color:"gray.700",borderWidth:"1px",borderColor:n?"gray.200":"transparent",spacing:{base:0,sm:4},onClick:l,children:[(0,a.jsx)($.a,{p:2,children:(0,a.jsx)(J.g,{icon:Y.$Q})}),(0,a.jsx)(Z.B,{spacing:2,flex:"1",children:(0,a.jsxs)(q.r,{href:(0,X.gU)({id:d,slug:c}),children:[(0,a.jsx)(W.E,{children:s}),(0,a.jsx)(W.E,{fontSize:"sm",color:"gray.400",children:u?(0,a.jsx)(A.x6,{id:"tWPlLK",values:{0:p||0}}):(0,a.jsx)(A.x6,{id:"pkIIls",values:{0:p||0}})})]})}),(0,a.jsx)(G.h,{}),(0,a.jsx)(i.KZ,{overflowTooltipLabel:P.Ru._({id:"25VyZX"}),size:"xs",avatars:h||[],max:3})]})})};var et=n(33787),en=n(16842),ea=n(97139),ei=n.n(ea),er=n(74892),eo=n(27002),el=n(23201);let es=e=>{let{result:t,isActive:n,focusedItemEl:r,onMouseMove:o,onClick:l,context:d="globalSearch"}=e,c=(0,eo.u)("screenshotsEnabled"),{title:u,text:p,previewUrl:h,editors:m,editedTime:g,id:x,createdBy:f}=t,b="mentionsList"===d;return(0,a.jsx)(q.Q,{children:(0,a.jsxs)(V.z,{ref:n?r:null,className:"search-result",wordBreak:"break-word",onMouseMove:o,p:b?0:[2,3],py:b?.5:void 0,align:"flex-start",borderRadius:"md",transitionProperty:"common",transitionDuration:"normal",role:"group",bg:n?"gray.50":"transparent",cursor:"pointer",color:"gray.700",borderWidth:"1px",borderColor:n?"gray.200":"transparent",spacing:{base:0,sm:4},sx:{em:{bg:"var(--chakra-colors-trueblue-100)",fontStyle:"normal",borderRadius:"base",display:"inline-block",padding:"0px 2px",margin:"0px -2px"}},onClick:l,children:[(0,a.jsx)(et._,{display:{base:"none",xs:"block"},h:"100%",src:c?h:er.A.src,w:{base:"0px",sm:"25%"},border:"1px solid",borderColor:"gray.200",borderRadius:"md",shadow:"lg",fallbackSrc:er.A.src}),(0,a.jsxs)(Z.B,{spacing:(0,s.Xb)()?1:2,flex:"1",children:[(0,a.jsxs)(q.r,{href:"globalSearch"===d?(0,X.LN)({docId:x}):void 0,children:[(0,a.jsx)(W.E,{fontSize:"md",fontWeight:"600",noOfLines:b?1:2,dangerouslySetInnerHTML:{__html:u?ei().sanitize(u):""}}),(null==f?void 0:f.displayName)&&(0,a.jsx)(W.E,{fontSize:"xs",color:"gray.600",fontWeight:"500",children:(0,a.jsx)(A.x6,{id:"ab98Hp",values:{0:null==f?void 0:f.displayName}})})]}),(0,a.jsx)(W.E,{fontSize:b?"xs":"sm",noOfLines:2,whiteSpace:"normal",wordBreak:"break-word",dangerouslySetInnerHTML:{__html:p?ei().sanitize(p):""}}),(0,a.jsxs)(V.z,{children:[m&&m.length>0&&(0,a.jsx)(en.Z,{size:"xs",fontSize:"xs",max:5,children:null==m?void 0:m.map(e=>{let{user:t}=e,{id:n,displayName:r,profileImageUrl:o}=t;return(0,a.jsx)(i.Vc,{label:r,src:o,shadow:"base"},n)})}),g&&(0,a.jsx)(W.E,{fontSize:"xs",color:"gray.600",fontWeight:"500",children:(0,a.jsx)(A.x6,{id:"5cC8f2",values:{0:(0,el.OG)(g)}})})]})]})]})})},ed=e=>{let{results:t,focusedIndex:n,focusedItemEl:i,onMouseMove:s}=e,c=(0,o.GV)(d.PC),u=(0,l.st)(),p=(0,r.useRef)(!1),h=(0,r.useRef)(!1),m=(0,r.useCallback)(e=>{u&&(p.current||(p.current=!0,u.track(l.VV.SEARCH_RESULT_SCROLLED,{result_count:t.length})),e.target instanceof HTMLDivElement&&e.target.scrollTop+e.target.clientHeight>=e.target.scrollHeight-100&&!h.current&&(h.current=!0,u.track(l.VV.SEARCH_RESULT_SCROLLED_BOTTOM,{result_count:t.length})))},[u,t.length]),g=(0,L.lW)((0,r.useCallback)((e,n)=>{u&&u.track(l.VV.SEARCH_RESULT_HOVERED,{result_type:e.__typename,result_id:e.id,result_index:n,result_count:t.length})},[u,t.length]),600),x=(0,r.useCallback)((e,n)=>{u&&u.track(l.VV.SEARCH_RESULT_SELECTED,{result_type:e.__typename,result_id:e.id,result_index:n,result_count:t.length})},[u,t.length]);return(0,a.jsx)(Z.B,{spacing:1,px:4,h:["lg","xl"],maxHeight:["lg","xl"],pb:4,overflow:"auto","data-testid":"search-results-wrapper",onScroll:m,children:t.map((e,t)=>"DocResult"===e.__typename||"PseudoDocResult"===e.__typename?(0,a.jsx)(es,{result:e,isActive:n===t,focusedItemEl:i,onMouseMove:()=>{s(t),g(e,t)},onClick:()=>{x(e,t),null==c||c()}},e.id):"Channel"===e.__typename?(0,a.jsx)(ee,{result:e,isActive:n===t,focusedItemEl:i,onMouseMove:()=>{s(t),g(e,t)},onClick:()=>{x(e,t),null==c||c()}},e.id):null)})},ec=(0,f.Ay)("mod+K"),eu=e=>{let{query:t,isOpen:n,setResults:a,currentWorkspaceId:i}=e,{data:o}=(0,I.b_w)({variables:{first:5,workspaceId:i,archived:!1,sortBy:{field:I.vY2.LastViewed,direction:I.UEL.Desc}},fetchPolicy:"cache-first",skip:!n});(0,r.useEffect)(()=>{!(t.length>0)&&n&&a(((null==o?void 0:o.docs.edges.map(e=>e.node))||[]).slice(0,5).map(e=>{let{id:t,title:n,archived:a,titleCard:i,createdBy:r,editors:o,createdTime:l,editedTime:s,updatedTime:d}=e;return{id:t,title:n,archived:a,previewUrl:null==i?void 0:i.previewUrl,createdBy:r,editors:o,text:"",createdTime:l,editedTime:s,updatedTime:d,__typename:"PseudoDocResult"}}))},[n,t.length,null==o?void 0:o.docs.edges,a])},ep=()=>{let{user:e,currentWorkspace:t}=(0,v.ur)(),{isConnected:n}=(0,I.utY)(),c=(0,l.st)(),u=(0,o.GV)(d.MQ),[p,h]=(0,r.useState)([]),[m,g]=(0,r.useState)(!0),[x,f]=(0,r.useState)(-1),[y,w]=(0,R.M)(D.E.hasDismissedSearchTip,!1),k=(0,r.useRef)(null),[M,_]=(0,r.useState)(!1),z=(0,o.GV)(d.xo),[T,N]=(0,r.useState)(()=>z||""),[P,{data:H,loading:F}]=(0,I.eXh)();eu({query:T,isOpen:u,setResults:h,currentWorkspaceId:null==t?void 0:t.id});let B=(0,L.lW)((0,r.useCallback)(function(){for(var e,t,n,a=arguments.length,i=Array(a),r=0;r<a;r++)i[r]=arguments[r];return c&&c.track(l.VV.SEARCH_QUERY_TYPED,{query:null!=(n=null==(t=i[0])||null==(e=t.variables)?void 0:e.query)?n:""}),P(...i)},[c,P]),600),V=(0,L.lW)((0,r.useCallback)(e=>{if(c&&p.length>0){let t="up"===e?l.VV.SEARCH_RESULT_ARROW_UP:l.VV.SEARCH_RESULT_ARROW_DOWN;c.track(t,{query:T,result_count:p.length})}},[c,p.length,T]),600);(0,r.useEffect)(()=>{0!=z.length&&N(z)},[z]);let W=(0,r.useCallback)(function(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{target:"_self"},{target:n}=t||{},a=(null==k||null==(e=k.current)?void 0:e.querySelector("[href]")).href;a||console.error("[SearchModal] No href found"),window.open(a,n)},[k]),U=(0,r.useRef)({focusedIndex:x,results:p,goToItem:W,searchInputFocused:m});U.current={focusedIndex:x,results:p,goToItem:W,searchInputFocused:m},(0,r.useEffect)(()=>{if(u)return b.WC.on("keydown","GLOBAL_SEARCH",e=>{let{key:t}=e;if(ec(e))return!0;let n=U.current;switch(t){case"Escape":return e.preventDefault(),e.stopPropagation(),!0;case"Tab":return e.preventDefault(),n.searchInputFocused?f(S()(n.focusedIndex-1,0,n.results.length-1)):f(-1),g(!n.searchInputFocused),!0;case"Enter":if(e.preventDefault(),n.searchInputFocused)B.flush();else if(n.results.length>0){if(c&&n.focusedIndex>=0){let t=n.results[n.focusedIndex];c.track(l.VV.SEARCH_RESULT_SELECTED,{query:T,result_type:null==t?void 0:t.__typename,result_id:null==t?void 0:t.id,result_index:n.focusedIndex,result_count:n.results.length,target:e.metaKey||e.ctrlKey?"_blank":"_self"})}n.goToItem({target:e.metaKey||e.ctrlKey?"_blank":"_self"})}return!0;case"ArrowUp":return e.preventDefault(),n.focusedIndex<0?(g(!1),f(n.results.length-1)):0==n.focusedIndex?(g(!0),f(-1)):(g(!1),f(S()(n.focusedIndex-1,-1,n.results.length-1))),_(!0),V("up"),!0;case"ArrowDown":return e.preventDefault(),n.focusedIndex<0?(g(!1),f(0)):n.focusedIndex>=n.results.length-1?(g(!0),f(-1)):(g(!1),f(S()(n.focusedIndex+1,-1,n.results.length-1))),_(!0),V("down"),!0;default:return g(!0),f(-1),!1}})},[x,B,u,m,V,c,T]),(0,r.useEffect)(()=>{if(!(null==H?void 0:H.search))return;let e=null==H?void 0:H.search.filter(e=>void 0!==e&&("DocResult"===e.__typename||"Channel"===e.__typename));h(e),c&&c.track(l.VV.SEARCH_RESULT_LOADED,{query:T,result_count:e.length})},[null==H?void 0:H.search,c,T]);let G=(0,r.useCallback)(e=>{let{value:n}=e.target;n?(N(n),B({variables:{workspaceId:null==t?void 0:t.id,query:n}})):(B.cancel(),N(""),h([]),f(-1),g(!0))},[null==t?void 0:t.id,B]),K=(0,r.useCallback)(e=>{_(!1),f(e)},[]),Z=(0,L.wb)(K,50);(0,r.useEffect)(()=>{!u&&c&&c.track(l.VV.SEARCH_CLOSED,{final_query:T})},[u,c,T]);let q=!y&&p.length>0;(0,r.useEffect)(()=>{var e;k.current&&M&&(null==k||null==(e=k.current)||e.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"}))},[x,M]);let $=T.length>0?(0,a.jsx)(A.x6,{id:"5WYZKZ"}):(0,a.jsx)(A.x6,{id:"AOvC3b"});return e?(0,a.jsxs)(C.s,{direction:"column",children:[(0,a.jsx)(O,{onChange:G,query:T,isDisabled:!n,isLoading:F,isFocused:m}),(0,a.jsx)(E.r,{mx:4,mt:2,mb:4,isConnected:n,description:(0,a.jsx)(A.x6,{id:"R4lJxt"})}),n&&(0,a.jsx)(i._x,{p:4,children:$}),n&&p&&p.length>0&&(0,a.jsx)(ed,{focusedItemEl:k,results:p,focusedIndex:x,onMouseMove:Z}),!(0,s.Xb)()&&(0,a.jsx)(Q,{onClose:()=>{w(!0)},showTip:q}),(0,s.Xb)()&&(0,a.jsx)(j.s,{})]}):null};(0,g.A)(e=>{let{isEnabledFn:t}=e,n=(0,o.GV)(d.MQ);w({isEnabledFn:t,isOpen:n});let i=(0,m.wA)(),l=(0,x.h5)({base:"sm",sm:"md",md:"lg",lg:"2xl"}),s=(0,r.useCallback)(()=>{i((0,d.q8)({isOpen:!1,initialQuery:""}))},[i]);return(0,a.jsxs)(c.aF,{isOpen:n,onClose:s,size:l,onOverlayClick:s,returnFocusOnClose:!1,children:[(0,a.jsx)(u.m,{}),(0,a.jsx)(p.$,{children:(0,a.jsx)(h.c,{p:0,children:(0,a.jsx)(ep,{})})})]})})},24729:(e,t,n)=>{"use strict";n.d(t,{$Q:()=>i}),n(6029);var a=n(99492);n(48621);let i=a.ao0},24813:(e,t,n)=>{"use strict";n.d(t,{e:()=>r,q:()=>i});var a=n(52762);let i=e=>{setTimeout(()=>{e.commands.focus()})},r=(e,t,n)=>{var i;(null==(i=n.background)?void 0:i.type)===a.h.NONE?e.commands.updateAttributesAtPos(t,n):e.commands.updateNestedAttributesAtPos(t,n)}},24903:(e,t,n)=>{"use strict";n.d(t,{Q:()=>r,z:()=>o});var a=n(62040),i=n(99923);let r=e=>"footnote"==e.schema.topNodeType.name,o=function(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"footnote";e.forEach(e=>{let t=e.steps.filter(e=>e instanceof a.XE||e instanceof a.Ys);0==t.length||e.getMeta(i.R)||e.getMeta("appendedTransaction")||t.forEach(e=>{let{from:t,to:i,mark:l}=e;n.doc.nodesBetween(t,i,(n,s)=>{n.type.name===o&&s<t&&(e instanceof a.XE?r.removeMark(t,i,l):e instanceof a.Ys&&r.addMark(t,i,l))})})})}},25600:(e,t,n)=>{"use strict";n.d(t,{DM:()=>h,b0:()=>m,bU:()=>g});var a=n(37243),i=n(63867),r=n(97255),o=n(15607),l=n(98968),s=n(61964),d=n(46675),c=n(56124);let u=e=>e.isLeaf||["paragraph","table","tableRow","tableCell","gridLayout","gridCell","heading","title","card","cardLayoutItem","cardAccentLayoutItem","button","buttonGroup","gallery","blockquote","calloutBox","smartLayout","smartLayoutCell","toggle","navbar","navbarLinks"].includes(e.type.name),p=e=>e.isAtom||["gallery","card"].includes(e.type.name),h=e=>e.some(e=>e.spec.focusedNode),m=e=>e.some(e=>e.spec.isSelectingNode),g=a.YY.create({name:"focusedNodes",addProseMirrorPlugins(){let e=this.editor;return[new i.k_({props:{decorations(t){var n;if(!e.isEditable||!(0,o.We)(e)||(null==(n=document.activeElement)?void 0:n.tagName)==="IFRAME")return;let a=t.selection,h=[];return t.doc.nodesBetween(a.from,a.to,(e,t,n)=>{if(u(e)){let o=a instanceof d.HT&&"tableRow"===e.type.name&&a.getTableNode()===n&&a.isRowSelection()&&!a.isColSelection(),l=a instanceof d.HT&&(0,c.hj)(e)&&a.getTableNode()===e&&a.isSelectingAllCells(),s={focusedNode:!0,isSelected:a.from<=t,isFocusedInside:a.from>t||a.to<t+e.nodeSize,isSelectingNode:a instanceof i.nh&&a.node===e||o||l,isSelectingAround:p(e)&&a.from<=t&&a.to>=t+e.nodeSize&&!(a instanceof i.nh)},u=[s.focusedNode?"is-focused":"",s.isSelected?"is-selected":"",s.isFocusedInside?"is-focused-inside":"",s.isSelectingNode?"is-selecting-node":"",s.isSelectingAround?"is-selecting-around":""].join(" ");h.push(r.NZ.node(t,t+e.nodeSize,{class:u},s))}if((0,l.Pb)(e)&&a.from<=t&&a.from<=t)return!1;if("table"===e.type.name&&a instanceof d.HT&&a.isColSelection()&&!a.isSelectingAllCells()){let n=a.$anchorCell.pos,{left:i}=s.J3.get(e).findCell(n-(t+1));h.push(r.NZ.node(t,t+e.nodeSize,{},{isColumnSelected:!0,colNumber:i}))}}),r.zF.create(t.doc,h)}}})]}})},25722:(e,t,n)=>{"use strict";n.d(t,{i:()=>r});var a=n(43607),i=n(48687);let r=(e,t,n,r)=>{let o=(0,a.FX)(),{columns:l,lastRowAligner:s}=(0,i.X)({containerSize:n,numCells:t,options:e,forceBalance:r});return"vertical"===e.orientation||o||t>1&&1===l?{columns:1,isHorizontal:!1}:{columns:l,isHorizontal:!0,lastRowAligner:s}}},26006:(e,t,n)=>{"use strict";n.d(t,{M:()=>r,j:()=>i});var a=n(55729);let i=()=>{let e=(0,a.useRef)(null),t=(0,a.useRef)(null),[n,i]=(0,a.useState)(0),[r,o]=(0,a.useState)(0),[l,s]=(0,a.useState)(null);return{width:n,height:r,aspectRatio:l,setSize:(0,a.useCallback)(()=>{var n,a;let r=null==(n=e.current)?void 0:n.getBoundingClientRect(),l=null==(a=t.current)?void 0:a.getBoundingClientRect();if(r&&l){let e=l.width/l.height,t=r.width,n=r.width/e;if(0===t||isNaN(t)||0===n||isNaN(n))return;i(t),o(n),s(e)}},[]),containerWrapperRef:e,imageRef:t}},r=e=>(0,a.useCallback)(t=>{if(!e)return;let n=null==e?void 0:e.view.domAtPos(t);if(!n)return void console.warn("scrollOnImageLoad could not domAtPos",{pos:t});let a=n.node.childNodes[n.offset];if(!a||!a.querySelector)return void console.warn("scrollOnImageLoad could not find node",{parentNode:n.node,offset:n.offset});let i=a.querySelector("[data-image-node-element] img");if(!i)return void console.warn("scrollOnImageLoad could not find <img> element");let r=()=>{e.chain().selectNodeAtPos(t,!1).focus().scrollIntoView().run(),setTimeout(()=>{e.chain().selectNodeAtPos(t,!1).focus().scrollIntoView().run()},1e3),i.removeEventListener("load",r)};i.addEventListener("load",r)},[e])},26053:(e,t,n)=>{"use strict";n.d(t,{Nb:()=>d,Vx:()=>l,wP:()=>c});var a=n(55729),i=n(91792),r=n(52842);let o=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={borderColor:e?"var(--chakra-colors-whiteAlpha-300)":"var(--chakra-colors-blackAlpha-200)"};return t?{...n,bg:e?"var(--chakra-colors-trueblue-300)":"var(--chakra-colors-trueblue-50)",color:e?"var(--chakra-colors-trueblue-900)":"var(--chakra-colors-trueblue-300)",hoverBg:e?"var(--chakra-colors-trueblue-200)":"var(--chakra-colors-trueblue-100)",hoverColor:e?"var(--chakra-colors-trueblue-900)":"var(--chakra-colors-trueblue-600)"}:{...n,bg:e?"var(--chakra-colors-gradient-dark)":"var(--chakra-colors-whiteAlpha-900)",color:e?"var(--chakra-colors-gray-50)":"var(--chakra-colors-gray-500)",hoverBg:e?"var(--chakra-colors-gray-700)":"var(--chakra-colors-gray-50)",hoverColor:e?"var(--chakra-colors-trueblue-200)":"var(--chakra-colors-gray-700)"}},l=e=>{let t=o(e);return{"--global-drag-handle-background":t.bg,"--global-drag-handle-color":t.color,"--global-drag-handle-hover-background":t.hoverBg,"--global-drag-handle-hover-color":t.hoverColor,"--global-drag-handle-border":t.borderColor}},s=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?o(e,!0):{bg:"var(--global-drag-handle-background)",color:"var(--global-drag-handle-color)",hoverBg:"var(--global-drag-handle-hover-background)",hoverColor:"var(--global-drag-handle-hover-color)",borderColor:"var(--global-drag-handle-border)"}},d=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=(0,i.rd)();return(0,a.useMemo)(()=>s(t,e),[t,e])},c=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=d(e);return{height:r.PN,borderRadius:"sm",fontSize:"xs",px:2,shadow:"sm",bg:t.bg,color:t.color,borderColor:t.borderColor,_active:{shadow:"var(--global-drag-handle-shadow-inner)"},_hover:{color:t.hoverColor,background:t.hoverBg}}}},27246:(e,t,n)=>{"use strict";n.d(t,{Bn:()=>C,OX:()=>w,jV:()=>y});var a=n(37243),i=n(63867),r=n(62040),o=n(97255),l=n(8944),s=n(25839),d=n(74677),c=n(52762),u=n(15607),p=n(28700),h=n(59080),m=n(53138),g=n(36145),x=n(47665),f=n(17275),b=n(39822),v=n(94922);let y=new i.hs("cardLayoutPlugin"),w=e=>new i.k_({key:y,state:{init:()=>({draggingData:null}),apply:(e,t)=>t},filterTransaction:(e,t)=>{if(!e.docChanged||!((0,a.BQ)(t.selection)&&(0,x.sw)(t.selection.node))||e.steps.every(e=>e instanceof r.q4)||e.getMeta("imageUploadUpdateAttrs")||e.steps.every(t=>{if(!(t instanceof r.Ln))return!1;let n=e.before.nodeAt(t.from);if(!n||!(0,v.wL)(n))return!1;let a=t.slice.content;return 1===a.childCount&&(0,v.wL)(a.firstChild)}))return!0;let n=(0,d.A)(e).every(t=>{let n=e.before.nodeAt(t.oldStart);return!n||!(0,x.sw)(n)});return n||console.warn("[CardLayoutPlugin] blocking transaction with CardLayoutItem selected"),n},appendTransaction:(t,n,i)=>{if(!(t.some(e=>e.docChanged)&&!n.doc.eq(i.doc))||!(0,h.e)(e.state.doc).cardLayoutsEnabled)return;let r=i.tr,o=(0,a.T7)(n.doc,t);if((0,d.A)(o).forEach(t=>{let n={from:t.newStart,to:t.newEnd};(0,a.Nx)(i.doc,n,e=>"card"===e.type.name&&"responsive"===(0,x.g6)(e)).forEach(t=>{let{pos:a}=t;if(a<n.from)return;let i=r.mapping.map(a),o=r.doc.nodeAt(i);if(!o)return;let l=(0,v.lH)(o.attrs.layout);(0,v.Fm)(r,i,e.schema,l)})}),r.docChanged)return r},props:{handleDOMEvents:{dragstart:(t,n)=>(0,b.Po)(e,t,n),drop(t,n){let a=t.state.tr,i=(0,b.ZL)(t,n);if(i&&i.isImageUpload){n.preventDefault();let r=i.pos;(0,f.c)(e,a,r,i.layout);let{accent:o}=(0,v.dg)(a,r);if(!o)throw Error("Could not find accent after setting card layout=".concat(i.layout," at pos=").concat(i.pos));return(0,m.TH)(e,a,i.file,o.pos),t.dispatch(a),!0}let r=(0,b.nA)(t,n);if(r&&r.isImageUpload)return n.preventDefault(),(0,m.TH)(e,a,r.file,r.pos),t.dispatch(a),!0;let o=(0,b.aI)(e,t,n),l=y.getState(t.state);return o&&l&&(l.draggingData={removeLayoutFromCardId:o.node.attrs.id}),!1}},handlePaste:(t,n,a)=>{let{selection:r}=t.state;if(!(r instanceof i.nh&&(0,v.wL)(r.node)))return!1;let o=(0,g.bC)(e,n,a),l=(0,p.H)(a);if(l&&"image"!==l.type.name||!o)return!1;let s=o.attrs||(null==l?void 0:l.attrs);return e.commands.updateNestedAttributesAtPos(r.from,{background:{image:s,type:c.h.IMAGE,source:null==s?void 0:s.source}}),o.upload(),!0},handleDrop(t,n,a){let i=t.state.tr,r=(0,b.f0)(e,i,t,n,a),o=(0,b.vR)(t,i,n,a);return(!!r||!!o)&&((0,b.zZ)(e,i),t.dispatch(i),!0)},decorations:e=>{let{doc:t}=e,n=[];return t.descendants((e,a)=>{if("card"===e.type.name){let i=t.resolve(a),r=(0,u.TK)(i,x.jg).map(e=>e.node),d=(0,l.uw)((0,s.KA)().getState()),c=(0,v.zr)({parentCards:r,layout:e.attrs.layout,isMobileDevice:d});e.forEach((t,a)=>{let l=i.pos+a+1;if(!(0,x.sw)(t))return;let s={cardId:e.attrs.id,isCardLayoutDecoration:!0,layout:c,cardSize:e.attrs.cardSize,isNested:r.length>=1};n.push(o.NZ.node(l,l+t.nodeSize,{"data-layout-item-id":t.attrs.itemId},s))})}}),o.zF.create(t,n)}}}),C=e=>{let t=e.find(e=>e.spec.isCardLayoutDecoration);return null==t?void 0:t.spec}},28543:(e,t,n)=>{"use strict";n.d(t,{q:()=>y});var a=n(83004),i=n(23050);let r="transparent",o=(0,a.i7)({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}),l=(0,a.i7)({"0%":{opacity:.5,color:"var(--chakra-colors-trueblue-500)"},"100%":{opacity:1,color:"inherit"}}),s={".autocomplete-loading":{display:"inline-block",borderColor:"currentColor",borderStyle:"solid",borderRadius:"99999px",borderWidth:"2px",borderBottomColor:r,borderLeftColor:r,animation:"".concat(o," ").concat("0.45s"," linear infinite"),width:"var(--spinner-size)",height:"var(--spinner-size)","--spinner-size":"1em",marginLeft:"0.25em",color:"var(--chakra-colors-trueblue-500)"},".autocomplete-inserted":{animation:"".concat(l," ").concat(i.B2,"ms ease-out")},".autocomplete-highlight":{backgroundColor:"#84c1fa45"}};var d=n(29608),c=n(39659);let u={backgroundRepeat:"no-repeat",backgroundSize:"11px",backgroundPosition:"8px center",fontSize:"13px",fontWeight:"bold",color:"var(--chakra-colors-trueblue-400)",position:"absolute",zIndex:1,top:"0px",left:"0px",backgroundColor:"var(--chakra-colors-trueblue-100)",padding:"4px 12px",paddingLeft:"24px",borderRadius:"0 0 4px 4px",pointerEvents:"none"},p={".block-card":{transitionProperty:"opacity",transitionDuration:"normal"},".ai-generate-streaming-card":{"&.node-card":{pointerEvents:(0,d.Xb)()?void 0:"none !important"},"&.node-card > [data-node-view-wrapper] > .card-wrapper > .card-body":{_before:{content:"''",position:"absolute",inset:"0px",zIndex:1,boxShadow:"0px 0px 0px 5px var(--chakra-colors-trueblue-100)",borderRadius:"inherit",pointerEvents:"none"}},".streaming-cursor__label":{_after:{...u,backgroundImage:'/**/url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 448 512" fill="'.concat("%23553bff",'">\x3c!--! Font Awesome Pro 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --\x3e<path d="M245.8 45.9C241.9 37.4 233.4 32 224 32s-17.9 5.4-21.8 13.9L142.7 174.7 13.9 234.2C5.4 238.1 0 246.6 0 256s5.4 17.9 13.9 21.8l128.8 59.5 59.5 128.8c3.9 8.5 12.4 13.9 21.8 13.9s17.9-5.4 21.8-13.9l59.5-128.8 128.8-59.5c8.5-3.9 13.9-12.4 13.9-21.8s-5.4-17.9-13.9-21.8L305.3 174.7 245.8 45.9z"/></svg>\')'),content:"var(--ai-generating-label)"}}},"&.buddy-active":{".buddy-active-card > [data-node-view-wrapper] > .card-wrapper > .card-body":{_before:{content:"''",position:"absolute",inset:"0px",zIndex:1,boxShadow:"0px 0px 0px 1px #2208CC",borderRadius:"inherit",pointerEvents:"none"}}},"&.sal-active":{".block-card:not(.sal-active-card, .sal-active-card-parent)":{opacity:.5},".sal-active-card > [data-node-view-wrapper] > .card-wrapper > .card-body":{_before:{content:"''",position:"absolute",inset:"0px",zIndex:1,boxShadow:"0px 0px 0px 5px #2208CC",borderRadius:"inherit",pointerEvents:"none"},_after:{...u,backgroundColor:"#2208CC",backgroundImage:'/**/url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 512 512" fill="'.concat("%23ffffff",'">\x3c!--! Font Awesome Pro 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --\x3e<path d="M327.5 85.2c-4.5 1.7-7.5 6-7.5 10.8s3 9.1 7.5 10.8L384 128l21.2 56.5c1.7 4.5 6 7.5 10.8 7.5s9.1-3 10.8-7.5L448 128l56.5-21.2c4.5-1.7 7.5-6 7.5-10.8s-3-9.1-7.5-10.8L448 64 426.8 7.5C425.1 3 420.8 0 416 0s-9.1 3-10.8 7.5L384 64 327.5 85.2zM205.1 73.3c-2.6-5.7-8.3-9.3-14.5-9.3s-11.9 3.6-14.5 9.3L123.3 187.3 9.3 240C3.6 242.6 0 248.3 0 254.6s3.6 11.9 9.3 14.5l114.1 52.7L176 435.8c2.6 5.7 8.3 9.3 14.5 9.3s11.9-3.6 14.5-9.3l52.7-114.1 114.1-52.7c5.7-2.6 9.3-8.3 9.3-14.5s-3.6-11.9-9.3-14.5L257.8 187.4 205.1 73.3zM384 384l-56.5 21.2c-4.5 1.7-7.5 6-7.5 10.8s3 9.1 7.5 10.8L384 448l21.2 56.5c1.7 4.5 6 7.5 10.8 7.5s9.1-3 10.8-7.5L448 448l56.5-21.2c4.5-1.7 7.5-6 7.5-10.8s-3-9.1-7.5-10.8L448 384l-21.2-56.5c-1.7-4.5-6-7.5-10.8-7.5s-9.1 3-10.8 7.5L384 384z"/></svg>\')'),padding:"4px 12px",paddingLeft:"0",width:"16px",borderRadius:"full",content:"''",left:"2px",top:"-2px",height:"16px",transform:"translate(0%,-50%)"}},".sal-active-card-parent":{".block:not(.sal-active-card)":{opacity:.5},".sal-active-card":{".block":{opacity:1}}},".sal-selection-text":{backgroundColor:"rgba(100, 100, 100, 0.25)",...c.w}}},h=".125em",m={transitionDuration:"slow",transitionTimingFunction:"ease-out"},g=".comments-wrapper, .block-comments-circle",x="> :is(".concat(g,")"),f="> :not(".concat(g,"), [data-spotlight-parent] > *"),b=e=>{let t=e?.2:.65;return{"&.react-renderer > [data-node-view-wrapper]":{[f]:{transitionProperty:"filter, transform",...m,filter:"opacity(".concat(t,") blur(").concat(e?h:"0",")")},[x]:{transitionProperty:"opacity",...m,filter:"opacity(".concat(t,")  blur(").concat(e?h:"0",")"),"&[data-is-popup-open=true]":{filter:"none"},_hover:{filter:"none"}}},"&:not(.react-renderer)":{transitionProperty:"filter, transform",...m,filter:"opacity(".concat(t,")  blur(").concat(e?h:"0",")")}}},v={"[data-spotlight-dim]":{opacity:.2},".spotlightable":{...b(!1),transitionProperty:"filter, transform",...m,cursor:"pointer"},".spotlightable:hover":{transform:"scale(1.05)"},".spotlightable.after-spotlight":b(!0),".spotlightable.spotlight-block, .spotlight-block .spotlightable":{"&.react-renderer > [data-node-view-wrapper]":{[f]:{opacity:"1",filter:"none"},[x]:{filter:"none"}},"&:not(.react-renderer)":{filter:"none"}}},y={...s,".ProseMirror":{"&.spotlight-active":v,...p,".block-card":{transitionProperty:"opacity",transitionDuration:"normal"},"&.card-notes-active":{".block-card:not(.card-notes-active-parent-card)":{opacity:.5},".card-notes-active-parent-card .block-card":{opacity:"revert"},".card-notes-active-parent-card > [data-node-view-wrapper] > .card-wrapper > .card-body":{_before:{content:"''",position:"absolute",inset:"0px",zIndex:1,boxShadow:"0px 0px 0px 5px var(--chakra-colors-trueblue-100)",borderRadius:"inherit",pointerEvents:"none"}}},'&[contenteditable="true"]':{"&:focus-within":{".ProseMirror-gapcursor":{display:"block",height:"1.5em",position:"relative","&:after":{width:"0px",height:"100%",borderTop:"0px",borderLeft:"1px solid black"}},".grid-cell":{".ProseMirror-gapcursor:first-child":{marginTop:"1em"},".ProseMirror-gapcursor:last-child":{marginBottom:"1em"}},".block-table td":{".ProseMirror-gapcursor:first-child":{marginTop:".75em"},".ProseMirror-gapcursor:last-child":{marginBottom:".75em"}},".is-dark":{".ProseMirror-gapcursor:after":{borderLeftColor:"white"}}}},".collaboration-cursor__caret":{position:"relative",marginLeft:"-1px",marginRight:"-1px",borderLeft:"1px solid #0d0d0d",borderRight:"1px solid #0d0d0d",wordBreak:"normal",pointerEvents:"none",textIndent:0},".collaboration-cursor__label":{position:"absolute",top:"-1.4em",left:"-1px",fontSize:"12px",fontStyle:"normal",fontFamily:"'Inter', sans-serif",fontWeight:"600",lineHeight:"normal",letterSpacing:"normal",textTransform:"none",userSelect:"none",color:"#0d0d0d",padding:"0.1rem 0.3rem",borderRadius:"3px 3px 3px 0",whiteSpace:"nowrap",zIndex:1,pointerEvents:"auto",spellCheck:"false",_hover:{opacity:.1}},'&[contenteditable="false"]':{".ProseMirror-gapcursor":{display:"none"},".collaboration-cursor__caret:not(.streaming-cursor)":{display:"none"}},".is-selecting-node, .sal-selection-node, .sal-selection-card":{"[data-selection-ring]":{_before:{content:'""',position:"absolute",inset:0,borderRadius:"inherit",outline:"2px solid",outlineColor:"trueblue.300",pointerEvents:"none",zIndex:1}},'[data-selection-ring="inside"]':{_before:{zIndex:10,outlineOffset:"-2px"}},'[data-selection-ring="padded"]':{_before:{outlineOffset:"0.25em"}},".react-renderer [data-selection-ring]":{_before:{content:"none"}}},".is-selecting-around":{"[data-selection-background]":{_after:{content:'""',position:"absolute",inset:0,backgroundColor:"var(--chakra-ring-color)",borderRadius:"inherit",opacity:.75}},".react-renderer:not(.is-selecting-around) [data-selection-ring]":{_after:{content:"none"}}},".card-present-mode":{"&--doc":{transform:"translateY(0)",position:"relative",zIndex:1},"&--presentCollapsed":{transform:"translateY(0)",position:"relative",zIndex:1},"&--presentPrev":{transform:"translateY(-100%)",position:"fixed",zIndex:2},"&--presentCurrent":{transform:"translateY(0)","@media print":{transform:"none"},position:"fixed",zIndex:3},"&--presentNext":{transform:"translateY(100%)",position:"fixed",zIndex:2},"&--presentParent":{transform:"translateY(0)",position:"fixed",zIndex:2}},".document-content.is-doc-mode":{".card-wrapper":{"&:hover":{".card-divider":{opacity:1},".manage-card-controls":{opacity:1}}}},".document-content":{".card-wrapper":{"&:hover":{".card-footer-reactions":{opacity:1},".card-collapsed":{".card-footer-reactions":{display:"none"}}}}}},".ProseMirror-dropcursor":{transitionProperty:"inset",transitionDuration:"fast",borderRadius:"md",position:"relative",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",color:"white",outline:"1px solid",outlineColor:"whiteAlpha.800",pointerEvents:"none",backdropFilter:"blur(4px)","&::after":{backgroundColor:"gray.600",color:"whiteAlpha.900",px:"8px",py:"2px",borderRadius:"sm",fontWeight:"medium",shadow:"md",fontSize:"sm",w:"max-content",pointerEvents:"none",display:"none"},'&[data-type="column"]::after':{content:'"Drop to add column"',position:"absolute",top:"-2em",display:"block"}}}},28613:(e,t,n)=>{"use strict";n.d(t,{$:()=>x});var a=n(6029),i=n(21938),r=n(37243),o=n(94289),l=n(55729),s=n(4097),d=n(15607),c=n(33201);let u=e=>{let t={};for(let n of e.attributes){let e=n.name;"class"===e?t.className=n.value:"contenteditable"===e&&"false"===n.value||(t[e]=n.value)}return t},p=(e,t,n,i)=>{let r=Array.from(n.contentComponent.renderers.values()).find(t=>t.props.node===e);if(r){let e=r.element.nodeName.toLowerCase()||"div",{style:n,...o}=u(r.element);return(0,a.jsx)(e,{"data-pos":t,...o,STYLE:"white-space: inherit;".concat(n),children:(0,a.jsx)(r.component,{...r.props,children:i})},r.id)}return null},h=e=>{var t;return null!=(t=e.config.renderHTMLforSSR)?t:e.config.renderHTML},m=e=>{let t={...e};return(null==t?void 0:t.style)&&(t.STYLE=t.style,delete t.style),(null==t?void 0:t.class)&&(t.className=t.class,delete t.class),(null==t?void 0:t.colspan)&&(t.colSpan=t.colspan,delete t.colspan),(null==t?void 0:t.rowspan)&&(t.rowSpan=t.rowspan,delete t.rowspan),t},g=(e,t)=>{var n;let a=(0,d.vC)(e,t.type);if(!a)return[];let i=e.extensionManager.attributes.filter(e=>e.type===t.type.name),o=(0,r.zU)(t,i),l=a;for(;!h(l)&&l.parent;)l=l.parent;let s=null==(n=h(l))?void 0:n.bind(a);if(!s)return[];let[c,u,p]=s({HTMLAttributes:o,node:t,mark:t,editor:e});return[c,m(u),p]},x=l.memo(e=>{let{node:t,editor:n,getPos:r}=(0,s.c)();if(!t||!n)return null;let d=e.as||"div",u=t.isInline||t instanceof o.CU?"span":"div",h=[],m="function"==typeof r?r():null,x=(e,t,r)=>{let o=(null===m?0:m)+t+1,s=p(e,o,n);if(s)return s;let d=t=>Array.from(e.marks).reverse().reduce((e,t)=>{let a=p(t,o,n,e);if(a)return a;let[i,s,d]=g(n,t)||[];return i?l.createElement(i,{key:r,...s},e):e},t),u=null===m?[]:(0,c.j5)(n,o),[h,f,b]=g(n,e);if(h&&f){let n=null;if(0===b&&e.firstChild){let a=[];e.forEach((e,n,i)=>{a.push(x(e,t+n,"".concat(r,"_").concat(i)))}),n=a,console.debug("[SSR NodeViewContent] HOLE",a)}else Array.isArray(b)?(console.debug("[SSR NodeViewContent] children array",b),n=[...b]):b&&(console.debug("[SSR NodeViewContent] children plain",b),n=b);let{nodeName:a,...s}=u.map(e=>{var t;return null==(t=e.type)?void 0:t.attrs}).reduce((e,t)=>({...e,...t}),{}),c={...f,...s,className:(0,i.cx)(s.class,f.class),"data-pos":o};return delete c.class,console.debug("[SSR NodeViewContent] non-nodeview:",r,c,b),d(l.createElement(h,{key:r,...c},n))}return e.isText?d((0,a.jsx)(l.Fragment,{children:e.textContent},r)):null};return t.forEach((e,n)=>{let a=h.length+1,i=x(e,n,"".concat(a));i?h.push(i):console.warn("%c [Simple NodeViewContent] UNKNOWN NODE $$$$$$$$$$$$$$$$$$$$$$$$$","background-color: aqua; font-weight: bold",{unknownNode:e,parentNode:t})}),(0,a.jsx)(d,{...e,"data-node-view-content":"",style:{whiteSpace:"pre-wrap",...e.style},children:(0,a.jsx)(u,{"data-node-view-content-inner":t.type.name,style:{whiteSpace:"inherit"},children:0===h.length?null:1===h.length?h[0]:h})})});x.displayName="NodeViewContent"},28630:(e,t,n)=>{"use strict";n.d(t,{Rz:()=>A,Xz:()=>j,hU:()=>I,pH:()=>D,pE:()=>S,kO:()=>_,yC:()=>R,CX:()=>M,vp:()=>k});var a=n(77650),i=n(96557),r=n.n(i),o=n(91938),l=n(17859),s=n(6064),d=n(58929),c=n(27002),u=n(99038);let p={src:"https://assets.gammahosted.com/j1bla5j5f/_next/static/media/bfl.a86f9951.png",height:2256,width:2561,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAHCAMAAAACh/xsAAAAHlBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAC3KG9qAAAACnRSTlMBQFJgcRSXuCaFPo2lFwAAAAlwSFlzAAALEwAACxMBAJqcGAAAADBJREFUeJwlxcENwDAMA7GTJdvJ/gsHRT8kAP0B1P73dTjAVU8ZFGkGeiuVDccuS3oOugCSP0iVmQAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:7},h={src:"https://assets.gammahosted.com/j1bla5j5f/_next/static/media/google-gemini.9684c9bb.svg",height:28,width:28,blurWidth:0,blurHeight:0},m={src:"https://assets.gammahosted.com/j1bla5j5f/_next/static/media/openai.9e224d80.svg",height:320,width:320,blurWidth:0,blurHeight:0},g={src:"https://assets.gammahosted.com/j1bla5j5f/_next/static/media/recraft.93345919.svg",height:112,width:112,blurWidth:0,blurHeight:0},x="Recraft",f="HiDream",b={creatorLabel:()=>"Ideogram",image:{src:"https://assets.gammahosted.com/j1bla5j5f/_next/static/media/ideogram.8efa42ed.svg",height:1e3,width:1e3,blurWidth:0,blurHeight:0},flag:"ideogram",provider:"ideogram"},v={creatorLabel:()=>"Luma",image:{src:"https://assets.gammahosted.com/j1bla5j5f/_next/static/media/luma.cb337efe.png",height:773,width:773,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAJFBMVEVMaXEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB/eFplAAAADHRSTlMAtCpmPA2+o1LqxpEc7o9kAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAMElEQVR4nDWJyQ0AIAzD0pvC/vuiBpGPLQcAIsDpcXKJPDGpL7uUV3eKjXmmMSEGFxNgAJCEwikWAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8},flag:"lumaPhoton",provider:"luma"},y={creatorLabel:()=>"HiDream",image:{src:"https://assets.gammahosted.com/j1bla5j5f/_next/static/media/hidream.7bd5808f.png",height:1111,width:1108,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAMFBMVEUNh/8ckP8djv8cjf9wt/8cj/8cjf8ajf8ilP+Px//X6/9drv9+v/+12v+63f+m0v++RLyOAAAAB3RSTlP+6vtX/lla4FnFQgAAAAlwSFlzAAAuIgAALiIBquLdkgAAADpJREFUeJwdxkEOwCAMA8F1oHVCoP9/LlLnNAw5wnpRpiNTsBecCdTqrv5zvlVA1941QWnbKYYiIvRcMsABZ7SihF4AAAAASUVORK5CYII=",blurWidth:8,blurHeight:8},provider:"baseten"},w=["flux-1-schnell","imagen-3-flash","flux-1-quick","flux-kontext-fast","ideogram-v3-flash"],C=["ideogram-v3-turbo","flux-1-pro","imagen-3-pro"],j={"playground-2.5":"flux-1-schnell","stable-diffusion-xl-v1-0":"flux-1-schnell","playground-3":"flux-1-pro","ideogram-v2-turbo":"ideogram-v3-turbo","ideogram-v2":"ideogram-v3"},A={"flux-1-schnell":{label:()=>"Flux Fast",description:()=>a.Ru._({id:"iksSRU",values:{FLUX_PROPER_NOUN:u.Uq}}),creatorLabel:()=>"Black Forest",image:p,flag:"flux1Schnell",disabledFlag:"flux1Quick",fallbackModels:r()(w,"flux-1-schnell"),provider:"baseten",bestStyle:()=>a.Ru._({id:"6M03+0"}),bestType:()=>a.Ru._({id:"1HfW/F"}),speed:4},"flux-1-quick":{label:()=>"Flux Fast 1.1",description:()=>a.Ru._({id:"hpqgA9"}),creatorLabel:()=>"Black Forest",image:p,flag:"flux1Quick",fallbackModels:r()(w,"flux-1-quick"),provider:"flux",bestStyle:()=>a.Ru._({id:"6M03+0"}),bestType:()=>a.Ru._({id:"1HfW/F"}),speed:4},"flux-kontext-fast":{label:()=>"Flux Kontext Fast",description:()=>a.Ru._({id:"Cw1xXb"}),creatorLabel:()=>"Black Forest",image:p,flag:"fluxKontextFast",fallbackModels:r()(w,"flux-kontext-fast"),provider:"flux",bestStyle:()=>a.Ru._({id:"6M03+0"}),bestType:()=>a.Ru._({id:"UUMdE6"}),speed:4,badge:"new"},"flux-1-pro":{label:()=>"Flux Pro",description:()=>a.Ru._({id:"lM7MEX"}),creatorLabel:()=>"Black Forest",image:p,flag:"flux1Pro",minProductTier:"plus",fallbackModels:r()(C,"flux-1-pro"),provider:"flux",bestStyle:()=>a.Ru._({id:"6M03+0"}),bestType:()=>a.Ru._({id:"UUMdE6"}),speed:2},"flux-kontext-pro":{label:()=>"Flux Kontext Pro",description:()=>a.Ru._({id:"lM7MEX"}),creatorLabel:()=>"Black Forest",image:p,flag:"fluxKontextPro",minProductTier:"plus",fallbackModels:r()(C,"flux-kontext-pro"),provider:"flux",bestStyle:()=>a.Ru._({id:"6M03+0"}),bestType:()=>a.Ru._({id:"UUMdE6"}),speed:2,badge:"new"},"flux-kontext-max":{label:()=>"Flux Kontext Max",description:()=>a.Ru._({id:"lM7MEX"}),creatorLabel:()=>"Black Forest",image:p,flag:"fluxKontextMax",minProductTier:"pro",fallbackModels:r()(C,"flux-kontext-max"),provider:"flux",bestStyle:()=>a.Ru._({id:"6M03+0"}),bestType:()=>a.Ru._({id:"UUMdE6"}),speed:2,badge:"new"},"flux-1-ultra":{label:()=>"Flux Ultra",description:()=>a.Ru._({id:"fr7zhY"}),creatorLabel:()=>"Black Forest",image:p,flag:"flux1Ultra",minProductTier:"pro",fallbackModels:r()(C,"flux-1-ultra"),provider:"flux",bestStyle:()=>a.Ru._({id:"6M03+0"}),bestType:()=>a.Ru._({id:"1HfW/F"}),speed:1},"imagen-3-flash":{label:()=>"Imagen 3 Fast",description:()=>a.Ru._({id:"Q9Ah87",values:{GOOGLE_PROPER_NOUN:u.kO}}),creatorLabel:()=>"Google",image:h,minProductTier:"free",flag:"imagenFlash",fallbackModels:r()(w,"imagen-3-flash"),provider:"google",bestStyle:()=>a.Ru._({id:"+hJIb3"}),bestType:()=>a.Ru._({id:"1HfW/F"}),speed:4},"imagen-3-pro":{label:()=>"Imagen 3",description:()=>a.Ru._({id:"WRAPSR",values:{GOOGLE_PROPER_NOUN:u.kO}}),creatorLabel:()=>"Google",image:h,minProductTier:"plus",flag:"imagen3",fallbackModels:r()(C,"imagen-3-pro"),provider:"google",bestStyle:()=>a.Ru._({id:"6M03+0"}),bestType:()=>a.Ru._({id:"1TSz1T"}),speed:2},"imagen-4-fast":{label:()=>"Imagen 4 Fast",description:()=>a.Ru._({id:"3vHhZU",values:{GOOGLE_PROPER_NOUN:u.kO}}),creatorLabel:()=>"Google",image:h,minProductTier:"plus",flag:"imagen4Fast",fallbackModels:r()(C,"imagen-4-fast"),provider:"google",bestStyle:()=>a.Ru._({id:"6M03+0"}),bestType:()=>a.Ru._({id:"1TSz1T"}),speed:2,badge:"beta"},"imagen-4-pro":{label:()=>"Imagen 4",description:()=>a.Ru._({id:"2YnLm1",values:{GOOGLE_PROPER_NOUN:u.kO}}),creatorLabel:()=>"Google",image:h,minProductTier:"pro",flag:"imagen4",fallbackModels:r()(C,"imagen-4-pro"),provider:"google",bestStyle:()=>a.Ru._({id:"6M03+0"}),bestType:()=>a.Ru._({id:"1TSz1T"}),speed:2,badge:"beta"},"imagen-4-ultra":{label:()=>"Imagen 4 Ultra",description:()=>a.Ru._({id:"WRAPSR",values:{GOOGLE_PROPER_NOUN:u.kO}}),creatorLabel:()=>"Google",image:h,minProductTier:"pro",flag:"imagen4",fallbackModels:r()(C,"imagen-4-pro"),provider:"google",bestStyle:()=>a.Ru._({id:"6M03+0"}),bestType:()=>a.Ru._({id:"1TSz1T"}),speed:1,badge:"beta"},"ideogram-v3-turbo":{...b,label:()=>"Ideogram 3 Turbo",description:()=>a.Ru._({id:"YiuHAi",values:{IDEOGRAM_PROPER_NOUN:u.X4}}),flag:"ideogram3",freeFlag:"ideogramTurboFree",minProductTier:"plus",fallbackModels:r()(C,"ideogram-v3-turbo"),bestStyle:()=>a.Ru._({id:"+hJIb3"}),bestType:()=>a.Ru._({id:"xeiujy"}),speed:3},"ideogram-v3-flash":{...b,label:()=>"Ideogram 3 Flash",description:()=>a.Ru._({id:"nzTHCG",values:{IDEOGRAM_PROPER_NOUN:u.X4}}),flag:"ideogram3Flash",minProductTier:"free",fallbackModels:r()(w,"ideogram-v3-flash"),bestStyle:()=>a.Ru._({id:"+hJIb3"}),bestType:()=>a.Ru._({id:"xeiujy"}),speed:4,badge:"new"},"ideogram-v3":{...b,label:()=>"Ideogram 3",description:()=>a.Ru._({id:"pKUvA/",values:{IDEOGRAM_PROPER_NOUN:u.X4}}),flag:"ideogram3",minProductTier:"pro",fallbackModels:r()(C,"ideogram-v3-turbo"),bestStyle:()=>a.Ru._({id:"6M03+0"}),bestType:()=>a.Ru._({id:"xeiujy"}),speed:2},"gpt-image-1-low":{label:()=>"GPT Image Fast",description:()=>a.Ru._({id:"WJ/Qyy"}),creatorLabel:()=>"OpenAI",image:m,minProductTier:"pro",flag:"gpt4oImageMedium",fallbackModels:r()(w,"gpt-image-1-low"),provider:"openai",bestStyle:()=>a.Ru._({id:"Xo8Ctl"}),bestType:()=>a.Ru._({id:"7uXRvn"}),speed:1},"gpt-image-1-medium":{label:()=>"GPT Image",description:()=>a.Ru._({id:"8PB+vO"}),creatorLabel:()=>"OpenAI",image:m,minProductTier:"pro",flag:"gpt4oImageMedium",fallbackModels:r()(C,"gpt-image-1-medium"),provider:"openai",bestStyle:()=>a.Ru._({id:"HSEky6"}),bestType:()=>a.Ru._({id:"7uXRvn"}),speed:1,badge:"new"},"gpt-image-1-high":{label:()=>"GPT Image Detailed",description:()=>a.Ru._({id:"5XcnJA"}),creatorLabel:()=>"OpenAI",image:m,minProductTier:"pro",flag:"gpt4oImage",fallbackModels:r()(C,"gpt-image-1-high"),provider:"openai",bestStyle:()=>a.Ru._({id:"HSEky6"}),bestType:()=>a.Ru._({id:"7uXRvn"}),speed:1},"leonardo-phoenix":{label:()=>"Leonardo Phoenix",description:()=>a.Ru._({id:"iEAL9X"}),creatorLabel:()=>"Leonardo",image:{src:"https://assets.gammahosted.com/j1bla5j5f/_next/static/media/leonardo.71fd3bf9.png",height:180,width:180,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAdVBMVEVMaXFgWnpcLEFUKYRqa4ExXYBDNSgpIR5aUVp3boNLRGBIX1BNOytXaXULGyVcZHoIMT93a2NnYXV4VEeamJNWgJrXy7GfjXSmlHi6nlVxW3GlnJpXO1CSeoS3mnvMvKRfR1w7QUhhU5qhiTw0V2RrcHGOS2+E6qt3AAAAFHRSTlMAmnPO/vlKKG3+fIFRsx7aOLnd+C0RAK4AAAAJcEhZcwAAA+gAAAPoAbV7UmsAAABGSURBVHicBcEFAoAgAACxQ0GwC0Ww8/9PdAO0MRogk7NNc0iWddvdWVAeqR3901JLZcf77RDDME3OCyp1hfD1GpoojqOEH4N0A88EV3bcAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8},flag:"leonardoPhoenix",fallbackModels:r()(C,"leonardo-phoenix"),minProductTier:"plus",provider:"leonardo",bestStyle:()=>a.Ru._({id:"+hJIb3"}),bestType:()=>a.Ru._({id:"xeiujy"}),speed:2},"luma-photon-1":{...v,fallbackModels:r()(C,"luma-photon-1"),label:()=>"Luma Photon",description:()=>a.Ru._({id:"qmMxhc"}),flag:"lumaPhoton",minProductTier:"plus",bestStyle:()=>a.Ru._({id:"6M03+0"}),bestType:()=>a.Ru._({id:"1HfW/F"}),speed:3},"luma-photon-flash-1":{...v,fallbackModels:r()(w,"luma-photon-flash-1"),label:()=>"Luma Photon Flash",description:()=>a.Ru._({id:"eNdOBa"}),flag:"lumaPhoton",minProductTier:"free",bestStyle:()=>a.Ru._({id:"6M03+0"}),bestType:()=>a.Ru._({id:"1HfW/F"}),speed:4},"recraft-v3":{label:()=>x,description:()=>a.Ru._({id:"z+qo6V"}),creatorLabel:()=>"Recraft",image:g,flag:"recraftModel",fallbackModels:r()(C,"recraft-v3"),minProductTier:"pro",provider:"recraft",bestStyle:()=>a.Ru._({id:"+hJIb3"}),bestType:()=>a.Ru._({id:"1HfW/F"}),speed:2},"recraft-v3-svg":{label:()=>a.Ru._({id:"rftVBi",values:{RECRAFT_PROPER_NOUN:x}}),description:()=>a.Ru._({id:"SLi7QF"}),creatorLabel:()=>"Recraft",image:g,flag:"recraftSvgModel",fallbackModels:r()(C,"recraft-v3-svg"),minProductTier:"pro",provider:"recraft",bestStyle:()=>a.Ru._({id:"+hJIb3"}),bestType:()=>a.Ru._({id:"xeiujy"}),speed:2},"dall-e-3":{label:()=>"DALL\xb7E 3",description:()=>a.Ru._({id:"wPYsgu",values:{OPENAI_PROPER_NOUN:u.PS}}),creatorLabel:()=>"OpenAI",image:m,minProductTier:"pro",flag:"dalle3",fallbackModels:r()(C,"dall-e-3"),provider:"azure",bestStyle:()=>a.Ru._({id:"+hJIb3"}),bestType:()=>a.Ru._({id:"1TSz1T"}),speed:1},"hidream-i1-fast":{...y,label:()=>"HiDream Fast",description:()=>a.Ru._({id:"qXNWsH",values:{HIDREAM_PROPER_NOUN:f}}),minProductTier:"free",fallbackModels:r()(w,"hidream-i1-fast"),bestStyle:()=>a.Ru._({id:"6M03+0"}),bestType:()=>a.Ru._({id:"1HfW/F"}),speed:4,flag:"hidreamFast"},"hidream-i1-dev":{...y,label:()=>"HiDream Dev",description:()=>a.Ru._({id:"uUP9i3",values:{HIDREAM_PROPER_NOUN:f}}),minProductTier:"plus",fallbackModels:r()(C,"hidream-i1-dev"),bestStyle:()=>a.Ru._({id:"+hJIb3"}),bestType:()=>a.Ru._({id:"p1FnrO"}),speed:2,flag:"hidreamDev"},"hidream-i1-full":{...y,label:()=>"HiDream Full",description:()=>a.Ru._({id:"KtBcIR",values:{HIDREAM_PROPER_NOUN:f}}),minProductTier:"pro",fallbackModels:r()(C,"hidream-i1-full"),bestStyle:()=>a.Ru._({id:"6M03+0"}),bestType:()=>a.Ru._({id:"w6Q431"}),speed:1,flag:"hidreamFull"}},k=()=>Object.keys(A).map(e=>({model:e,...A[e]})).sort((e,t)=>e.label().localeCompare(t.label(),"en-US",{sensitivity:"base"})),S=e=>A[e]||A[c.of.get("aiGeneratedImagesDefaultModel")],I=async(e,t)=>{var n,a;let{themeId:i,docId:r,...u}=e,p=i?{context:s.rWX.Theme,themeId:e.themeId}:r?{context:s.rWX.Doc,docId:e.docId}:{context:e.context},h=c.of.get("aiGeneratedImagesDefaultModel"),m=null!=(a=e.model)?a:h,g="".concat(o.$.API_HOST||"https://api.gamma.app","/media/images/generate"),x=(null==(n=S(m).fallbackModels)?void 0:n.filter(M))||[],f=x.includes(h)?h:x[0],b={interactionId:e.interactionId,interface:"generate-image",streaming:!1,inputContent:e.prompt,docId:e.docId,generateImageOptions:e};(0,l.rl)(b);let v=performance.now();try{let e=await (0,d.P)(g,{signal:null==t?void 0:t.signal,method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:m,...u,fallbackModel:f,...p}),credentials:"include"},{parseResponse:e=>e.json(),captureException:e=>{L(e)||e.logToErrorTracker()}});return(0,l.Yh)({...b,latency:performance.now()-v,generateImageUrls:e.map(e=>e.attrs.src)}),e}catch(e){throw console.error("(caught) [AIGenerateImage] error:",e),(0,l.tB)({...b,latency:performance.now()-v,errorName:"GenerateImageError",errorMessage:e.message,outputMessage:""}),e}},E={sexual:()=>a.Ru._({id:"gHG6wD"}),violence:()=>a.Ru._({id:"x40BeZ"}),prohibited:()=>a.Ru._({id:"UiRApc"})};function L(e){var t;return(null==(t=e.body)?void 0:t.code)==="prohibited_input"}function R(e){let t;if(e instanceof d.f)if(L(e)){var n,i,r;t=E[(r=null!=(i=null==(n=e.body)?void 0:n.categories)?i:{}).sexual||r["sexual/minors"]?"sexual":r.violence||r["violence/graphic"]?"violence":"prohibited"]()}else t=e.userFacingErrorDescription();return t?a.Ru._({id:"ZJbOi7",values:{additionalErrorContext:t}}):a.Ru._({id:"Id+8aq"})}let D=e=>{if(e&&A[e]){let t=A[e];if(t.aspectRatios)return t.aspectRatios}return["square","portrait","landscape"]},M=e=>{let t=A[e];return!(!t||t.flag&&!c.of.get(t.flag)&&e!==c.of.get("aiGeneratedImagesDefaultModel")||t.disabledFlag&&c.of.get(t.disabledFlag))},_=e=>{let t=A[e];return!t||t.freeFlag&&c.of.get(t.freeFlag)?"free":t.minProductTier||"free"}},28647:(e,t,n)=>{"use strict";n.d(t,{D:()=>a}),n(47665);let a=e=>{var t;return(null==(t=e.find(e=>e.spec.isBlockWidthDecoration))?void 0:t.spec)||{}}},28700:(e,t,n)=>{"use strict";n.d(t,{H:()=>r,j:()=>o});var a=n(63867),i=n(23513);function r(e){return 0==e.openStart&&0==e.openEnd&&1==e.content.childCount?e.content.firstChild:null}let o=(e,t,n)=>{if(!n)return!0;let o=r(n),l=o&&e.state.selection instanceof a.nh,s=o?e.state.tr.replaceSelectionWith(o,e.input.shiftKey):e.state.tr.replaceSelection(n),d=(0,i.i)(s);return d?s.setSelection(d):l&&s.setSelection(a.nh.create(s.doc,e.state.selection.from)),e.dispatch(s.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}},29347:(e,t,n)=>{"use strict";n.d(t,{Am:()=>u,Nx:()=>h,vI:()=>p});var a=n(94289),i=n(63867),r=n(17859),o=n(50861),l=n(39977),s=n(48369),d=n(15607),c=n(64234);let u=(e,t,n)=>{let a=(0,l.A)({editor:e,selection:t,freshNode:n});if(a){if("smartLayoutCell"===a.node.type.name){let e=(0,s.BJ)(a.node.attrs.variantKey);if(!a.attrs.source){var r,o,c;if(null==(o=e.defaultAttrs)||null==(r=o.image)?void 0:r.source)a.attrs.source=e.defaultAttrs.image.source;else{let e=(0,d.F2)(t.$from.parent.content).find(e=>{var t;return null==(t=e.attrs.image)?void 0:t.source});a.attrs.source=null==e||null==(c=e.attrs.image)?void 0:c.source}}}let e="imgKeyPath"in a?a.imgKeyPath:void 0;return{...a,type:a.node.type,accesoryKeyPath:e,editType:"accessory"===a.area||"background"===a.area?a.area:void 0}}if(t instanceof i.nh){let e=t.node;return{editType:"node",id:e.attrs.id,...e}}if(t instanceof i.U3){if(t.to-t.from==1&&t.$from.nodeAfter&&!e.isActive("link")){let e=null!=n?n:t.$from.nodeAfter;return{editType:"node",id:e.attrs.id,...e}}if(e.isActive("link")){let t=e.getAttributes("link");return{attrs:t,type:e.schema.marks.link,mediaType:"embed",id:t.id}}}return null},p=e=>{let t,{editor:n,selection:l,sourceKey:s,attrs:d,nodeName:p,resetAttrs:h,resizeToFit:m}=e,{from:g}=l,x=u(n,l);if(!x)return void console.error("[updateSelectedMedia] No selectedMedia to update");if(h)t={};else if(x.type instanceof a.sX)t=x.attrs;else{var f;let e=n.state.doc.nodeAt(g);if(!e||e.type!==x.type&&e.attrs.id!==x.attrs.id)return void console.error("[updateSelectedMedia] Node has moved, cant update");t=(null==(f=u(n,l,e))?void 0:f.attrs)||{}}let b={...t,source:s,...d};if(m&&"node"===x.editType&&(b=(0,o.Ez)(b)),x&&(0,r.Vc)({previous_attrs:x.attrs,new_attrs:b,replacement_method:"media_drawer",doc_id:n.gammaDocId||"",node_id:x.attrs.id,image_type:x.type.name}),(null==x?void 0:x.type.name)==="link"){b.href=b.href||b.sourceUrl;let{from:e,to:t}=l;n.chain().extendMarkRange("link").updateAttributes("link",b).setTextSelection({from:e,to:t}).run();return}if("smartDiagram"===x.type.name&&x.accesoryKeyPath)return void n.chain().updateSmartDiagramData(g,x.accesoryKeyPath,b).run();if(x.accesoryKeyPath)return void n.chain().updateAttributesAtPos(g,{[x.accesoryKeyPath]:b}).run();let v=c.Fn[b.source],y=p||v.nodeName;y&&n.commands.command(e=>{let{tr:t,state:n}=e,a=n.schema.nodes[y];return!!a&&(t.setNodeMarkup(g,a,b).setSelection(i.nh.create(t.doc,g)).setMeta("annotationEvent",{type:"update-node-attrs",pos:g}),!0)})},h=(e,t)=>{let n=(0,d.vC)(e,t);return!!n&&!!n.config.accessoryImageKey||"smartDiagram"===t.name||(t instanceof a.Z6?(0,o.bi)(t):t instanceof a.sX&&"link"===t.name)}},29614:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});let a="ai-parsed-attrs"},29917:(e,t,n)=>{"use strict";n.d(t,{Fk:()=>v,RH:()=>m,QM:()=>y,j_:()=>w});var a=n(41352),i=n(81221),r=n(67670),o=n(89557),l=n(91938);let s={},d=async e=>{let t=s[e];if(t&&t.expires&&new Date(t.expires)-3e5>Date.now())return s[e];let n=await fetch("/api/transloadit/signature",{method:"POST",body:JSON.stringify({templateId:e})}),{signature:a,expires:i}=await n.json();return a&&i?(s[e]={signature:a,expires:i},s[e]):(console.error("Error getting Transloadit signature"),{signature:"",expires:""})};var c=n(29608),u=n(46007),p=n(67097);let h={auth:{key:l.$.TRANSLOADIT_AUTH_KEY},template_id:l.$.TRANSLOADIT_IMAGE_TEMPLATE_ID},m=["image/*",o.A.heic,o.A.heif],g=["application/vnd.openxmlformats-officedocument.presentationml.presentation"],x=[o.A.doc,o.A.docx,...g,o.A.pdf],f={all:[...x,...g,...m],importDoc:[...x],importPpt:[...g],importPdf:[o.A.pdf],doc:x,font:["font/otf","font/ttf","application/x-font-ttf","application/x-font-otf",".otf",".ttf"],image:m,icon:[".png",".ico",".gif",".svg"],favicon:[".ico",".png",".gif",".jpg",".jpeg"]},b={autoProceed:!0,restrictions:{allowedFileTypes:[],maxNumberOfFiles:1}},v={createUppyInstance:function(e,t){let{onUploadStart:n,onOriginalFileUpload:r,onUploadComplete:o,onUploadFailed:l,onProgress:s,setErrorMessage:m}=t,g=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"node",x=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,v=arguments.length>4?arguments[4]:void 0,y=arguments.length>5?arguments[5]:void 0,w=arguments.length>6?arguments[6]:void 0,C=2560,j="false";"background"===g||"themeBackground"===g?C=3840:"icon"===g||"favicon"===g?C=250:"profile"===g?(C=1024,j="true"):("workspaceLogo"===g||"cardMargins"===g)&&(C=1024);let A=[];v=v||"image";let k=new a.Ay({...b,restrictions:{...b.restrictions,maxNumberOfFiles:x,allowedFileTypes:f[v],maxFileSize:w}});return k.use(i.Ay,{assemblyOptions:async()=>{let t=y||h.template_id,{signature:n,expires:a}=await d(t);return{params:{...h,auth:{...h.auth,expires:a},template_id:y||h.template_id},fields:{orgId:e,imageType:g,resizePx:C,cropPadding:"50%",detectAndCropFace:j},signature:n}},waitForEncoding:!0}),k.on("file-added",async e=>{let t=(null==e?void 0:e.type)&&(0,p.aI)(null==e?void 0:e.type)&&!(0,c.nr)();try{var a;(null==e||null==(a=e.type)?void 0:a.includes("image"))&&(null==e?void 0:e.data)instanceof File&&!t&&await (0,p.Ru)(e),n&&1===x&&n({tempUrl:URL.createObjectURL(e.data),file:e}),s&&s(0)}catch(t){console.error("[Uppy.file-added] ".concat(t.message)),k.removeFile(e.id)}}),k.on("files-added",e=>{n&&1!==x&&e.forEach(e=>{n({tempUrl:URL.createObjectURL(e.data),file:e})}),s&&s(0)}),k.on("error",e=>{let t="Error uploading to Transloadit: ".concat(e.message);m&&m(""),l&&l(t),console.error(t)}),k.on("upload-progress",(e,t)=>{s&&s(t.bytesUploaded/t.bytesTotal*100)}),k.on("transloadit:result",(e,t,n)=>{if(1===x){if(!r||"original_file"!==e||0===n.uploads.length||(0,p.aI)(n.uploads[0].mime)||(0,u.cZ)(n.uploads[0].mime,n.uploads[0].ext)||!t)return;let{url:a,meta:i,name:o}=t;m&&m(""),a?r({src:a,meta:i,name:o,uploadResultStep:"original"}):(l&&l("Error uploading to Transloadit"),console.error("Error uploading to Transloadit"))}else if("filter_skip_optimize"===e){A=A.concat(t);return}else{let e,i;if((0,p.aI)(t.mime))i=t;else{var a;e=null==(a=A.find(e=>e.name===t.name))?void 0:a.url,i=t}if(!i)return;let{url:r,meta:s,name:d}=i;m&&m(""),r?o&&o({src:r,meta:s,name:d,uploadResultStep:"optimized",fullResults:n.results},e):(l&&l("Error uploading to Transloadit"),console.error("Error uploading to Transloadit"))}}),k.on("transloadit:complete",e=>{var t,n,a,i,r;let s,d,c,h;if(1!=x)return;if(0===e.uploads.length)throw console.error("[transloadit:complete] No uploads in assembly",e),Error("No uploads in assembly");if("importDoc"===v)d=e.results.convert_to_html[0];else if("importPpt"===v)d=e.results.convert_to_html[0];else{if((0,u.eT)(e.uploads[0].ext))return;(0,u.ZD)(e.uploads[0].mime)?(d=e.results.original_file[0],c=e.results.doc_thumbnail[0].url):(0,u.cZ)(e.uploads[0].mime,e.uploads[0].ext)?(d=e.results.convert_to_pdf[0],c=e.results.doc_thumbnail[0].url):(0,p.aI)(e.uploads[0].mime)?(d=(null==(t=e.results.optimized)?void 0:t[0])||(null==(n=e.results.filter_skip_optimize)?void 0:n[0]),h=null==(a=e.results.detect_and_crop_face)?void 0:a[0].url):(s=e.results.original_file[0].url,h=null==(i=e.results.detect_and_crop_face)?void 0:i[0].url,d=(null==(r=e.results.optimized)?void 0:r[0])||e.results.original_file[0])}let{url:g,ssl_url:f,meta:b,name:y}=d;m&&m(""),f||g?o&&o({src:f||g,meta:b,name:y,thumbnail:c,croppedFace:h,uploadResultStep:"optimized",fullResults:e.results},s):(l&&l("Error uploading to Transloadit"),console.error("Error uploading to Transloadit"))}),k}},y=async function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"node",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"image",r=arguments.length>5?arguments[5]:void 0,o=arguments.length>6?arguments[6]:void 0;if(!t)throw Error("Tried uploading an image with no orgId");let l=v.createUppyInstance(t,n,a,1,i,r,o);try{l.addFile({name:e.name,type:e.type,data:e})}catch(e){var s;null==n||null==(s=n.onUploadFailed)||s.call(n,e.message);return}await l.upload()},w=async function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"node",o=arguments.length>4?arguments[4]:void 0;if(!t)throw Error("Tried uploading an image with no orgId");let l=v.createUppyInstance(t,n,a,"themeBackground"===a?null:1,void 0,o);l.use(r.A,{companionUrl:i.HI});let s=await l.getPlugin("Url").addFile(e);if(s instanceof Error){var d;null==n||null==(d=n.onUploadFailed)||d.call(n,s.message)}}},31394:(e,t,n)=>{"use strict";n.d(t,{s:()=>a});let a=e=>{let{variant:t}=e;return{variant:"unstyled",display:"inline-flex",position:"relative",_hover:{textDecoration:"none"},minW:"min(100%, 12em)",maxW:"100%",fontSize:"1em",py:"0.5em",minH:"2.75em",w:"var(--button-width)",h:"auto",px:"link"===t?"0.5em":"1em",transitionProperty:"none","data-variant":t}}},31612:(e,t,n)=>{"use strict";n.d(t,{TD:()=>i,dg:()=>o,pX:()=>l,sA:()=>r});var a=n(58495);function i(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=null!=(t=n.id)?t:(0,a.Ak)(),r="auto"===n.dismissable?new Date(Date.now()+5e3):n.dismissable;return{type:"addFeedback",payload:{id:i,message:e,severity:n.severity||"info",dismissable:r}}}function r(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return{type:"removeFeedback",payload:t}}function o(e){return{type:"openContextMenu",payload:{position:e}}}function l(){return{type:"closeContextMenu",payload:void 0}}},32973:(e,t,n)=>{"use strict";n.d(t,{N:()=>d});var a=n(6029),i=n(17399),r=n(41896),o=n(54765),l=n(46957);let s=e=>(0,a.jsx)(o.u,{...e,children:(0,a.jsx)("pre",{children:(0,a.jsx)(r.$p,{as:"code"})})}),d=i.Ay.extend({selectable:!1,isolating:!0,addNodeView:()=>(0,r.gu)(s,{update:l.z0})})},33170:(e,t,n)=>{"use strict";n.d(t,{BT:()=>A,CF:()=>C,Ft:()=>k});var a=n(6029),i=n(88507),r=n(70315),o=n(55729),l=n(9014),s=n(3912),d=n(25839),c=n(14389),u=n(86364),p=n(61250);let h=["0%","0%","0%","0%"],m="clippable-control-wrapper",g=(e,t,n)=>e/Math.sqrt((t*t+n*n)/2)*100,x=(e,t,n)=>e/100*Math.sqrt((t*t+n*n)/2),f=(e,t,n)=>{if("circle"===e){let e=Math.min(t,n)/2;return["".concat(g(e,t,n),"%"),"at","50%","50%"]}return h},b=(e,t,n)=>"circle"===e?1:"inset"===e?t/n:null,v=(e,t)=>{if("inset"===t){let[t,n]=e[0],[a,i]=e[4];return(a-t)/(i-n)}return 1},y=(e,t,n,a)=>{let[i,r,o,l]=e;if("inset"===t){let t=parseFloat(i),s=parseFloat(r),d=parseFloat(o),u=parseFloat(l),p=c.MK/n*100,h=c.MK/a*100;if(100-u-s<p){let t=100-u-p;t>=0?e[1]="".concat(t,"%"):(e[1]="0%",e[3]="".concat(100-p,"%"))}if(100-t-d<h){let n=100-t-h;n>=0?e[2]="".concat(n,"%"):(e[2]="0%",e[0]="".concat(100-h,"%"))}}else if("circle"===t){let t=Math.max(x(parseFloat(i),n,a),c.MK);e[0]="".concat(g(t,n,a),"%")}},w=e=>{let{clipType:t,clipStyles:n,w:a,h:i}=e,[r,o,l,s]=n;if("inset"===t){let e=parseFloat(r),t=parseFloat(o),n=parseFloat(l),a=parseFloat(s),i=a/(t+a)*100,d=e/(e+n)*100,c=isNaN(i)?50:i,u=isNaN(d)?50:d,p=100-a-t,h=100-e-n;return{mask:"\n        linear-gradient(#000 0 0) ".concat(c,"% ").concat(u,"% / ").concat(p,"% ").concat(h,"%,\n        linear-gradient(rgba(0,0,0,0.4) 0 0)"),width:p,height:h,top:e,right:t,bottom:n,left:a}}if("circle"===t){let e=parseFloat(r),t=parseFloat(l),n=parseFloat(s),o=x(e,a,i),d=n/100*i-o,c=t/100*a-o,u=2*o/a*100,p=2*o/i*100,h=d/i*100,m=c/a*100;return{mask:"radial-gradient(".concat(u,"% ").concat(p,"% at ").concat(t,"% ").concat(n,"%, black 50%, rgba(0, 0, 0, 0.4) 50%) no-repeat"),width:u,height:p,top:Math.max(h,0),left:Math.max(m,0),bottom:0,right:0}}return{mask:"",width:0,height:0,top:0,left:0,bottom:0,right:0}},C=(e,t,n,a)=>{if(!e||!e.clipType||!a)return{clipType:"inset",scaleCrop:1,scaleX:1,scaleY:1,aspectRatio:a||void 0,referenceXOffset:1,referenceYOffset:1,clipPathCSSString:"",translateX:0,translateY:0};let i=e.clipPath||f(e.clipType,t,n),{clipType:r}=e,{width:o,height:l,top:s,left:d,right:c,bottom:u}=w({w:t,h:n,clipType:r,clipStyles:i}),p=100/o,h=100/l,m=(null==e?void 0:e.clipAspectRatio)||1,g=(null==e?void 0:e.clipAspectRatio)||a;return{scaleCrop:a/m<1?Math.min(h,p):Math.max(h,p),aspectRatio:g,scaleX:p,scaleY:h,translateX:d,translateY:s,referenceXOffset:t*(100/(100-d+c)-1),referenceYOffset:n*(100/(100-s+u)-1),clipPathCSSString:"".concat(r,"(").concat(i.join(" "),")"),clipType:r}},j=(0,l.yX)([l.ZW]),A={[".".concat(m)]:{zIndex:2,".moveable-control":{zIndex:2,_hover:{opacity:1},transitionProperty:"opacity",transitionDuration:"normal"},"&.data-clip-type-inset":{".moveable-control":{zIndex:2,bg:"0 none !important",borderRadius:"0px",width:"".concat(16,"px"),height:"".concat(16,"px"),border:"6px solid var(--chakra-colors-trueblue-300)",'&[data-clip-index="0"]':{borderRight:"0",borderBottom:"0",marginTop:"-".concat(2,"px"),marginLeft:"-".concat(2,"px"),cursor:"nw-resize"},'&[data-clip-index="1"]':{borderRight:"0",borderBottom:"0",borderLeft:"0",marginTop:"-".concat(2,"px"),cursor:"n-resize"},'&[data-clip-index="2"]':{borderLeft:"0",borderBottom:"0",marginTop:"-".concat(2,"px"),marginLeft:"-".concat(14,"px"),cursor:"ne-resize"},'&[data-clip-index="3"]':{borderBottom:"0",borderTop:"0",borderLeft:"0",marginLeft:"-".concat(14,"px"),cursor:"e-resize"},'&[data-clip-index="4"]':{borderTop:"0",borderLeft:"0",marginLeft:"-".concat(14,"px"),marginTop:"-".concat(14,"px"),cursor:"se-resize"},'&[data-clip-index="5"]':{borderTop:"0",borderLeft:"0",borderRight:"0",marginTop:"-".concat(14,"px"),cursor:"s-resize"},'&[data-clip-index="6"]':{borderTop:"0",borderRight:"0",marginTop:"-".concat(14,"px"),marginLeft:"-".concat(2,"px"),cursor:"sw-resize"},'&[data-clip-index="7"]':{borderTop:"0",borderBottom:"0",borderRight:"0",marginLeft:"-".concat(2,"px"),cursor:"w-resize"}}},"&.data-clip-type-circle":{".moveable-control":{bg:"trueblue.300"}},".moveable-clip-ellipse":{borderWidth:"2px",borderColor:"var(--chakra-colors-trueblue-300) !important"},".moveable-line":{display:"none"}}},k=e=>{let{clipPath:t,clipAspectRatio:n,updateResizeAttrs:l,imageWrapperRef:c,refreshDeps:h,currentWidth:g,currentHeight:x,onFinishCrop:C}=e,A=(0,d.jL)(),k=(0,d.GV)(p.$k),S=(0,o.useRef)(null),[I,E]=(0,o.useState)({clipPath:t||f(k,g,x),clipAspectRatio:n||b(k,g,x)}),L=(0,o.useCallback)(e=>{if(!g||!x||!c.current)return;let{mask:t}=w({w:g,h:x,clipType:k,clipStyles:e});c.current.style["-webkit-mask"]=t,c.current.style["-webkit-mask-repeat"]="no-repeat"},[c,k,g,x]),R=JSON.stringify(I.clipPath);(0,o.useEffect)(()=>{L(I.clipPath)},[L,R,I.clipPath]),(0,i.w)(()=>{E(e=>({...e,clipPath:f(k,g,x),clipAspectRatio:b(k,g,x)}))},[k]),(0,o.useEffect)(()=>{var e;null==(e=S.current)||e.updateTarget()},[h]);let D=(0,o.useCallback)(()=>{let e={clipType:k,...I};e.clipAspectRatio&&e.clipPath&&l(e)},[l,I,k]),M=(0,o.useRef)({fn:D,confirmOnUnmount:!0});M.current.fn=D,(0,o.useEffect)(()=>u.R.on("endClip",e=>{let{confirm:t}=e;M.current.confirmOnUnmount=t,A((0,p.uy)()),C&&C()}),[A,C]),(0,o.useEffect)(()=>{let e=M.current;return()=>{e.confirmOnUnmount&&setTimeout(e.fn,0)}},[]),(0,o.useEffect)(()=>s.WC.on("keydown","CLIPPABLE",e=>!!(0,r.Ay)("mod+x")(e)&&(e.preventDefault(),!0)),[]);let _="".concat(k,"(").concat((I.clipPath||f(k,g,x)).join(" "),")");return(0,a.jsx)(j,{ref:e=>{S.current=e},className:"".concat(m," data-clip-type-").concat(k),target:c.current,renderDirections:["ne","nw","se","sw"],origin:!1,draggable:!1,clippable:!0,clipTargetBounds:!0,clipRelative:!0,clipArea:!0,defaultClipPath:k,customClipPath:_,dragWithClip:!0,keepRatio:!0,onClip:e=>{let{clipStyles:t,clipType:n}=e;y(t,n,g,x),L(t)},onClipEnd:e=>{let{lastEvent:t}=e;if(!(null==t?void 0:t.clipStyles))return;let{clipStyles:n,clipType:a}=t;y(n,a,g,x),E({clipPath:n,clipAspectRatio:v(t.poses,k)})}})}},33424:(e,t,n)=>{"use strict";n.d(t,{Qo:()=>s,X6:()=>c,_F:()=>d,mn:()=>l,ng:()=>u});var a=n(84462),i=n.n(a),r=n(61385),o=n(36512);let l=e=>{let{isMobileDevice:t,numericFontSize:n}=e;return(t?o.AF:o.jN)/n},s=e=>"sm"===e?.875:"lg"===e?1.25:1,d=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e*r.P},c=i()(e=>e?{"--top-accent-height-sm":"4.125em","--top-accent-height-md":"8em","--top-accent-height-lg":"12.375em","--top-accent-height":"var(--top-accent-height-md)","--behind-accent-height":"12em"}:{"--top-accent-height-sm":"6.25em","--top-accent-height-md":"12.5em","--top-accent-height-lg":"18.75em","--top-accent-height":"var(--top-accent-height-md)","--behind-accent-height":"24em"}),u=i()(e=>{let{isPresentMode:t,isNested:n,isFullBleed:a,displayFullBleed:i,isThumbnail:r,isMobileDevice:l,attrs:s}=e,d="none"!==s.background.type&&!n,c=r?"em":t?"rem":"em",u=i||n?"0px":l?"".concat(o.Hb).concat(c):"".concat(o.YW).concat(c),p="calc(var(--card-outer-padding-x) + ".concat(a||n?"0px":"var(--doc-padding-left, 0px)"," + ").concat(t?"var(--present-padding-left, 0px)":"0px",")"),h="calc(var(--card-outer-padding-x) + ".concat(a||n?"0px":"var(--doc-padding-right, 0px)"," + ").concat(t?"var(--present-padding-right, 0px)":"0px",")");return{outerPaddingX:u,outerPaddingY:i||n?"0px":l?"".concat(o._0/2).concat(c):!d||t||r?"".concat(o.Ri).concat(c):"".concat(o.St).concat(c),outerPaddingLeft:p,outerPaddingRight:h}})},33633:(e,t,n)=>{"use strict";n.d(t,{ww:()=>s});var a=n(55729),i=n(74158),r=n(25839),o=n(69138);n(54929);var l=n(22249);let s=function(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],n=e.panelPosition,s=(0,i.wA)(),d=(0,r.GV)((0,l.El)(e)),c=(0,a.useCallback)(()=>{s((0,l.TQ)({component:e}))},[e,s]);return(0,o.V)(()=>{!t&&d&&s((0,l.Zv)({position:n}))},[d,s,t,n],[t]),{togglePanel:(0,a.useCallback)(a=>{if(!t)return;let i=!d;(null==a?void 0:a.override)==="open"?i=!0:(null==a?void 0:a.override)==="closed"&&(i=!1),i?s((0,l.NE)({component:e,disableTransition:!!(null==a?void 0:a.disableTransition),isResizable:!!(null==a?void 0:a.isResizable),props:null==a?void 0:a.props})):s((0,l.Zv)({position:n}))},[e,n,d,s,t]),initPanel:c,isPanelOpen:d}}},34394:(e,t,n)=>{"use strict";n.d(t,{R5:()=>c,ZQ:()=>s,oP:()=>d});var a=n(55729),i=n(27002),r=n(28630),o=n(42721),l=n(44798);let s=()=>{var e;let t=(0,i.u)("aiGeneratedImagesDefaultModel"),n=(0,l.U9)(),{user:s,setSettings:d}=(0,o.ur)(),c=null==s||null==(e=s.settings)?void 0:e.preferredAiImageModel;return c&&c in r.Xz&&(c=r.Xz[c]),[c&&n(c)?c:t,(0,a.useCallback)(e=>{null==d||d({set:{preferredAiImageModel:e}})},[d])]},d=()=>{var e;let t=(0,o.HW)(),n=i.of.get("aiGeneratedImagesDefaultModel"),a=null==t||null==(e=t.settings)?void 0:e.preferredAiImageModel;return a&&a in r.Xz&&(a=r.Xz[a]),a&&(0,l.hB)(a)?a:n},c=e=>{let[t]=s(),n=(0,l.U9)();return(e&&e in r.Xz&&(e=r.Xz[e]),e&&n(e))?e:t}},34806:(e,t,n)=>{"use strict";n.d(t,{I:()=>r,k:()=>o});var a=n(93766);let i=e=>"".concat(e," !important"),r=e=>({fontFamily:i(e)}),o=e=>{let t={"[data-shape=image]":{".tl-inner-div":{}},img:{'&[src^="blob:"]':{animation:"loading-pulse-animation 1.5s infinite"}}},n=Object.values(a.JM),r=e?"dark":"light";return n.forEach(e=>{t['[data-color="'.concat(e,'"]')]={color:i(a.gA.strokes[r][e]),":not(mask) > [fill], &[fill]":{"&:not([fill=none])":{fill:i(a.gA.fills[r][e]),"text, tspan":{fill:i(a.gA.strokes[r][e])}}},"[stroke]":{"&:not([stroke=none])":{stroke:i(a.gA.strokes[r][e])}}}}),t}},35289:(e,t,n)=>{"use strict";n.d(t,{p:()=>C});var a=n(6029),i=n(46898),r=n(57405),o=n(23293),l=n(48810),s=n(33787),d=n(49611),c=n(38036),u=n(36218),p=n(58959),h=n(19564),m=n(77650),g=n(48950),x=n(59230),f=n(25839),b=n(21982),v=n(43634),y=n(67097),w=n(62964);let C=e=>{let{updateAttributes:t,currentAttributes:n}=e,{sourceUrl:C,meta:j,thumbnail:A}=n,k=(0,f.GV)(v.aQ),S=(0,i.d)(),I=async()=>{C&&await (0,w.Yq)(C,t).catch(e=>{console.error("[EMBED METADATA] Error restoring preview defaults",e),S({title:m.Ru._({id:"cgB+pO",values:{0:e.error}}),status:"error",isClosable:!0,position:"top"})})};return(0,a.jsxs)(r.T,{pt:4,align:"stretch",spacing:4,children:[(0,a.jsxs)(r.T,{align:"stretch",children:[(0,a.jsx)(o.D,{size:"md",children:(0,a.jsx)(h.x6,{id:"qbzc6p"})}),(0,a.jsx)(l.E,{fontSize:"sm",color:"gray.600",children:(0,a.jsx)(h.x6,{id:"D9R1mI"})})]}),(0,a.jsxs)(r.T,{align:"stretch",p:4,borderRadius:"lg",border:"1px solid var(--chakra-colors-blue-500)",bg:"gray.50",spacing:4,children:[(null==A?void 0:A.showPlaceholder)?(0,a.jsx)(b.Pf,{hasUploadError:(null==A?void 0:A.uploadStatus)===x.A.Error,isUploading:(null==A?void 0:A.uploadStatus)===x.A.Uploading,height:"200px",borderRadius:"md"}):A?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s._,{src:A.src||A.tempUrl||"",alt:(null==j?void 0:j.title)||"",ignoreFallback:!0,borderRadius:"md"}),(0,a.jsx)(d.$,{isDisabled:A.uploadStatus===x.A.Uploading,onClick:()=>{t({thumbnail:void 0})},children:(0,a.jsx)(h.x6,{id:"YFcW0s"})})]}):k&&(0,a.jsx)(g.Z,{onUploadStart:e=>{let{file:n,tempUrl:a}=e;n.type&&(0,y.aI)(n.type)?t({thumbnail:{uploadStatus:x.A.Uploading,showPlaceholder:!0,tempUrl:null}}):t({thumbnail:{tempUrl:a,uploadStatus:x.A.Uploading,showPlaceholder:!1}})},onUploadSuccess:e=>{let{src:n}=e;t({thumbnail:{src:n}})},onUploadFailed:e=>{console.error("[EMBED METADATA] Error uploading thumbnail image",e),t({thumbnail:{uploadStatus:x.A.Error,showPlaceholder:!0,tempUrl:null}})},orgId:k||"",uploadType:"image",editType:"icon",dropHereText:m.Ru._({id:"yxTfZB",values:{0:"%{browse}"}}),customHeight:"200px",customFontSize:"sm"}),(0,a.jsxs)(r.T,{mt:2,align:"stretch",children:[(0,a.jsx)(l.E,{children:(0,a.jsx)(h.x6,{id:"MHrjPM"})}),(0,a.jsx)(c.p,{bg:"white",value:(null==j?void 0:j.title)||"",placeholder:m.Ru._({id:"bTzMt5"}),onChange:e=>{t({meta:{...j,title:e.target.value}})},"data-testid":"title-input"})]}),(0,a.jsxs)(r.T,{align:"stretch",children:[(0,a.jsx)(l.E,{children:(0,a.jsx)(h.x6,{id:"Nu4oKW"})}),(0,a.jsx)(u.T,{bg:"white",rows:4,value:(null==j?void 0:j.description)||"",placeholder:m.Ru._({id:"2VBqT4"}),onChange:e=>{t({meta:{...j,description:e.target.value}})}})]}),(0,a.jsxs)(r.T,{align:"stretch",children:[(0,a.jsx)(l.E,{children:(0,a.jsx)(h.x6,{id:"On0aF2"})}),(0,a.jsxs)(p.z,{children:[(null==j?void 0:j.icon)&&(0,a.jsx)(s._,{src:j.icon,h:"1.5em",borderRadius:"sm"}),(0,a.jsx)(c.p,{bg:"white",value:(null==j?void 0:j.site)||"",placeholder:m.Ru._({id:"SmWcKR"}),onChange:e=>{t({meta:{...n.meta,site:e.target.value}})}})]})]})]}),(0,a.jsx)(d.$,{onClick:I,children:(0,a.jsx)(h.x6,{id:"Z00hdC"})})]})}},35292:(e,t,n)=>{"use strict";n.d(t,{l:()=>r}),n(55729);var a=n(27002);n(25839),n(55084),n(70965);var i=n(1309);let r=e=>(0,a.u)("aiImageEditing")&&(0,i.k)(e)},35616:(e,t,n)=>{"use strict";n.d(t,{X:()=>N});var a=n(37243),i=n(41896),r=n(38934),o=n(46957),l=n(61964),s=n(39078),d=n(6029),c=n(48810),u=n(26420),p=n(49611),h=n(21938),m=n(99492),g=n(48621),x=n(48342),f=n(19564),b=n(77650),v=n(50333),y=n.n(v),w=n(55729),C=n(23746),j=n(58251),A=n(43607),k=n(91242),S=n(80180),I=n(71595),E=n(54765),L=n(50764),R=n(43216),D=n(56124);let M=e=>{let{colWidths:t}=e;return(0,d.jsxs)("colgroup",{children:[(0,d.jsx)("col",{style:{width:"0%"}}),t.map((e,t)=>(0,d.jsx)("col",{className:"col-width-control",style:{width:"".concat(e,"%")}},t))]})};M.displayName="ColGroup";let _=e=>{var t;let n=(0,A.FX)(),{node:a,editor:r,getPos:o,decorations:v,updateAttributes:L}=e,{colMinPercent:_,newColSize:T}=r.schema.nodes.table.spec,N=(0,s.cG)(a.attrs.colWidths,T,_),P=l.J3.get(a),O=v.some(e=>e.spec.isFocusedInside),H=null==(t=v.find(e=>e.spec.isColumnSelected))?void 0:t.spec.colNumber,{colWidths:F}=a.attrs,B=(0,I.En)(),V=P.height*P.width;(0,w.useEffect)(()=>{P.width!==F.length&&setTimeout(()=>{L({colWidths:(0,s.I)(P.width)})},0)},[P.width,F,L]);let W=(0,w.useCallback)(e=>o()+1+P.positionAt(0,e,a),[o,a,P]),U=(0,w.useCallback)(e=>{let t=W(e+1)+1;r.chain().addColumnAfter(e).command(e=>{let{tr:n}=e,a=(0,k.s)(n.doc.resolve(t));return a&&n.setSelection(a),!0}).run()},[r,W]),G=(0,w.useCallback)(()=>{U(P.width-1)},[U,P.width]),K=y()(a.attrs.colWidths.reduce((e,t)=>e+t,0),20);return B?V>=D.dM?(0,d.jsx)(i.VR,{children:(0,d.jsx)(c.E,{color:"red",contentEditable:!1,border:"1px solid red",p:"0.5em",children:(0,d.jsx)(f.x6,{id:"/ZI3Eo"})})}):(0,d.jsx)(E.u,{as:"div",...e,...a.attrs,children:(0,d.jsxs)(u.a,{w:"fit-content",overflowX:n?"auto":void 0,position:"relative",width:"100%",className:(0,h.cx)("table-wrapper",j.a0),"data-selection-ring":!0,children:[(0,d.jsxs)("table",{style:{width:n?"max-content":"".concat(K,"%"),minWidth:n?"100%":void 0,maxWidth:n?"200vw":void 0,tableLayout:n?"auto":"fixed",position:"relative"},children:[(0,d.jsx)(M,{cols:P.width,colWidths:F}),(0,d.jsx)("thead",{children:(0,d.jsx)(z,{numColumns:P.width,selectedColumn:H,getColumnPosition:W,...e})}),(0,d.jsx)(i.$p,{as:"tbody",className:"table-content"})]}),(0,d.jsx)(R.A,{...e,handlePlacement:"outside","data-testid":"select-table-button",onClick:()=>{let e=W(0);r.chain().focus().selectTable(e).run()},label:b.Ru._({id:"3xRGMR"})}),O&&(0,d.jsxs)(u.a,{contentEditable:!1,suppressContentEditableWarning:!0,children:[(0,d.jsx)(x.Tz,{placement:"right",label:b.Ru._({id:"AgvHni"}),children:(0,d.jsx)(p.$,{position:"absolute",insetInlineStart:"100%",top:"0",height:"100%",onClick:G,onMouseDown:S.Fw,minWidth:"0",width:"auto",isDisabled:!N,zIndex:1,"data-testid":"add-col-end-button",size:"xs",shadow:"sm",variant:"unstyled",color:"var(--body-color)",className:C.Gx,backgroundColor:"var(--clickable-background-color)",marginInlineStart:1,w:5,children:(0,d.jsx)(g.g,{icon:m.QLR})})}),(0,d.jsx)(x.Tz,{placement:"bottom",label:b.Ru._({id:"qZd/ph"}),children:(0,d.jsx)(p.$,{position:"absolute",insetInlineStart:"0",top:"100%",width:"100%",onClick:()=>{let e=o()+1,t=P.height-1,n=P.width-1,i=e+P.positionAt(t,n,a);r.chain().focus(i).addRowAfter().run(),requestAnimationFrame(()=>r.chain().focus(i).goToNextCell().run())},onMouseDown:S.Fw,minHeight:"0",height:6,zIndex:4,"data-testid":"add-row-end-button",size:"xs",shadow:"sm",variant:"unstyled",color:"var(--body-color)",className:C.Gx,mt:1,children:(0,d.jsx)(g.g,{icon:m.QLR})})})]})]})}):null},z=e=>{let{numColumns:t,selectedColumn:n,getColumnPosition:a,...i}=e,{editor:r}=i,o=(0,w.useCallback)(e=>{let t=a(e);r.chain().focus().selectColumn(t).run()},[r,a]);if(!t)return null;let l=Array.from(Array(t).keys());return(0,d.jsxs)("tr",{contentEditable:!1,suppressContentEditableWarning:!0,children:[(0,d.jsx)("th",{style:{padding:0}}),l.map(e=>(0,d.jsx)(T,{colNumber:e,selectColumn:o,isSelected:e===n,...i},e))]})},T=(0,w.memo)(e=>{let{colNumber:t,selectColumn:n,...a}=e,{decorations:i}=a,{colHover:r}=(0,L.L3)(i),{colFocus:o}=(0,L.lF)(i),l=(0,w.useCallback)(()=>n(t),[t,n]);return(0,d.jsx)("th",{style:{position:"relative",padding:0,border:0},className:"table-col-control",children:(0,d.jsx)(R.A,{...a,handlePlacement:"top",label:b.Ru._({id:"K3GOZ1"}),zIndex:"3",isVisible:r===t||o===t,onClick:l,"data-test-column-control":t})},t)});T.displayName="SelectColumnHeader";let N=a.bP.create({name:"table",priority:r.y.Table,containerHandle:!0,addNodeView:()=>(0,i.gu)(_,{update:o.z0}),addOptions:()=>({resizable:!0,handleWidth:10,colMinPercent:10,newColSize:20,lastColumnResizable:!1,allowTableNodeSelection:!0}),content:"tableRow+",tableRole:"table",isolating:!0,allowGapCursor:!1,group:"cardBlock layoutBlock footnoteBlock calloutBlock",parseHTML:()=>[{tag:"table"}],renderHTML(e){let{HTMLAttributes:t}=e;return["table",(0,a.KV)(this.options.HTMLAttributes,t),["tbody",0]]},addAttributes(){let e="colWidths";return{colWidths:{default:[],renderHTML:t=>{let{colWidths:n}=t;return n&&n.length?{[e]:JSON.stringify(n)}:{}},parseHTML:t=>{let n=t.getAttribute(e);if(n)try{let e=JSON.parse(n);if(Array.isArray(e))return(0,s.fF)(e),e}catch(e){}let a=t.querySelector("tr");if(!a)return[];let i=0;return a.childNodes.forEach(e=>{"TD"===e.nodeName&&i++}),(0,s.I)(i)}},fullWidthBlock:{default:!1}}},addCommands(){return{insertTable:function(){let{rows:e=3,cols:t=3,withHeaderRow:n=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a=>{let{dispatch:i,editor:r,commands:o}=a;if(!i)return!1;let l=function(e,t,n,a,i){let r=function(e){if(e.cached.tableNodeTypes)return e.cached.tableNodeTypes;let t={};return Object.keys(e.nodes).forEach(n=>{let a=e.nodes[n];a.spec.tableRole&&(t[a.spec.tableRole]=a)}),e.cached.tableNodeTypes=t,t}(e),o=[],l=[];for(let e=0;e<n;e+=1){var d,c;let e=(d=r.cell,d.createAndFill());e&&l.push(e)}let u=[];for(let e=0;e<t;e+=1)u.push(r.row.createChecked(null,a&&0===e?o:l));return r.table.createChecked({colWidths:(0,s.I)(n)},u)}(r.schema,e,t,n);return o.insertContentAndSelect(l.toJSON())}},addColumnBefore:e=>t=>{let{state:n,dispatch:a,tr:i}=t;if(!(0,l.aH)(n.selection)||!a)return!1;let{table:r,tableStart:o}=(0,l._t)(n.selection);return(0,l.cq)(i,{table:r,col:e,tableStart:o,newColSize:this.options.newColSize,colMinPercent:this.options.colMinPercent})},addColumnAfter:e=>t=>{let{state:n,dispatch:a,tr:i}=t;if(!(0,l.aH)(n.selection)||!a)return!1;let{table:r,tableStart:o}=(0,l._t)(n.selection);return(0,l.cq)(i,{table:r,col:e+1,tableStart:o,newColSize:this.options.newColSize,colMinPercent:this.options.colMinPercent})},equalizeColumns:()=>e=>{let{state:t,dispatch:n,tr:a}=e;if(!(0,l.aH)(t.selection)||!n)return!1;let{map:i,tableStart:r}=(0,l._t)(t.selection);return a.setNodeMarkup(r-1,void 0,{colWidths:(0,s.I)(i.width)}),!0},visualizeTable:()=>e=>{let{state:t,dispatch:n,tr:a}=e;if(!(0,l.aH)(t.selection)||!n)return!1;let{map:i,tableStart:r}=(0,l._t)(t.selection);return a.setNodeMarkup(r-1,void 0,{colWidths:(0,s.I)(i.width)}),!0},deleteColumn:()=>e=>{let{state:t,dispatch:n,tr:a}=e;return!!n&&(0,l.Kl)(t.selection,a,n)},addRowBefore:()=>e=>{let{state:t,dispatch:n}=e;return(0,l.JD)(t,n)},addRowAfter:()=>e=>{let{state:t,dispatch:n}=e;return(0,l.gC)(t,n)},deleteRow:()=>e=>{let{state:t,dispatch:n,tr:a}=e;return(0,l.QN)(t.selection,a,n)},deleteTable:()=>e=>{let{state:t,tr:n,dispatch:a}=e;return!!a&&(0,l.CG)(t.selection,n,a)},deleteTableWhenEmpty:()=>e=>{let{state:t,tr:n,dispatch:a}=e;return!!a&&(0,l.lD)(t.selection,n,a)},deleteColWhenEmpty:()=>e=>{let{state:t,tr:n,dispatch:a}=e;return!!a&&(0,l.Tn)(t.selection,n,a)},deleteRowWhenEmpty:()=>e=>{let{state:t,tr:n,dispatch:a}=e;return!!a&&(0,l.rO)(t.selection,n,a)},mergeCells:()=>e=>{let{state:t,dispatch:n}=e;return(0,l.w7)(t,n)},splitCell:()=>e=>{let{state:t,dispatch:n}=e;return(0,l.L0)(t,n)},toggleHeaderColumn:()=>e=>{let{state:t,dispatch:n}=e;return(0,l.Qg)(t,n)},toggleHeaderRow:()=>e=>{let{state:t,dispatch:n}=e;return(0,l.uC)(t,n)},toggleHeaderCell:()=>e=>{let{state:t,dispatch:n}=e;return(0,l._G)(t,n)},mergeOrSplit:()=>e=>{let{state:t,dispatch:n}=e;return!!(0,l.w7)(t,n)||(0,l.L0)(t,n)},setCellAttribute:(e,t)=>n=>{let{state:a,dispatch:i}=n;return(0,l.i4)(e,t)(a,i)},goToNextCell:()=>e=>{let{state:t,dispatch:n}=e;return(0,l.D8)(1)(t,n)},goToPreviousCell:()=>e=>{let{state:t,dispatch:n}=e;return(0,l.D8)(-1)(t,n)},fixTables:()=>e=>{let{state:t,dispatch:n}=e;return n&&(0,l.rP)(t),!0},setCellSelection:e=>t=>{let{tr:n,dispatch:a}=t;if(a){let t=l.rn.create(n.doc,e.anchorCell,e.headCell);n.setSelection(t)}return!0}}},addKeyboardShortcuts(){let e=()=>this.editor.commands.first(e=>{let{commands:t}=e;return[()=>t.deleteTableWhenEmpty(),()=>t.deleteRowWhenEmpty(),()=>t.deleteColWhenEmpty()]});return{Tab:()=>!!this.editor.commands.goToNextCell()||!!this.editor.can().addRowAfter()&&this.editor.chain().addRowAfter().goToNextCell().run(),"Shift-Tab":()=>this.editor.commands.goToPreviousCell(),Backspace:e,"Mod-Backspace":e,Delete:e,"Mod-Delete":e}},addProseMirrorPlugins(){return this.options.resizable,[(0,l.AL)({handleWidth:this.options.handleWidth,colMinPercent:this.options.colMinPercent,lastColumnResizable:this.options.lastColumnResizable}),(0,l.LF)({allowTableNodeSelection:this.options.allowTableNodeSelection})]},extendNodeSchema(e){var t,n;let i={name:e.name,options:e.options,storage:e.storage};return{colMinPercent:null==(t=e.options)?void 0:t.colMinPercent,newColSize:null==(n=e.options)?void 0:n.newColSize,tableRole:(0,a.gk)((0,a.iI)(e,"tableRole",i))}}})},35883:(e,t,n)=>{"use strict";n.d(t,{a:()=>x});var a=n(6029),i=n(78140),r=n(36999),o=n(49611),l=n(41283),s=n(99492),d=n(48621),c=n(48342),u=n(19564),p=n(77650),h=n(54229),m=n(80180),g=n(24813);let x=e=>{let{editor:t,color:n,setColor:x,analyticsSource:f}=e;return(0,a.jsxs)(i.W,{isLazy:!0,onClose:()=>t&&(0,g.q)(t),children:[(0,a.jsx)(c.Tz,{placement:"top",label:(0,a.jsx)(u.x6,{id:"XAIjEI"}),"aria-label":p.Ru._({id:"XAIjEI"}),children:(0,a.jsx)(r.I,{as:o.$,variant:"toolbar","data-formatting-menu-button":!0,rightIcon:(0,a.jsx)(d.g,{icon:s.Jt$,transform:"shrink-6"}),size:"sm",onMouseDown:m.Fw,children:(0,a.jsx)(d.g,{icon:s.fyG})})}),(0,a.jsx)(l.c,{overflow:"hidden",children:(0,a.jsx)(h.b,{currentColor:n||null,setColor:x,source:f})})]})}},36145:(e,t,n)=>{"use strict";n.d(t,{Qx:()=>m,p$:()=>b,dM:()=>g,bC:()=>v,KS:()=>h,xH:()=>p,XE:()=>u});var a=n(63867),i=n(87996),r=n(46007),o=n(67097),l=n(8376),s=n(53138);let d=e=>RegExp("^\\s*<svg.*<\\/svg>\\s*$","s").test(e);var c=n(16595);let u=(e,t,n,a)=>{let r=(n,a)=>{(0,c.Ki)(e,a||t,n)},o={onOriginalFileUpload:r,onUploadComplete:r,onUploadFailed:n=>{(0,c.wt)(e,t,n,a)}};n?(0,i.QM)(n,e.storage.mediaUpload.orgId,o):(0,i.j_)(t,e.storage.mediaUpload.orgId,o)},p=async(e,t)=>{try{let n=await fetch(t),a=await n.blob(),i=new File([a],"blob.png",{type:a.type});u(e,t,i)}catch(n){(0,c.wt)(e,t,n)}},h=e=>(0,o.u3)(e.type)||(0,r.cZ)(e.type,(0,r.QC)(e)),m=e=>new a.k_({props:{transformPasted:t=>(t.content.descendants(t=>{if("image"===t.type.name&&t.attrs.tempUrl){let n=e.storage.mediaUpload.completedUploads[t.attrs.tempUrl];n&&Object.assign(t.attrs,(0,c.wH)(t,(0,c.yK)({isError:!1,result:n})))}else if("image"===t.type.name&&t.attrs.src&&!(0,o.md)(t.attrs.src)){let n,a=t.attrs.src;if(a.startsWith("blob:")){Object.assign(t.attrs,(0,c.F)(a)),p(e,a);return}if(a.startsWith("data:")){if(!(n=(0,o.Xz)(t.attrs.src)))return;a=URL.createObjectURL(n)}Object.assign(t.attrs,(0,c.F)(a)),u(e,a,n)}}),t),handlePaste:(t,n,a)=>f(e,t,n,a),handleDOMEvents:{drop:(t,n)=>x(e,t,n)}}}),g=(e,t)=>{var n;if(!e.clipboardData)return null;let a=e.clipboardData.getData("text/html"),i=e.clipboardData.getData("text/plain");if(i&&!a&&d(i))return[(0,o.Qm)(i)];let r=Array.prototype.slice.call(e.clipboardData.items);return r.some(e=>"text/html"===e.type)&&(t.content.childCount>1||(null==(n=t.content.firstChild)?void 0:n.type.name)!=="image")?null:r.map(e=>e.getAsFile()).filter(e=>!!e).filter(h)},x=(e,t,n)=>{if(t.props.editable&&!t.props.editable(t.state))return!1;let a=b(n).filter(h);if(0===a.length)return!1;let i=(0,l.M)(t,n);return!!i&&(n.preventDefault(),(0,s.nK)(e,a,i),!0)},f=(e,t,n,a)=>{if(t.props.editable&&!t.props.editable(t.state))return!1;let i=g(n,a);if(!i||0===i.length)return!1;let{selection:r}=t.state,o=r.from;return r.empty||e.commands.deleteSelection(),(0,s.nK)(e,i,o),!0};function b(e){let t=[],n=e.target;if(e.dataTransfer){let n=e.dataTransfer;n.files&&n.files.length?t=n.files:n.items&&n.items.length&&(t=n.items)}else n&&n.files&&(t=n.files);return Array.prototype.slice.call(t)}let v=(e,t,n)=>{let a=g(t,n);if(!a||1!==a.length)return!1;let i=a[0],r=(0,s.YC)(i,e);return{attrs:r.content.attrs,upload:r.upload}}},36464:(e,t,n)=>{"use strict";n.d(t,{Ht:()=>a.Ht});var a=n(4747)},36512:(e,t,n)=>{"use strict";n.d(t,{AF:()=>i,HY:()=>o,Hb:()=>u,IM:()=>h,Ri:()=>s,St:()=>p,Vy:()=>g,YW:()=>c,_0:()=>d,br:()=>x,cK:()=>r,jN:()=>a,lA:()=>m,rN:()=>l,s5:()=>f});let a=3.5,i=1.5,r=2.75,o=1.5,l=2.25,s=2,d=1,c=2,u=.5,p=8,h=.5,m=60,g=95,x=115,f=47.5},37327:(e,t,n)=>{"use strict";n.d(t,{E0:()=>s,KB:()=>o,hc:()=>d,uI:()=>l});var a=n(62964),i=n(71753),r=n(64811);let o=e=>!!e.includes("://"),l=(e,t)=>{d(e)||(0,a.Yq)(e,n=>{let{doc:a,schema:r,tr:o}=t.state;(0,i.Zo)(a,t.schema.marks.link).forEach(t=>{let{node:a,pos:i}=t,l=a.marks.find(t=>"link"===t.type.name&&t.attrs.href==e);l&&o.removeMark(i,i+a.nodeSize,l).addMark(i,i+a.nodeSize,r.marks.link.create({...l.attrs,...n}))}),t.view.dispatch(o)}).catch(e=>{console.error("[Link.fetchUrlThenUpdateMarks]",e)})},s=e=>e.attrs.source||e.attrs.meta||e.attrs.embed,d=e=>{if(!e)return!1;let t=e&&e.toLowerCase();for(let e of r.r)if(t.startsWith(e+":"))return!0;return!1}},38194:(e,t,n)=>{"use strict";n.d(t,{Ll:()=>r,cn:()=>o,vL:()=>l});var a=n(58495);let i={},r=e=>{let t=e.getAttribute("bookmark");if(!t)return!1;let n=i[t];return!!n&&n.attrs},o=e=>{let t=e.getAttribute("bookmark");if(!t)return!1;let n=i[t];return!!n&&n.content},l=e=>{let t=s.generateBookmarkId();return i[t]=e,setTimeout(()=>{delete i[t]},3e5),t},s={generateBookmarkId:()=>(0,a.Ak)(5)}},38537:(e,t,n)=>{"use strict";n.d(t,{KS:()=>u,i$:()=>p});var a=n(55765),i=n.n(a),r=n(12364),o=n.n(r),l=n(55729),s=n(83747);class d extends s.b{cleanup(){document.removeEventListener("containerResize",this.emitResize)}constructor(){super(),this.emitResize=e=>{this.emit("resize",e)},document.addEventListener("containerResize",this.emitResize)}}let c=i()(()=>new d),u=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:250,[n,a]=(0,l.useState)(!1),i=(0,l.useMemo)(c,[]);return(0,l.useEffect)(()=>{let n,r=o()(i=>{let{target:r}=i;r&&e.current&&h(e.current,r)&&(clearTimeout(n),a(!0),n=setTimeout(()=>{a(!1)},t+100))},t,{leading:!0,trailing:!1,maxWait:t});return i.on("resize",r)},[i,t,e]),n},p=e=>{e.dispatchEvent(new Event("containerResize",{bubbles:!0}))},h=(e,t)=>{let n=e;do{if(n!==t)continue;return!0}while(n=n.parentElement);return!1}},38636:(e,t,n)=>{"use strict";n.d(t,{F:()=>y});var a=n(6029),i=n(26420),r=n(33787),o=n(55729),l=n(63902),s=n(67097),d=n(21982),c=n(80314),u=n(92739),p=n(25839),h=n(48932),m=n(43634);let g=e=>{let{link:t,children:n,...i}=e,r=(0,p.GV)(m.nD),{linkUrl:l,handleClick:s}=(0,h.c)({url:t||""}),{interceptLinkClick:d,linkUrlSafe:g,isUntrusted:x,linkInterceptEnabled:f}=(0,u.i)(l),b=(0,o.useCallback)(e=>{if(null==s||s(e),!r)return f?d(e):void 0;e.preventDefault()},[r,s,d,f]);return t&&!x?(0,a.jsx)(c.N,{href:f?g||"":l,isExternal:!0,onClick:b,rel:"noopener nofollow",...i,children:n}):(0,a.jsx)(a.Fragment,{children:n})};var x=n(33170);let f=(e,t,n)=>e/100*(Math.sqrt(t*t+n*n)/Math.sqrt(2))*2,b=e=>{let t,n,a,i,r,{w:o,h:l,clipPath:d,clipType:c,src:u}=e;if(!d||!c||!u)return null;if("inset"===c){let e=.01*parseFloat(d[0]),r=.01*parseFloat(d[1]),o=.01*parseFloat(d[2]),l=.01*parseFloat(d[3]);t=l+r===0?0:1-(l+r),n=e+o===0?0:1-(e+o),a=l,i=e}else{n=t=f(parseFloat(d[0]),o,l);let e=t/2;a=(.01*parseFloat(d[2])-e/o)*o,i=(.01*parseFloat(d[3])-e/l)*l,r=!0}return{url:(0,s.bI)(u,v({crop:{cropWidth:t,cropHeight:n},gravity:{xOffset:a,yOffset:i}})),isCircle:r}},v=e=>{let{crop:{cropWidth:t,cropHeight:n},gravity:{xOffset:a,yOffset:i}}=e;return{crop:"".concat(t,":").concat(n,":nowe:").concat(a,":").concat(i),resizing_type:"auto"}},y=(0,o.forwardRef)((e,t)=>{let{imageAttrs:{src:n,tempUrl:o,resize:c,meta:u},isCroppingThisImage:p=!1,isZoomed:h=!1,objectFit:m="contain",containerWidth:f,intrinsicAspectRatio:v,isThumbnail:y,linkHref:w,containerProps:C,shouldUseImgProxyCrop:j,bodyColor:A,...k}=e;A&&n&&(n=(0,s.pO)(n,A));let S=(0,l.oR)(),I=(null==u?void 0:u.frame_count)&&u.frame_count>1,E=h||!n||I?n:(0,s.Ub)(n,y?{height:400}:{width:2e3},u),L=f||(null==u?void 0:u.width)||1,R=f&&v?f/v:(null==u?void 0:u.height)||1,{scaleCrop:D,scaleY:M,clipPathCSSString:_,translateX:z,translateY:T,aspectRatio:N,referenceXOffset:P,referenceYOffset:O}=(0,x.CF)(c,L,R,v||((null==u?void 0:u.width)&&(null==u?void 0:u.height)?u.width/u.height:1))||{},H=!p&&!!(null==c?void 0:c.clipPath),F=p?"":"scale(".concat(D,") translate(-").concat(z,"%, -").concat(T,"%)"),B=(0,s.SV)(n||o),V=(0,s.v7)(n||o),W=b({w:L,h:R,clipPath:null==c?void 0:c.clipPath,clipType:null==c?void 0:c.clipType,src:n});return(0,a.jsx)(g,{link:w,w:h?void 0:"100%",children:(0,a.jsx)(i.a,{css:{aspectRatio:"".concat(H?N:"")},className:"image","data-content-reference":"".concat(P,",").concat(O),"data-export-link":w,"data-drag-preview":!0,"data-scale-preview":!0,maxH:"var(--media-maxH)",maxW:"var(--media-maxW)",overflow:"hidden",w:h?void 0:"100%",h:"cover"==m?"100%":void 0,sx:{"@media print":{height:"unset"}},...C,children:V?(0,a.jsx)(s.FD,{src:n||o||"",poster:null==u?void 0:u.poster,objectFit:m,maxH:"calc(var(--media-maxH) * ".concat(M||1,")"),minH:"cover"==m?"calc(var(--media-maxH) / ".concat(D||1,")"):void 0,...k}):j&&(null==W?void 0:W.url)?(0,a.jsx)(r._,{alt:"",objectFit:m,maxH:"calc(var(--media-maxH) * ".concat(M||1,")"),minH:"cover"==m?"calc(var(--media-maxH) / ".concat(D||1,")"):void 0,ref:t,...n||o?{}:d.v9,src:(null==W?void 0:W.url)||E||o||"",...k}):(0,a.jsx)(r._,{alt:"",objectFit:m,maxH:"calc(var(--media-maxH) * ".concat(M||1,")"),minH:"cover"==m?"calc(var(--media-maxH) / ".concat(D||1,")"):void 0,transformOrigin:"left top",clipPath:p?"":_,ignoreFallback:h||S,transform:F,src:E||o||"",fallbackSrc:o||"",ref:t,w:B?"100%":void 0,...n||o?{}:d.v9,...k})})})});y.displayName="CroppedImage"},38934:(e,t,n)=>{"use strict";n.d(t,{y:()=>a});let a={UniqueAttribute:1e4,CardMention:1001,DocMention:1001,UserMention:1001,UndoInputRuleKeymap:1001,HorizontalAlign:1001,Collaboration:1e3,Highlight:150,FootnoteLabel:150,TextColor:150,Code:150,Link:140,SlashMenu:104,EmojiShortcuts:104,MentionSuggestionMenu:104,List:103,CardAccentLayoutItem:103,Table:102,Image:102,Gallery:102,CardLayoutItem:101,MediaPlaceholder:101,Layout:101,Footnote:101,Card:101,Toggle:101,SmartLayout:101,KeyMapOverride:100,GlobalDragHandle:99,CardIds:1,KeyBoardCatchall:1,UndoHistory:-100}},39385:(e,t,n)=>{"use strict";n.d(t,{z:()=>h,J:()=>m});var a=n(37243);n(91566);var i=n(46829),r=n(63867),o=n(27002);let l=a.bP.create({name:"math_display",group:"block math",content:"text*",atom:!0,code:!0,renderHTML(e){let{HTMLAttributes:t}=e;return["math-display",(0,a.KV)(t,{class:"math-node"}),0]},renderHTMLforAI:e=>["formula",e.HTMLAttributes,0],parseHTML:()=>[{tag:"math-display"},{tag:"formula"}]});var s=n(72055);let d=a.bP.create({name:"math_inline",group:"inline math",content:"text*",inline:!0,atom:!0,renderHTML(e){let{HTMLAttributes:t}=e;return["math-inline",(0,a.KV)(t,{class:"math-node"}),0]},renderHTMLforAI:e=>["math",e.HTMLAttributes,0],parseHTML:()=>[{tag:"math-inline"},{tag:"math"}],addCommands(){return{insertMathInline:()=>e=>{let{state:t,dispatch:n,view:a}=e;return(0,s.CH)(this.type," ")(t,n,a)},convertToMathInline:()=>e=>{let{state:t,chain:n}=e,a=t.doc.textBetween(t.selection.from,t.selection.to);return n().insertContent({type:"math_inline",content:[{type:"text",text:a}]}).run(),!0}}}}),c=/\$([^ $]+)\$[ ]$/,u=/^\${2}\s+$/,p=/^\${2}(.+)\${2}$/,h=a.YY.create({name:"math",addExtensions:()=>[d,l],addProseMirrorPlugins(){let e=o.of.get("math")?[new r.k_({props:{clipboardTextSerializer:e=>s.ju.serializeSlice(e)}}),(0,i.sM)({rules:[(0,s.sV)(u,this.editor.schema.nodes.math_display),(0,s.sV)(p,this.editor.schema.nodes.math_display),(0,s.C1)(c,this.editor.schema.nodes.math_inline)]})]:[];return[(0,s.CO)({undo:()=>this.editor.commands.undo(),redo:()=>this.editor.commands.redo()})].concat(e)}}),m=e=>"math_display"===e.type.name||"math_inline"===e.type.name},39659:(e,t,n)=>{"use strict";n.d(t,{h:()=>i,w:()=>a});let a={borderRadius:"0.125em",px:".05em",mx:"-.05em",boxDecorationBreak:"clone"},i={default:{"mark.highlight":{color:"black","--link-color":"black",backgroundColor:"var(--highlight-color)",...a}}}},39822:(e,t,n)=>{"use strict";n.d(t,{Po:()=>A,ZL:()=>y,aI:()=>b,f0:()=>j,nA:()=>x,vR:()=>f,zZ:()=>v});var a=n(37243),i=n(63867),r=n(55786),o=n(52762),l=n(15607),s=n(33201),d=n(67097),c=n(28700),u=n(36145),p=n(47665),h=n(17275),m=n(27246),g=n(94922);let x=(e,t,n)=>{let a=e.posAtCoords({left:t.clientX,top:t.clientY});if(!a||a.inside<0)return null;let{doc:i}=e.state,{inside:r}=a,p=i.resolve(r),h=(0,l.IV)(p,g.wL),m=(0,l.IV)(p,s.jg)[0],x=n&&(0,c.H)(n),f=(0,l.q0)(r,e);if(0===h.length||!f||!m)return null;if(!x){let e=(0,u.p$)(t).filter(e=>(0,d.u3)(e.type));return 1!==e.length?null:{pos:r,rect:f,isImageUpload:!0,file:e[0]}}return x&&"image"===x.type.name?{pos:r,rect:f,isImageUpload:!1,background:{type:o.h.IMAGE,source:x.attrs.source,image:x.attrs}}:null},f=(e,t,n,a)=>{let i;try{if(!(i=x(e,n,a)))return!1}catch(e){return console.error("(caught) [CardLayoutPlugin] handleDrop checkGalleryDropTarget error:",e),!1}return!!i&&!i.isImageUpload&&(t.setNodeAttribute(i.pos,"background",i.background),t.deleteSelection(),!0)},b=(e,t,n)=>{var a,i;let r=t.posAtCoords({left:n.clientX,top:n.clientY});if(!r||r.inside<0)return null;let{doc:o}=t.state,{inside:d}=r,c=o.resolve(d),u=(0,l.IV)(c,s.jg)[0];if(!u)return null;let h=null==(i=t.dragging)||null==(a=i.accentImage)?void 0:a.cardId;if(!h)return null;let m=h===u.node.attrs.id;return c.nodeAfter&&(0,g.wL)(c.nodeAfter)&&m?null:(0,p.W0)(e,h)},v=(e,t)=>{var n;let i=m.jV.getState(e.state);if(null==i||null==(n=i.draggingData)?void 0:n.removeLayoutFromCardId){let n=i.draggingData.removeLayoutFromCardId;i.draggingData=null;let r=(0,a.xe)(t.doc,e=>(0,s.jg)(e)&&e.attrs.id===n)[0];return!!r&&(0,h.c)(e,t,r.pos,"blank")}return!1},y=(e,t,n)=>{let a=e.posAtCoords({left:t.clientX,top:t.clientY});if(!a||a.inside<0)return null;let{doc:i}=e.state,{inside:r}=a,p=i.resolve(r),h=i.nodeAt(r),m=(null==h?void 0:h.type.name)==="cardLayoutItem";if(!h||!m)return null;let[g,...x]=(0,l.IV)(p,s.jg),f=n&&(0,c.H)(n),b=(0,l.q0)(r,e);if(!g||!b||x.length>0)return null;let v=g.node.attrs,y="blank"===v.layout?C(t,b):"behind"===v.layout?w(t,b):null;if(!y)return null;if(!f){let e=(0,u.p$)(t).filter(e=>(0,d.u3)(e.type));return 1!==e.length?null:{pos:g.pos,isImageUpload:!0,file:e[0],...y}}return f&&"image"===f.type.name?{pos:g.pos,...y,isImageUpload:!1,background:{type:o.h.IMAGE,source:f.attrs.source,image:f.attrs}}:null},w=(e,t)=>e.clientY<t.top+80||e.clientX<t.left+80||e.clientX>t.right-80?{layout:"behind",rect:t}:null,C=(e,t)=>{let n,a=t,i=Math.min(t.height/3,100),r=t.left+40,o=t.right-40;if(e.clientX<r)n="left",a={...t.toJSON(),left:t.left,right:t.left+t.width/3,top:t.top,bottom:t.bottom};else if(e.clientX>o)n="right",a={...t.toJSON(),right:t.right,left:t.right-t.width/3,top:t.top,bottom:t.bottom};else{if(!(e.clientY<t.top+i))return null;n="top",a={...t.toJSON(),left:t.left,right:t.right,top:t.top,bottom:t.top+Math.min(t.height/3,200)}}return{rect:a,layout:n}},j=(e,t,n,r,o)=>{var l;let d;try{if(!(d=y(n,r,o)))return!1}catch(e){return console.error("(caught) [handleImageDropCreateAccent] handleDrop checkCreateCardAccentDropTarget error:",e),!1}if(!d||d.isImageUpload||!d.layout)return!1;let c=d.background;t.deleteSelection();let u=t.doc.resolve(t.mapping.map(d.pos)),p=u.nodeAfter&&"card"===u.nodeAfter.type.name?u.pos:null==(l=(0,a.eL)(u,s.jg))?void 0:l.pos;if(!p)return!1;(0,h.c)(e,t,p,d.layout);let{accent:m}=(0,g.dg)(t,p);return!!m&&(t.setNodeAttribute(m.pos,"background",c),t.setSelection(i.nh.create(t.doc,m.pos)),!0)},A=(e,t,n)=>{if(!n.target)return;let a=t.posAtDOM(n.target,0);if(!a||a<0)return;let i=(0,p.Oq)(e,a),l=t.state.doc.nodeAt(a);if(!l||!(0,g.wL)(l))return;if(l.attrs.background.type===o.h.NONE)return n.preventDefault(),n.stopPropagation(),!0;let s=e.view.domAtPos(a).node;if(s&&n.dataTransfer){let e=s.querySelector("[data-content-reference]");if(e){let t=e.cloneNode(!0);t.style.width="18em",t.style.height="10em",t.style.borderRadius=".375em";let a=document.createElement("div");a.style.position="absolute",a.style.top="-9999px",a.style.left="-9999px",document.body.appendChild(a),a.appendChild(t),n.dataTransfer.clearData(),n.dataTransfer.effectAllowed="move",n.dataTransfer.setData("text/html",t.innerHTML),n.dataTransfer.setData("text/plain",t.textContent||""),n.dataTransfer.setDragImage(t,0,0),setTimeout(()=>{document.body.removeChild(a)},0)}}return(0,r.f)(e,{type:"image",attrs:{...l.attrs.background.image,source:l.attrs.background.source}}),t.dragging.accentImage={cardId:null==i?void 0:i.node.attrs.id},!0}},39892:(e,t,n)=>{"use strict";n.d(t,{vT:()=>a.vT,nk:()=>a.nk,ez:()=>a.ez});var a=n(89942);n(55729)},39977:(e,t,n)=>{"use strict";n.d(t,{A:()=>h,v:()=>m});var a=n(37243),i=n(63867),r=n(54958),o=n(55424),l=n(48369),s=n(52762),d=n(15607),c=n(61679),u=n(47665),p=n(50861);let h=e=>{var t,n;let{editor:c,selection:h,freshNode:m}=e;if(!h||!(h instanceof i.nh||h instanceof r.n))return null;let x=null!=m?m:h.node,f=h.$from;if((0,p.bi)(x.type))return{mediaType:g(x.attrs.source),area:"node",attrs:x.attrs,node:x,id:x.attrs.id};if("cardAccentLayoutItem"===x.type.name){let e=x.attrs;return(null==(t=e.background)?void 0:t.type)===s.h.IMAGE&&e.background.image?{mediaType:"image",area:"background",attrs:e.background.image,node:x,id:(0,a.eL)(f,u.jg).node.attrs.id,imgKeyPath:"background.image"}:null}if("cardImageItem"===x.type.name)return{mediaType:"image",area:"node",attrs:x.attrs.image,node:x,id:x.attrs.id,imgKeyPath:"image"};let b=(0,d.vC)(c,x.type);if(b&&b.config.accessoryImageKey){let e=b.config.accessoryImageKey,t={...x.attrs[e]},n="image";return(0,o.M)(h.$from.parent)&&"icon"===(0,l.BJ)(h.$from.parent.attrs.variantKey).imageType&&(n="icon"),{attrs:t,node:x,mediaType:n,id:x.attrs.id,area:"accessory",imgKeyPath:e}}return h instanceof r.n?{attrs:null!=(n=h.getItemData())?n:{},node:x,mediaType:"icon",id:x.attrs.id,area:"accessory",imgKeyPath:h.keyPath}:null},m=e=>{let{editor:t,pos:n,attrs:a}=e;if(!t)return;let i=t.state.doc.nodeAt(n);if(!i)return;let r=i.type.spec.imageKeyPath;if(!["image","mediaPlaceholder"].includes(i.type.name)&&!r)return void console.warn("[updateSelectedMedia] Node ".concat(i.type.name," is not compatible with updateSelectedMedia"));let o=t.chain();r?(o.updateAttributeKeyPathAtPos(n,r,a),r.startsWith("background.")&&o.updateAttributeKeyPathAtPos(n,"background.source",a.source)):"mediaPlaceholder"===i.type.name?o.insertContentAt({from:n,to:n+i.nodeSize},{type:"image",attrs:a},{updateSelection:!0}):o.updateAttributesAtPos(n,a),o.focus().scrollIntoView().run()},g=e=>e?(0,c.D)(e)?"icon":e.startsWith("image.")?"image":e.startsWith("video.")||e.startsWith("embed.")?"embed":"image":"image"},40061:(e,t,n)=>{"use strict";n.d(t,{L:()=>r,U:()=>o});var a=n(55597),i=n(77650);let r="image.ai-generated",o={key:r,checkDisabled:()=>!1,label:()=>i.Ru._({id:"O+LXs1"}),icon:a._$C,description:()=>i.Ru._({id:"yXA4hx"}),keywords:["ai","image","illustration","graphics","generate"],resizeToFit:!0}},40268:(e,t,n)=>{"use strict";n.d(t,{R:()=>a});let a=new(n(83747)).b},40782:(e,t,n)=>{"use strict";n.d(t,{j:()=>d});var a=n(99492);n(77650);var i=n(40061),r=n(49106),o=n(83658),l=n(93043),s=n(14368);let d={bing:"image.bing",giphy:"image.giphy",google:"image.google",web:"image.web",unsplash:"image.unsplash",lexica:"image.lexica",aiGenerated:"image.ai-generated",fontawesome:"image.icon",pictographic:"image.pictographic",pictographicIcons:"image.pictographic.icon",none:"image.none",placeholder:"image.placeholder"};l.a,s.R,i.U,o.x,r.P,a.sAw,a.Dfk},41896:(e,t,n)=>{"use strict";n.d(t,{$Z:()=>a.$,$p:()=>d,VR:()=>u.V,Lz:()=>i.L,gu:()=>i.g,hG:()=>p.h}),n(53103);var a=n(6046),i=n(71839),r=n(6029);n(55729);var o=n(63902),l=n(28613),s=n(4097);let d=e=>(0,o.oR)()?(0,r.jsx)(l.$,{...e}):(0,r.jsx)(c,{...e}),c=e=>{let t=e.as||"div",{nodeViewContentRef:n}=(0,s.c)();return(0,r.jsx)(t,{...e,ref:n,"data-node-view-content":"",style:{whiteSpace:"pre-wrap",...e.style}})};c.displayName="NodeViewContentCore";var u=n(91176),p=n(57860)},42276:(e,t,n)=>{"use strict";n.d(t,{Ch:()=>z,x6:()=>T,a6:()=>N});var a=n(6029),i=n(40452),r=n(80314),o=n(58959),l=n(48810),s=n(91938),d=n(28615),c=n(67097),u=n(15577),p=n(57405),h=n(16936),m=n(33787),g=n(99492),x=n(48621),f=n(48342),b=n(19564),v=n(77650),y=n(89263),w=n(23746),C=n(80180),j=n(50861),A=n(23103);let k=e=>{var t;let{node:n,disableOpenButton:i=!1}=e,{meta:r,source:s}=n.attrs,d=(0,j.lQ)(n.attrs),c=(0,A.B)(s),{handleOpenLinkWithInterstitial:m}=(0,y.E)(d),k="embed.custom"===s||"video.custom"===s,I=(null==r?void 0:r.icon)||(null==(t=c.image)?void 0:t.src),E=(null==r?void 0:r.site)||(k?(0,u.t$)(d):c.label());return(0,a.jsxs)(p.T,{spacing:"0.25em",align:"flex-start",color:"black",w:"100%",fontSize:"0.9em",children:[(0,a.jsxs)(o.z,{align:"center",spacing:"0.25em",w:"100%",color:"var(--body-color-muted)",children:[(0,a.jsx)(S,{icon:I}),(0,a.jsx)(l.E,{noOfLines:1,flex:1,"data-testid":"site-name",fontSize:"0.9em",children:E}),c.downloadable&&d&&(0,a.jsx)(f.Tz,{label:(0,a.jsx)(b.x6,{id:"mzI/c+"}),placement:"top",children:(0,a.jsx)(h.K,{"aria-label":v.Ru._({id:"mzI/c+"}),icon:(0,a.jsx)(x.g,{icon:g.cbP}),onClick:()=>{let e=document.createElement("a");e.href=d,e.target="_blank",e.download=(null==r?void 0:r.title)||"file.pdf",e.dispatchEvent(new MouseEvent("click"))},variant:"unstyled",sx:w.Up,fontSize:"0.7em",zIndex:2,onMouseDown:C.Fw})}),!i&&d&&(0,a.jsx)(f.Tz,{label:(0,a.jsx)(b.x6,{id:"Alx2/L"}),placement:"top",children:(0,a.jsx)(h.K,{"aria-label":v.Ru._({id:"Alx2/L"}),icon:(0,a.jsx)(x.g,{icon:g.vMs}),onClick:m,variant:"unstyled",zIndex:2,fontSize:"0.7em",onMouseDown:C.Fw,sx:w.Up})})]}),(0,a.jsx)(l.E,{fontWeight:"bold",noOfLines:1,maxW:"90%","data-testid":"title",color:"var(--body-color)",wordBreak:"break-all",children:null==r?void 0:r.title}),(null==r?void 0:r.description)&&(0,a.jsx)(l.E,{noOfLines:[2,3],whiteSpace:"normal",maxW:"100%",color:"var(--body-color-muted)",children:r.description})]})},S=e=>{let{icon:t,...n}=e;return t?(0,a.jsx)(m._,{src:t,h:"1.5em",borderRadius:"sm",...n}):(0,a.jsx)(l.E,{as:"span",...n,children:(0,a.jsx)(x.g,{icon:g.c9S})})};var I=n(26420),E=n(55597),L=n(59230),R=n(21982);let D=e=>{let t=Math.floor(Math.max(0,e)),n=Math.floor(t/3600),a=Math.floor(t%3600/60),i=n.toString().padStart(2,"0"),r=a.toString().padStart(2,"0"),o=(t%60).toString().padStart(2,"0");return n>=1?i+":"+r+":"+o:r+":"+o},M=e=>{let{node:t}=e,{thumbnail:n,meta:r,source:s}=t.attrs,d=(null==n?void 0:n.src)||(null==n?void 0:n.tempUrl);return(null==n?void 0:n.showPlaceholder)?(0,a.jsx)(R.Pf,{hasUploadError:n.uploadStatus===L.A.Error,isUploading:n.uploadStatus===L.A.Uploading,width:"100%",borderRadius:"none",icon:"embed.pdf"===s?g.O_q:g.c9S}):d?(0,a.jsxs)(i.s,{flex:1,color:"white",position:"relative",children:[(0,a.jsx)(I.a,{flex:1,overflow:"hidden",bgColor:"white",children:(0,a.jsx)(m._,{src:d,position:"absolute",objectFit:"cover",width:"100%",height:"100%"})}),(null==n?void 0:n.uploadStatus)===L.A.Uploading&&(0,a.jsx)(R.Td,{}),(null==r?void 0:r.duration)&&(0,a.jsxs)(o.z,{fontSize:"0.75em",backgroundColor:"blackAlpha.700",color:"white",position:"absolute",insetEnd:0,bottom:0,py:1,px:2,"data-thumbnail-hidden":!0,children:[(0,a.jsx)(x.g,{icon:E.ijD}),(0,a.jsx)(l.E,{children:D(r.duration)})]})]}):null},_=e=>e&&(!e.height||e.height>=50)&&(!e.width||e.width>=50),z=e=>{let{node:t}=e,{thumbnail:n,sourceUrl:o}=t.attrs;return(0,a.jsxs)(i.s,{overflow:"hidden",direction:"row",align:"stretch",wrap:"wrap",contentEditable:!1,transitionProperty:"common",transitionDuration:"normal",position:"relative",borderRadius:"inherit","data-content-reference":!0,"data-selection-ring":"inside","data-selection-background":!0,fontFamily:"body","data-drag-handle":!0,h:"100%",maxW:"var(--media-maxW)",maxH:"var(--media-maxH)",children:[n&&_(n)&&(0,a.jsx)(i.s,{flex:1,minH:"10em",minW:"min(10em, 100%)",maxW:"100%",maxH:"var(--media-maxH)",children:(0,a.jsx)(M,{node:t})}),(0,a.jsx)(i.s,{flex:1.618,minW:"min(16em, 100%)",maxW:"100%",p:"1em",position:"relative",children:(0,a.jsx)(k,{node:t})}),d.D1&&o&&(0,a.jsx)(r.N,{href:o,h:"100%",w:"100%",position:"absolute",zIndex:"-10","data-pdf-link":!0})]})},T=e=>{var t;let{node:n}=e,{thumbnail:d,meta:c,sourceUrl:p,source:h}=n.attrs,m=(0,A.B)(h);return(0,a.jsxs)(i.s,{minW:"var(--media-maxH)",w:"100%",css:{aspectRatio:"16 / 9"},maxW:"100%",maxH:"var(--media-maxH)",h:"100%",align:"stretch",boxSizing:"content-box",overflow:"hidden","data-content-reference":!0,"data-selection-ring":"inside",position:"relative",bg:"gray.50",children:[d&&_(d)?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(M,{node:n}),(0,a.jsxs)(o.z,{backgroundColor:"whiteAlpha.700",backdropFilter:"blur(8px)",py:1,px:2,position:"absolute",bottom:"0",fontSize:"0.75em","data-thumbnail-hidden":!0,children:[(0,a.jsx)(S,{icon:(null==c?void 0:c.icon)||(null==(t=m.image)?void 0:t.src)}),p&&(0,a.jsx)(l.E,{color:"black",noOfLines:1,children:(null==c?void 0:c.title)||(null==c?void 0:c.site)||(0,u.t$)(p)})]})]}):(0,a.jsx)(i.s,{align:"flex-start",flex:"1",p:4,children:(0,a.jsx)(k,{node:n,disableOpenButton:!0})}),s.$.GAMMA_PUPPETEER_SERVICE&&p&&(0,a.jsx)(r.N,{href:p,h:"100%",w:"100%",position:"absolute",zIndex:"-10","data-pdf-link":!0})]})},N=e=>{var t;let{node:n}=e,{meta:r,source:o,thumbnail:l}=n.attrs,s=(0,A.B)(o),d=(null==l?void 0:l.src)||(null==l?void 0:l.tempUrl),u=d&&(0,c.Ub)(d,c.p7);return(0,a.jsx)(i.s,{minW:"var(--media-maxH)",w:"100%",css:{aspectRatio:"16 / 9"},bg:"var(--body-color-muted)",align:"center",justify:"center",bgImage:(0,c.QV)(u),backgroundSize:"cover",children:(0,a.jsx)(S,{icon:(null==r?void 0:r.icon)||(null==(t=s.image)?void 0:t.src),fontSize:"7.5em"})})}},42350:(e,t,n)=>{"use strict";n.d(t,{d:()=>m,X:()=>g});var a=n(77650),i=n(27002),r=n(91938),o=n(58929);async function l(e,t){let n="".concat(r.$.API_HOST,"/media/images/edit");return await (0,o.P)(n,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),signal:null==t?void 0:t.signal},{parseResponse:async e=>await e.json(),maxDuration:12e4})}var s=n(28630),d=n(45666),c=n(34394),u=n(8327),p=n(81880),h=n(6272);let m={generateImage:{creditCostType:"generateImage",execute:async function(e,t){let n=async(e,n,a)=>(0,s.hU)({interactionId:t.interactionId,prompt:e,model:n,workspaceId:t.workspaceId,count:1,stylePrompt:a},t.abortController),a=(0,c.oP)();return{status:"success",images:(await Promise.all(e.prompts.map(e=>n(e,a,t.preferredAiImageStyle)))).flat().map(e=>({attrs:e.attrs})),messageId:t.interactionId}}},searchImage:{execute:async function(e,t){let{query:n}=e;return{status:"success",images:(await (0,d.g)({provider:"web",query:n,count:6,abortController:t.abortController})).map(e=>({attrs:(0,u.TF)(e,n,"web")})).slice(0,6),messageId:t.interactionId}}},removeBackground:{checkEnabled:()=>!i.of.get("disableRemoveBackground"),creditCostType:"removeBackground",execute:async function(e,t){var n,a,i;let r=t.imageToEdit,o=null==(n=t.imageToEdit)?void 0:n.src;if(!o)throw Error("Cannot remove background, no image selected");let s=await l({operation:"remove-background",interactionId:t.interactionId,messageId:t.messageId,chatId:t.chatId,workspaceId:t.workspaceId,editParams:{},url:o,width:null==r||null==(a=r.meta)?void 0:a.width,height:null==r||null==(i=r.meta)?void 0:i.height},t.abortController);return{status:"success",images:[{attrs:{source:"image.custom",query:null==r?void 0:r.query,src:s.url,meta:null==r?void 0:r.meta}}],messageId:t.interactionId}}},editContent:{execute:async function(e,t){let n=t.imageToEdit,r=null==n?void 0:n.src;if(!r)throw Error("Cannot perform maskless image edit, no image selected");let o=i.of.get("masklessEditModel"),s=(await Promise.all(e.editPrompts.map(async e=>{try{var a,i;let s=await l({operation:"maskless",interactionId:t.interactionId,messageId:t.messageId,chatId:t.chatId,workspaceId:t.workspaceId,editParams:{editPrompt:e,model:o},url:r,width:null==(a=n.meta)?void 0:a.width,height:null==(i=n.meta)?void 0:i.height},t.abortController);return{attrs:{source:"image.custom",query:null==n?void 0:n.query,src:s.url,meta:null==n?void 0:n.meta}}}catch(e){if((0,h.z)(e))throw e;return console.error("Maskless edit error:",e),null}}))).filter(Boolean);return 0===s.length?{status:"error",messageId:t.interactionId,error:a.Ru._({id:"0A5PiD"})}:{status:"success",images:s,messageId:t.interactionId}}},vectorize:{checkEnabled:e=>(0,p.D)(e),execute:async function(e,t){var n,a;let i=t.imageToEdit,r=null==i?void 0:i.src;if(!r)throw Error("Cannot vectorize, no image selected");let o=await l({operation:"vectorize",url:r,width:null==(n=i.meta)?void 0:n.width,height:null==(a=i.meta)?void 0:a.height,workspaceId:t.workspaceId,interactionId:t.interactionId,chatId:t.chatId,messageId:t.messageId,editParams:{}},t.abortController);return{status:"success",images:[{attrs:{source:"image.custom",query:null==i?void 0:i.query,src:o.url,meta:null==i?void 0:i.meta}}],messageId:t.interactionId}}},upscale:{checkEnabled:e=>(0,p.D)(e),execute:async function(e,t){var n,a;let i=t.imageToEdit,r=null==i?void 0:i.src;if(!r)throw Error("Cannot upscale, no image selected");let o=await l({operation:"upscale",editParams:{},url:r,width:null==(n=i.meta)?void 0:n.width,height:null==(a=i.meta)?void 0:a.height,workspaceId:t.workspaceId,interactionId:t.interactionId,chatId:t.chatId,messageId:t.messageId},t.abortController);return{status:"success",images:[{attrs:{source:"image.custom",query:null==i?void 0:i.query,src:o.url,meta:null==i?void 0:i.meta}}],messageId:t.interactionId}}},animate:{checkEnabled:e=>i.of.get("aiAnimate")&&(0,p.D)(e),creditCostType:"animateImage",execute:async function(e,t){var n,a,r,o;let s=t.imageToEdit,d=null==s?void 0:s.src;if(!d)throw Error("Cannot replace background, no image selected");let c=await l({operation:"animate",workspaceId:t.workspaceId,url:d,width:null==(n=s.meta)?void 0:n.width,height:null==(a=s.meta)?void 0:a.height,editParams:{prompt:e.prompt,model:i.of.get("animateImageModel"),aspectRatio:(null==(r=s.meta)?void 0:r.width)&&(null==(o=s.meta)?void 0:o.height)?s.meta.width>s.meta.height?"landscape":"portrait":"landscape"},interactionId:t.interactionId,chatId:t.chatId,messageId:t.messageId},t.abortController);return{status:"success",images:[{attrs:{source:"image.custom",query:null==s?void 0:s.query,src:c.url,meta:null==s?void 0:s.meta}}],messageId:t.interactionId}}}},g=e=>e.imageToEdit?Object.keys(m).filter(t=>{let n=m[t];return!n.checkEnabled||n.checkEnabled(e.imageToEdit)}):["generateImage","searchImage"]},43182:(e,t,n)=>{"use strict";n.d(t,{$b:()=>h,Yv:()=>c,iM:()=>p});var a=n(58495),i=n(94289),r=n(63867),o=n(27002),l=n(67200),s=n(50709),d=n(61385);let c={generate:(0,a.d_)("0123456789abcdefghijklmnopqrstuvwxyz",15)},u=new r.hs("UniqueCardId"),p=e=>{let t=e=>{var n;return null==(n=e.content)?void 0:n.map(e=>{if(!e.content||e.type!==d.Qs)return e;let n={...e,attrs:{...e.attrs,id:c.generate()}};return n.content=t(n),n})};return Object.assign({},e,{content:t(e)})},h=s.S.extend({name:"UniqueCardId"}).configure({attributeName:"id",initialValue:()=>c.generate(),syncWithFilmstrip:()=>o.of.get("transactionalFilmstrip"),filterTransaction:l.kz,pluginKey:u,transformPasted:(e,t,n)=>{let{types:a,initialValue:r,attributeName:o}=t,l={},s=e=>{let t=[];return e.forEach(e=>{if(e.isText)return void t.push(e);if(!a.includes(e.type.name))return void t.push(e.copy(s(e.content)));let n=r(),i=e.type.create({...e.attrs,[o]:n},s(e.content),e.marks);e.type.name===d.Qs&&(l={...l,[e.attrs.id]:n}),t.push(i)}),i.FK.from(t)},c=e=>{let t=[];return e.forEach(e=>{if(e.isText)return void t.push(e);if("cardMention"===e.type.name){let a=l[e.attrs.id];if(a){let i=e.type.create({...e.attrs,...a?{id:a}:{},docId:n});t.push(i)}else t.push(e);return}t.push(e.copy(c(e.content)))}),i.FK.from(t)},u=c(s(e.content));return new i.Ji(u,e.openStart,e.openEnd)}})},43216:(e,t,n)=>{"use strict";n.d(t,{A:()=>g,T:()=>m});var a=n(6029),i=n(26420),r=n(55729),o=n(5061),l=n(25839),s=n(43634),d=n(70703),c=n(50764),u=n(25600),p=n(21699),h=n(216);let m=e=>({top:{top:"0",insetInlineStart:"50%",height:"16px",width:"26px",pt:"1px",icon:"⋯",zIndex:"3",transform:"translateY(-50%) translateX(".concat(e?"50%":"-50%",")"),fontSize:"15px"},left:{top:"50%",insetInlineStart:"0",height:"26px",width:"16px",zIndex:"3",transform:"translateY(-50%) translateX(".concat(e?"50%":"-50%",")"),fontSize:"15px"},outside:{top:0,insetInlineStart:-6},inside:{top:2,insetInlineStart:3},custom:{}}),g=e=>{let{handlePlacement:t,editor:n,getPos:g,decorations:x,isVisible:f,onClick:b,node:v,selected:y,extension:w,updateAttributes:C,deleteNode:j,...A}=e,k=(0,l.GV)(s.nD),S=(0,o.fW)(),I=(0,r.useCallback)(e=>{n.commands.selectNodeAtPos(g()),e.stopPropagation()},[n,g]),E=(0,r.useCallback)(e=>{var t;let a=(null==(t=e.target.closest("[data-node-view-wrapper]"))?void 0:t.querySelector("[data-selection-ring]"))||void 0;(0,d.b)(n,e.nativeEvent,g(),a),e.stopPropagation()},[n,g]);if(!k)return null;let L=(0,c.JL)(x),R=(0,p.Ms)(x),D=(0,u.b0)(x);return(null!=f||(f=L||R),"outside"===t)?(0,a.jsx)(i.a,{position:"absolute",...m(S).outside,bottom:0,width:6,children:(0,a.jsx)(h.u,{isSelected:D,isVisible:f,onClick:b||I,onDragStart:E,top:0,insetInlineStart:0,...A})}):(0,a.jsx)(h.u,{isSelected:D,isVisible:f,onClick:b||I,onDragStart:E,...m(S)[t],...A})}},43828:(e,t,n)=>{"use strict";n.d(t,{k:()=>m});var a=n(6029),i=n(40452),r=n(16936),o=n(99492),l=n(48621),s=n(48342),d=n(19564),c=n(77650),u=n(55729),p=n(25839),h=n(43634);let m=e=>{let{editor:t,getPos:n,node:m,direction:g,maxButtons:x,tooltip:f}=e,b=(0,p.GV)(h.Cl),v=!x||m.childCount<x,y=(0,u.useCallback)(()=>{t.commands.addButtonToGroup(n())},[t,n]);return v&&b?(0,a.jsx)(i.s,{position:"relative",align:"center",children:(0,a.jsx)(s.Tz,{label:f||(0,a.jsx)(d.x6,{id:"xe7fzh"}),placement:"top",children:(0,a.jsx)(r.K,{icon:(0,a.jsx)(l.g,{icon:o.QLR}),"aria-label":c.Ru._({id:"6oU9VZ"}),size:"xs",variant:"plain",isRound:!0,onClick:y,opacity:0,className:"add-button",transitionProperty:"opacity",transitionDuration:"normal",position:"absolute",left:"column"===g?"50%":0,top:"50%",transform:"column"===g?"translateX(-50%)":"translateY(-50%)",zIndex:"sticky"})})}):null}},43944:(e,t,n)=>{"use strict";n.d(t,{B8:()=>b,uw:()=>f,Lf:()=>v,aW:()=>y});var a=n(37243),i=n(36811),r=n(47665),o=n(38934),l=n(29452),s=n.n(l),d=n(63867),c=n(97255),u=n(91656);let p=s()(10),h=["blockquote","card","sectionBreak","calloutBox"],m=(e,t)=>"numbered"===e.type.name||(0,u.x)(e)&&e.attrs.indent>t||e.isAtom||h.includes(e.type.name),g=e=>new d.k_({key:new d.hs("ListPlugin"),props:{decorations:e=>{let{doc:t}=e,n=[],a=new Map,i=(e,t)=>{var n;return(null==(n=a.get(e))?void 0:n[t])||1},r=(e,t,n)=>{let i=a.get(e);try{i[t]=n}catch(e){console.error("(caught) [ListPlugin] setCounter error",e)}},o=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=a.get(e)||{};p.filter(e=>e>=t).forEach(e=>{n[e]=1}),a.set(e,n)},l=0;return t.descendants((e,t,s)=>{if((0,u.x)(e)&&e.firstChild){let a=e.firstChild.marks.find(e=>"textColor"===e.type.name);(null==a?void 0:a.attrs.variant)&&n.push(c.NZ.node(t,t+e.nodeSize,{"data-text-color":a.attrs.variant})),(null==a?void 0:a.attrs.hex)&&n.push(c.NZ.node(t,t+e.nodeSize,{style:"--list-marker-text-color: ".concat(a.attrs.hex)}))}if(!s||(m(e,l)||o(s),"numbered"!==e.type.name))return;a.get(s)||o(s);let d=e.attrs.indent;l=d;let p=i(s,d);r(s,d,p+1),o(s,d+1),n.push(c.NZ.node(t,t+e.nodeSize,{},{listNumber:p}))}),0==n.length?c.zF.empty:c.zF.create(t,n)}}});var x=n(82172);let f=8,b=a.YY.create({name:"list",priority:o.y.List,addProseMirrorPlugins(){return[g(this.editor)]},addCommands:()=>({listToCards:()=>e=>{let{chain:t,state:n}=e,{selection:i,doc:o}=n,{from:l,to:s}=i,d=(0,a.Nx)(o,{from:l,to:s},u.x),c=(0,a.KP)(r.jg)(i);if(!d.length||!c)return!1;let p=c.pos+c.node.nodeSize,h=(0,x.SQ)(d),m=(0,x.pT)(h);return t().insertContentAt(p,m).scrollIntoView().run(),!0},listToSmartLayout:e=>t=>{let{chain:n,state:i}=t,{selection:r,doc:o}=i,{from:l,to:s,$from:d,$to:c}=r,p=d.blockRange(c),h=(0,a.Nx)(o,{from:l,to:s},u.x);if(!h.length||!p)return!1;let m=(0,x.SQ)(h),g=(0,x.tb)(m,e);return n().insertContentAt({from:p.start,to:p.end},g).selectInsertedNode().scrollIntoView().run(),!0},indent:e=>t=>{let{tr:n,dispatch:a,state:i}=t;if(!a)return!0;let r=!1;return n.selection.ranges.forEach(t=>{var a;let o=t.$from.pos,l=t.$to.pos;(o!==l||(null==(a=t.$from.nodeBefore)?void 0:a.type.name)!=="text")&&i.doc.nodesBetween(o,l,(t,a)=>{let{indent:i}=t.attrs;Object.values(u.e).includes(t.type.name)&&i+e>=0&&i+e<=f&&(n.setNodeMarkup(a,void 0,{...t.attrs,indent:i+e}),r=!0)})}),r},setListItems:e=>{let{variant:t}=e;return e=>{let{tr:n,dispatch:a,state:i}=e;return!a||(n.selection.ranges.forEach(e=>{let a=e.$from.pos,r=e.$to.pos;i.doc.nodesBetween(a,r,(e,a)=>{Object.values(u.e).includes(e.type.name)?n.setNodeMarkup(a,i.schema.nodes[t],e.attrs):e.isTextblock&&n.setNodeMarkup(a,i.schema.nodes[t],{...e.attrs,indent:0})})}),!0)}},toggleListItems:e=>{let{variant:t}=e;return e=>{let{commands:n,editor:a}=e;return v(a,t)?n.setNode("paragraph"):n.setListItems({variant:t})}}}),addKeyboardShortcuts:()=>({Enter:e=>{let t,n,{editor:a}=e;for(let e of Object.values(u.e))if(a.isActive(e)){n=a.getAttributes(e),t=e;break}if(void 0===t)return!1;let{from:i,$from:r,empty:o}=a.state.selection;if(!o)return!1;if(0==r.parent.content.size)if(n.indent>0)return a.commands.indent(-1);else return a.commands.setNode("paragraph",n);return 0===r.parentOffset?(n.checked&&(n.checked=!1),a.chain().insertContentAt(i-1,{type:t,attrs:n}).selectInsertedNode().run()):r.parentOffset===r.parent.content.size&&(n.checked&&(n.checked=!1),a.chain().insertContentAt(i+1,{type:t,attrs:n}).selectInsertedNode().run())},Backspace:e=>{let t,n,{editor:a}=e;for(let e of Object.values(u.e))if(a.isActive(e)){n=a.getAttributes(e),t=e;break}if(void 0===t)return!1;let{$from:i,empty:r}=a.state.selection;return!!r&&0==i.parentOffset&&a.commands.setNode("paragraph",n)},Tab:e=>{let{editor:t}=e;return t.commands.indent(1)},"Shift-Tab":e=>{let{editor:t}=e;return t.commands.indent(-1)},"Mod-]":e=>{let{editor:t}=e;return t.commands.indent(1)},"Mod-[":e=>{let{editor:t}=e;return t.commands.indent(-1)}})}),v=(e,t)=>{let n=Object.values(u.e).filter(e=>e!==t);return e.isActive(t)&&!n.some(t=>e.isActive(t))},y=(e,t)=>(0,i.tC)(e,[t.nodes.heading,t.nodes.title])},44245:(e,t,n)=>{"use strict";n.d(t,{cy:()=>nE,HF:()=>nD,FV:()=>nR,aK:()=>nM});var a=n(6029),i=n(99492),r=n(77650),o=n(55729);let l=(e,t)=>{let n,{stepNumber:a,generalNumber:i}=e;if(null!==a&&t.step?n=t.step[a]:null!==i&&t.general&&(n=t.general[i]),n)return function(e,t){return e.image&&!e.icon&&"icon"===t?{...e,icon:e.image,image:void 0}:e}(n,e.type)},s=e=>{var t,n;let a=(null==(t=e.step)?void 0:t.some(e=>null==e?void 0:e.isEmphasized))||!1,i=(null==(n=e.general)?void 0:n.some(e=>null==e?void 0:e.isEmphasized))||!1;return a||i},d=(e,t)=>{let n=l(e,t);return(null==n?void 0:n.isEmphasized)||!1},c=(e,t)=>{let n=l(e,t);if(!n)return;let{type:a}=e;switch(a){case"text":return n.text;case"icon":return n.icon||n.image;default:return}},u=e=>{let{stepNumber:t,generalNumber:n,type:a}=e;return"number"!=typeof t||isNaN(t)?"number"!=typeof n||isNaN(n)?"":"general.".concat(n,".").concat(a):"step.".concat(t,".").concat(a)},p=(e,t)=>{let{stepNumber:n}=e;return!("number"!=typeof n||isNaN(n))&&t.startsWith("step.".concat(n))},h={text:void 0,icon:void 0,image:void 0},m=(e,t,n)=>{let{stepNumber:a,generalNumber:i,type:r}=e,o={...t};if(null!==a){for(o.step||(o.step=[]);o.step.length<=a;)o.step.push(void 0);o.step[a]||(o.step[a]=h),g(o.step[a],r,n)}if(null!==i){for(o.general||(o.general=[]);o.general.length<=i;)o.general.push(void 0);o.general[i]||(o.general[i]=h),g(o.general[i],r,n)}return o};function g(e,t,n){switch(t){case"text":e.text=n;break;case"icon":e.icon={source:"image.icon",src:n},e.image&&(e.image=void 0)}}let x=e=>{let t=Array.from(e).find(e=>e.startsWith("step-")),n=Array.from(e).find(e=>e.startsWith("general-"));return{stepNumber:t?parseInt(t.split("-")[1])-1:null,generalNumber:n?parseInt(n.split("-")[1])-1:null}},f=(e,t)=>{let n=nR(e);if(!n||!A(n))return!1;let{stepSvgData:a}=n;return!!a&&!!t.step&&t.step.length<j(a).max},b=(e,t)=>{let n=nR(e);if(!n||!A(n))return!1;let{stepSvgData:a}=n;return!!a&&!!t.step&&t.step.length>j(a).min},v=e=>{let t=nR(e);return!!t&&!!A(t)&&t.canToggleIcons},y=(e,t)=>{let n={...e};if(e.step){let a=[...e.step],i=a.some(e=>null==e?void 0:e.text),r=a.some(e=>(null==e?void 0:e.icon)||(null==e?void 0:e.image));a.splice(t,0,{text:i?"<p>Item</p>":void 0,icon:r?{source:"image.icon",src:""}:void 0,color:void 0,isEmphasized:!1}),n.step=a}return n},w=(e,t)=>{let n={...e};if(e.step){let a=[...e.step];a.splice(t,1),n.step=a}return n},C=e=>{let t=Math.min(...e.keys()),n=Math.max(...e.keys());return{step:Array.from({length:t===n?t:Math.floor((t+n)*3/4)},()=>h),general:[]}},j=e=>({min:Math.min(...e.keys()),max:Math.max(...e.keys())}),A=e=>"stepSvgData"in e&&void 0!==e.stepSvgData;var k=n(58959),S=n(49611),I=n(48621),E=n(19564),L=n(95889),R=n(92685),D=n(61204),M=n(70615),_=n(74471),z=n(66082),T=n(68917),N=n(48810),P=n(29810),O=n(33612),H=n.n(O),F=n(94297),B=n(12180),V=n(25839),W=n(14300),U=n(62452),G=n(2681),K=n(43634);let Q=e=>{let{selected:t,onChange:n,steps:l=5,templateKey:s}=e,{defaultColorScheme:d}=nR(s),c=(0,V.GV)(K.SJ),u=(0,U.Ik)((0,U.VH)(c)),p=Array(l).fill(0).map((e,t)=>t),h=(0,o.useMemo)(()=>Object.fromEntries(Object.entries(B.fA).map(e=>{let[t,{label:n}]=e;return[t,{label:n,scale:(0,F.M)(u,p,t)}]})),[u,l]);t&&!h[t]&&(t=void 0);let m=r.Ru._({id:"ovBPCi"});return(0,a.jsxs)(G.ms,{isLazy:!0,children:[(0,a.jsx)(G.gf,{as:S.$,variant:"toolbar",size:"sm",boxShadow:"none",leftIcon:(0,a.jsx)(I.g,{icon:i.fyG}),rightIcon:(0,a.jsx)(T.D,{}),children:t?h[t].label():m}),(0,a.jsx)(G.Q5,{zIndex:"modalPopover",children:Object.entries({default:{...h[B.gb],label:()=>m},...h}).map(e=>{let[i,{label:r,scale:o}]=e;return 1.5>[...o.values()].map(e=>H().readability(e,u)).reduce((e,t)=>Math.max(e,t),0)&&i!==t?null:(0,a.jsx)(G.tJ,{onClick:()=>{n("default"===i?d:i)},children:(0,a.jsxs)(k.z,{children:[(0,a.jsx)(N.E,{children:r()}),(0,a.jsx)(P.h,{}),"default"!==i&&(0,a.jsx)(Z,{scale:o,data:p})]})},i)})})]})},Z=e=>{let{scale:t,data:n}=e;return(0,a.jsx)(k.z,{spacing:1,children:n.map(e=>(0,a.jsx)(W.V,{color:t.get(e),size:W.E.small,tooltipIsDisabled:!0},e))})},q=e=>{let{editor:t,selection:n,children:i}=e,r=n.node.type.name,{fullWidthBlock:o}=t.getAttributes(r),{templateKey:l,data:s}=n.node.attrs;return(0,a.jsxs)(D.e,{spacing:0,size:"sm",alignItems:"center",dir:"ltr",children:[z.gj.map(e=>{let{name:n,icon:i,checkActive:s,apply:d}=e;if(s&&d)return(0,a.jsx)(_.I,{label:n(),icon:i,onClick:()=>{d(t),o&&t.commands.updateAttributes(r,{fullWidthBlock:!1}),L.zS.track(L.VV.SMART_DIAGRAM_ALIGNMENT_CHANGED,{templateKey:l,alignmentType:n(),previousFullWidth:o})},isActive:!o&&s(t)},n())}),(0,a.jsx)(R.q,{}),(0,a.jsx)(Q,{selected:s.colorScheme,onChange:e=>{t.commands.updateAttributes(r,{data:{...s,colorScheme:e}}),L.zS.track(L.VV.SMART_DIAGRAM_COLOR_SCHEME_CHANGED,{templateKey:l,previousColorScheme:s.colorScheme,newColorScheme:e})},steps:5,templateKey:l}),(0,a.jsx)(R.q,{}),i,(0,a.jsx)(M.G,{editor:t})]})},$=e=>{let{editor:t,decorations:n,selection:r}=e,{data:l,templateKey:s,showIcons:d}=r.node.attrs,c=(0,o.useCallback)(e=>{try{let n=e({...l});t.commands.updateAttributesAtPos(r.from,{data:n})}catch(e){console.error("Error updating smart diagram data",e)}},[l,t.commands,r.from]),u=e=>{var t;c(t=>y(t,e)),L.zS.track(L.VV.SMART_DIAGRAM_STEPS_UPDATED,{templateKey:s,action:"add",stepIndex:e,totalSteps:(null==(t=l.steps)?void 0:t.length)||0})},p=e=>{var t;c(t=>w(t,e)),L.zS.track(L.VV.SMART_DIAGRAM_STEPS_UPDATED,{templateKey:s,action:"remove",stepIndex:e,totalSteps:(null==(t=l.steps)?void 0:t.length)||0})},h=(0,o.useCallback)(()=>{t.commands.updateAttributesAtPos(r.from,{showIcons:!d}),L.zS.track(L.VV.SMART_DIAGRAM_ICONS_TOGGLED,{templateKey:s,showIcons:!d})},[t.commands,r.from,d,s]),m=f(s,l),g=b(s,l),x=v(s);return(0,a.jsxs)(q,{editor:t,selection:r,decorations:n,children:[x&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(k.z,{ps:2,children:(0,a.jsx)(S.$,{size:"sm",variant:"toolbar",onClick:()=>h(),leftIcon:(0,a.jsx)(I.g,{icon:i.cCs}),children:d?(0,a.jsx)(E.x6,{id:"dBrmK7"}):(0,a.jsx)(E.x6,{id:"TMFk/9"})})}),(0,a.jsx)(R.q,{})]}),(0,a.jsxs)(k.z,{ps:2,children:[(0,a.jsx)(S.$,{size:"sm",disabled:!m,variant:"toolbar",onClick:()=>u(0),leftIcon:(0,a.jsx)(I.g,{icon:i.q_k}),children:(0,a.jsx)(E.x6,{id:"xK4Xoz"})}),(0,a.jsx)(S.$,{size:"sm",disabled:!g,variant:"toolbar",onClick:()=>p(0),leftIcon:(0,a.jsx)(I.g,{icon:i.mGv}),children:(0,a.jsx)(E.x6,{id:"pUON+Q"})}),(0,a.jsx)(R.q,{})]})]})};var J=n(40452),Y=n(41427),X=n(5061),ee=n(43607);let et=()=>(0,a.jsx)("text",{x:0,y:0,fontSize:"0",fill:"transparent",style:{opacity:0},"aria-hidden":"true",tabIndex:-1,children:"​ "},"focus-absorber");var en=n(26420),ea=n(21938),ei=n(33750),er=n.n(ei),eo=n(5872),el=n(45002),es=n(8266),ed=n(29608),ec=n(7915);let eu=(e,t)=>({color:"var(--body-color)",".pptx-exporting-image":{".smart-diagram-textbox":{visibility:"hidden"}},".smart-diagram-wrapper":{"foreignObject *":(0,ed.nr)()?{position:"static !important"}:void 0,".smart-diagram-textbox":{position:"relative",height:"100%",paddingX:"0.25em",display:"flex",flexDirection:"column",outlineWidth:"1px",outlineStyle:"none",outlineColor:"var(--grid-outline-color)",cursor:"text","> div:not(.drag-handle)":{display:"contents"},".ProseMirror":{width:"100%",height:"100%",display:"flex",flexDirection:"column",gap:"0.5rem","--flex-align":"var(--horizontal-align)",alignItems:"var(--horizontal-align)",justifyContent:"var(--vertical-align)","--line-height-body":"1.25",".block":{my:"0rem",width:"100%"}}},".block-heading, .block-title":{...(0,es.hQ)(e).tight,"*":{overflowWrap:"break-word",wordBreak:"normal"}},".block-paragraph":{...(0,es.xC)(e).tight,"*":{overflowWrap:"break-word",wordBreak:"normal"}},["&.is-focused, &:hover, &[".concat(ec.y,"]")]:t?{".smart-diagram-textbox, .smart-diagram-selection-box":{outlineStyle:"solid"}}:void 0}}),ep=e=>{let{children:t,svgWidthPercent:n=100,...i}=e,{isNodeSelected:r,editor:o,selectNode:l,updateResizeAttrs:s,attrs:d,alignDirection:c,isEditable:u,layoutContainerSize:p}=i,h=(0,ee.FX)(),m=n?er()(n/100/Math.min(p,1),0,1):1,{ref:g,setIsResizing:x,resizeableSx:f}=(0,el.Y3)(o),b=eu(h,u),v=(0,z.yp)(d.horizontalAlign);return(0,a.jsx)(J.s,{dir:c,w:"100%",className:eo.S,css:v,sx:{...f,...b},direction:"column",onMouseDown:l,children:(0,a.jsxs)(en.a,{ref:g,className:(0,ea.cx)("smart-diagram-wrapper",r?"is-focused":""),"data-drag-handle":!0,"data-content-reference":!0,"data-selection-ring":!0,w:d.width?"calc((".concat(d.width," * var(--font-size) / 16) * ").concat(m,")"):"calc(".concat(100*m,"% * var(--media-scale))"),maxW:"100%",position:"relative",children:[u&&r&&(0,a.jsx)(el.u4,{imageWrapperRef:g,setIsResizing:x,updateResizeAttrs:e=>{var t;let n=null!=(t=e.width)?t:d.width;n&&s({...d,...e,width:n/m})},refreshDeps:[d]}),t]})})};var eh=n(45214);let em={SUBTLE_IMAGE:".subtle.image",SUBTLE_TEXT:".subtle.textbox",ACCENT_TEXT:".accent.textbox",ACCENT_IMAGE:".accent.image",BODY_TEXT:".card.textbox",LINE:".line",ACCENT_NO_BORDER:".accent.no-border",ACCENT_DIM:".accent.dim",ACCENT_LIGHT:".accent.light",ACCENT:".accent",SUBTLE_LIGHT:".subtle.light",SUBTLE_DIM:".subtle.dim",SUBTLE:".subtle",NEUTRAL:".neutral"},eg={[em.SUBTLE_IMAGE]:eh.lR,[em.SUBTLE_TEXT]:eh.lR,[em.ACCENT_NO_BORDER]:(0,ea.cx)(eh._B),[em.ACCENT_DIM]:(0,ea.cx)(eh.lX,eh.D6),[em.ACCENT_LIGHT]:(0,ea.cx)(eh.to,eh.D6),[em.ACCENT]:(0,ea.cx)(eh._B,eh.D6),[em.SUBTLE]:eh.D6,[em.SUBTLE_DIM]:eh.iZ,[em.SUBTLE_LIGHT]:eh.Eb,[em.LINE]:eh.fu,[em.ACCENT_TEXT]:eh.ok,[em.ACCENT_IMAGE]:eh.ok,[em.BODY_TEXT]:eh.VN,[em.NEUTRAL]:eh.Xj},ex={...eg,[em.ACCENT_NO_BORDER]:(0,ea.cx)(eh.bo),[em.ACCENT_DIM]:(0,ea.cx)(eh.Kh,eh._Z),[em.ACCENT_LIGHT]:(0,ea.cx)(eh.Ax,eh._Z),[em.ACCENT]:(0,ea.cx)(eh.bo,eh._Z),[em.SUBTLE]:eh._Z},ef=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ltr";for(let n of Object.values(em))if(e.matches(n)){let a=eg[n];if("rtl"===t&&eb(e))return ex[n];return a}return""},eb=e=>["path","circle","ellipse","rect","polygon","polyline"].includes(e.tagName.toLowerCase());var ev=n(69837);let ey=e=>{let{x:t,y:n,width:i,height:r,image:o,iconSize:l=2,isEditable:s,selectItem:d,className:c,style:u}=e;return(0,a.jsx)("g",{style:u,children:(0,a.jsx)("foreignObject",{x:t,y:n,width:i,height:r,style:{overflow:"visible"},children:(0,a.jsx)(en.a,{width:"100%",height:"100%",className:c,css:{fill:"var(--body-color)"},children:(0,a.jsx)(ev.R,{image:o||null,selectCell:s?d:void 0,iconSize:l,boxProps:{w:"100%",h:"100%"}})})})})},ew=e=>{let{element:t,id:n,data:i,isEditable:r,selectItem:o,dataLookupInfo:l,isNodeSelected:p,selectedKeyPath:h}=e,m=parseFloat(t.getAttribute("x")||"0"),g=parseFloat(t.getAttribute("y")||"0"),x=parseFloat(t.getAttribute("width")||"0"),f=parseFloat(t.getAttribute("height")||"0"),b=x<50?x:50,v=f<50?f:50;if("icon"!==l.type)return null;let y=c(l,i),w=u(l),C=p&&h===w,j=s(i),A=1;j&&(d(l,i)||(A=.5));let k=ef(t);return(0,a.jsx)(ey,{id:n,x:m+(x-b)/2,y:g+(f-v)/2,width:b,height:v,image:y,isEditable:r,selectItem:()=>{o(w)},isItemSelected:C,style:1!==A?{opacity:A}:void 0,className:k},w)};var eC=n(94740),ej=n(59272),eA=n(12514),ek=n(18078),eS=n(55597),eI=n(89703),eE=n(35883),eL=n(61679),eR=n(54958),eD=n(62257),eM=n.n(eD),e_=n(216),ez=n(43216);let eT=(0,o.forwardRef)((e,t)=>{let{handlePlacement:n="outside",onClick:i,isSelected:r}=e,l=(0,V.GV)(K.nD),s=(0,X.fW)(),d=(0,o.useCallback)(e=>{},[]);return l?(0,a.jsx)(e_.u,{ref:t,isSelected:r,isVisible:!0,onClick:i,onDragStart:d,...(0,ez.T)(s)[n],...eM()}):null});eT.displayName="SelectionHandle";let eN=e=>{let{hasFocus:t,onClickHandle:n,stepAttributes:l,updateStep:s,children:d,editor:c,selectItem:p,dataLookupInfo:h}=e,m=(0,eI.f)(),g=!!c,x=null==l?void 0:l.icon,f=!!(null==x?void 0:x.src),b=(0,o.useMemo)(()=>x?(0,eL.D)(x.source)?"icon":"image":"icon",[x]);console.log("imageType",b,"elementIcon",x);let v=(0,o.useCallback)(()=>{s&&s({icon:null,image:null})},[s]),y=(0,o.useCallback)(e=>{p&&h?(p(u({...h,type:"icon"})),c&&c.view.focus(),m({isOpen:!0}),e.stopPropagation()):c&&(c.view.focus(),m({isOpen:!0}),e.stopPropagation())},[p,h,c,m]);return(0,a.jsxs)(eC.A,{isOpen:t,autoFocus:!1,closeOnBlur:!1,closeOnEsc:!1,placement:"top",children:[(0,a.jsx)(ej.d,{children:(0,a.jsx)(eT,{handlePlacement:"top",onClick:n,isSelected:t})}),(0,a.jsx)(eA.Z,{children:(0,a.jsx)(ek.h,{width:"fit-content",children:(0,a.jsxs)(k.z,{"data-in-editor-focus":!0,children:[c&&(0,a.jsx)(_.I,{onClick:()=>{if(c&&c.state.selection instanceof eR.n){let e=c.state.selection.anchor;c.commands.selectNodeAtPos(e)}},label:r.Ru._({id:"yGxcio"}),children:(0,a.jsx)(I.g,{icon:i.Hmw,flip:"horizontal"})}),(0,a.jsx)(R.q,{}),(0,a.jsx)(eE.a,{color:null==l?void 0:l.color,setColor:e=>{null==s||s({color:e}),L.zS.track(L.VV.SMART_DIAGRAM_OPTION_UPDATED,{optionType:"elementColor",previousValue:null==l?void 0:l.color,newValue:e})},analyticsSource:"SmartDiagram"}),(0,a.jsx)(_.I,{label:r.Ru._({id:"m1crrt"}),onClick:()=>{let e=!(null==l?void 0:l.isEmphasized);null==s||s({isEmphasized:e}),L.zS.track(L.VV.SMART_DIAGRAM_OPTION_UPDATED,{optionType:"elementEmphasis",previousValue:null==l?void 0:l.isEmphasized,newValue:e})},icon:(null==l?void 0:l.isEmphasized)?eS.yy:i.yy,isActive:!1,"data-in-editor-focus":!0}),g&&(0,a.jsxs)(a.Fragment,{children:[f?(0,a.jsx)(_.I,{label:"icon"===b?(0,a.jsx)(E.x6,{id:"JE/4q/"}):(0,a.jsx)(E.x6,{id:"9IrgTy"}),icon:"icon"===b?i.cCs:i.MT7,onClick:y,"data-in-editor-focus":!0}):(0,a.jsx)(_.I,{label:"icon"===b?(0,a.jsx)(E.x6,{id:"1SYZRR"}):(0,a.jsx)(E.x6,{id:"pVb3uA"}),icon:"icon"===b?i.cCs:i.Cyq,onClick:y,"data-in-editor-focus":!0}),f&&(0,a.jsx)(_.I,{label:"icon"===b?(0,a.jsx)(E.x6,{id:"+4mjS6"}):(0,a.jsx)(E.x6,{id:"EyVcag"}),icon:i.K3F,color:"red.500",onClick:v,"data-in-editor-focus":!0})]}),d]})})})]})},eP=e=>{let{x:t,y:n,width:i,height:r,isEditable:o,selectItem:l,selectItemWithKeyPath:s,isItemSelected:d,isStepSelected:c,stepAttributes:u,updateStep:p,formattingMenuItems:h,editor:m,dataLookupInfo:g}=e;return(0,a.jsxs)("foreignObject",{x:t,y:n,width:i,height:r,style:{overflow:"visible"},children:[(0,a.jsx)(en.a,{width:"100%",height:"100%",onMouseDown:e=>{o&&(l(),e.stopPropagation())},borderRadius:"var(--box-border-radius)",css:{outlineStyle:d||c?"solid":"none",outlineColor:d?"var(--chakra-colors-trueblue-300)":"var(--grid-outline-color)",outlineWidth:d?"2px":"1px"},className:"smart-diagram-selection-box"}),d&&(0,a.jsx)(eN,{hasFocus:d,onClickHandle:l,stepAttributes:u,updateStep:p,editor:m,selectItem:s,dataLookupInfo:g,children:h})]})},eO=e=>{let{element:t,id:n,data:i,editor:r,isEditable:o,updateData:s,selectItem:d,dataLookupInfo:c,isNodeSelected:h,selectedKeyPath:m,modifyingFns:g}=e,x=parseFloat(t.getAttribute("x")||"0"),f=parseFloat(t.getAttribute("y")||"0"),b=parseFloat(t.getAttribute("width")||"0"),v=parseFloat(t.getAttribute("height")||"0");if("selection"!==c.type)return null;let y=!h&&m===u(c),w=!!m&&p(c,m),C=l(c,i);return(0,a.jsx)(eP,{id:n,x:x,y:f,width:b,height:v,isEditable:o,selectItem:()=>{d(u(c))},selectItemWithKeyPath:d,isItemSelected:y,isStepSelected:w,stepAttributes:C||void 0,updateStep:e=>{s(t=>{let{stepNumber:n,generalNumber:a}=c;return!0===e.isEmphasized?(t.step&&(t.step=t.step.map((e,t)=>({...e,isEmphasized:t===n}))),t.general&&(t.general=t.general.map((e,t)=>({...e,isEmphasized:t===a})))):(null!==n&&t.step&&(t.step=[...t.step],t.step[n]={...t.step[n],...e}),null!==a&&t.general&&(t.general=[...t.general],t.general[a]={...t.general[a],...e})),t})},editor:r,dataLookupInfo:c,formattingMenuItems:(0,a.jsx)(eH,{canAddStep:g.canAddStep,canRemoveStep:g.canRemoveStep,addStep:g.addStep,removeStep:g.removeStep,dataLookupInfo:c})},u(c))},eH=e=>{let{canAddStep:t,canRemoveStep:n,addStep:r,removeStep:o,dataLookupInfo:l}=e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(R.q,{}),(0,a.jsx)(S.$,{disabled:!t,size:"sm",variant:"toolbar",onClick:()=>null!==l.stepNumber&&r(l.stepNumber),leftIcon:(0,a.jsx)(I.g,{icon:i.q_k}),ms:2,children:(0,a.jsx)(E.x6,{id:"hfkdR8"})}),(0,a.jsx)(S.$,{disabled:!t,size:"sm",variant:"toolbar",onClick:()=>null!==l.stepNumber&&r(l.stepNumber+1),leftIcon:(0,a.jsx)(I.g,{icon:i.q_k}),children:(0,a.jsx)(E.x6,{id:"Y1oj5r"})}),(0,a.jsx)(R.q,{}),(0,a.jsx)(_.I,{disabled:!n,label:(0,a.jsx)(E.x6,{id:"cnGeoo"}),onClick:()=>o(l.stepNumber),icon:i.yLS,color:"red.500"})]})};var eF=n(50535),eB=n(80039),eV=n(89122),eW=n(48342),eU=n(37243),eG=n(15902),eK=n(36464),eQ=n(2426),eZ=n(41896),eq=n(63902),e$=n(6046),eJ=n(15253);let eY=e=>{let{editor:t}=e;return(0,eq.oR)()?(0,a.jsx)(eJ.N,{editor:t}):(0,a.jsx)(e$.$,{editor:t})};var eX=n(71595),e0=n(8763);let e1=eU.YY.create({name:"smartDiagramKeyboard",addOptions:()=>({parentEditor:null}),addKeyboardShortcuts(){let{parentEditor:e}=this.options;return{"Mod-z":()=>null==e?void 0:e.commands.undo(),"Mod-y":()=>null==e?void 0:e.commands.redo()}}}),e2=e=>{let{className:t,selectItem:n,onChange:i,editable:r,parentEditor:l,direction:s="ltr",...d}=e,c=(0,o.useMemo)(()=>[...(0,e0.D)(),...l?[e1.configure({parentEditor:l})]:[]],[l]),u=(0,eX.lW)(i,500),p=(0,eZ.hG)({extensions:c,...d,onUpdate(e){let{editor:t,transaction:n}=e;n.docChanged&&(n.getMeta("history$")||u({editor:t}))},onBlur:e=>{let{event:t}=e;t.relatedTarget instanceof HTMLElement&&t.relatedTarget.closest("[data-active-menu]")||p.commands.forceHideBubbleMenu(!0)},onFocus:()=>{p.commands.forceHideBubbleMenu(!1),setTimeout(()=>{l&&l.state.selection instanceof eG.n&&l.view.focus()},100)}}),h=p.view.hasFocus();p.shouldUseLiteMenus=!0,(0,o.useEffect)(()=>{p&&void 0!==d.content&&p.getHTML()!==d.content&&p.commands.setContent(d.content)},[d.content,p]),(0,o.useEffect)(()=>{p.setEditable(!!r)},[r,p]);let m=(0,o.useRef)(null),g=(0,o.useMemo)(()=>(function(e){var t;let n=eQ.dX.getState(e.state);return(null==n?void 0:n.forceHide)!==!0&&((null==n||null==(t=n.tippyInstance)?void 0:t.state.isVisible)===!0||document.body.classList.contains("formatting-menu-open"))})(p),[p.state]);return(0,eV.j)({enabled:g&&r,ref:m,handler:e=>{e.target.closest("[data-active-menu]")||p.commands.forceHideBubbleMenu(!0)}}),(0,a.jsxs)(J.s,{ref:m,dir:s,direction:"column",w:"100%",h:"100%",className:(0,ea.cx)("smart-diagram-textbox",t),borderRadius:"var(--box-border-radius)",justifyContent:"center",alignItems:"center",onMouseDown:e=>{n(),e.stopPropagation()},style:{outlineColor:h?"var(--chakra-ring-color)":void 0,outlineWidth:h?"2px":void 0},children:[(0,a.jsx)(eY,{editor:p}),(0,a.jsx)(eW.L8,{isDark:!1,children:(0,a.jsx)(eK.Ht,{editor:p,appendToSelector:".smart-diagram-wrapper:focus-within"})})]})},e4=e=>{let{x:t,y:n,width:i,height:r,style:o,...l}=e;return(0,a.jsx)("g",{style:o,children:(0,a.jsx)("foreignObject",{x:t,y:n,width:i,height:r,style:{overflow:"visible"},children:(0,a.jsx)(e6,{...l})})})},e5=(e,t)=>{if("rtl"===t){if("left"===e)return"right";if("right"===e)return"left"}return e},e6=e=>{let{text:t,isEditable:n,onUpdate:i,horizontalAlignClass:r="center",verticalAlignClass:o="middle",textDirection:l="ltr",selectItem:s,parentEditor:d,isItemSelected:c,fontSize:u="".concat(18,"px"),...p}=e,h=(0,eB.lI)(o),m=e5(r,l),g={...(0,z.yp)(m,l),...(0,z.AS)(m,l),"--vertical-align":h};return(0,a.jsx)(J.s,{direction:"column",w:"100%",h:"100%",css:g,justifyContent:"stretch",...p,className:(0,ea.cx)(n?"is-editable":""),fontSize:u,style:{transform:"rtl"===l?"scaleX(-1)":void 0},children:(0,a.jsx)(e2,{content:t,onChange:e=>{let{editor:t}=e,n=t.state.doc.content;i((0,eF.$R)(n,t.schema))},className:p.className,editable:n,selectItem:s,isItemSelected:c,parentEditor:d,direction:l})})},e3=e=>{let t=e.classList;return t.contains("right")?"right":t.contains("left")?"left":"center"},e9=e=>{let t=e.classList;return t.contains("top")?"start":t.contains("bottom")?"end":"middle"},e7=e=>{let{element:t,id:n,data:i,isEditable:r,updateData:o,selectItem:l,dataLookupInfo:p,parentEditor:h,isNodeSelected:g,selectedKeyPath:x,direction:f="ltr"}=e,b=parseFloat(t.getAttribute("x")||"0"),v=parseFloat(t.getAttribute("y")||"0"),y=parseFloat(t.getAttribute("width")||"0"),w=parseFloat(t.getAttribute("height")||"0"),C=ef(t),j=e3(t),A=e9(t);if("text"!==p.type)return null;let k=c(p,i),S=u(p),I=g&&x===S,E=s(i),L=1;return E&&(d(p,i)||(L=.5)),(0,a.jsx)(e4,{id:n,x:b,y:v,width:y,height:w,text:k||"",isEditable:r,onUpdate:e=>{o(t=>m(p,t,e))},className:C,selectItem:()=>{l(S)},parentEditor:h,isItemSelected:I,horizontalAlignClass:j,verticalAlignClass:A,textDirection:f,style:1!==L?{opacity:L}:void 0},S)};var e8=n(96177),te=n(6830);let tt=e=>{if(!e)return{x:void 0,y:void 0,width:void 0,height:void 0};let[t,n,a,i]=e.split(" ").map(parseFloat);return{x:t,y:n,width:a,height:i}},tn=e=>{if(!e)return null;let t=new DOMParser().parseFromString(e,"image/svg+xml").documentElement,n=t.getAttribute("viewBox")||void 0,{width:a,height:i}=tt(n);return{element:t,props:{viewBox:n,width:a,height:i,preserveAspectRatio:"xMidYMid meet",overflow:"visible"}}},ta=e=>{let t={};return Array.from(e.attributes).forEach(e=>{if("fill"===e.name)return;let n="class"===e.name?"className":e.name;["x","y","width","height","cx","cy","r","x1","y1","x2","y2","opacity","fill-opacity","stroke-width"].includes(e.name)?t[n]=parseFloat(e.value):("style"===e.name||"class"===e.name||e.name,t[n]=e.value)}),t},ti=e=>e instanceof SVGElement&&e.className&&"object"==typeof e.className?e.className.baseVal||"":e.className||"",tr=(e,t)=>[...new Set(Array.from(e.querySelectorAll('[class*="'.concat(t,'-"]'))).map(e=>{let n=ti(e).match(new RegExp("".concat(t,"-(\\d+)")));return n?parseInt(n[1]):0}).filter(e=>e>0))].sort((e,t)=>e-t),to=e=>tr(e,"step"),tl=e=>tr(e,"general"),ts=(e,t,n,a,i,r,o)=>{let l;t.length&&(r&&(l=(0,F.M)(n,t,r,{lightnessRange:o})),t.forEach(t=>{let n=".".concat(i,"-").concat(t),r=e.querySelector(n);if(r){let e=r.querySelectorAll(a),n=l?l.get(t):void 0;n?e.forEach(e=>{let t=ti(e),a=n;t.includes("light")?a=(0,te.Zt)(n,5):t.includes("dim")&&(a=(0,te.Zt)(n,-5)),e.style.setProperty("--shape-bg-color-override",a)}):e.forEach(e=>{e.style.getPropertyValue("--shape-bg-color-override")&&(e.style.removeProperty("--shape-bg-color-override"),0===e.style.length&&e.removeAttribute("style"))})}}))},td=(e,t,n,a,i,r)=>{ts(e,t,n,a,"step",i,r)},tc=(e,t,n,a,i,r)=>{ts(e,t,n,a,"general",i,r)},tu=e=>{let{svgElement:t,theme:n,colorScheme:a}=e,i=(0,U.Ik)((0,U.VH)(n)),r=(0,U.kJ)(n),o=to(t),l=tl(t),s=".accent:not(.textbox):not(.image):not(.selection)",d=".background:not(.textbox):not(.image):not(.selection)",c="monochrome"===a?tx(i):void 0,u="monochrome"===a?tx(r):void 0;return td(t,o,i,s,a,c),tc(t,l,i,s,a,c),td(t,o,r,d,a,u),tc(t,l,r,d,a,u),t},tp=e=>{if(!e)return{};let t={};return e.split(";").forEach(e=>{let[n,a]=e.split(":");t[n]=a}),t},th=(e,t,n,a)=>{let i,r={...e},o=e.className||"";if(o.includes("accent")&&!o.includes("textbox")&&!o.includes("image")&&!o.includes("selection")){var l,s,d,c;null!==n&&(null==(s=t.step)||null==(l=s[n])?void 0:l.color)?i=(0,e8.q9)(t.step[n].color):null!==a&&(null==(c=t.general)||null==(d=c[a])?void 0:d.color)&&(i=(0,e8.q9)(t.general[a].color))}return i&&(o.includes("light")?i["--shape-bg-color-override"]=(0,te.Zt)(i["--shape-bg-color-override"],5):o.includes("dim")&&(i["--shape-bg-color-override"]=(0,te.Zt)(i["--shape-bg-color-override"],-5)),r.style={...r.style,...i}),r},tm=(e,t,n,a)=>{let i,r={...e};if(s(t)&&(null!==n||null!==a)&&!d({stepNumber:n,generalNumber:a,type:"selection"},t)){var o;let t=1;(null==(o=r.style)?void 0:o.opacity)&&(t=parseFloat(r.style.opacity.toString())),void 0!==e.opacity&&(t=parseFloat(e.opacity.toString())),void 0!==e.fillOpacity&&(t=parseFloat(e.fillOpacity.toString())),i=.5*t}return void 0!==i&&(r.style={...r.style,opacity:i},void 0===r.fillOpacity&&(r.fillOpacity=i),void 0===r.strokeOpacity&&(r.strokeOpacity=i)),r},tg=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2?arguments[2]:void 0,a=tt(e);return(null==a?void 0:a.height)&&a.width&&!n?Math.min(a.width/1e3*t*100,100):100},tx=e=>.5>(0,te.VU)(e)?{min:15,max:55}:{min:55,max:95},tf=e=>{if("rect"!==e.tagName.toLowerCase())return!1;if(e.classList.contains("icon"))return!0;let t=e.getAttribute("width");return!(!t||isNaN(Number(t))||0>=Number(t))&&e.classList.contains("image")&&100>Number(t)},tb=e=>{let{nodes:t,data:n,isEditable:a,updateData:i,defaultFontSize:r,viewBoxWidth:l,viewBoxHeight:s,selectItem:d,editor:c,isNodeSelected:u,selectedKeyPath:p,modifyingFns:h,direction:m="ltr",globalSelectionElements:g,globalInteractiveElements:f}=e,b=[],v=g||[],y=f||[];return(Array.from(t).forEach((e,t)=>{if(e.nodeType!==Node.ELEMENT_NODE)return;let g=e.tagName.toLowerCase(),f=e.id,{stepNumber:w,generalNumber:C}=x(e.classList);if("rect"===g&&e.classList.contains("selection"))return void v.push(eO({element:e,id:f,data:n,isEditable:a,updateData:i,selectItem:d,isNodeSelected:u,selectedKeyPath:p,dataLookupInfo:{stepNumber:w,generalNumber:C,type:"selection"},modifyingFns:h,editor:c}));if("rect"===g&&e.classList.contains("textbox"))return void y.push(e7({element:e,id:f,data:n,isEditable:a,updateData:i,dataLookupInfo:{stepNumber:w,generalNumber:C,type:"text"},selectItem:d,isNodeSelected:u,selectedKeyPath:p,parentEditor:c,direction:m}));if("rect"===g&&tf(e))return void y.push(ew({element:e,id:f,data:n,isEditable:a,selectItem:d,dataLookupInfo:{stepNumber:w,generalNumber:C,type:"icon"},isNodeSelected:u,selectedKeyPath:p}));let j=tb({nodes:e.childNodes,data:n,isEditable:a,updateData:i,defaultFontSize:r,viewBoxWidth:l,viewBoxHeight:s,selectItem:d,isNodeSelected:u,selectedKeyPath:p,editor:c,modifyingFns:h,direction:m,globalSelectionElements:v,globalInteractiveElements:y}),A=ta(e);A.style=tp(A.style),A=tm(A=th(A,n,w,C),n,w,C);let k=ef(e,m);k&&(A.className=k),a&&("circle"===g||"ellipse"===g||"rect"===g||"path"===g)&&("object"==typeof A.style?A.style={...A.style,pointerEvents:"none"}:A.style={pointerEvents:"none"}),b.push(o.createElement(g,{...A,key:"".concat(g,"-").concat(f||t)},j.length>0?j:void 0))}),g||f)?b:[...b,...v,...y]},tv=e=>{if(!e||"object"!=typeof e)return"";let t="",n=e=>{if(!e||"string"!=typeof e)return"";try{let t=new DOMParser().parseFromString(e,"text/html");return t.body.textContent||t.body.innerText||""}catch(e){return""}};return e.step&&Array.isArray(e.step)&&e.step.forEach(e=>{if(null==e?void 0:e.text){let a=n(e.text);t+=" "+a}}),e.general&&Array.isArray(e.general)&&e.general.forEach(e=>{if(null==e?void 0:e.text){let a=n(e.text);t+=" "+a}}),t.trim()},ty=e=>{let{svgData:t,isEditable:n=!1,data:i={},updateData:r=()=>{},selectItem:l,editor:s,isNodeSelected:d,selectedKeyPath:c,templateKey:u,svgDirection:p}=e,h=(0,o.useMemo)(()=>{let e=tv(i);if(e){let t=(0,Y.R_)(e);if(t)return t}return p||(0,X.C)()},[i,p]),m=(0,o.useMemo)(()=>({addStep:e=>{r(()=>y(i,e))},removeStep:e=>{r(()=>w(i,e))},canAddStep:f(u,i),canRemoveStep:b(u,i)}),[i,r,u]),g=(0,V.GV)(K.SJ),x=(0,o.useMemo)(()=>t?tn(t):null,[t]),v=(0,o.useMemo)(()=>{if(!x)return null;let e=tb({nodes:tu({svgElement:x.element.cloneNode(!0),theme:g,colorScheme:i.colorScheme}).childNodes,data:i,isEditable:n,defaultFontSize:18,viewBoxWidth:x.props.width,viewBoxHeight:x.props.height,selectItem:l,updateData:r,editor:s,isNodeSelected:d,selectedKeyPath:c,modifyingFns:m,direction:h});return(0,a.jsxs)("svg",{...x.props,width:"100%",height:"auto",style:{maxWidth:"100%",display:"block",...x.props.style,transform:"rtl"===h?"scaleX(-1)":void 0},children:[n&&(0,a.jsx)(et,{}),e,n&&(0,a.jsx)(et,{})]})},[x,g,i,n,l,r,s,d,c,m,h]),C=(0,ee.FX)(),j=(0,o.useMemo)(()=>(null==x?void 0:x.props.viewBox)?tg(x.props.viewBox,e.svgScalingFactor||1,C):100,[null==x?void 0:x.props.viewBox,e.svgScalingFactor,C]);return(0,a.jsx)(ep,{svgWidthPercent:j,...e,children:(0,a.jsx)(J.s,{w:"100%",position:"relative",children:t&&(0,a.jsx)(J.s,{w:"100%",h:"100%",children:v})})})},tw=new Map(Object.entries({arrow_bars_1:'<svg class="arrow_bars" width="730.72064" height="121.63564000000001" viewBox="135.94768 206.94768 730.72064 121.63564000000001" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="arrow_bars" class="arrow_bars accent">\n<g id="step-1" class="step-1 accent">\n<path id="step-1-accent" d="M852.616 267.766L804.904 314.531V302.766H150V232.766H804.904V221L852.616 267.766Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-accent-textbox" x="189.1650390625" y="246.5625" width="577" height="40" class="step-1 accent textbox left step-1 accent textbox" fill="#E5E5E5"/>\n</g>\n</g>\n</svg>\n',arrow_bars_2:'<svg class="arrow_bars" width="814.96064" height="223.40664" viewBox="93.32768 156.32768 814.96064 223.40664" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="arrow_bars" class="arrow_bars accent">\n<g id="step-2" class="step-2 accent">\n<path id="step-2-accent" d="M892.616 317.297L844.904 364.062V352.531H109V282.531H844.904V270.531L892.616 317.297Z" fill="#666BC3" class="step-2 accent"/>\n<rect id="step-2-accent-textbox" x="151.1650390625" y="296.5625" width="565" height="40" class="step-2 accent textbox left step-2 accent textbox" fill="#E5E5E5"/>\n</g>\n<g id="step-1" class="step-1 accent">\n<path id="step-1-accent" d="M811.616 218.766L763.904 265.531V253.766H109V183.766H763.904V172L811.616 218.766Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-accent-textbox" x="151.1650390625" y="197.5625" width="565" height="40" class="step-1 accent textbox left step-1 accent textbox" fill="#E5E5E5"/>\n</g>\n</g>\n</svg>\n',arrow_bars_3:'<svg class="arrow_bars" width="898.16064" height="325.13864" viewBox="51.72768 105.72767999999999 898.16064 325.13864" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="arrow_bars" class="arrow_bars accent">\n<g id="step-3" class="step-3 accent">\n<path id="step-3-accent" d="M932.616 366.828L884.904 413.594V401.766H69V331.766H884.904V320.062L932.616 366.828Z" fill="#B3B5E1" class="step-3 accent"/>\n<rect id="step-3-accent-textbox" x="113.1650390625" y="345.5625" width="563" height="40" class="step-3 accent textbox left step-3 accent textbox" fill="#E5E5E5"/>\n</g>\n<g id="step-2" class="step-2 accent">\n<path id="step-2-accent" d="M852.616 268.297L804.904 315.062V303.531H69V233.531H804.904V221.531L852.616 268.297Z" fill="#666BC3" class="step-2 accent"/>\n<rect id="step-2-accent-textbox" x="113.1650390625" y="247.5625" width="563" height="40" class="step-2 accent textbox left step-2 accent textbox" fill="#E5E5E5"/>\n</g>\n<g id="step-1" class="step-1 accent">\n<path id="step-1-accent" d="M771.616 169.766L723.904 216.531V204.766H69V134.766H723.904V123L771.616 169.766Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-accent-textbox" x="113.1650390625" y="148.5625" width="563" height="40" class="step-1 accent textbox left step-1 accent textbox" fill="#E5E5E5"/>\n</g>\n</g>\n</svg>\n',arrow_bars_4:'<svg class="arrow_bars" width="991.76064" height="427.67564" viewBox="-3.0733200000000007 86.92768 991.76064 427.67564" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="arrow_bars" class="arrow_bars accent">\n<g id="step-4" class="step-4 accent">\n<path id="step-4-accent" d="M969.615 448.766L921.903 495.531V484H15.999V414H921.903V402L969.615 448.766Z" fill="#D9DAF0" class="step-4 accent"/>\n<rect id="step-4-accent-textbox" x="59.1650390625" y="427.5625" width="554" height="40" class="step-4 accent textbox left step-4 accent textbox" fill="#E5E5E5"/>\n</g>\n<g id="step-3" class="step-3 accent">\n<path id="step-3-accent" d="M879.615 350.062L831.903 396.828V385H15.999V315H831.903V303.297L879.615 350.062Z" fill="#B3B5E1" class="step-3 accent"/>\n<rect id="step-3-accent-textbox" x="59.1650390625" y="328.5625" width="554" height="40" class="step-3 accent textbox left step-3 accent textbox" fill="#E5E5E5"/>\n</g>\n<g id="step-2" class="step-2 accent">\n<path id="step-2-accent" d="M799.615 251.531L751.903 298.297V286.766H15.999V216.766H751.903V204.766L799.615 251.531Z" fill="#666BC3" class="step-2 accent"/>\n<rect id="step-2-accent-textbox" x="59.1650390625" y="230.5625" width="554" height="40" class="step-2 accent textbox left step-2 accent textbox" fill="#E5E5E5"/>\n</g>\n<g id="step-1" class="step-1 accent">\n<path id="step-1-accent" d="M718.616 152.766L670.904 199.531V187.766H16V117.766H670.904V106L718.616 152.766Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-accent-textbox" x="59.1650390625" y="131.5625" width="554" height="40" class="step-1 accent textbox left step-1 accent textbox" fill="#E5E5E5"/>\n</g>\n</g>\n</svg>\n'}).map(e=>{let[t,n]=e;return[Number(t.replace("arrow_bars_","")),n]})),tC="arrow_bars",tj={key:tC,Component:e=>{var t,n;let{data:i}=e,r=null!=(n=null==(t=i.step)?void 0:t.length)?n:4,o=tw.get(r);return o?(0,a.jsx)(ty,{svgData:o,templateKey:tC,svgScalingFactor:tj.svgScalingFactor,...e}):(console.error("No SVG data found for key",r),null)},label:()=>r.Ru._({id:"Yxcx0I"}),icon:i.dmS,defaultColorScheme:"monochrome",stepSvgData:tw,previewImage:{src:"https://assets.gammahosted.com/j1bla5j5f/_next/static/media/arrow_bars.a69a69a4.svg",height:96,width:253,blurWidth:0,blurHeight:0},formattingMenu:$,defaultData:()=>C(tw),svgScalingFactor:1},tA=new Map(Object.entries({bubbles_1:'<svg class="bubbles" width="217.00000000000006" height="346" viewBox="391.99999999999994 93.99999999999999 217.00000000000006 346" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="bubbles" class="bubbles">\n<g id="step-1" class="step-1">\n<path id="step-1-accent" fill-rule="evenodd" clip-rule="evenodd" d="M500.5 104C554.9 104 599 148.1 599 202.5C599 256.9 554.9 301 500.5 301C446.1 301 402 256.9 402 202.5C402 148.1 446.1 104 500.5 104ZM500.5 116C452.727 116 414 154.727 414 202.5C414 250.273 452.727 289 500.5 289C548.273 289 587 250.273 587 202.5C587 154.727 548.273 116 500.5 116Z" fill="#4046B4" class="step-1 accent"/>\n<rect x="472.056640625" y="174.7734375" width="56" height="56" class="step-1 card image" fill="#666666"/>\n<rect id="step-1-card-textbox" x="423" y="319" width="155" height="111" fill="#D9D9D9" class="step-1 card textbox"/>\n<rect id="step-1-selection" x="394.5" y="96.5" width="212" height="341" stroke="black" class="step-1 selection"/>\n</g>\n</g>\n</svg>\n',bubbles_2:'<svg class="bubbles" width="400.73" height="346" viewBox="300 93.99999999999999 400.73 346" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="bubbles" class="bubbles">\n<g id="step-2" class="step-2">\n<path id="step-2-accent" d="M592.23 104C646.631 104 690.73 148.1 690.73 202.5C690.73 256.9 646.631 301 592.23 301C551.3 301 516.201 276.034 501.329 240.5L509.854 228.963C521.034 263.792 553.688 289 592.23 289C640.003 289 678.73 250.273 678.73 202.5C678.73 154.727 640.003 116 592.23 116C553.355 116 520.471 141.645 509.569 176.94L500.986 165.327C515.657 129.354 550.983 104 592.23 104Z" fill="#666BC3" class="step-2 accent"/>\n<rect x="567.056640625" y="174.91015625" width="56" height="56" class="step-2 card image" fill="#666666"/>\n<rect id="step-2-card-textbox" x="518" y="319" width="155" height="111" fill="#D9D9D9" class="step-2 card textbox"/>\n<rect id="step-2-selection" x="493.5" y="96.5" width="205" height="341" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-1" class="step-1">\n<path id="step-1-accent" fill-rule="evenodd" clip-rule="evenodd" d="M408.5 104C446.232 104 479.008 125.216 495.551 156.369V156.254L530.205 203.146L495.551 250.037V248.63C479.008 279.783 446.232 301 408.5 301C354.1 301 310 256.9 310 202.5C310 148.1 354.1 104 408.5 104ZM408.5 116C360.727 116 322 154.727 322 202.5C322 250.273 360.727 289 408.5 289C456.273 289 495 250.273 495 202.5C495 154.727 456.273 116 408.5 116Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-card-image" x="381" y="175" width="56" height="56" fill="#D9D9D9" class="step-1 card image"/>\n<rect id="step-1-card-textbox" x="331" y="319" width="155" height="111" fill="#D9D9D9" class="step-1 card textbox"/>\n<rect id="step-1-selection" x="302.5" y="96.5" width="212" height="341" stroke="black" class="step-1 selection"/>\n</g>\n</g>\n</svg>\n',bubbles_3:'<svg class="bubbles" width="587.33376" height="348.58976" viewBox="206.70512 92.70511999999998 587.33376 348.58976" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="bubbles" class="bubbles">\n<g id="step-3" class="step-3">\n<path id="step-3-accent" d="M684.244 104C738.644 104 782.744 148.1 782.744 202.5C782.744 256.9 738.644 301 684.244 301C643.313 301 608.215 276.034 593.343 240.5L601.868 228.963C613.048 263.792 645.702 289 684.244 289C732.017 289 770.744 250.273 770.744 202.5C770.744 154.727 732.017 116 684.244 116C645.369 116 612.484 141.645 601.583 176.94L593 165.327C607.671 129.354 642.996 104 684.244 104Z" fill="#8C90D2" class="step-3 accent"/>\n<rect x="657.056640625" y="174.91015625" width="56" height="56" class="step-3 card image" fill="#666666"/>\n<rect id="step-3-card-textbox" x="611" y="319" width="155" height="111" fill="#D9D9D9" class="step-3 card textbox"/>\n<rect id="step-3-selection" x="585.5" y="96.5" width="205" height="341" stroke="black" class="step-3 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<path id="step-2_2" d="M500.912 104C538.419 104 570.999 125.09 587.443 156.057V155.942L621.89 202.554L587.443 249.166V247.766C570.999 278.733 538.419 299.824 500.912 299.824C460.191 299.824 425.277 274.965 410.516 239.595L418.996 228.118C430.079 262.79 462.563 287.896 500.912 287.896C548.399 287.895 586.895 249.399 586.896 201.912C586.896 154.425 548.399 115.929 500.912 115.929C462.232 115.929 429.519 141.469 418.714 176.605L410.175 165.052C424.735 129.245 459.876 104 500.912 104Z" fill="#666BC3" class="step-2 accent"/>\n<rect id="step-2-card-image" x="474" y="175" width="56" height="56" fill="#D9D9D9" class="step-2 card image"/>\n<rect id="step-2-card-textbox" x="427" y="319" width="155" height="111" fill="#D9D9D9" class="step-2 card textbox"/>\n<rect id="step-2-selection" x="401.5" y="96.5" width="198" height="341" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-1" class="step-1">\n<path id="step-1-accent" fill-rule="evenodd" clip-rule="evenodd" d="M316.5 104C354.232 104 387.008 125.216 403.551 156.369V156.254L438.205 203.146L403.551 250.037V248.63C387.008 279.783 354.232 301 316.5 301C262.1 301 218 256.9 218 202.5C218 148.1 262.1 104 316.5 104ZM316.5 116C268.727 116 230 154.727 230 202.5C230 250.273 268.727 289 316.5 289C364.273 289 403 250.273 403 202.5C403 154.727 364.273 116 316.5 116Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-card-image" x="290" y="175" width="56" height="56" fill="#D9D9D9" class="step-1 card image"/>\n<rect id="step-1-card-textbox" x="240" y="319" width="155" height="111" fill="#D9D9D9" class="step-1 card textbox"/>\n<rect id="step-1-selection" x="214.5" y="96.5" width="206" height="341" stroke="black" class="step-1 selection"/>\n</g>\n</g>\n</svg>\n',bubbles_4:'<svg class="bubbles" width="777.6537600000003" height="355.90976" viewBox="111.04512 89.04511999999998 777.6537600000003 355.90976" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="bubbles" class="bubbles">\n<g id="step-4" class="step-4">\n<path id="step-4-accent" d="M775.244 104C829.644 104 873.744 148.1 873.744 202.5C873.744 256.9 829.644 301 775.244 301C734.313 301 699.215 276.034 684.343 240.5L692.868 228.963C704.048 263.792 736.702 289 775.244 289C823.017 289 861.744 250.273 861.744 202.5C861.744 154.727 823.017 116 775.244 116C736.369 116 703.484 141.645 692.583 176.94L684 165.327C698.671 129.354 733.996 104 775.244 104Z" fill="#B3B5E1" class="step-4 accent"/>\n<rect x="748.056640625" y="174.91015625" width="56" height="56" class="step-4 card image" fill="#666666"/>\n<rect id="step-4-card-textbox" x="702" y="319" width="155" height="111" fill="#D9D9D9" class="step-4 card textbox"/>\n<rect id="step-4-selection" x="674.5" y="96.5" width="205" height="341" stroke="black" class="step-4 selection"/>\n</g>\n<g id="step-3" class="step-3">\n<path id="step-3-accent" d="M591.912 104C629.419 104 661.999 125.09 678.443 156.057V155.942L712.89 202.554L678.443 249.166V247.766C661.999 278.733 629.419 299.824 591.912 299.824C551.191 299.824 516.277 274.965 501.516 239.595L509.996 228.118C521.079 262.79 553.563 287.896 591.912 287.896C639.399 287.895 677.895 249.399 677.896 201.912C677.896 154.425 639.399 115.929 591.912 115.929C553.232 115.929 520.519 141.469 509.714 176.605L501.175 165.052C515.735 129.245 550.876 104 591.912 104Z" fill="#8C90D2" class="step-3 accent"/>\n<rect id="step-3-card-image" x="565" y="175" width="56" height="56" fill="#D9D9D9" class="step-3 card image"/>\n<rect id="step-3-card-textbox" x="518" y="319" width="155" height="111" fill="#D9D9D9" class="step-3 card textbox"/>\n<rect id="step-3-selection" x="493.5" y="96.5" width="198" height="341" stroke="black" class="step-3 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<path id="step-2-accent" d="M408.912 104C446.419 104 478.999 125.09 495.443 156.057V155.942L529.89 202.554L495.443 249.166V247.766C478.999 278.733 446.419 299.824 408.912 299.824C368.191 299.824 333.277 274.965 318.516 239.595L326.996 228.118C338.079 262.79 370.563 287.896 408.912 287.896C456.399 287.895 494.895 249.399 494.896 201.912C494.896 154.425 456.399 115.929 408.912 115.929C370.232 115.929 337.519 141.469 326.714 176.605L318.175 165.052C332.735 129.245 367.876 104 408.912 104Z" fill="#666BC3" class="step-2 accent"/>\n<rect id="step-2-card-image" x="382" y="175" width="56" height="56" fill="#D9D9D9" class="step-2 card image"/>\n<rect id="step-2-card-textbox" x="335" y="319" width="155" height="111" fill="#D9D9D9" class="step-2 card textbox"/>\n<rect id="step-2-selection" x="310.5" y="96.5" width="198" height="341" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-1" class="step-1">\n<path id="step-1-accent" fill-rule="evenodd" clip-rule="evenodd" d="M224.5 104C262.232 104 295.008 125.216 311.551 156.369V156.254L346.205 203.146L311.551 250.037V248.63C295.008 279.783 262.232 301 224.5 301C170.1 301 126 256.9 126 202.5C126 148.1 170.1 104 224.5 104ZM224.5 116C176.727 116 138 154.727 138 202.5C138 250.273 176.727 289 224.5 289C272.273 289 311 250.273 311 202.5C311 154.727 272.273 116 224.5 116Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-card-image" x="198" y="175" width="56" height="56" fill="#D9D9D9" class="step-1 card image"/>\n<rect id="step-1-card-textbox" x="148" y="319" width="155" height="111" fill="#D9D9D9" class="step-1 card textbox"/>\n<rect id="step-1-selection" x="122.5" y="96.5" width="206" height="341" stroke="black" class="step-1 selection"/>\n</g>\n</g>\n</svg>\n',bubbles_5:'<svg class="bubbles" width="967.9737600000003" height="363.22976" viewBox="16.385119999999993 85.38511999999997 967.9737600000003 363.22976" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="bubbles" class="bubbles">\n<g id="step-5" class="step-5">\n<path id="step-5-accent" d="M867.244 104C921.644 104 965.744 148.1 965.744 202.5C965.744 256.9 921.644 301 867.244 301C826.313 301 791.215 276.034 776.343 240.5L784.868 228.963C796.048 263.792 828.702 289 867.244 289C915.017 289 953.744 250.273 953.744 202.5C953.744 154.727 915.017 116 867.244 116C828.369 116 795.484 141.645 784.583 176.94L776 165.327C790.671 129.354 825.996 104 867.244 104Z" fill="#B3B5E1" class="step-5 accent"/>\n<rect x="840.056640625" y="174.91015625" width="56" height="56" class="step-5 card image" fill="#666666"/>\n<rect id="step-5-card-textbox" x="794" y="319" width="155" height="111" fill="#D9D9D9" class="step-5 card textbox"/>\n<rect id="step-5-selection" x="766.5" y="96.5" width="205" height="341" stroke="black" class="step-5 selection"/>\n</g>\n<g id="step-4" class="step-4">\n<path id="step-4-accent" d="M683.912 104C721.419 104 753.999 125.09 770.443 156.057V155.942L804.89 202.554L770.443 249.166V247.766C753.999 278.733 721.419 299.824 683.912 299.824C643.191 299.824 608.277 274.965 593.516 239.595L601.996 228.118C613.079 262.79 645.563 287.896 683.912 287.896C731.399 287.895 769.895 249.399 769.896 201.912C769.896 154.425 731.399 115.929 683.912 115.929C645.232 115.929 612.519 141.469 601.714 176.605L593.175 165.052C607.735 129.245 642.876 104 683.912 104Z" fill="#8C90D2" class="step-4 accent"/>\n<rect id="step-4-card-image" x="657" y="175" width="56" height="56" fill="#D9D9D9" class="step-4 card image"/>\n<rect id="step-4-card-textbox" x="610" y="319" width="155" height="111" fill="#D9D9D9" class="step-4 card textbox"/>\n<rect id="step-4-selection" x="585.5" y="96.5" width="198" height="341" stroke="black" class="step-4 selection"/>\n</g>\n<g id="step-3" class="step-3">\n<path id="step-3-accent" d="M500.912 104C538.419 104 570.999 125.09 587.443 156.057V155.942L621.89 202.554L587.443 249.166V247.766C570.999 278.733 538.419 299.824 500.912 299.824C460.191 299.824 425.277 274.965 410.516 239.595L418.996 228.118C430.079 262.79 462.563 287.896 500.912 287.896C548.399 287.895 586.895 249.399 586.896 201.912C586.896 154.425 548.399 115.929 500.912 115.929C462.232 115.929 429.519 141.469 418.714 176.605L410.175 165.052C424.735 129.245 459.876 104 500.912 104Z" fill="#8C90D2" class="step-3 accent"/>\n<rect id="step-3-card-image" x="474" y="175" width="56" height="56" fill="#D9D9D9" class="step-3 card image"/>\n<rect id="step-3-card-textbox" x="427" y="319" width="155" height="111" fill="#D9D9D9" class="step-3 card textbox"/>\n<rect id="step-3-selection" x="402.5" y="96.5" width="198" height="341" stroke="black" class="step-3 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<path id="step-2-accent" d="M317.912 104C355.419 104 387.999 125.09 404.443 156.057V155.942L438.89 202.554L404.443 249.166V247.766C387.999 278.733 355.419 299.824 317.912 299.824C277.191 299.824 242.277 274.965 227.516 239.595L235.996 228.118C247.079 262.79 279.563 287.896 317.912 287.896C365.399 287.895 403.895 249.399 403.896 201.912C403.896 154.425 365.399 115.929 317.912 115.929C279.232 115.929 246.519 141.469 235.714 176.605L227.175 165.052C241.735 129.245 276.876 104 317.912 104Z" fill="#666BC3" class="step-2 accent"/>\n<rect id="step-2-card-image" x="291" y="175" width="56" height="56" fill="#D9D9D9" class="step-2 card image"/>\n<rect id="step-2-card-textbox" x="244" y="319" width="155" height="111" fill="#D9D9D9" class="step-2 card textbox"/>\n<rect id="step-2-selection" x="219.5" y="96.5" width="198" height="341" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-1" class="step-1">\n<path id="step-1-accent" fill-rule="evenodd" clip-rule="evenodd" d="M133.5 104C171.232 104 204.008 125.216 220.551 156.369V156.254L255.205 203.146L220.551 250.037V248.63C204.008 279.783 171.232 301 133.5 301C79.1 301 35 256.9 35 202.5C35 148.1 79.1 104 133.5 104ZM133.5 116C85.7274 116 47 154.727 47 202.5C47 250.273 85.7274 289 133.5 289C181.273 289 220 250.273 220 202.5C220 154.727 181.273 116 133.5 116Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-card-image" x="107" y="175" width="56" height="56" fill="#D9D9D9" class="step-1 card image"/>\n<rect id="step-1-card-textbox" x="57" y="319" width="155" height="111" fill="#D9D9D9" class="step-1 card textbox"/>\n<rect id="step-1-selection" x="31.5" y="96.5" width="206" height="341" stroke="black" class="step-1 selection"/>\n</g>\n</g>\n</svg>\n'}).map(e=>{let[t,n]=e;return[Number(t.replace("bubbles_","")),n]})),tk="bubble_steps",tS={key:tk,Component:e=>{var t,n;let{data:i}=e,r=null!=(n=null==(t=i.step)?void 0:t.length)?n:5,o=tA.get(r);return o?(0,a.jsx)(ty,{svgData:o,templateKey:tk,svgScalingFactor:tS.svgScalingFactor,...e}):(console.error("No SVG data found for key",r),null)},label:()=>r.Ru._({id:"9v8/rg"}),previewImage:{src:"https://assets.gammahosted.com/j1bla5j5f/_next/static/media/bubble-steps.2a853dd7.svg",height:96,width:253,blurWidth:0,blurHeight:0},allowedColorSchemes:[],stepSvgData:tA,formattingMenu:$,defaultData:()=>C(tA),svgScalingFactor:1};var tI=n(51684);let tE=new Map(Object.entries({bullseye_1:'<svg class="bullseye" width="736.7048" height="164.11880000000002" viewBox="107.8306 140.83259999999996 736.7048 164.11880000000002" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="bullseye" class="bullseye">\n<g id="step-1" class="step-1">\n<path id="step-1-card" d="M569 226L569 224L696 224L696 226L569 226Z" fill="black" class="step-1 card"/>\n<path id="step-1-accent" d="M830.324 223.1C830.324 260.481 800.02 290.784 762.639 290.784C725.258 290.784 694.955 260.481 694.955 223.1C694.955 185.719 725.258 155.416 762.639 155.416C800.02 155.416 830.324 185.719 830.324 223.1Z" fill="#4046B4" class="step-1 accent"/>\n<path id="step-1-accent_2" d="M830.368 222.684C830.368 260.065 800.065 290.368 762.684 290.368C725.303 290.368 695 260.065 695 222.684C695 185.303 725.303 155 762.684 155C800.065 155 830.368 185.303 830.368 222.684Z" fill="#4046B4" class="step-1 accent"/>\n<rect x="510.166015625" y="172.0625" width="50" height="50" class="step-1 card image" fill="#666666"/>\n<rect id="step-1-card-textbox-right" x="121.998" y="172.992" width="375" height="100" fill="#D9D9D9" class="step-1 card textbox right top"/>\n<rect id="step-1-selection" x="113.5" y="165.5" width="455" height="115" stroke="black" class="step-1 selection"/>\n</g>\n</g>\n</svg>\n',bullseye_2:'<svg class="bullseye" width="863.6721600000001" height="319.21846000000005" viewBox="32.22292 79.32061999999999 863.6721600000001 319.21846000000005" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="bullseye" class="bullseye">\n<g id="step-2" class="step-2">\n<path id="step-2_2" d="M495.432 332.674L495 331L689 281L689.432 282.674L495.432 332.674Z" fill="black" class="step-2"/>\n<path id="step-2-accent" d="M879.286 223.1C879.286 287.841 826.675 340.324 761.775 340.324C696.875 340.324 644.264 287.841 644.264 223.1C644.264 158.36 696.875 105.877 761.775 105.877C826.675 105.877 879.286 158.36 879.286 223.1Z" fill="#666BC3" class="step-2 accent"/>\n<path id="step-2-accent_2" d="M878.135 223.101C878.135 158.999 826.041 107.029 761.775 107.029C697.509 107.029 645.416 158.999 645.416 223.101C645.416 287.202 697.509 339.172 761.775 339.172V340.323L760.256 340.314C696.562 339.509 645.08 288.153 644.273 224.615L644.264 223.101C644.264 158.36 696.876 105.877 761.775 105.877L763.294 105.887C827.494 106.698 879.286 158.866 879.286 223.101L879.276 224.615C878.463 288.658 826.168 340.323 761.775 340.323V339.172C826.041 339.172 878.135 287.202 878.135 223.101Z" fill="white" class="step-2 accent"/>\n<rect x="437.166015625" y="281" width="50" height="50" class="step-2 card image" fill="#666666"/>\n<rect id="step-2-card-textbox-right" x="48.832" y="281.93" width="375" height="100" fill="#D9D9D9" class="step-2 card textbox right top"/>\n<rect id="step-2-selection" x="41.5" y="273.5" width="454" height="116" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-1" class="step-1">\n<path id="step-1_2" d="M495.15 149.447L495.545 147.765L700.999 195.993L700.604 197.676L495.15 149.447Z" fill="black" class="step-1"/>\n<path id="step-1-accent" d="M830.324 223.1C830.324 260.481 800.02 290.784 762.639 290.784C725.258 290.784 694.955 260.481 694.955 223.1C694.955 185.719 725.258 155.416 762.639 155.416C800.02 155.416 830.324 185.719 830.324 223.1Z" fill="#4046B4" class="step-1 accent"/>\n<path id="step-1-accent_2" d="M829.172 223.101C829.172 186.356 799.384 156.569 762.64 156.568C725.895 156.568 696.107 186.356 696.107 223.101C696.108 259.845 725.895 289.633 762.64 289.633V290.784L761.765 290.779C725.078 290.315 695.425 260.661 694.961 223.975L694.955 223.101C694.955 185.72 725.259 155.416 762.64 155.416L763.514 155.422C800.492 155.89 830.323 186.012 830.323 223.101L830.318 223.975C829.85 260.952 799.729 290.784 762.64 290.784V289.633C799.384 289.633 829.172 259.845 829.172 223.101Z" fill="white" class="step-1 accent"/>\n<rect id="step-1-card-image" x="437.998" y="95.9297" width="50" height="50" fill="#D9D9D9" class="step-1 card image"/>\n<rect id="step-1-card-textbox-right" x="48.998" y="95.9297" width="375" height="100" fill="#D9D9D9" class="step-1 card textbox right top"/>\n<rect id="step-1-selection" x="41.5" y="88.5" width="454" height="115" stroke="black" class="step-1 selection"/>\n</g>\n</g>\n</svg>\n',bullseye_3:'<svg class="bullseye" width="920.46968" height="429.40247999999997" viewBox="20.296659999999996 8.290859999999999 920.46968 429.40247999999997" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="bullseye" class="bullseye">\n<g id="step-3" class="step-3">\n<path id="step-3_2" d="M482.727 366.797L482.298 365.122L638.999 324.992L639.428 326.666L482.727 366.797Z" fill="black" class="step-3"/>\n<path id="step-3-accent" d="M923.065 223.812C923.065 312.572 851.111 384.526 762.351 384.526C673.591 384.526 601.637 312.572 601.637 223.812C601.637 135.052 673.591 63.0977 762.351 63.0977C851.111 63.0977 923.065 135.052 923.065 223.812Z" fill="#8C90D2" class="step-3 accent"/>\n<path id="step-3-accent_2" d="M921.913 223.812C921.913 135.688 850.474 64.25 762.351 64.25C674.227 64.2501 602.789 135.688 602.789 223.812C602.789 311.935 674.227 383.374 762.351 383.374V384.525L760.273 384.513C673.162 383.409 602.753 313 601.649 225.889L601.637 223.812C601.637 135.052 673.591 63.0978 762.351 63.0977L764.428 63.1104C852.23 64.2224 923.064 135.745 923.064 223.812L923.052 225.889C921.94 313.691 850.417 384.525 762.351 384.525V383.374C850.474 383.374 921.913 311.935 921.913 223.812Z" fill="white" class="step-3 accent"/>\n<rect x="424.166015625" y="320.0625" width="50" height="50" class="step-3 card image" fill="#666666"/>\n<rect id="step-3-card-textbox-right" x="37.998" y="319.992" width="375" height="100" fill="#D9D9D9" class="step-3 card textbox right top"/>\n<rect id="step-3-selection" x="30.5" y="312.5" width="452" height="115" stroke="black" class="step-3 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<path id="step-2_2" d="M485 215V213L644 213V215L485 215Z" fill="black" class="step-2"/>\n<path id="step-2-accent" d="M879.286 224.1C879.286 288.841 826.675 341.324 761.775 341.324C696.875 341.324 644.264 288.841 644.264 224.1C644.264 159.36 696.875 106.877 761.775 106.877C826.675 106.877 879.286 159.36 879.286 224.1Z" fill="#666BC3" class="step-2 accent"/>\n<path id="step-2-accent_2" d="M878.135 224.101C878.135 159.999 826.041 108.029 761.775 108.029C697.509 108.029 645.416 159.999 645.416 224.101C645.416 288.202 697.509 340.172 761.775 340.172V341.323L760.256 341.314C696.562 340.509 645.08 289.153 644.273 225.615L644.264 224.101C644.264 159.36 696.876 106.877 761.775 106.877L763.294 106.887C827.494 107.698 879.286 159.866 879.286 224.101L879.276 225.615C878.463 289.658 826.168 341.323 761.775 341.323V340.172C826.041 340.172 878.135 288.202 878.135 224.101Z" fill="white" class="step-2 accent"/>\n<rect id="step-2-card-image" x="426.998" y="164.992" width="50" height="50" fill="#D9D9D9" class="step-2 card image"/>\n<rect id="step-2-card-textbox-right" x="37.998" y="164.992" width="375" height="100" fill="#D9D9D9" class="step-2 card textbox right top"/>\n<rect id="step-2-selection" x="30.5" y="157.5" width="454" height="115" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-1" class="step-1">\n<path id="step-1_2" d="M571.237 61.997L572.294 60.6292L718.998 173.992L717.941 175.359L571.237 61.997Z" fill="black" class="step-1"/>\n<path id="step-1-accent" d="M830.324 224.1C830.324 261.481 800.02 291.784 762.639 291.784C725.258 291.784 694.955 261.481 694.955 224.1C694.955 186.719 725.258 156.416 762.639 156.416C800.02 156.416 830.324 186.719 830.324 224.1Z" fill="#4046B4" class="step-1 accent"/>\n<path id="step-1-accent_2" d="M829.172 224.101C829.172 187.356 799.384 157.569 762.64 157.568C725.895 157.568 696.107 187.356 696.107 224.101C696.108 260.845 725.895 290.633 762.64 290.633V291.784L761.765 291.779C725.078 291.315 695.425 261.661 694.961 224.975L694.955 224.101C694.955 186.72 725.259 156.416 762.64 156.416L763.514 156.422C800.492 156.89 830.323 187.012 830.323 224.101L830.318 224.975C829.85 261.952 799.729 291.784 762.64 291.784V290.633C799.384 290.633 829.172 260.845 829.172 224.101Z" fill="white" class="step-1 accent"/>\n<rect id="step-1-card-image" x="514.998" y="25.9922" width="50" height="50" fill="#D9D9D9" class="step-1 card image"/>\n<rect id="step-1-card-textbox" x="125.998" y="25.9922" width="375" height="100" fill="#D9D9D9" class="step-1 card textbox right top"/>\n<rect id="step-1-selection-right" x="117.5" y="18.5" width="454" height="115" stroke="black" class="step-1 selection right"/>\n</g>\n</g>\n</svg>\n',bullseye_4:'<svg class="bullseye" width="963.0036000000001" height="501.40760000000006" viewBox="19.478699999999993 2.1036999999999964 963.0036000000001 501.40760000000006" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="bullseye" class="bullseye">\n<g id="step-4" class="step-4">\n<path id="step-4_2" d="M555.463 397.023L554.356 395.695L607.999 350.992L609.105 352.32L555.463 397.023Z" fill="black" class="step-4"/>\n<path id="step-4-accent" d="M963.963 222.524C963.963 334.03 873.569 424.424 762.063 424.424C650.556 424.424 560.162 334.03 560.162 222.524C560.162 111.017 650.556 20.623 762.063 20.623C873.569 20.623 963.963 111.017 963.963 222.524Z" fill="#B3B5E1" class="step-4 accent"/>\n<path id="step-4-accent_2" d="M962.812 222.523C962.811 111.653 872.933 21.7754 762.062 21.7754C651.192 21.7755 561.315 111.653 561.314 222.523C561.314 333.394 651.192 423.272 762.062 423.272V424.424L760.757 424.42C650.286 423.72 560.865 334.3 560.166 223.829L560.162 222.523C560.162 111.017 650.556 20.6232 762.062 20.623L763.368 20.627C874.274 21.3292 963.963 111.452 963.963 222.523L963.959 223.829C963.257 334.735 873.134 424.424 762.062 424.424V423.272C872.933 423.272 962.812 333.394 962.812 222.523Z" fill="white" class="step-4 accent"/>\n<rect x="498.166015625" y="384.0625" width="50" height="50" class="step-4 card image" fill="#666666"/>\n<rect id="step-4-card-textbox-right" x="109.998" y="384.992" width="375" height="100" fill="#D9D9D9" class="step-4 card textbox right top"/>\n<rect id="step-4-selection" x="102.5" y="377.5" width="453" height="114" stroke="black" class="step-4 selection"/>\n</g>\n<g id="step-3" class="step-3">\n<path id="step-3_2" d="M483.4 295.416L482.93 293.753L605.999 258.993L606.469 260.656L483.4 295.416Z" fill="black" class="step-3"/>\n<path id="step-3-accent" d="M923.065 222.812C923.065 311.572 851.111 383.526 762.351 383.526C673.591 383.526 601.637 311.572 601.637 222.812C601.637 134.052 673.591 62.0977 762.351 62.0977C851.111 62.0977 923.065 134.052 923.065 222.812Z" fill="#8C90D2" class="step-3 accent"/>\n<path id="step-3-accent_2" d="M921.913 222.812C921.913 134.688 850.474 63.25 762.351 63.25C674.227 63.2501 602.789 134.688 602.789 222.812C602.789 310.935 674.227 382.374 762.351 382.374V383.525L760.273 383.513C673.162 382.409 602.753 312 601.649 224.889L601.637 222.812C601.637 134.052 673.591 62.0978 762.351 62.0977L764.428 62.1104C852.23 63.2224 923.064 134.745 923.064 222.812L923.052 224.889C921.94 312.691 850.417 383.525 762.351 383.525V382.374C850.474 382.374 921.913 310.935 921.913 222.812Z" fill="white" class="step-3 accent"/>\n<rect id="step-3-card-image" x="424.998" y="269.992" width="50" height="50" fill="#D9D9D9" class="step-3 card image"/>\n<rect id="step-3-card-textbox" x="37.998" y="268.992" width="375" height="100" fill="#D9D9D9" class="step-3 card textbox right top"/>\n<rect id="step-3-selection-right" x="30.5" y="262.5" width="453" height="114" stroke="black" class="step-3 selection right"/>\n</g>\n<g id="step-2" class="step-2">\n<path id="step-2_2" d="M484.091 172.776L484.341 171.066L648 194.993L647.75 196.703L484.091 172.776Z" fill="black" class="step-2"/>\n<path id="step-2-accent" d="M879.288 223.1C879.288 287.841 826.677 340.324 761.777 340.324C696.877 340.324 644.266 287.841 644.266 223.1C644.266 158.36 696.877 105.877 761.777 105.877C826.677 105.877 879.288 158.36 879.288 223.1Z" fill="#666BC3" class="step-2 accent"/>\n<path id="step-2-accent_2" d="M878.137 223.101C878.137 158.999 826.043 107.029 761.777 107.029C697.511 107.029 645.418 158.999 645.418 223.101C645.418 287.202 697.511 339.172 761.777 339.172V340.323L760.258 340.314C696.564 339.509 645.082 288.153 644.275 224.615L644.266 223.101C644.266 158.36 696.878 105.877 761.777 105.877L763.296 105.887C827.496 106.698 879.288 158.866 879.288 223.101L879.278 224.615C878.465 288.658 826.17 340.323 761.777 340.323V339.172C826.043 339.172 878.137 287.202 878.137 223.101Z" fill="white" class="step-2 accent"/>\n<rect id="step-2-card-image" x="426.998" y="143.992" width="50" height="50" fill="#D9D9D9" class="step-2 card image"/>\n<rect id="step-2-card-textbox-right" x="37.998" y="143.992" width="375" height="100" fill="#D9D9D9" class="step-2 card textbox right top"/>\n<rect id="step-2-selection" x="30.5" y="138.5" width="454" height="114" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-1" class="step-1">\n<path id="step-1_2" d="M570.648 60.5445L571.705 59.1768L718.994 172.992L717.938 174.359L570.648 60.5445Z" fill="black" class="step-1"/>\n<path id="step-1-accent" d="M830.322 223.1C830.322 260.481 800.018 290.784 762.637 290.784C725.256 290.784 694.953 260.481 694.953 223.1C694.953 185.719 725.256 155.416 762.637 155.416C800.018 155.416 830.322 185.719 830.322 223.1Z" fill="#4046B4" class="step-1 accent"/>\n<path id="step-1-accent_2" d="M829.17 223.101C829.17 186.356 799.382 156.569 762.638 156.568C725.893 156.568 696.105 186.356 696.105 223.101C696.106 259.845 725.893 289.633 762.638 289.633V290.784L761.763 290.779C725.076 290.315 695.423 260.661 694.959 223.975L694.953 223.101C694.953 185.72 725.257 155.416 762.638 155.416L763.512 155.422C800.49 155.89 830.321 186.012 830.321 223.101L830.316 223.975C829.848 260.952 799.727 290.784 762.638 290.784V289.633C799.382 289.633 829.17 259.845 829.17 223.101Z" fill="white" class="step-1 accent"/>\n<rect id="step-1-card-image" x="514.998" y="24.9922" width="50" height="50" fill="#D9D9D9" class="step-1 card image"/>\n<rect id="step-1-card-textbox-right" x="125.998" y="24.9922" width="375" height="100" fill="#D9D9D9" class="step-1 card textbox right top"/>\n<rect id="step-1-selection" x="118.5" y="17.5" width="453" height="115" stroke="black" class="step-1 selection"/>\n</g>\n</g>\n</svg>\n'}).map(e=>{let[t,n]=e;return[Number(t.replace("bullseye_","")),n]})),tL="bullseye",tR={key:tL,Component:e=>{var t,n;let{data:i}=e,r=null!=(n=null==(t=i.step)?void 0:t.length)?n:4,o=tE.get(r);return o?(0,a.jsx)(ty,{svgData:o,templateKey:tL,svgScalingFactor:tR.svgScalingFactor,...e}):(console.error("No SVG data found for key",r),null)},label:()=>r.Ru._({id:"EV9YnT"}),icon:tI.pvD,previewImage:{src:"https://assets.gammahosted.com/j1bla5j5f/_next/static/media/bullseye.d2d2476f.svg",height:96,width:253,blurWidth:0,blurHeight:0},defaultColorScheme:"monochrome",allowedColorSchemes:["monochrome"],stepSvgData:tE,formattingMenu:$,defaultData:()=>C(tE),svgScalingFactor:1},tD=new Map(Object.entries({hot_air_balloons_1:'<svg class="hot_air_balloons" width="799.6246960000001" height="442.8915960000001" viewBox="70.78670199999998 56.614802 799.6246960000001 442.8915960000001" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="hot_air_balloons" class="hot_air_balloons">\n<g id="step-1" class="step-1">\n<path id="step-1-accent-no-border" d="M748.035 436.992H746.484V395.756H748.035V436.992ZM732.565 72.9727C709.583 85.3485 692.581 127.636 692.228 178.12L692.216 178.123L745.819 398.9L639.533 178.506H639.497C639.497 178.481 639.497 178.456 639.497 178.431L639.164 177.739H639.501C639.883 124.183 680.251 80.0234 732.565 72.9727ZM759.924 72.7188C813.221 78.8861 854.631 123.493 855.018 177.74H855.034L854.909 178.665L748.852 398.581L800.729 178.124H800.744C800.389 127.286 783.151 84.7593 759.924 72.7188ZM748.035 71.9922C750.35 72.0083 752.648 72.0976 754.926 72.2559C765.757 75.9123 775.698 86.5114 783.466 102.315C792.968 121.649 798.954 148.312 799.191 177.894L748.035 395.298V71.9922ZM746.486 395.068L693.781 177.995C694.006 148.373 699.995 121.671 709.508 102.315C717.162 86.7419 726.926 76.219 737.573 72.416C740.512 72.1572 743.485 72.0131 746.486 71.9922V395.068Z" fill="#B3B5E1" class="step-1 accent no-border"/>\n<path id="step-1-accent-no-border_2" d="M747.164 436.129C760.419 436.129 771.164 446.874 771.164 460.129C771.164 473.384 760.419 484.129 747.164 484.129C733.909 484.129 723.164 473.384 723.164 460.129C723.164 446.874 733.909 436.129 747.164 436.129ZM747.164 439.129C735.566 439.129 726.164 448.531 726.164 460.129C726.164 471.727 735.566 481.129 747.164 481.129C758.762 481.129 768.164 471.727 768.164 460.129C768.164 448.531 758.762 439.129 747.164 439.129ZM747.164 440.129C758.21 440.129 767.164 449.083 767.164 460.129C767.164 471.175 758.21 480.129 747.164 480.129C736.118 480.129 727.164 471.175 727.164 460.129C727.164 449.083 736.118 440.129 747.164 440.129Z" fill="#B3B5E1" class="step-1 accent no-border"/>\n<path id="step-1-accent-no-border_3" d="M106.164 222.992C117.21 222.992 126.164 231.946 126.164 242.992C126.164 254.038 117.21 262.992 106.164 262.992C95.1184 262.992 86.1641 254.038 86.1641 242.992C86.1641 231.946 95.1184 222.992 106.164 222.992ZM106.164 225.492C96.4991 225.492 88.6641 233.327 88.6641 242.992C88.6641 252.657 96.4991 260.492 106.164 260.492C115.829 260.492 123.664 252.657 123.664 242.992C123.664 233.327 115.829 225.492 106.164 225.492ZM106.164 226.325C115.369 226.325 122.831 233.787 122.831 242.992C122.831 252.197 115.369 259.659 106.164 259.659C96.9593 259.659 89.4971 252.197 89.4971 242.992C89.4971 233.787 96.9593 226.325 106.164 226.325Z" fill="#B3B5E1" class="step-1 accent no-border"/>\n<rect id="step-1-card-textbox-left-top" x="148.164" y="233.992" width="352" height="79" fill="#D9D9D9" class="step-1 card textbox left top"/>\n<rect id="step-1-accent-image" x="97.1641" y="233.992" width="18.33" height="18.33" fill="#D9D9D9" class="step-1 accent image"/>\n<rect id="step-1-selection" x="89.6641" y="226.492" width="418" height="94" stroke="black" class="step-1 selection"/>\n</g>\n</g>\n</svg>\n',hot_air_balloons_2:'<svg class="hot_air_balloons" width="836.83704" height="444.18604" viewBox="79.90698 56.906980000000004 836.83704 444.18604" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="hot_air_balloons" class="hot_air_balloons">\n<g id="step-2" class="step-2">\n<path id="step-2-accent-no-border" d="M793.652 438H792.102V396.764H793.652V438ZM791.434 399.908L729.035 270.52L749.644 227.787L791.434 399.908ZM805.541 73.7266C858.838 79.8939 900.248 124.501 900.635 178.748H900.651L900.526 179.673L794.469 399.589L846.346 179.132H846.361C846.006 128.294 828.768 85.7671 805.541 73.7266ZM793.648 73C795.963 73.0161 798.261 73.1054 800.539 73.2637C811.37 76.9201 821.311 87.5192 829.079 103.323C838.581 122.656 844.567 149.32 844.805 178.901L793.648 396.306V73ZM792.099 396.076L750.703 225.586L778.854 167.215L778.966 166.397H778.951C778.781 142.533 769.621 120.781 754.653 104.285C754.808 103.963 754.964 103.642 755.12 103.323C762.774 87.7498 772.539 77.2268 783.186 73.4238C786.124 73.165 789.097 73.0209 792.099 73V396.076ZM718.503 102.432C726.133 119.444 730.844 141.973 731.017 166.736H731.003L713.944 239.227L713 237.269L729.645 166.534C729.449 142.221 724.857 120.141 717.457 103.432C717.803 103.096 718.152 102.763 718.503 102.432ZM778.182 73.9805C768.695 79.0888 760.23 89.2945 753.531 103.068C748.446 97.6569 742.725 92.8382 736.484 88.7285C748.933 81.1576 763.059 76.0187 778.182 73.9805Z" fill="#8C90D2" class="step-2 accent no-border"/>\n<path id="step-2-accent-no-border_2" d="M792.777 437C806.032 437 816.777 447.745 816.777 461C816.777 474.255 806.032 485 792.777 485C779.523 485 768.777 474.255 768.777 461C768.777 447.745 779.523 437 792.777 437ZM792.777 440C781.179 440 771.777 449.402 771.777 461C771.777 472.598 781.179 482 792.777 482C804.375 482 813.777 472.598 813.777 461C813.777 449.402 804.375 440 792.777 440ZM792.777 441C803.823 441 812.777 449.954 812.777 461C812.777 472.046 803.823 481 792.777 481C781.732 481 772.777 472.046 772.777 461C772.777 449.954 781.732 441 792.777 441Z" fill="#8C90D2" class="step-2 accent no-border"/>\n<path id="step-2-accent-no-border_3" d="M116 279C127.046 279 136 287.954 136 299C136 310.046 127.046 319 116 319C104.954 319 96 310.046 96 299C96 287.954 104.954 279 116 279ZM116 281.5C106.335 281.5 98.5 289.335 98.5 299C98.5 308.665 106.335 316.5 116 316.5C125.665 316.5 133.5 308.665 133.5 299C133.5 289.335 125.665 281.5 116 281.5ZM116 282.333C125.205 282.333 132.667 289.795 132.667 299C132.667 308.205 125.205 315.667 116 315.667C106.795 315.667 99.333 308.205 99.333 299C99.333 289.795 106.795 282.333 116 282.333Z" fill="#8C90D2" class="step-2 accent no-border"/>\n<rect id="step-2-card-textbox-left-top" x="158" y="290" width="352" height="79" fill="#D9D9D9" class="step-2 card textbox left top"/>\n<rect id="step-2-accent-image" x="107" y="290" width="18.33" height="18.33" fill="#D9D9D9" class="step-2 accent image"/>\n<rect id="step-2-selection" x="99.5" y="282.5" width="418" height="94" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-1" class="step-1">\n<path id="step-1-accent-no-border" d="M684.686 437.768H683.315V358.952H684.686V437.768ZM671.021 73.8662C650.723 84.7967 635.706 122.145 635.395 166.733L635.384 166.736L682.728 361.729L588.854 167.074H588.822C588.822 167.052 588.822 167.031 588.822 167.009L588.527 166.397H588.826C589.163 119.096 624.817 80.0935 671.021 73.8662ZM695.187 73.6416C742.259 79.0887 778.833 118.485 779.175 166.397H779.189L779.078 167.215L685.407 361.447L731.226 166.736H731.239C730.926 121.836 715.701 84.2761 695.187 73.6416ZM684.686 73C686.73 73.0142 688.759 73.0926 690.771 73.2324C700.337 76.4618 709.118 85.8237 715.979 99.7822C724.371 116.858 729.657 140.408 729.867 166.534L684.686 358.548V73ZM683.315 358.346L636.766 166.624C636.964 140.462 642.253 116.877 650.655 99.7822C657.416 86.0272 666.041 76.7328 675.444 73.374C678.04 73.1455 680.665 73.0185 683.315 73V358.346Z" fill="#B3B5E1" class="step-1 accent no-border"/>\n<path id="step-1-accent-no-border_2" d="M684 437C697.255 437 708 447.745 708 461C708 474.255 697.255 485 684 485C670.745 485 660 474.255 660 461C660 447.745 670.745 437 684 437ZM684 440C672.402 440 663 449.402 663 461C663 472.598 672.402 482 684 482C695.598 482 705 472.598 705 461C705 449.402 695.598 440 684 440ZM684 441C695.046 441 704 449.954 704 461C704 472.046 695.046 481 684 481C672.954 481 664 472.046 664 461C664 449.954 672.954 441 684 441Z" fill="#B3B5E1" class="step-1 accent no-border"/>\n<path id="step-1-accent-no-border_3" d="M116 170C127.046 170 136 178.954 136 190C136 201.046 127.046 210 116 210C104.954 210 96 201.046 96 190C96 178.954 104.954 170 116 170ZM116 172.5C106.335 172.5 98.5 180.335 98.5 190C98.5 199.665 106.335 207.5 116 207.5C125.665 207.5 133.5 199.665 133.5 190C133.5 180.335 125.665 172.5 116 172.5ZM116 173.333C125.205 173.333 132.667 180.795 132.667 190C132.667 199.205 125.205 206.667 116 206.667C106.795 206.667 99.333 199.205 99.333 190C99.333 180.795 106.795 173.333 116 173.333Z" fill="#B3B5E1" class="step-1 accent no-border"/>\n<rect id="step-1-card-textbox-left-top" x="158" y="181" width="352" height="79" fill="#D9D9D9" class="step-1 card textbox left top"/>\n<rect id="step-1-accent-image" x="107" y="181" width="18.33" height="18.33" fill="#D9D9D9" class="step-1 accent image"/>\n<rect id="step-1-selection" x="99.5" y="173.5" width="418" height="94" stroke="black" class="step-1 selection"/>\n</g>\n</g>\n</svg>\n',hot_air_balloons_3:'<svg class="hot_air_balloons" width="925.46896" height="447.59496" viewBox="37.20252 55.20252 925.46896 447.59496" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="hot_air_balloons" class="hot_air_balloons">\n<g id="step-3" class="step-3">\n<path id="step-3-accent-no-border" d="M837.871 438H836.32V396.764H837.871V438ZM835.656 399.908L773.258 270.52L793.866 227.787L835.656 399.908ZM849.764 73.7266C903.06 79.8939 944.471 124.501 944.857 178.748H944.874L944.749 179.673L838.691 399.589L890.568 179.132H890.584C890.229 128.294 872.991 85.7671 849.764 73.7266ZM837.875 73C840.19 73.0161 842.488 73.1054 844.766 73.2637C855.596 76.9201 865.538 87.5192 873.306 103.323C882.808 122.656 888.794 149.32 889.031 178.901L837.875 396.306V73ZM836.321 396.076L794.926 225.586L823.077 167.215L823.188 166.397H823.174C823.004 142.533 813.844 120.781 798.876 104.285C799.031 103.963 799.186 103.642 799.343 103.323C806.997 87.7498 816.761 77.2268 827.408 73.4238C830.347 73.165 833.32 73.0209 836.321 73V396.076ZM762.726 102.432C770.355 119.444 775.066 141.973 775.239 166.736H775.226L758.167 239.227L757.223 237.269L773.867 166.534C773.672 142.221 769.079 120.141 761.68 103.432C762.026 103.096 762.375 102.763 762.726 102.432ZM822.4 73.9805C812.914 79.0888 804.448 89.2945 797.75 103.068C792.665 97.6569 786.944 92.8382 780.703 88.7285C793.152 81.1576 807.277 76.0187 822.4 73.9805Z" fill="#666BC3" class="step-3 accent no-border"/>\n<path id="step-3-accent-no-border_2" d="M837 437C850.255 437 861 447.745 861 461C861 474.255 850.255 485 837 485C823.745 485 813 474.255 813 461C813 447.745 823.745 437 837 437ZM837 440C825.402 440 816 449.402 816 461C816 472.598 825.402 482 837 482C848.598 482 858 472.598 858 461C858 449.402 848.598 440 837 440ZM837 441C848.046 441 857 449.954 857 461C857 472.046 848.046 481 837 481C825.954 481 817 472.046 817 461C817 449.954 825.954 441 837 441Z" fill="#666BC3" class="step-3 accent no-border"/>\n<path id="step-3-accent-no-border_3" d="M75 333C86.0457 333 95 341.954 95 353C95 364.046 86.0457 373 75 373C63.9543 373 55 364.046 55 353C55 341.954 63.9543 333 75 333ZM75 335.5C65.335 335.5 57.5 343.335 57.5 353C57.5 362.665 65.335 370.5 75 370.5C84.665 370.5 92.5 362.665 92.5 353C92.5 343.335 84.665 335.5 75 335.5ZM75 336.333C84.2047 336.333 91.667 343.795 91.667 353C91.667 362.205 84.2047 369.667 75 369.667C65.7953 369.667 58.333 362.205 58.333 353C58.333 343.795 65.7953 336.333 75 336.333Z" fill="#666BC3" class="step-3 accent no-border"/>\n<rect id="step-3-card-textbox-left-top" x="117" y="344" width="352" height="79" fill="#D9D9D9" class="step-3 card textbox left top"/>\n<rect id="step-3-accent-image" x="66" y="344" width="18.33" height="18.33" fill="#D9D9D9" class="step-3 accent image"/>\n<rect id="step-3-selection" x="58.5" y="336.5" width="418" height="94" stroke="black" class="step-3 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<path id="step-2-accent-no-border" d="M728.685 437.768H727.314V358.952H728.685V437.768ZM726.727 361.729L664.32 232.325L684.931 189.589L726.727 361.729ZM739.186 73.6416C786.258 79.0887 822.832 118.485 823.174 166.397H823.188L823.077 167.215L729.406 361.447L775.225 166.736H775.238C774.925 121.836 759.7 84.2761 739.186 73.6416ZM728.685 73C730.729 73.0142 732.758 73.0926 734.771 73.2324C744.336 76.4618 753.117 85.8237 759.978 99.7822C768.37 116.858 773.656 140.408 773.866 166.534L728.685 358.548V73ZM727.314 358.346L685.868 187.646L701.502 155.229L701.732 153.524C701.5 138.332 697.078 124.143 689.557 112.039C691.089 107.664 692.795 103.564 694.654 99.7822C701.415 86.0272 710.04 76.7328 719.443 73.374C722.039 73.1455 724.664 73.0185 727.314 73V358.346ZM653.161 108.945C657.424 122.034 659.951 137.669 660.068 154.49H660.057L649.146 200.857L648.324 199.154L658.876 154.314C658.745 137.989 656.334 122.822 652.279 110.069C652.57 109.692 652.865 109.318 653.161 108.945ZM715.021 73.8662C704.277 79.6514 695.014 92.8374 688.627 110.58C683.915 103.344 678.08 96.8903 671.365 91.459C683.907 82.2669 698.814 76.0504 715.021 73.8662Z" fill="#8C90D2" class="step-2 accent no-border"/>\n<path id="step-2-accent-no-border_2" d="M728 437C741.255 437 752 447.745 752 461C752 474.255 741.255 485 728 485C714.745 485 704 474.255 704 461C704 447.745 714.745 437 728 437ZM728 440C716.402 440 707 449.402 707 461C707 472.598 716.402 482 728 482C739.598 482 749 472.598 749 461C749 449.402 739.598 440 728 440ZM728 441C739.046 441 748 449.954 748 461C748 472.046 739.046 481 728 481C716.954 481 708 472.046 708 461C708 449.954 716.954 441 728 441Z" fill="#8C90D2" class="step-2 accent no-border"/>\n<path id="step-2-accent-no-border_3" d="M75 224C86.0457 224 95 232.954 95 244C95 255.046 86.0457 264 75 264C63.9543 264 55 255.046 55 244C55 232.954 63.9543 224 75 224ZM75 226.5C65.335 226.5 57.5 234.335 57.5 244C57.5 253.665 65.335 261.5 75 261.5C84.665 261.5 92.5 253.665 92.5 244C92.5 234.335 84.665 226.5 75 226.5ZM75 227.333C84.2047 227.333 91.667 234.795 91.667 244C91.667 253.205 84.2047 260.667 75 260.667C65.7953 260.667 58.333 253.205 58.333 244C58.333 234.795 65.7953 227.333 75 227.333Z" fill="#8C90D2" class="step-2 accent no-border"/>\n<rect id="step-2-card-textbox-left-top" x="117" y="235" width="352" height="79" fill="#D9D9D9" class="step-2 card textbox left top"/>\n<rect id="step-2-accent-image" x="66" y="235" width="18.33" height="18.33" fill="#D9D9D9" class="step-2 accent image"/>\n<rect id="step-2-selection" x="58.5" y="227.5" width="418" height="94" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-1" class="step-1">\n<path id="step-1-accent-no-border" d="M619.596 437H618.404V321.596H619.596V437ZM607.717 73.7529C590.07 83.2555 577.015 115.725 576.744 154.488L576.735 154.49L617.894 324.01L536.283 154.784H536.256C536.256 154.765 536.256 154.746 536.256 154.727L536 154.196H536.259C536.552 113.074 567.548 79.1667 607.717 73.7529ZM628.725 73.5576C669.427 78.2676 701.1 112.176 701.731 153.524L701.501 155.229L620.223 323.764L660.056 154.49H660.067C659.795 115.455 646.559 82.8028 628.725 73.5576ZM619.596 73C621.373 73.0124 623.138 73.0806 624.887 73.2021C633.203 76.0097 640.837 84.1483 646.801 96.2832C654.097 111.128 658.693 131.601 658.875 154.314L619.596 321.243V73ZM618.404 321.067L577.936 154.393C578.108 131.648 582.707 111.145 590.012 96.2832C595.889 84.3253 603.386 76.2451 611.562 73.3252C613.818 73.1265 616.1 73.0161 618.404 73V321.067Z" fill="#B3B5E1" class="step-1 accent no-border"/>\n<path id="step-1-accent-no-border_2" d="M619 437C632.255 437 643 447.745 643 461C643 474.255 632.255 485 619 485C605.745 485 595 474.255 595 461C595 447.745 605.745 437 619 437ZM619 440C607.402 440 598 449.402 598 461C598 472.598 607.402 482 619 482C630.598 482 640 472.598 640 461C640 449.402 630.598 440 619 440ZM619 441C630.046 441 639 449.954 639 461C639 472.046 630.046 481 619 481C607.954 481 599 472.046 599 461C599 449.954 607.954 441 619 441Z" fill="#B3B5E1" class="step-1 accent no-border"/>\n<path id="step-1-accent-no-border_3" d="M75 115C86.0457 115 95 123.954 95 135C95 146.046 86.0457 155 75 155C63.9543 155 55 146.046 55 135C55 123.954 63.9543 115 75 115ZM75 117.5C65.335 117.5 57.5 125.335 57.5 135C57.5 144.665 65.335 152.5 75 152.5C84.665 152.5 92.5 144.665 92.5 135C92.5 125.335 84.665 117.5 75 117.5ZM75 118.333C84.2047 118.333 91.667 125.795 91.667 135C91.667 144.205 84.2047 151.667 75 151.667C65.7953 151.667 58.333 144.205 58.333 135C58.333 125.795 65.7953 118.333 75 118.333Z" fill="#B3B5E1" class="step-1 accent no-border"/>\n<rect id="step-1-card-textbox-left-top" x="117" y="126" width="352" height="79" fill="#D9D9D9" class="step-1 card textbox left top"/>\n<rect id="step-1-accent-image" x="66" y="126" width="18.33" height="18.33" fill="#D9D9D9" class="step-1 accent image"/>\n<rect id="step-1-selection" x="58.5" y="118.5" width="418" height="94" stroke="black" class="step-1 selection"/>\n</g>\n</g>\n</svg>\n',hot_air_balloons_4:'<svg class="hot_air_balloons" width="1008.6648" height="456.0409" viewBox="-1.397400000000001 53.3565 1008.6648 456.0409" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="hot_air_balloons" class="hot_air_balloons">\n<g id="step-4" class="step-4">\n<path id="step-4-accent-no-border" d="M880.871 438H879.32V396.764H880.871V438ZM878.656 399.908L816.258 270.52L836.866 227.787L878.656 399.908ZM892.76 73.7266C946.057 79.8939 987.467 124.501 987.854 178.748H987.87L987.745 179.673L881.688 399.589L933.564 179.132H933.58C933.225 128.294 915.987 85.7671 892.76 73.7266ZM880.871 73C883.186 73.0161 885.484 73.1054 887.762 73.2637C898.593 76.9201 908.534 87.5192 916.302 103.323C925.804 122.656 931.79 149.32 932.027 178.901L880.871 396.306V73ZM879.321 396.076L837.926 225.586L866.077 167.215L866.188 166.397H866.174C866.004 142.533 856.844 120.781 841.876 104.285C842.031 103.963 842.186 103.642 842.343 103.323C849.997 87.7498 859.761 77.2268 870.408 73.4238C873.347 73.165 876.32 73.0209 879.321 73V396.076ZM805.726 102.432C813.355 119.444 818.066 141.973 818.239 166.736H818.226L801.167 239.227L800.223 237.269L816.867 166.534C816.672 142.221 812.079 120.141 804.68 103.432C805.026 103.096 805.375 102.763 805.726 102.432ZM865.4 73.9805C855.914 79.0888 847.448 89.2945 840.75 103.068C835.665 97.6569 829.944 92.8382 823.703 88.7285C836.152 81.1576 850.277 76.0187 865.4 73.9805Z" fill="#4046B4" class="step-4 accent no-border"/>\n<path id="step-4-accent-no-border_2" d="M880 437C893.255 437 904 447.745 904 461C904 474.255 893.255 485 880 485C866.745 485 856 474.255 856 461C856 447.745 866.745 437 880 437ZM880 440C868.402 440 859 449.402 859 461C859 472.598 868.402 482 880 482C891.598 482 901 472.598 901 461C901 449.402 891.598 440 880 440ZM880 441C891.046 441 900 449.954 900 461C900 472.046 891.046 481 880 481C868.954 481 860 472.046 860 461C860 449.954 868.954 441 880 441Z" fill="#4046B4" class="step-4 accent no-border"/>\n<path id="step-4-accent-no-border_3" d="M38 400C49.0457 400 58 408.954 58 420C58 431.046 49.0457 440 38 440C26.9543 440 18 431.046 18 420C18 408.954 26.9543 400 38 400ZM38 402.5C28.335 402.5 20.5 410.335 20.5 420C20.5 429.665 28.335 437.5 38 437.5C47.665 437.5 55.5 429.665 55.5 420C55.5 410.335 47.665 402.5 38 402.5ZM38 403.333C47.2047 403.333 54.667 410.795 54.667 420C54.667 429.205 47.2047 436.667 38 436.667C28.7953 436.667 21.333 429.205 21.333 420C21.333 410.795 28.7953 403.333 38 403.333Z" fill="#4046B4" class="step-4 accent no-border"/>\n<rect id="step-4-card-textbox-left-top" x="79.9102" y="411" width="352" height="79" fill="#D9D9D9" class="step-4 card textbox left top"/>\n<rect id="step-4-accent-image" x="28.9102" y="411" width="18.33" height="18.33" fill="#D9D9D9" class="step-4 accent image"/>\n<rect id="step-4-selection" x="21.4102" y="403.5" width="418" height="94" stroke="black" class="step-4 selection"/>\n</g>\n<g id="step-3" class="step-3">\n<path id="step-3-accent-no-border" d="M766.36 437.768H764.99V358.952H766.36V437.768ZM764.402 361.729L701.996 232.325L722.606 189.589L764.402 361.729ZM776.861 73.6416C823.934 79.0887 860.508 118.485 860.85 166.397H860.864L860.753 167.215L767.082 361.447L812.9 166.736H812.914C812.601 121.836 797.376 84.2761 776.861 73.6416ZM766.36 73C768.405 73.0142 770.434 73.0926 772.446 73.2324C782.012 76.4618 790.793 85.8237 797.653 99.7822C806.046 116.858 811.332 140.408 811.542 166.534L766.36 358.548V73ZM764.99 358.346L723.544 187.646L739.178 155.229L739.408 153.524C739.176 138.332 734.754 124.143 727.232 112.039C728.765 107.664 730.471 103.564 732.33 99.7822C739.091 86.0272 747.715 76.7328 757.119 73.374C759.714 73.1455 762.339 73.0185 764.99 73V358.346ZM690.837 108.945C695.1 122.034 697.627 137.669 697.744 154.49H697.732L686.821 200.857L686 199.154L696.552 154.314C696.421 137.989 694.01 122.822 689.955 110.069C690.246 109.692 690.54 109.318 690.837 108.945ZM752.696 73.8662C741.953 79.6514 732.69 92.8374 726.303 110.58C721.591 103.344 715.756 96.8903 709.041 91.459C721.582 82.2669 736.49 76.0504 752.696 73.8662Z" fill="#666BC3" class="step-3 accent no-border"/>\n<path id="step-3-accent-no-border_2" d="M771 437C784.255 437 795 447.745 795 461C795 474.255 784.255 485 771 485C757.745 485 747 474.255 747 461C747 447.745 757.745 437 771 437ZM771 440C759.402 440 750 449.402 750 461C750 472.598 759.402 482 771 482C782.598 482 792 472.598 792 461C792 449.402 782.598 440 771 440ZM771 441C782.046 441 791 449.954 791 461C791 472.046 782.046 481 771 481C759.954 481 751 472.046 751 461C751 449.954 759.954 441 771 441Z" fill="#666BC3" class="step-3 accent no-border"/>\n<path id="step-3-accent-no-border_3" d="M38 291C49.0457 291 58 299.954 58 311C58 322.046 49.0457 331 38 331C26.9543 331 18 322.046 18 311C18 299.954 26.9543 291 38 291ZM38 293.5C28.335 293.5 20.5 301.335 20.5 311C20.5 320.665 28.335 328.5 38 328.5C47.665 328.5 55.5 320.665 55.5 311C55.5 301.335 47.665 293.5 38 293.5ZM38 294.333C47.2047 294.333 54.667 301.795 54.667 311C54.667 320.205 47.2047 327.667 38 327.667C28.7953 327.667 21.333 320.205 21.333 311C21.333 301.795 28.7953 294.333 38 294.333Z" fill="#666BC3" class="step-3 accent no-border"/>\n<rect id="step-3-card-textbox-left-top" x="79.9102" y="302" width="352" height="79" fill="#D9D9D9" class="step-3 card textbox left top"/>\n<rect id="step-3-accent-image" x="28.9102" y="302" width="18.33" height="18.33" fill="#D9D9D9" class="step-3 accent image"/>\n<rect id="step-3-selection" x="21.4102" y="294.5" width="418" height="94" stroke="black" class="step-3 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<path id="step-2-accent-no-border" d="M662.598 437H661.406V321.596H662.598V437ZM619.991 146.417C619.849 149.073 619.765 151.765 619.746 154.488L619.737 154.49L660.896 324.01L597.75 193.074L619.991 146.417ZM671.727 73.5576C712.429 78.2676 744.102 112.176 744.733 153.524L744.503 155.229L663.225 323.764L703.058 154.49H703.069C702.797 115.455 689.561 82.8028 671.727 73.5576ZM662.598 73C664.375 73.0124 666.139 73.0806 667.889 73.2021C676.205 76.0097 683.839 84.1483 689.803 96.2832C697.099 111.128 701.694 131.601 701.877 154.314L662.598 321.243V73ZM661.406 321.067L620.938 154.393C620.965 150.711 621.111 147.089 621.363 143.539L621.775 142.676L621.998 141.747C621.989 140.448 621.943 139.157 621.863 137.875C623.568 121.789 627.528 107.445 633.014 96.2832C638.891 84.3253 646.388 76.2451 654.563 73.3252C656.82 73.1265 659.102 73.0161 661.406 73V321.067ZM585.653 123.203C586.484 129.187 586.951 135.489 586.996 142.001H586.986L582.475 161.397L581.781 159.961L585.994 141.852C585.948 136.059 585.566 130.438 584.891 125.065C585.137 124.441 585.392 123.82 585.653 123.203ZM650.719 73.7529C636.535 81.3906 625.32 103.865 621.322 132.52C619.375 118.622 613.319 106.044 604.42 96.0508C616.768 84.2216 632.834 76.1633 650.719 73.7529Z" fill="#8C90D2" class="step-2 accent no-border"/>\n<path id="step-2-accent-no-border_2" d="M662 437C675.255 437 686 447.745 686 461C686 474.255 675.255 485 662 485C648.745 485 638 474.255 638 461C638 447.745 648.745 437 662 437ZM662 440C650.402 440 641 449.402 641 461C641 472.598 650.402 482 662 482C673.598 482 683 472.598 683 461C683 449.402 673.598 440 662 440ZM662 441C673.046 441 682 449.954 682 461C682 472.046 673.046 481 662 481C650.954 481 642 472.046 642 461C642 449.954 650.954 441 662 441Z" fill="#8C90D2" class="step-2 accent no-border"/>\n<path id="step-2-accent-no-border_3" d="M38 182C49.0457 182 58 190.954 58 202C58 213.046 49.0457 222 38 222C26.9543 222 18 213.046 18 202C18 190.954 26.9543 182 38 182ZM38 184.5C28.335 184.5 20.5 192.335 20.5 202C20.5 211.665 28.335 219.5 38 219.5C47.665 219.5 55.5 211.665 55.5 202C55.5 192.335 47.665 184.5 38 184.5ZM38 185.333C47.2047 185.333 54.667 192.795 54.667 202C54.667 211.205 47.2047 218.667 38 218.667C28.7953 218.667 21.333 211.205 21.333 202C21.333 192.795 28.7953 185.333 38 185.333Z" fill="#8C90D2" class="step-2 accent no-border"/>\n<rect id="step-2-card-textbox-left-top" x="79.9102" y="193" width="352" height="79" fill="#D9D9D9" class="step-2 card textbox left top"/>\n<rect id="step-2-accent-image" x="28.9102" y="193" width="18.33" height="18.33" fill="#D9D9D9" class="step-2 accent image"/>\n<rect id="step-2-selection" x="21.4102" y="185.5" width="418" height="94" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-1" class="step-1">\n<path id="step-1-accent-no-border" d="M553 437H552V284H553V437ZM543.022 73.3936C528.2 81.4684 517.236 109.06 517.008 141.999L517 142.001L551.57 286.052L483.023 142.251H483C483 142.235 483 142.218 483 142.202L482.785 141.751H483.003C483.249 106.807 509.283 77.994 543.022 73.3936ZM560.668 73.2275C595.04 77.2513 621.745 106.354 621.996 141.747L621.773 142.676L553.527 285.843L586.984 142.001H586.994C586.765 108.831 575.648 81.0836 560.668 73.2275ZM553 72.7539C554.493 72.7644 555.975 72.8225 557.444 72.9258C564.429 75.3115 570.841 82.2273 575.851 92.5391C581.979 105.153 585.839 122.551 585.992 141.852L553 283.701V72.7539ZM552 283.552L518.009 141.918C518.154 122.59 522.016 105.168 528.151 92.5391C533.088 82.3776 539.385 75.5115 546.252 73.0303C548.147 72.8614 550.064 72.7675 552 72.7539V283.552Z" fill="#B3B5E1" class="step-1 accent no-border"/>\n<path id="step-1-accent-no-border_2" d="M552 437C565.255 437 576 447.745 576 461C576 474.255 565.255 485 552 485C538.745 485 528 474.255 528 461C528 447.745 538.745 437 552 437ZM552 440C540.402 440 531 449.402 531 461C531 472.598 540.402 482 552 482C563.598 482 573 472.598 573 461C573 449.402 563.598 440 552 440ZM552 441C563.046 441 572 449.954 572 461C572 472.046 563.046 481 552 481C540.954 481 532 472.046 532 461C532 449.954 540.954 441 552 441Z" fill="#B3B5E1" class="step-1 accent no-border"/>\n<path id="step-1-accent-no-border_3" d="M38 73C49.0457 73 58 81.9543 58 93C58 104.046 49.0457 113 38 113C26.9543 113 18 104.046 18 93C18 81.9543 26.9543 73 38 73ZM38 75.5C28.335 75.5 20.5 83.335 20.5 93C20.5 102.665 28.335 110.5 38 110.5C47.665 110.5 55.5 102.665 55.5 93C55.5 83.335 47.665 75.5 38 75.5ZM38 76.333C47.2047 76.333 54.667 83.7953 54.667 93C54.667 102.205 47.2047 109.667 38 109.667C28.7953 109.667 21.333 102.205 21.333 93C21.333 83.7953 28.7953 76.333 38 76.333Z" fill="#B3B5E1" class="step-1 accent no-border"/>\n<rect id="step-1-card-textbox-left-top" x="79.9102" y="84" width="352" height="79" fill="#D9D9D9" class="step-1 card textbox left top"/>\n<rect id="step-1-accent-image" x="28.9102" y="84" width="18.33" height="18.33" fill="#D9D9D9" class="step-1 accent image"/>\n<rect id="step-1-selection" x="21.4102" y="76.5" width="418" height="94" stroke="black" class="step-1 selection"/>\n</g>\n</g>\n</svg>\n'}).map(e=>{let[t,n]=e;return[Number(t.replace("hot_air_balloons_","")),n]})),tM="hot_air_balloons",t_={key:tM,Component:e=>{var t,n;let{data:i}=e,r=null!=(n=null==(t=i.step)?void 0:t.length)?n:4,o=tD.get(r);return o?(0,a.jsx)(ty,{svgData:o,templateKey:tM,svgScalingFactor:t_.svgScalingFactor,...e}):(console.error("No SVG data found for key",r),null)},label:()=>r.Ru._({id:"5Ds1yY"}),icon:i.yM2,previewImage:{src:"https://assets.gammahosted.com/j1bla5j5f/_next/static/media/hot_air_balloon.6db7640a.svg",height:96,width:253,blurWidth:0,blurHeight:0},defaultColorScheme:"monochrome",stepSvgData:tD,formattingMenu:$,defaultData:()=>C(tD),svgScalingFactor:1},tz=new Map(Object.entries({iceberg_icons_1:'<svg class="iceberg_icons" width="814.32" height="435.8203" viewBox="93.34 49.47670000000001 814.32 435.8203" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="iceberg_icons" class="iceberg_icons">\n<g id="general-5" class="general-5">\n<path id="general-5-accent" d="M311.07 387.137C307.957 397.962 306.072 407.252 303.5 420.637L254.5 469.637L231 417.137V408.637L213.25 387.137H311.07Z" fill="#D9DAF0" class="general-5 accent"/>\n</g>\n<g id="general-4" class="general-4">\n<path id="general-4-accent" d="M353.999 307.137L344.999 350.137L315.999 371.637C314.016 377.406 312.426 382.418 311.069 387.137H213.249L195.499 365.637L174.129 306.137H354.39L353.999 307.137Z" fill="#B3B5E1" class="general-4 accent"/>\n</g>\n<g id="general-3" class="general-3">\n<path id="general-3-accent" d="M354.391 306.137H174.13L170 294.637C159.36 271.216 136.651 256.643 109 227.137C109.247 226.801 109.495 226.469 109.74 226.137H385.609L354.391 306.137Z" fill="#8C90D2" class="general-3 accent"/>\n</g>\n<g id="general-2" class="general-2">\n<path id="general-2-accent" d="M322.5 145.637L337.5 172.637L394 204.637L385.609 226.137H109.74C131.313 196.945 144.614 180.826 159 147.137L160.421 144.137H166.846C164.932 146.754 164.424 149.061 164 152.637C159.879 162.321 157.165 167.745 151.5 177.137C141.279 189.176 136.783 196.9 128 210.137L123 218.137V220.637L233.5 212.137L270.5 191.137C269.722 179.753 272.476 173.422 281 162.137C283.168 158.406 283.645 156.396 282.5 152.637L270.847 144.137H321.607L322.5 145.637Z" fill="#666BC3" class="general-2 accent"/>\n</g>\n<g id="general-1" class="general-1">\n<path id="general-1-accent" d="M271.001 85.1367C280.948 93.4269 286.901 97.0982 297.493 103.632L297.501 103.637L321.608 144.137H270.848L240.001 121.637C246.708 101.22 251.58 88.7555 252.001 74.1367C231.212 85.7865 217.838 92.8554 211.001 100.137L199.001 124.137C188.124 132.784 179.864 134.33 169.001 141.637C168.13 142.527 167.425 143.346 166.847 144.137H160.422L163.501 137.637C189.956 125.875 199.846 117.528 205.501 98.6367C217.083 86.4132 232.165 78.6253 255.501 65.1367H257.501L271.001 85.1367Z" fill="#4046B4" class="general-1 accent"/>\n</g>\n<g id="step-1" class="step-1">\n<path id="step-1-accent" d="M427 85.2734C438.046 85.2734 447 94.2277 447 105.273C447 116.319 438.046 125.273 427 125.273C416.629 125.273 408.103 117.38 407.1 107.273H299.583L298.393 105.273H407C407 94.2277 415.954 85.2734 427 85.2734Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-card-textbox" x="465" y="82.2734" width="427" height="45" fill="#D9D9D9" class="step-1 card textbox left"/>\n<rect id="step-1-accent-image" x="417" y="95.2734" width="20" height="20" fill="#D9D9D9" class="step-1 accent image"/>\n<rect id="step-1-selection" x="409.5" y="74.7734" width="490" height="60" stroke="black" class="step-1 selection"/>\n</g>\n</g>\n</svg>\n',iceberg_icons_2:'<svg class="iceberg_icons" width="814.32" height="435.8197" viewBox="93.34 50.2033 814.32 435.8197" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="iceberg_icons" class="iceberg_icons">\n<g id="general-5" class="general-5">\n<path id="general-5-accent" d="M311.07 387.863C307.957 398.689 306.072 407.978 303.5 421.363L254.5 470.363L231 417.863V409.363L213.25 387.863H311.07Z" fill="#D9DAF0" class="general-5 accent"/>\n</g>\n<g id="general-4" class="general-4">\n<path id="general-4-accent" d="M353.999 307.863L344.999 350.863L315.999 372.363C314.016 378.133 312.426 383.144 311.069 387.863H213.249L195.499 366.363L174.129 306.863H354.39L353.999 307.863Z" fill="#B3B5E1" class="general-4 accent"/>\n</g>\n<g id="general-3" class="general-3">\n<path id="general-3-accent" d="M354.391 306.863H174.13L170 295.363C159.36 271.942 136.651 257.37 109 227.863C109.247 227.528 109.495 227.195 109.74 226.863H385.609L354.391 306.863Z" fill="#8C90D2" class="general-3 accent"/>\n</g>\n<g id="general-2" class="general-2">\n<path id="general-2-accent" d="M322.5 146.363L337.5 173.363L394 205.363L385.609 226.863H109.74C131.313 197.671 144.614 181.553 159 147.863L160.421 144.863H166.846C164.932 147.48 164.424 149.788 164 153.363C159.879 163.048 157.165 168.472 151.5 177.863C141.279 189.903 136.783 197.626 128 210.863L123 218.863V221.363L233.5 212.863L270.5 191.863C269.722 180.48 272.476 174.149 281 162.863C283.168 159.132 283.645 157.123 282.5 153.363L270.847 144.863H321.607L322.5 146.363Z" fill="#666BC3" class="general-2 accent"/>\n</g>\n<g id="general-1" class="general-1">\n<path id="general-1-accent" d="M271.001 85.8633C280.948 94.1535 286.901 97.8248 297.493 104.358L297.501 104.363L321.608 144.863H270.848L240.001 122.363C246.708 101.947 251.58 89.482 252.001 74.8633C231.212 86.5131 217.838 93.5819 211.001 100.863L199.001 124.863C188.124 133.511 179.864 135.057 169.001 142.363C168.13 143.254 167.425 144.073 166.847 144.863H160.422L163.501 138.363C189.956 126.602 199.846 118.254 205.501 99.3633C217.083 87.1398 232.165 79.3519 255.501 65.8633H257.501L271.001 85.8633Z" fill="#4046B4" class="general-1 accent"/>\n</g>\n<g id="step-1" class="step-1">\n<path id="step-1-accent" d="M427 86C438.046 86 447 94.9543 447 106C447 117.046 438.046 126 427 126C416.629 126 408.103 118.107 407.1 108H299.583L298.393 106H407C407 94.9543 415.954 86 427 86Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-card-textbox" x="465" y="83" width="427" height="45" fill="#D9D9D9" class="step-1 card textbox left"/>\n<rect id="step-1-accent-image" x="417" y="96" width="20" height="20" fill="#D9D9D9" class="step-1 accent image"/>\n<rect id="step-1-selection" x="409.5" y="75.5" width="490" height="60" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<path id="step-2-accent" d="M427 166C438.046 166 447 174.954 447 186C447 197.046 438.046 206 427 206C415.954 206 407 197.046 407 186H359.57L356.039 184H407.1C408.103 173.893 416.629 166 427 166Z" fill="#666BC3" class="step-2 accent"/>\n<rect id="step-2-card-textbox" x="465" y="163" width="427" height="45" fill="#D9D9D9" class="step-2 card textbox left"/>\n<rect id="step-2-accent-image" x="417" y="176" width="20" height="20" fill="#D9D9D9" class="step-2 accent image"/>\n<rect id="step-2-selection" x="409.5" y="155.5" width="490" height="60" stroke="black" class="step-2 selection"/>\n</g>\n</g>\n</svg>\n',iceberg_icons_3:'<svg class="iceberg_icons" width="814.32" height="435.8197" viewBox="93.34 50.2033 814.32 435.8197" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="iceberg_icons" class="iceberg_icons">\n<g id="general-5" class="general-5">\n<path id="general-5-accent" d="M311.07 387.863C307.957 398.689 306.072 407.978 303.5 421.363L254.5 470.363L231 417.863V409.363L213.25 387.863H311.07Z" fill="#D9DAF0" class="general-5 accent"/>\n</g>\n<g id="general-4" class="general-4">\n<path id="general-4-accent" d="M353.999 307.863L344.999 350.863L315.999 372.363C314.016 378.133 312.426 383.144 311.069 387.863H213.249L195.499 366.363L174.129 306.863H354.39L353.999 307.863Z" fill="#B3B5E1" class="general-4 accent"/>\n</g>\n<g id="general-3" class="general-3">\n<path id="general-3-accent" d="M354.391 306.863H174.13L170 295.363C159.36 271.942 136.651 257.37 109 227.863C109.247 227.528 109.495 227.195 109.74 226.863H385.609L354.391 306.863Z" fill="#8C90D2" class="general-3 accent"/>\n</g>\n<g id="general-2" class="general-2">\n<path id="general-2-accent" d="M322.5 146.363L337.5 173.363L394 205.363L385.609 226.863H109.74C131.313 197.671 144.614 181.553 159 147.863L160.421 144.863H166.846C164.932 147.48 164.424 149.788 164 153.363C159.879 163.048 157.165 168.472 151.5 177.863C141.279 189.903 136.783 197.626 128 210.863L123 218.863V221.363L233.5 212.863L270.5 191.863C269.722 180.48 272.476 174.149 281 162.863C283.168 159.132 283.645 157.123 282.5 153.363L270.847 144.863H321.607L322.5 146.363Z" fill="#666BC3" class="general-2 accent"/>\n</g>\n<g id="general-1" class="general-1">\n<path id="general-1-accent" d="M271.001 85.8633C280.948 94.1535 286.901 97.8248 297.493 104.358L297.501 104.363L321.608 144.863H270.848L240.001 122.363C246.708 101.947 251.58 89.482 252.001 74.8633C231.212 86.5131 217.838 93.5819 211.001 100.863L199.001 124.863C188.124 133.511 179.864 135.057 169.001 142.363C168.13 143.254 167.425 144.073 166.847 144.863H160.422L163.501 138.363C189.956 126.602 199.846 118.254 205.501 99.3633C217.083 87.1398 232.165 79.3519 255.501 65.8633H257.501L271.001 85.8633Z" fill="#4046B4" class="general-1 accent"/>\n</g>\n<g id="step-1" class="step-1">\n<path id="step-1-accent" d="M427 86C438.046 86 447 94.9543 447 106C447 117.046 438.046 126 427 126C416.629 126 408.103 118.107 407.1 108H299.583L298.393 106H407C407 94.9543 415.954 86 427 86Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-card-textbox" x="465" y="83" width="427" height="45" fill="#D9D9D9" class="step-1 card textbox left"/>\n<rect id="step-1-accent-image" x="417" y="96" width="20" height="20" fill="#D9D9D9" class="step-1 accent image"/>\n<rect id="step-1-selection" x="409.5" y="75.5" width="490" height="60" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<path id="step-2-accent" d="M427 166C438.046 166 447 174.954 447 186C447 197.046 438.046 206 427 206C415.954 206 407 197.046 407 186H359.57L356.039 184H407.1C408.103 173.893 416.629 166 427 166Z" fill="#666BC3" class="step-2 accent"/>\n<rect id="step-2-card-textbox" x="465" y="163" width="427" height="45" fill="#D9D9D9" class="step-2 card textbox left"/>\n<rect id="step-2-accent-image" x="417" y="176" width="20" height="20" fill="#D9D9D9" class="step-2 accent image"/>\n<rect id="step-2-selection" x="409.5" y="155.5" width="490" height="60" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-3" class="step-3">\n<path id="step-3-accent" d="M427 246C438.046 246 447 254.954 447 266C447 277.046 438.046 286 427 286C416.29 286 407.546 277.581 407.025 267H370L370.78 265H407.025C407.546 254.419 416.29 246 427 246Z" fill="#8C90D2" class="step-3 accent"/>\n<rect id="step-3-card-textbox" x="465" y="243" width="427" height="45" fill="#D9D9D9" class="step-3 card textbox left"/>\n<rect id="step-3-accent-image" x="417" y="256" width="20" height="20" fill="#D9D9D9" class="step-3 accent image"/>\n<rect id="step-3-selection" x="409.5" y="235.5" width="490" height="60" stroke="black" class="step-3 selection"/>\n</g>\n</g>\n</svg>\n',iceberg_icons_4:'<svg class="iceberg_icons" width="814.32" height="435.8197" viewBox="93.34 50.2033 814.32 435.8197" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="iceberg_icons" class="iceberg_icons">\n<g id="general-5" class="general-5">\n<path id="general-5-accent" d="M311.07 387.863C307.957 398.689 306.072 407.978 303.5 421.363L254.5 470.363L231 417.863V409.363L213.25 387.863H311.07Z" fill="#D9DAF0" class="general-5 accent"/>\n</g>\n<g id="general-4" class="general-4">\n<path id="general-4-accent" d="M353.999 307.863L344.999 350.863L315.999 372.363C314.016 378.133 312.426 383.144 311.069 387.863H213.249L195.499 366.363L174.129 306.863H354.39L353.999 307.863Z" fill="#B3B5E1" class="general-4 accent"/>\n</g>\n<g id="general-3" class="general-3">\n<path id="general-3-accent" d="M354.391 306.863H174.13L170 295.363C159.36 271.942 136.651 257.37 109 227.863C109.247 227.528 109.495 227.195 109.74 226.863H385.609L354.391 306.863Z" fill="#8C90D2" class="general-3 accent"/>\n</g>\n<g id="general-2" class="general-2">\n<path id="general-2-accent" d="M322.5 146.363L337.5 173.363L394 205.363L385.609 226.863H109.74C131.313 197.671 144.614 181.553 159 147.863L160.421 144.863H166.846C164.932 147.48 164.424 149.788 164 153.363C159.879 163.048 157.165 168.472 151.5 177.863C141.279 189.903 136.783 197.626 128 210.863L123 218.863V221.363L233.5 212.863L270.5 191.863C269.722 180.48 272.476 174.149 281 162.863C283.168 159.132 283.645 157.123 282.5 153.363L270.847 144.863H321.607L322.5 146.363Z" fill="#666BC3" class="general-2 accent"/>\n</g>\n<g id="general-1" class="general-1">\n<path id="general-1-accent" d="M271.001 85.8633C280.948 94.1535 286.901 97.8248 297.493 104.358L297.501 104.363L321.608 144.863H270.848L240.001 122.363C246.708 101.947 251.58 89.482 252.001 74.8633C231.212 86.5131 217.838 93.5819 211.001 100.863L199.001 124.863C188.124 133.511 179.864 135.057 169.001 142.363C168.13 143.254 167.425 144.073 166.847 144.863H160.422L163.501 138.363C189.956 126.602 199.846 118.254 205.501 99.3633C217.083 87.1398 232.165 79.3519 255.501 65.8633H257.501L271.001 85.8633Z" fill="#4046B4" class="general-1 accent"/>\n</g>\n<g id="step-1" class="step-1">\n<path id="step-1-accent" d="M427 86C438.046 86 447 94.9543 447 106C447 117.046 438.046 126 427 126C416.629 126 408.103 118.107 407.1 108H299.583L298.393 106H407C407 94.9543 415.954 86 427 86Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-card-textbox" x="465" y="83" width="427" height="45" fill="#D9D9D9" class="step-1 card textbox left"/>\n<rect id="step-1-accent-image" x="417" y="96" width="20" height="20" fill="#D9D9D9" class="step-1 accent image"/>\n<rect id="step-1-selection" x="409.5" y="75.5" width="490" height="60" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<path id="step-2-accent" d="M427 166C438.046 166 447 174.954 447 186C447 197.046 438.046 206 427 206C415.954 206 407 197.046 407 186H359.57L356.039 184H407.1C408.103 173.893 416.629 166 427 166Z" fill="#666BC3" class="step-2 accent"/>\n<rect id="step-2-card-textbox" x="465" y="163" width="427" height="45" fill="#D9D9D9" class="step-2 card textbox left"/>\n<rect id="step-2-accent-image" x="417" y="176" width="20" height="20" fill="#D9D9D9" class="step-2 accent image"/>\n<rect id="step-2-selection" x="409.5" y="155.5" width="490" height="60" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-3" class="step-3">\n<path id="step-3-accent" d="M427 246C438.046 246 447 254.954 447 266C447 277.046 438.046 286 427 286C416.29 286 407.546 277.581 407.025 267H370L370.78 265H407.025C407.546 254.419 416.29 246 427 246Z" fill="#8C90D2" class="step-3 accent"/>\n<rect id="step-3-card-textbox" x="465" y="243" width="427" height="45" fill="#D9D9D9" class="step-3 card textbox left"/>\n<rect id="step-3-accent-image" x="417" y="256" width="20" height="20" fill="#D9D9D9" class="step-3 accent image"/>\n<rect id="step-3-selection" x="409.5" y="235.5" width="490" height="60" stroke="black" class="step-3 selection"/>\n</g>\n<g id="step-4" class="step-4">\n<path id="step-4-accent" d="M427 326C438.046 326 447 334.954 447 346C447 357.046 438.046 366 427 366C416.629 366 408.103 358.107 407.1 348H345.627L346.046 346H407C407 334.954 415.954 326 427 326Z" fill="#B3B5E1" class="step-4 accent"/>\n<rect id="step-4-card-textbox" x="465" y="323" width="427" height="45" fill="#D9D9D9" class="step-4 card textbox left"/>\n<rect id="step-4-accent-image" x="417" y="336" width="20" height="20" fill="#D9D9D9" class="step-4 accent image"/>\n<rect id="step-4-selection" x="409.5" y="315.5" width="490" height="60" stroke="black" class="step-4 selection"/>\n</g>\n</g>\n</svg>\n',iceberg_icons_5:'<svg class="iceberg_icons" width="814.32" height="435.8197" viewBox="93.34 50.2033 814.32 435.8197" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="iceberg_icons" class="iceberg_icons">\n<g id="general-5" class="general-5">\n<path id="general-5-accent" d="M311.07 387.863C307.957 398.689 306.072 407.978 303.5 421.363L254.5 470.363L231 417.863V409.363L213.25 387.863H311.07Z" fill="#D9DAF0" class="general-5 accent"/>\n</g>\n<g id="general-4" class="general-4">\n<path id="general-4-accent" d="M353.999 307.863L344.999 350.863L315.999 372.363C314.016 378.133 312.426 383.144 311.069 387.863H213.249L195.499 366.363L174.129 306.863H354.39L353.999 307.863Z" fill="#B3B5E1" class="general-4 accent"/>\n</g>\n<g id="general-3" class="general-3">\n<path id="general-3-accent" d="M354.391 306.863H174.13L170 295.363C159.36 271.942 136.651 257.37 109 227.863C109.247 227.528 109.495 227.195 109.74 226.863H385.609L354.391 306.863Z" fill="#8C90D2" class="general-3 accent"/>\n</g>\n<g id="general-2" class="general-2">\n<path id="general-2-accent" d="M322.5 146.363L337.5 173.363L394 205.363L385.609 226.863H109.74C131.313 197.671 144.614 181.553 159 147.863L160.421 144.863H166.846C164.932 147.48 164.424 149.788 164 153.363C159.879 163.048 157.165 168.472 151.5 177.863C141.279 189.903 136.783 197.626 128 210.863L123 218.863V221.363L233.5 212.863L270.5 191.863C269.722 180.48 272.476 174.149 281 162.863C283.168 159.132 283.645 157.123 282.5 153.363L270.847 144.863H321.607L322.5 146.363Z" fill="#666BC3" class="general-2 accent"/>\n</g>\n<g id="general-1" class="general-1">\n<path id="general-1-accent" d="M271.001 85.8633C280.948 94.1535 286.901 97.8248 297.493 104.358L297.501 104.363L321.608 144.863H270.848L240.001 122.363C246.708 101.947 251.58 89.482 252.001 74.8633C231.212 86.5131 217.838 93.5819 211.001 100.863L199.001 124.863C188.124 133.511 179.864 135.057 169.001 142.363C168.13 143.254 167.425 144.073 166.847 144.863H160.422L163.501 138.363C189.956 126.602 199.846 118.254 205.501 99.3633C217.083 87.1398 232.165 79.3519 255.501 65.8633H257.501L271.001 85.8633Z" fill="#4046B4" class="general-1 accent"/>\n</g>\n<g id="step-1" class="step-1">\n<path id="step-1-accent" d="M427 86C438.046 86 447 94.9543 447 106C447 117.046 438.046 126 427 126C416.629 126 408.103 118.107 407.1 108H299.583L298.393 106H407C407 94.9543 415.954 86 427 86Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-card-textbox" x="465" y="83" width="427" height="45" fill="#D9D9D9" class="step-1 card textbox left"/>\n<rect id="step-1-accent-image" x="417" y="96" width="20" height="20" fill="#D9D9D9" class="step-1 accent image"/>\n<rect id="step-1-selection" x="409.5" y="75.5" width="490" height="60" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<path id="step-2-accent" d="M427 166C438.046 166 447 174.954 447 186C447 197.046 438.046 206 427 206C415.954 206 407 197.046 407 186H359.57L356.039 184H407.1C408.103 173.893 416.629 166 427 166Z" fill="#666BC3" class="step-2 accent"/>\n<rect id="step-2-card-textbox" x="465" y="163" width="427" height="45" fill="#D9D9D9" class="step-2 card textbox left"/>\n<rect id="step-2-accent-image" x="417" y="176" width="20" height="20" fill="#D9D9D9" class="step-2 accent image"/>\n<rect id="step-2-selection" x="409.5" y="155.5" width="490" height="60" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-3" class="step-3">\n<path id="step-3-accent" d="M427 246C438.046 246 447 254.954 447 266C447 277.046 438.046 286 427 286C416.29 286 407.546 277.581 407.025 267H370L370.78 265H407.025C407.546 254.419 416.29 246 427 246Z" fill="#8C90D2" class="step-3 accent"/>\n<rect id="step-3-card-textbox" x="465" y="243" width="427" height="45" fill="#D9D9D9" class="step-3 card textbox left"/>\n<rect id="step-3-accent-image" x="417" y="256" width="20" height="20" fill="#D9D9D9" class="step-3 accent image"/>\n<rect id="step-3-selection" x="409.5" y="235.5" width="490" height="60" stroke="black" class="step-3 selection"/>\n</g>\n<g id="step-4" class="step-4">\n<path id="step-4-accent" d="M427 326C438.046 326 447 334.954 447 346C447 357.046 438.046 366 427 366C416.629 366 408.103 358.107 407.1 348H345.627L346.046 346H407C407 334.954 415.954 326 427 326Z" fill="#B3B5E1" class="step-4 accent"/>\n<rect id="step-4-card-textbox" x="465" y="323" width="427" height="45" fill="#D9D9D9" class="step-4 card textbox left"/>\n<rect id="step-4-accent-image" x="417" y="336" width="20" height="20" fill="#D9D9D9" class="step-4 accent image"/>\n<rect id="step-4-selection" x="409.5" y="315.5" width="490" height="60" stroke="black" class="step-4 selection"/>\n</g>\n<g id="step-5" class="step-5">\n<path id="step-5-accent" d="M427 407C438.046 407 447 415.954 447 427C447 438.046 438.046 447 427 447C416.629 447 408.103 439.107 407.1 429H296L298 427H407C407 415.954 415.954 407 427 407Z" fill="#D9DAF0" class="step-5 accent"/>\n<rect id="step-5-card-textbox" x="465" y="404" width="427" height="45" fill="#D9D9D9" class="step-5 card textbox left"/>\n<rect id="step-5-accent-image" x="417" y="417" width="20" height="20" fill="#D9D9D9" class="step-5 accent image"/>\n<rect id="step-5-selection" x="409.5" y="396.5" width="490" height="60" stroke="black" class="step-5 selection"/>\n</g>\n</g>\n</svg>\n'}).map(e=>{let[t,n]=e;return[Number(t.replace("iceberg_icons_","")),n]})),tT=new Map(Object.entries({iceberg_1:'<svg class="iceberg" width="778.96" height="434.46" viewBox="104.02 51.019999999999996 778.96 434.46" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="iceberg" class="iceberg">\n<g id="general-5" class="general-5">\n<path id="general-5-accent" d="M321.07 388C317.957 398.826 316.072 408.115 313.5 421.5L264.5 470.5L241 418V409.5L223.25 388H321.07Z" fill="#D9DAF0" class="general-5 accent"/>\n</g>\n<g id="general-4" class="general-4">\n<path id="general-4-accent" d="M363.999 308L354.999 351L325.999 372.5C324.016 378.27 322.426 383.281 321.069 388H223.249L205.499 366.5L184.129 307H364.39L363.999 308Z" fill="#B3B5E1" class="general-4 accent"/>\n</g>\n<g id="general-3" class="general-3">\n<path id="general-3-accent" d="M364.391 307H184.13L180 295.5C169.36 272.079 146.651 257.506 119 228C119.247 227.665 119.495 227.332 119.74 227H395.609L364.391 307Z" fill="#8C90D2" class="general-3 accent"/>\n</g>\n<g id="general-2" class="general-2">\n<path id="general-2-accent" d="M332.5 146.5L347.5 173.5L404 205.5L395.609 227H119.74C141.313 197.808 154.614 181.69 169 148L170.421 145H176.846C174.932 147.617 174.424 149.924 174 153.5C169.879 163.185 167.165 168.609 161.5 178C151.279 190.039 146.783 197.763 138 211L133 219V221.5L243.5 213L280.5 192C279.722 180.617 282.476 174.286 291 163C293.168 159.269 293.645 157.259 292.5 153.5L280.847 145H331.607L332.5 146.5Z" fill="#666BC3" class="general-2 accent"/>\n</g>\n<g id="general-1" class="general-1">\n<path id="general-1-accent" d="M281.001 86C290.948 94.2902 296.901 97.9615 307.493 104.495L307.501 104.5L331.608 145H280.848L250.001 122.5C256.708 102.083 261.58 89.6187 262.001 75C241.212 86.6498 227.838 93.7187 221.001 101L209.001 125C198.124 133.647 189.864 135.194 179.001 142.5C178.13 143.39 177.425 144.21 176.847 145H170.422L173.501 138.5C199.956 126.738 209.846 118.391 215.501 99.5C227.083 87.2765 242.165 79.4886 265.501 66H267.501L281.001 86Z" fill="#4046B4" class="general-1 accent"/>\n</g>\n<g id="step-1" class="step-1">\n<path id="step-1-accent" d="M430.997 98C436.52 98 440.997 102.477 440.997 108C440.997 113.523 436.52 118 430.997 118C425.474 118 420.997 113.523 420.997 108H309.581L308.391 106H421.197C422.124 101.436 426.159 98 430.997 98Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-card-textbox-left" x="457" y="85" width="411" height="45" fill="#D9D9D9" class="step-1 card textbox left"/>\n<rect id="step-1-selection" x="449.5" y="77.5" width="426" height="60" stroke="black" class="step-1 selection"/>\n</g>\n</g>\n</svg>\n',iceberg_2:'<svg class="iceberg" width="778.96" height="434.46" viewBox="104.02 51.019999999999996 778.96 434.46" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="iceberg" class="iceberg">\n<g id="general-5" class="general-5">\n<path id="general-5-accent" d="M321.07 388C317.957 398.826 316.072 408.115 313.5 421.5L264.5 470.5L241 418V409.5L223.25 388H321.07Z" fill="#D9DAF0" class="general-5 accent"/>\n</g>\n<g id="general-4" class="general-4">\n<path id="general-4-accent" d="M363.999 308L354.999 351L325.999 372.5C324.016 378.27 322.426 383.281 321.069 388H223.249L205.499 366.5L184.129 307H364.39L363.999 308Z" fill="#B3B5E1" class="general-4 accent"/>\n</g>\n<g id="general-3" class="general-3">\n<path id="general-3-accent" d="M364.391 307H184.13L180 295.5C169.36 272.079 146.651 257.506 119 228C119.247 227.665 119.495 227.332 119.74 227H395.609L364.391 307Z" fill="#8C90D2" class="general-3 accent"/>\n</g>\n<g id="general-2" class="general-2">\n<path id="general-2-accent" d="M332.5 146.5L347.5 173.5L404 205.5L395.609 227H119.74C141.313 197.808 154.614 181.69 169 148L170.421 145H176.846C174.932 147.617 174.424 149.924 174 153.5C169.879 163.185 167.165 168.609 161.5 178C151.279 190.039 146.783 197.763 138 211L133 219V221.5L243.5 213L280.5 192C279.722 180.617 282.476 174.286 291 163C293.168 159.269 293.645 157.259 292.5 153.5L280.847 145H331.607L332.5 146.5Z" fill="#666BC3" class="general-2 accent"/>\n</g>\n<g id="general-1" class="general-1">\n<path id="general-1-accent" d="M281.001 86C290.948 94.2902 296.901 97.9615 307.493 104.495L307.501 104.5L331.608 145H280.848L250.001 122.5C256.708 102.083 261.58 89.6187 262.001 75C241.212 86.6498 227.838 93.7187 221.001 101L209.001 125C198.124 133.647 189.864 135.194 179.001 142.5C178.13 143.39 177.425 144.21 176.847 145H170.422L173.501 138.5C199.956 126.738 209.846 118.391 215.501 99.5C227.083 87.2765 242.165 79.4886 265.501 66H267.501L281.001 86Z" fill="#4046B4" class="general-1 accent"/>\n</g>\n<g id="step-1" class="step-1">\n<path id="step-1-accent" d="M430.997 98C436.52 98 440.997 102.477 440.997 108C440.997 113.523 436.52 118 430.997 118C425.474 118 420.997 113.523 420.997 108H309.581L308.391 106H421.197C422.124 101.436 426.159 98 430.997 98Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-card-textbox-left" x="457" y="85" width="411" height="45" fill="#D9D9D9" class="step-1 card textbox left"/>\n<rect id="step-1-selection" x="449.5" y="77.5" width="426" height="60" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<path id="step-2-accent" d="M431 176C436.523 176 441 180.477 441 186C441 191.523 436.523 196 431 196C425.477 196 421 191.523 421 186H369.57L366.039 184H421.2C422.127 179.436 426.162 176 431 176Z" fill="#666BC3" class="step-2 accent"/>\n<rect id="step-2-card-textbox-left" x="457" y="164" width="411" height="45" fill="#D9D9D9" class="step-2 card textbox left"/>\n<rect id="step-2-selection" x="449.5" y="156.5" width="426" height="60" stroke="black" class="step-2 selection"/>\n</g>\n</g>\n</svg>\n',iceberg_3:'<svg class="iceberg" width="778.96" height="434.46" viewBox="104.02 51.019999999999996 778.96 434.46" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="iceberg" class="iceberg">\n<g id="general-5" class="general-5">\n<path id="general-5-accent" d="M321.07 388C317.957 398.826 316.072 408.115 313.5 421.5L264.5 470.5L241 418V409.5L223.25 388H321.07Z" fill="#D9DAF0" class="general-5 accent"/>\n</g>\n<g id="general-4" class="general-4">\n<path id="general-4-accent" d="M363.999 308L354.999 351L325.999 372.5C324.016 378.27 322.426 383.281 321.069 388H223.249L205.499 366.5L184.129 307H364.39L363.999 308Z" fill="#B3B5E1" class="general-4 accent"/>\n</g>\n<g id="general-3" class="general-3">\n<path id="general-3-accent" d="M364.391 307H184.13L180 295.5C169.36 272.079 146.651 257.506 119 228C119.247 227.665 119.495 227.332 119.74 227H395.609L364.391 307Z" fill="#8C90D2" class="general-3 accent"/>\n</g>\n<g id="general-2" class="general-2">\n<path id="general-2-accent" d="M332.5 146.5L347.5 173.5L404 205.5L395.609 227H119.74C141.313 197.808 154.614 181.69 169 148L170.421 145H176.846C174.932 147.617 174.424 149.924 174 153.5C169.879 163.185 167.165 168.609 161.5 178C151.279 190.039 146.783 197.763 138 211L133 219V221.5L243.5 213L280.5 192C279.722 180.617 282.476 174.286 291 163C293.168 159.269 293.645 157.259 292.5 153.5L280.847 145H331.607L332.5 146.5Z" fill="#666BC3" class="general-2 accent"/>\n</g>\n<g id="general-1" class="general-1">\n<path id="general-1-accent" d="M281.001 86C290.948 94.2902 296.901 97.9615 307.493 104.495L307.501 104.5L331.608 145H280.848L250.001 122.5C256.708 102.083 261.58 89.6187 262.001 75C241.212 86.6498 227.838 93.7187 221.001 101L209.001 125C198.124 133.647 189.864 135.194 179.001 142.5C178.13 143.39 177.425 144.21 176.847 145H170.422L173.501 138.5C199.956 126.738 209.846 118.391 215.501 99.5C227.083 87.2765 242.165 79.4886 265.501 66H267.501L281.001 86Z" fill="#4046B4" class="general-1 accent"/>\n</g>\n<g id="step-1" class="step-1">\n<path id="step-1-accent" d="M430.997 98C436.52 98 440.997 102.477 440.997 108C440.997 113.523 436.52 118 430.997 118C425.474 118 420.997 113.523 420.997 108H309.581L308.391 106H421.197C422.124 101.436 426.159 98 430.997 98Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-card-textbox-left" x="457" y="85" width="411" height="45" fill="#D9D9D9" class="step-1 card textbox left"/>\n<rect id="step-1-selection" x="449.5" y="77.5" width="426" height="60" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<path id="step-2-accent" d="M431 176C436.523 176 441 180.477 441 186C441 191.523 436.523 196 431 196C425.477 196 421 191.523 421 186H369.57L366.039 184H421.2C422.127 179.436 426.162 176 431 176Z" fill="#666BC3" class="step-2 accent"/>\n<rect id="step-2-card-textbox-left" x="457" y="164" width="411" height="45" fill="#D9D9D9" class="step-2 card textbox left"/>\n<rect id="step-2-selection" x="449.5" y="156.5" width="426" height="60" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-3" class="step-3">\n<path id="step-3-accent" d="M431 257C436.523 257 441 261.477 441 267C441 272.523 436.523 277 431 277C425.477 277 421 272.523 421 267H380L380.78 265H421.2C422.127 260.436 426.162 257 431 257Z" fill="#8C90D2" class="step-3 accent"/>\n<rect id="step-3-card-textbox-left" x="457" y="245" width="411" height="45" fill="#D9D9D9" class="step-3 card textbox left"/>\n<rect id="step-3-selection" x="449.5" y="237.5" width="426" height="60" stroke="black" class="step-3 selection"/>\n</g>\n</g>\n</svg>\n',iceberg_4:'<svg class="iceberg" width="778.96" height="434.46" viewBox="104.02 51.019999999999996 778.96 434.46" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="iceberg" class="iceberg">\n<g id="general-5" class="general-5">\n<path id="general-5-accent" d="M321.07 388C317.957 398.826 316.072 408.115 313.5 421.5L264.5 470.5L241 418V409.5L223.25 388H321.07Z" fill="#D9DAF0" class="general-5 accent"/>\n</g>\n<g id="general-4" class="general-4">\n<path id="general-4-accent" d="M363.999 308L354.999 351L325.999 372.5C324.016 378.27 322.426 383.281 321.069 388H223.249L205.499 366.5L184.129 307H364.39L363.999 308Z" fill="#B3B5E1" class="general-4 accent"/>\n</g>\n<g id="general-3" class="general-3">\n<path id="general-3-accent" d="M364.391 307H184.13L180 295.5C169.36 272.079 146.651 257.506 119 228C119.247 227.665 119.495 227.332 119.74 227H395.609L364.391 307Z" fill="#8C90D2" class="general-3 accent"/>\n</g>\n<g id="general-2" class="general-2">\n<path id="general-2-accent" d="M332.5 146.5L347.5 173.5L404 205.5L395.609 227H119.74C141.313 197.808 154.614 181.69 169 148L170.421 145H176.846C174.932 147.617 174.424 149.924 174 153.5C169.879 163.185 167.165 168.609 161.5 178C151.279 190.039 146.783 197.763 138 211L133 219V221.5L243.5 213L280.5 192C279.722 180.617 282.476 174.286 291 163C293.168 159.269 293.645 157.259 292.5 153.5L280.847 145H331.607L332.5 146.5Z" fill="#666BC3" class="general-2 accent"/>\n</g>\n<g id="general-1" class="general-1">\n<path id="general-1-accent" d="M281.001 86C290.948 94.2902 296.901 97.9615 307.493 104.495L307.501 104.5L331.608 145H280.848L250.001 122.5C256.708 102.083 261.58 89.6187 262.001 75C241.212 86.6498 227.838 93.7187 221.001 101L209.001 125C198.124 133.647 189.864 135.194 179.001 142.5C178.13 143.39 177.425 144.21 176.847 145H170.422L173.501 138.5C199.956 126.738 209.846 118.391 215.501 99.5C227.083 87.2765 242.165 79.4886 265.501 66H267.501L281.001 86Z" fill="#4046B4" class="general-1 accent"/>\n</g>\n<g id="step-1" class="step-1">\n<path id="step-1-accent" d="M430.997 98C436.52 98 440.997 102.477 440.997 108C440.997 113.523 436.52 118 430.997 118C425.474 118 420.997 113.523 420.997 108H309.581L308.391 106H421.197C422.124 101.436 426.159 98 430.997 98Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-card-textbox-left" x="457" y="85" width="411" height="45" fill="#D9D9D9" class="step-1 card textbox left"/>\n<rect id="step-1-selection" x="449.5" y="77.5" width="426" height="60" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<path id="step-2-accent" d="M431 176C436.523 176 441 180.477 441 186C441 191.523 436.523 196 431 196C425.477 196 421 191.523 421 186H369.57L366.039 184H421.2C422.127 179.436 426.162 176 431 176Z" fill="#666BC3" class="step-2 accent"/>\n<rect id="step-2-card-textbox-left" x="457" y="164" width="411" height="45" fill="#D9D9D9" class="step-2 card textbox left"/>\n<rect id="step-2-selection" x="449.5" y="156.5" width="426" height="60" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-3" class="step-3">\n<path id="step-3-accent" d="M431 257C436.523 257 441 261.477 441 267C441 272.523 436.523 277 431 277C425.477 277 421 272.523 421 267H380L380.78 265H421.2C422.127 260.436 426.162 257 431 257Z" fill="#8C90D2" class="step-3 accent"/>\n<rect id="step-3-card-textbox-left" x="457" y="245" width="411" height="45" fill="#D9D9D9" class="step-3 card textbox left"/>\n<rect id="step-3-selection" x="449.5" y="237.5" width="426" height="60" stroke="black" class="step-3 selection"/>\n</g>\n<g id="step-4" class="step-4">\n<path id="step-4-accent" d="M431 338C436.523 338 441 342.477 441 348C441 353.523 436.523 358 431 358C425.477 358 421 353.523 421 348H355.627L356.046 346H421.2C422.127 341.436 426.162 338 431 338Z" fill="#B3B5E1" class="step-4 accent"/>\n<rect id="step-4-card-textbox-left" x="457" y="325" width="411" height="45" fill="#D9D9D9" class="step-4 card textbox left"/>\n<rect id="step-4-selection" x="449.5" y="317.5" width="426" height="60" stroke="black" class="step-4 selection"/>\n</g>\n</g>\n</svg>\n',iceberg_5:'<svg class="iceberg" width="778.96" height="434.46" viewBox="104.02 51.019999999999996 778.96 434.46" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="iceberg" class="iceberg">\n<g id="general-5" class="general-5">\n<path id="general-5-accent" d="M321.07 388C317.957 398.826 316.072 408.115 313.5 421.5L264.5 470.5L241 418V409.5L223.25 388H321.07Z" fill="#D9DAF0" class="general-5 accent"/>\n</g>\n<g id="general-4" class="general-4">\n<path id="general-4-accent" d="M363.999 308L354.999 351L325.999 372.5C324.016 378.27 322.426 383.281 321.069 388H223.249L205.499 366.5L184.129 307H364.39L363.999 308Z" fill="#B3B5E1" class="general-4 accent"/>\n</g>\n<g id="general-3" class="general-3">\n<path id="general-3-accent" d="M364.391 307H184.13L180 295.5C169.36 272.079 146.651 257.506 119 228C119.247 227.665 119.495 227.332 119.74 227H395.609L364.391 307Z" fill="#8C90D2" class="general-3 accent"/>\n</g>\n<g id="general-2" class="general-2">\n<path id="general-2-accent" d="M332.5 146.5L347.5 173.5L404 205.5L395.609 227H119.74C141.313 197.808 154.614 181.69 169 148L170.421 145H176.846C174.932 147.617 174.424 149.924 174 153.5C169.879 163.185 167.165 168.609 161.5 178C151.279 190.039 146.783 197.763 138 211L133 219V221.5L243.5 213L280.5 192C279.722 180.617 282.476 174.286 291 163C293.168 159.269 293.645 157.259 292.5 153.5L280.847 145H331.607L332.5 146.5Z" fill="#666BC3" class="general-2 accent"/>\n</g>\n<g id="general-1" class="general-1">\n<path id="general-1-accent" d="M281.001 86C290.948 94.2902 296.901 97.9615 307.493 104.495L307.501 104.5L331.608 145H280.848L250.001 122.5C256.708 102.083 261.58 89.6187 262.001 75C241.212 86.6498 227.838 93.7187 221.001 101L209.001 125C198.124 133.647 189.864 135.194 179.001 142.5C178.13 143.39 177.425 144.21 176.847 145H170.422L173.501 138.5C199.956 126.738 209.846 118.391 215.501 99.5C227.083 87.2765 242.165 79.4886 265.501 66H267.501L281.001 86Z" fill="#4046B4" class="general-1 accent"/>\n</g>\n<g id="step-1" class="step-1">\n<path id="step-1-accent" d="M430.997 98C436.52 98 440.997 102.477 440.997 108C440.997 113.523 436.52 118 430.997 118C425.474 118 420.997 113.523 420.997 108H309.581L308.391 106H421.197C422.124 101.436 426.159 98 430.997 98Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-card-textbox-left" x="457" y="85" width="411" height="45" fill="#D9D9D9" class="step-1 card textbox left"/>\n<rect id="step-1-selection" x="449.5" y="77.5" width="426" height="60" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<path id="step-2-accent" d="M431 176C436.523 176 441 180.477 441 186C441 191.523 436.523 196 431 196C425.477 196 421 191.523 421 186H369.57L366.039 184H421.2C422.127 179.436 426.162 176 431 176Z" fill="#666BC3" class="step-2 accent"/>\n<rect id="step-2-card-textbox-left" x="457" y="164" width="411" height="45" fill="#D9D9D9" class="step-2 card textbox left"/>\n<rect id="step-2-selection" x="449.5" y="156.5" width="426" height="60" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-3" class="step-3">\n<path id="step-3-accent" d="M431 257C436.523 257 441 261.477 441 267C441 272.523 436.523 277 431 277C425.477 277 421 272.523 421 267H380L380.78 265H421.2C422.127 260.436 426.162 257 431 257Z" fill="#8C90D2" class="step-3 accent"/>\n<rect id="step-3-card-textbox-left" x="457" y="245" width="411" height="45" fill="#D9D9D9" class="step-3 card textbox left"/>\n<rect id="step-3-selection" x="449.5" y="237.5" width="426" height="60" stroke="black" class="step-3 selection"/>\n</g>\n<g id="step-4" class="step-4">\n<path id="step-4-accent" d="M431 338C436.523 338 441 342.477 441 348C441 353.523 436.523 358 431 358C425.477 358 421 353.523 421 348H355.627L356.046 346H421.2C422.127 341.436 426.162 338 431 338Z" fill="#B3B5E1" class="step-4 accent"/>\n<rect id="step-4-card-textbox-left" x="457" y="325" width="411" height="45" fill="#D9D9D9" class="step-4 card textbox left"/>\n<rect id="step-4-selection" x="449.5" y="317.5" width="426" height="60" stroke="black" class="step-4 selection"/>\n</g>\n<g id="step-5" class="step-5">\n<path id="step-5-accent" d="M431 419C436.523 419 441 423.477 441 429C441 434.523 436.523 439 431 439C425.477 439 421 434.523 421 429H306L308 427H421.2C422.127 422.436 426.162 419 431 419Z" fill="#D9DAF0" class="step-5 accent"/>\n<rect id="step-5-card-textbox-left" x="457" y="406" width="411" height="45" fill="#D9D9D9" class="step-5 card textbox left"/>\n<rect id="step-5-selection" x="449.5" y="398.5" width="426" height="60" stroke="black" class="step-5 selection"/>\n</g>\n</g>\n</svg>\n'}).map(e=>{let[t,n]=e;return[Number(t.replace("iceberg_","")),n]})),tN="iceberg",tP={key:tN,Component:e=>{var t,n;let{data:i,showIcons:r}=e,o=null!=(n=null==(t=i.step)?void 0:t.length)?n:5,l=(r?tz:tT).get(o);return l?(0,a.jsx)(ty,{svgData:l,templateKey:tN,svgScalingFactor:tP.svgScalingFactor,...e}):(console.error("No SVG data found for key",o),null)},label:()=>r.Ru._({id:"bxoNRj"}),icon:i.CcM,previewImage:{src:"https://assets.gammahosted.com/j1bla5j5f/_next/static/media/iceberg.19ae6dcf.svg",height:96,width:253,blurWidth:0,blurHeight:0},defaultColorScheme:"monochrome",stepSvgData:tz,formattingMenu:$,defaultData:()=>C(tz),svgScalingFactor:1,canToggleIcons:!0},tO=new Map(Object.entries({ideas_1:'<svg class="ideas" width="407" height="398.217" viewBox="296 4 407 398.217" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="ideas" class="ideas">\n<g id="general-1" class="general-1">\n<rect id="general-1-accent" x="306" y="14" width="387" height="62" rx="17.2811" fill="#1A378E" class="general-1 accent"/>\n<rect id="general-1-accent-textbox" x="320" y="25" width="360" height="40" fill="#D9D9D9" class="general-1 accent textbox"/>\n</g>\n<g id="step-1" class="step-1">\n<rect id="step-1-subtle" x="390.597" y="219.406" width="218.894" height="172.811" rx="5.76036" fill="#E3EAF8" class="step-1 subtle"/>\n<rect id="step-1-subtle-textbox" x="410" y="264" width="180" height="112" fill="#D9D9D9" class="step-1 subtle textbox"/>\n<g id="step-1-accent" class="step-1 accent">\n<circle id="step-1-accent_2" cx="500.044" cy="219.406" r="34.5622" fill="#1A378E" class="step-1 accent"/>\n<circle id="step-1-accent_3" cx="500.044" cy="154.89" r="17.2811" fill="#1A378E" class="step-1 accent"/>\n<circle id="step-1-accent_4" cx="500.044" cy="116.297" r="8.64054" fill="#1A378E" class="step-1 accent"/>\n<rect id="step-1-accent-image" x="480.999" y="199.984" width="38" height="38" fill="#D9D9D9" class="step-1 accent image"/>\n</g>\n<rect id="step-1-selection" x="382.5" y="99.5" width="235" height="301" stroke="black" class="step-1 selection"/>\n</g>\n</g>\n</svg>\n',ideas_2:'<svg class="ideas" width="540.3684000000001" height="372.78340000000003" viewBox="229.60829999999999 3.6083 540.3684000000001 372.78340000000003" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="ideas" class="ideas">\n<g id="general-1" class="general-1">\n<rect id="general-1-accent" x="306" y="14" width="387" height="62" rx="17.2811" fill="#1A378E" class="general-1 accent"/>\n<rect id="general-1-accent-textbox" x="320" y="25" width="360" height="40" fill="#D9D9D9" class="general-1 accent textbox"/>\n</g>\n<g id="step-1" class="step-1">\n<rect id="step-1-subtle" x="240" y="193" width="219" height="173" rx="5.76036" fill="#E3EAF8" class="step-1 subtle"/>\n<rect id="step-1-subtle-textbox" x="259.586" y="236.992" width="180" height="112" fill="#D9D9D9" class="step-1 subtle textbox"/>\n<g id="step-1-accent" class="step-1 accent">\n<circle id="step-1-accent_2" cx="349.446" cy="193.484" r="34.5622" fill="#1A378E" class="step-1 accent"/>\n<circle id="step-1-accent_3" cx="395.529" cy="149.133" r="17.2811" fill="#1A378E" class="step-1 accent"/>\n<circle id="step-1-accent_4" cx="421.45" cy="116.297" r="8.64054" fill="#1A378E" class="step-1 accent"/>\n<rect id="step-1-accent-image" x="330.586" y="173.984" width="38" height="38" fill="#D9D9D9" class="step-1 accent image"/>\n</g>\n<rect id="step-1-selection" x="233.5" y="96.5" width="232" height="277" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<rect id="step-2-subtle" x="540.585" y="190.328" width="219" height="172.81" rx="5.76036" fill="#E3EAF8" class="step-2 subtle"/>\n<rect id="step-2-subtle-textbox" x="560.586" y="235.328" width="180" height="112" fill="#D9D9D9" class="step-2 subtle textbox"/>\n<g id="step-2-accent" class="step-2 accent">\n<circle id="step-2-accent_2" cx="649.814" cy="190.82" r="34.5622" fill="#1A378E" class="step-2 accent"/>\n<circle id="step-2-accent_3" cx="601.427" cy="146.469" r="17.2811" fill="#1A378E" class="step-2 accent"/>\n<circle id="step-2-accent_4" cx="573.777" cy="113.633" r="8.64054" fill="#1A378E" class="step-2 accent"/>\n<rect id="step-2-accent-image" x="631.586" y="171.328" width="38" height="38" fill="#D9D9D9" class="step-2 accent image"/>\n</g>\n<rect id="step-2-selection" x="533.5" y="96.5" width="233" height="277" stroke="black" class="step-2 selection"/>\n</g>\n</g>\n</svg>\n',ideas_3:'<svg class="ideas" width="759.80944" height="407.44043999999997" viewBox="120.80227999999998 -0.61172 759.80944 407.44043999999997" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="ideas" class="ideas">\n<g id="general-1" class="general-1">\n<rect id="general-1-accent" x="306" y="14" width="387" height="62" rx="17.2811" fill="#1A378E" class="general-1 accent"/>\n<rect id="general-1-accent-textbox" x="320" y="25" width="360" height="40" fill="#D9D9D9" class="general-1 accent textbox"/>\n</g>\n<g id="step-1" class="step-1">\n<rect id="step-1-subtle" x="135.414" y="193.484" width="218.894" height="172.811" rx="5.76036" fill="#E3EAF8" class="step-1 subtle"/>\n<rect id="step-1-subtle-textbox" x="155" y="236.992" width="180" height="112" fill="#D9D9D9" class="step-1 subtle textbox"/>\n<g id="step-1-accent" class="step-1 accent">\n<circle id="step-1-accent_2" cx="244.861" cy="193.484" r="34.5622" fill="#1A378E" class="step-1 accent"/>\n<circle id="step-1-accent_3" cx="290.943" cy="149.133" r="17.2811" fill="#1A378E" class="step-1 accent"/>\n<circle id="step-1-accent_4" cx="316.865" cy="116.297" r="8.64054" fill="#1A378E" class="step-1 accent"/>\n<rect id="step-1-accent-image" x="226" y="173.984" width="38" height="38" fill="#D9D9D9" class="step-1 accent image"/>\n</g>\n<rect id="step-1-selection" x="128.5" y="98.5" width="234" height="275" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<rect id="step-2-subtle" x="391.598" y="219.406" width="218.894" height="172.811" rx="5.76036" fill="#E3EAF8" class="step-2 subtle"/>\n<rect id="step-2-subtle-textbox" x="411" y="261.992" width="180" height="112" fill="#D9D9D9" class="step-2 subtle textbox"/>\n<g id="step-2-accent" class="step-2 accent">\n<circle id="step-2-accent_2" cx="501.045" cy="219.406" r="34.5622" fill="#1A378E" class="step-2 accent"/>\n<circle id="step-2-accent_3" cx="501.045" cy="154.89" r="17.2811" fill="#1A378E" class="step-2 accent"/>\n<circle id="step-2-accent_4" cx="501.045" cy="116.297" r="8.64054" fill="#1A378E" class="step-2 accent"/>\n<rect id="step-2-accent-image" x="482" y="199.984" width="38" height="38" fill="#D9D9D9" class="step-2 accent image"/>\n</g>\n<rect id="step-2-selection" x="383.5" y="99.5" width="235" height="301" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-3" class="step-3">\n<rect id="step-3-subtle" x="647" y="190.328" width="219" height="177" rx="5.76036" fill="#E3EAF8" class="step-3 subtle"/>\n<rect id="step-3-subtle-textbox" x="667" y="235.328" width="180" height="112" fill="#D9D9D9" class="step-3 subtle textbox"/>\n<g id="step-3-accent" class="step-3 accent">\n<circle id="step-3-accent_2" cx="756.228" cy="190.82" r="34.5622" fill="#1A378E" class="step-3 accent"/>\n<circle id="step-3-accent_3" cx="707.842" cy="146.469" r="17.2811" fill="#1A378E" class="step-3 accent"/>\n<circle id="step-3-accent_4" cx="680.191" cy="113.633" r="8.64054" fill="#1A378E" class="step-3 accent"/>\n<rect id="step-3-accent-image" x="738" y="171.328" width="38" height="38" fill="#D9D9D9" class="step-3 accent image"/>\n</g>\n<rect id="step-3-selection" x="639.5" y="97.5" width="235" height="278" stroke="black" class="step-3 selection"/>\n</g>\n</g>\n</svg>\n',ideas_4:'<svg class="ideas" width="896.48" height="413.722" viewBox="50.758 -3.240000000000002 896.48 413.722" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="ideas" class="ideas">\n<g id="general-1" class="general-1">\n<rect id="general-1-accent" x="306" y="14" width="387" height="62" rx="17.2811" fill="#1A378E" class="general-1 accent"/>\n<rect id="general-1-accent-textbox" x="320" y="25" width="360" height="40" fill="#D9D9D9" class="general-1 accent textbox"/>\n</g>\n<g id="step-1" class="step-1">\n<rect id="step-1-subtle" x="67.998" y="187.992" width="191" height="173" rx="5.76036" fill="#E3EAF8" class="step-1 subtle"/>\n<rect id="step-1-subtle-textbox" x="83.998" y="231.992" width="160" height="112" fill="#D9D9D9" class="step-1 subtle textbox"/>\n<g id="step-1-accent" class="step-1 accent">\n<circle id="step-1-accent_2" cx="163.445" cy="189.484" r="34.5622" fill="#1A378E" class="step-1 accent"/>\n<circle id="step-1-accent_3" cx="209.527" cy="145.133" r="17.2811" fill="#1A378E" class="step-1 accent"/>\n<circle id="step-1-accent_4" cx="235.449" cy="112.297" r="8.64054" fill="#1A378E" class="step-1 accent"/>\n<rect id="step-1-accent-image" x="144.584" y="169.984" width="38" height="38" fill="#D9D9D9" class="step-1 accent image"/>\n</g>\n<rect id="step-1-selection" x="60.5" y="95.5" width="206" height="274" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-4" class="step-4">\n<rect id="step-4-subtle" x="738.998" y="188.992" width="191" height="177" rx="5.76036" fill="#E3EAF8" class="step-4 subtle"/>\n<rect id="step-4-subtle-textbox" x="753.998" y="234.992" width="160" height="112" fill="#D9D9D9" class="step-4 subtle textbox"/>\n<g id="step-4-accent" class="step-4 accent">\n<circle id="step-4-accent_2" cx="833.812" cy="189.82" r="34.5622" fill="#1A378E" class="step-4 accent"/>\n<circle id="step-4-accent_3" cx="785.426" cy="145.469" r="17.2811" fill="#1A378E" class="step-4 accent"/>\n<circle id="step-4-accent_4" cx="757.775" cy="112.633" r="8.64054" fill="#1A378E" class="step-4 accent"/>\n<rect id="step-4-accent-image" x="815.584" y="170.328" width="38" height="38" fill="#D9D9D9" class="step-4 accent image"/>\n</g>\n<rect id="step-4-selection" x="731.5" y="95.5" width="207" height="279" stroke="black" class="step-4 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<rect id="step-2-subtle" x="290.584" y="217.242" width="191" height="176" rx="5.76036" fill="#E3EAF8" class="step-2 subtle"/>\n<rect id="step-2-subtle-textbox" x="306.998" y="263.992" width="160" height="112" fill="#D9D9D9" class="step-2 subtle textbox"/>\n<g id="step-2-accent" class="step-2 accent">\n<circle id="step-2-accent_2" cx="386.629" cy="216.664" r="34.5622" fill="#1A378E" class="step-2 accent"/>\n<circle id="step-2-accent_3" cx="402.426" cy="151.979" r="17.2811" fill="#1A378E" class="step-2 accent"/>\n<circle id="step-2-accent_4" cx="413.102" cy="112.81" r="8.64054" fill="#1A378E" class="step-2 accent"/>\n<rect id="step-2-accent-image" x="367.998" y="197.992" width="38" height="38" fill="#D9D9D9" class="step-2 accent image"/>\n</g>\n<rect id="step-2-selection" x="283.5" y="95.5" width="207" height="305" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-3" class="step-3">\n<rect id="step-3-subtle" x="514.998" y="215.992" width="191" height="175" rx="5.76036" fill="#E3EAF8" class="step-3 subtle"/>\n<rect id="step-3-subtle-textbox" x="531.998" y="261.992" width="160" height="112" fill="#D9D9D9" class="step-3 subtle textbox"/>\n<g id="step-3-accent" class="step-3 accent">\n<circle id="step-3-accent_2" cx="610.629" cy="215.664" r="34.5622" fill="#1A378E" class="step-3 accent"/>\n<circle id="step-3-accent_3" cx="591.577" cy="150.598" r="17.2811" fill="#1A378E" class="step-3 accent"/>\n<circle id="step-3-accent_4" cx="584.29" cy="112.698" r="8.64054" fill="#1A378E" class="step-3 accent"/>\n<rect id="step-3-accent-image" x="590.998" y="195.992" width="38" height="38" fill="#D9D9D9" class="step-3 accent image"/>\n</g>\n<rect id="step-3-selection" x="507.5" y="95.5" width="207" height="303" stroke="black" class="step-3 selection"/>\n</g>\n</g>\n</svg>\n'}).map(e=>{let[t,n]=e;return[Number(t.replace("ideas_","")),n]})),tH="ideas",tF={key:tH,Component:e=>{var t,n;let{data:i}=e,r=null!=(n=null==(t=i.step)?void 0:t.length)?n:3,o=tO.get(r);return o?(0,a.jsx)(ty,{svgData:o,templateKey:tH,svgScalingFactor:tF.svgScalingFactor,...e}):(console.error("No SVG data found for key",r),null)},label:()=>r.Ru._({id:"zaDZll"}),icon:tI.rC2,previewImage:{src:"https://assets.gammahosted.com/j1bla5j5f/_next/static/media/ideas.f8852ea0.svg",height:96,width:253,blurWidth:0,blurHeight:0},stepSvgData:tO,defaultData:()=>C(tO),formattingMenu:$,svgScalingFactor:1},tB=new Map(Object.entries({infinity_4:'<svg class="infinity-frame" width="955.95677734375" height="374.7676904296875" viewBox="20.6709033203125 75.5268603515625 955.95677734375 374.7676904296875" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="infinity-frame">\n<g id="general-2" class="general-2 accent">\n<g id="general-2-accent" class="general-2 accent">\n<g id="general-2-accent_2" class="general-2 accent">\n<path d="M742.095 268.652L742.017 271.88C738.656 329.608 690.791 375.385 632.233 375.385L630.812 375.376C603.725 375.033 578.998 364.893 560.008 348.337L586.302 345.725L588.397 318.999C600.337 328.779 615.601 334.648 632.233 334.648C667.71 334.648 696.967 307.953 700.998 273.532L700.929 273.538L720.315 253.838L742.095 268.652Z" fill="#8C90D2"/>\n<path d="M743.183 269.393L743.077 269.402L743.079 269.322L743.183 269.393Z" fill="#8C90D2"/>\n</g>\n<path id="general-2-accent_3" d="M633.652 153.394C693.735 154.155 742.206 203.108 742.206 263.385C742.206 275.032 740.391 286.255 737.036 296.79C740.071 287.256 741.844 277.159 742.153 266.694L720.312 251.838L701.004 271.459C701.311 268.81 701.47 266.116 701.47 263.385C701.47 225.123 670.462 194.121 632.23 194.121C615.238 194.121 599.55 200.335 587.5 210.5L561.334 207.477L559.586 180.802C578.961 163.738 604.386 153.385 632.23 153.385L633.652 153.394Z" fill="#8C90D2" class="general-2 accent"/>\n<path id="general-2-accent_4" fill-rule="evenodd" clip-rule="evenodd" d="M585.917 212.527L444.5 350.5L444 351L443.5 351.5L416.401 349.132L415 322L558 182.5L559.417 209.146L585.917 212.527Z" fill="#8C90D2" class="general-2 accent"/>\n</g>\n<rect id="general-2-accent-image" x="603" y="240" width="55" height="55" class="general-2 image subtle" fill="#666666"/>\n</g>\n<g id="general-1" class="general-1 accent">\n<g id="general-1-accent" class="general-1 accent">\n<path id="general-1-accent_2" d="M278 258L284.906 253.172L287 255L303.919 269.855C303.919 269.842 303.92 269.829 303.92 269.815C304.751 306.871 335.044 336.646 372.281 336.646C388.615 336.646 399.981 333.498 411.742 323.939V324.562L413.211 351.338C413.211 351.338 424.965 352.084 432.5 352.5C436.209 352.705 442 353 442 353L440.5 354.5C421.742 369.722 398.319 377.385 372.281 377.385L370.871 377.376C311.302 376.621 263.237 328.127 263.164 268.388L278 258Z" fill="#D9DAF0" class="general-1 accent"/>\n<path id="general-1-accent_3" d="M373.691 159.128C398.043 159.436 420.472 167.724 438.486 181.496L438.494 181.489L439.013 181.902C439.675 182.415 440.333 182.935 440.983 183.463V183.473L444.007 186.434L444.772 187.624L444.783 187.613L444.781 187.638L444.788 187.648L444.779 187.656L442.706 214.101L441.403 214.229L441.402 214.218L421.093 216.282H420.758L417.218 216.634L416.715 216.27L416.718 216.268C404.765 206.037 389.243 199.857 372.28 199.857C334.987 199.858 304.659 229.722 303.915 266.855L285 251L263 266C264.597 207.122 313.024 159.119 372.28 159.119L373.691 159.128Z" fill="#D9DAF0" class="general-1 accent"/>\n<path id="general-1-accent_4" d="M586.254 316.815L586.191 321.234L586.17 321.259L584.184 343.96L563.289 345.843H563.287L558.286 346.149L558.121 345.999L558.124 345.997L419.695 218.873L444.278 216.824L445.227 216.864L445.3 215.12H445.323L447.16 189.079L586.254 316.815Z" fill="#D9DAF0" class="general-1 accent"/>\n</g>\n<rect id="general-1-accent-image" x="344" y="240" width="55" height="55" class="general-1 image subtle" fill="#666666"/>\n</g>\n<g id="step-1" class="step-1 subtle">\n<path id="step-1-accent-line" d="M371.574 107.945V170.186C374.483 170.476 376.755 172.932 376.755 175.918C376.755 179.099 374.176 181.678 370.995 181.678C367.814 181.678 365.235 179.099 365.234 175.918C365.234 172.93 367.509 170.472 370.422 170.185V109.098H231.598V107.945H371.574Z" fill="#4046B4" class="step-1 line subtle"/>\n<rect id="step-1-textbox" x="39.0546875" y="93.91064453125" width="184" height="90" class="step-1 textbox right top" fill="#E5E5E5"/>\n<rect id="step-1-selection" x="30.5" y="86.5" width="355" height="106" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2 subtle">\n<path id="step-2-accent-line" d="M770.185 107.945V109.098H631.36V170.186C634.271 170.475 636.544 172.931 636.544 175.918C636.544 179.099 633.964 181.678 630.783 181.678C627.602 181.678 625.024 179.099 625.023 175.918C625.023 172.931 627.297 170.473 630.208 170.185V107.945H770.185Z" fill="#4046B4" class="step-2 line subtle"/>\n<rect id="step-2-textbox" x="774.243896484375" y="93.91064453125" width="184" height="90" class="step-2 textbox left top" fill="#E5E5E5"/>\n<rect id="step-2-selection" x="615.5" y="86.5" width="355" height="106" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-3" class="step-3 subtle">\n<path id="step-3-accent-line" d="M630.779 348.15C633.961 348.15 636.54 350.729 636.54 353.91C636.54 356.897 634.267 359.352 631.356 359.642V420.731H770.181V421.884H630.204V359.643C627.293 359.354 625.02 356.897 625.02 353.91C625.02 350.729 627.598 348.151 630.779 348.15Z" fill="#4046B4" class="step-3 line subtle"/>\n<rect id="step-3-textbox" x="774.243896484375" y="341.9107666015625" width="184" height="90" class="step-3 textbox left bottom" fill="#E5E5E5"/>\n<rect id="step-3-selection" x="615.5" y="334.5" width="355" height="106" stroke="black" class="step-3 selection"/>\n</g>\n<g id="step-4" class="step-4 subtle">\n<path id="step-4-accent-line" d="M370.995 348.15C374.176 348.151 376.755 350.729 376.755 353.91C376.755 356.897 374.481 359.354 371.57 359.643V421.883H231.594V420.73H370.418V359.642C367.507 359.352 365.234 356.897 365.234 353.91C365.235 350.729 367.814 348.15 370.995 348.15Z" fill="#4046B4" class="step-4 line subtle"/>\n<rect id="step-4-textbox" x="39.0546875" y="341.9107666015625" width="184" height="90" class="step-4 textbox right bottom" fill="#E5E5E5"/>\n<rect id="step-4-selection" x="30.5" y="334.5" width="355" height="106" stroke="black" class="step-4 selection"/>\n</g>\n</g>\n</svg>\n'}).map(e=>{let[t,n]=e,a=t.match(/_([0-9]+)$/);return[a?Number(a[1]):1,n]})),tV="infinity",tW={key:tV,Component:e=>{var t,n;let i=null!=(n=null==(t=e.data.step)?void 0:t.length)?n:4,r=tB.get(i);return r?(0,a.jsx)(ty,{svgData:r,templateKey:tV,svgScalingFactor:tW.svgScalingFactor,...e}):(console.error("No SVG data found for key",i),null)},label:()=>r.Ru._({id:"5o9DHo"}),icon:tI.C8j,previewImage:{src:"https://assets.gammahosted.com/j1bla5j5f/_next/static/media/infinity.e9530b60.svg",height:96,width:253,blurWidth:0,blurHeight:0},defaultColorScheme:"monochrome",allowedColorSchemes:["monochrome"],formattingMenu:$,stepSvgData:tB,defaultData:()=>C(tB),svgScalingFactor:1},tU=new Map(Object.entries({inputs_1:'<svg class="inputs-frame" width="240.00000000000023" height="362" viewBox="381 -1 240.00000000000023 362" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="inputs-frame">\n<g id="general-1" class="general-1 accent">\n<circle id="general-1-card" cx="500" cy="268" r="83" fill="#4046B4" class="general-1 accent"/>\n<rect id="general-1-accent-textbox" x="433.1640625" y="218.0625" width="132" height="98" class="general-1 accent textbox" fill="#E5E5E5"/>\n</g>\n<g id="step-1" class="step-1 subtle">\n<path id="step-1_2" d="M595 9C603.837 9 611 16.1634 611 25V133C611 141.837 603.837 149 595 149H517.599L501 172L484.401 149H407C398.163 149 391 141.837 391 133V25C391 16.1634 398.163 9 407 9H595Z" fill="#D5D6EF" class="step-1 subtle"/>\n<rect id="step-1-textbox" x="401.1640625" y="19.0625" width="196.99996948242188" height="115.99998474121094" class="step-1 textbox subtle" fill="#E5E5E5"/>\n<rect id="step-1-selection" x="383.55" y="1.55034" width="234.899" height="177.899" stroke="black" stroke-width="1.10067" class="step-1 selection"/>\n</g>\n</g>\n</svg>\n',inputs_2:'<svg class="inputs-frame" width="240.72000000000023" height="538.72" viewBox="380.64 -1.3599999999999994 240.72000000000023 538.72" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="inputs-frame">\n<g id="general-1" class="general-1 accent">\n<circle id="general-1-card" cx="501" cy="268" r="83" fill="#4046B4" class="general-1 accent"/>\n<rect id="general-1-accent-textbox" x="434.0703125" y="218.0625" width="132" height="98" class="general-1 accent textbox" fill="#E5E5E5"/>\n</g>\n<g id="step-2" class="step-2 subtle">\n<path id="step-2_2" d="M595 527C603.837 527 611 519.837 611 511V403C611 394.163 603.837 387 595 387H517.599L501 364L484.401 387H407C398.163 387 391 394.163 391 403V511C391 519.837 398.163 527 407 527H595Z" fill="#D5D6EF" class="step-2 subtle"/>\n<rect id="step-2-textbox" x="401.9765625" y="398.0625" width="196.99996948242188" height="115.99998474121094" class="step-2 textbox subtle" fill="#E5E5E5"/>\n<rect id="step-2-selection" x="383.55" y="356.55" width="234.899" height="177.899" stroke="black" stroke-width="1.10067" class="step-2 selection"/>\n</g>\n<g id="step-1" class="step-1 subtle">\n<path id="step-1_2" d="M595 9C603.837 9 611 16.1634 611 25V133C611 141.837 603.837 149 595 149H517.599L501 172L484.401 149H407C398.163 149 391 141.837 391 133V25C391 16.1634 398.163 9 407 9H595Z" fill="#D5D6EF" class="step-1 subtle"/>\n<rect id="step-1-textbox" x="401.0703125" y="19.0625" width="196.99996948242188" height="115.99998474121094" class="step-1 textbox subtle" fill="#E5E5E5"/>\n<rect id="step-1-selection" x="383.55" y="1.55034" width="234.899" height="177.899" stroke="black" stroke-width="1.10067" class="step-1 selection"/>\n</g>\n</g>\n</svg>\n',inputs_3:'<svg class="inputs-frame" width="674.44" height="506.94000000000005" viewBox="163.038 -3.9700000000000006 674.44 506.94000000000005" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="inputs-frame">\n<g id="general-1" class="general-1 accent">\n<circle id="general-1-card" cx="500" cy="268" r="83" fill="#4046B4" class="general-1 accent"/>\n<rect id="general-1-accent-textbox" x="433.9921875" y="218.0625" width="132" height="98" class="general-1 accent textbox" fill="#E5E5E5"/>\n</g>\n<g id="step-2" class="step-2 subtle">\n<path id="step-2_2" d="M620.508 330C619.83 330 619.163 330.042 618.508 330.124V330H591.008L604.508 347.005V474C604.508 482.837 611.671 490 620.508 490H808.508C817.344 490 824.508 482.837 824.508 474V346C824.508 337.163 817.344 330 808.508 330H620.508Z" fill="#D5D6EF" class="step-2 subtle"/>\n<rect id="step-2-textbox" x="617.9921875" y="343.0625" width="191.99998474121094" height="132.99998474121094" class="step-2 textbox subtle" fill="#E5E5E5"/>\n<rect id="step-2-selection" x="583.536" y="322.536" width="247.928" height="173.928" stroke="black" stroke-width="1.0719" class="step-2 selection"/>\n</g>\n<g id="step-3" class="step-3 subtle">\n<path id="step-3_2" d="M380.008 330C380.685 330 381.353 330.042 382.008 330.124V330H409.508L396.008 347.005V474C396.008 482.837 388.844 490 380.008 490H192.008C183.171 490 176.008 482.837 176.008 474V346C176.008 337.163 183.171 330 192.008 330H380.008Z" fill="#D5D6EF" class="step-3 subtle"/>\n<rect id="step-3-textbox" x="188.9921875" y="343.0625" width="191.99998474121094" height="132.99998474121094" class="step-3 textbox subtle" fill="#E5E5E5"/>\n<rect id="step-3-selection" x="168.536" y="322.536" width="247.928" height="173.928" stroke="black" stroke-width="1.0719" class="step-3 selection"/>\n</g>\n<g id="step-1" class="step-1 subtle">\n<path id="step-1_2" d="M594 9C602.837 9 610 16.1634 610 25V133C610 141.837 602.837 149 594 149H516.599L500 172L483.401 149H406C397.163 149 390 141.837 390 133V25C390 16.1634 397.163 9 406 9H594Z" fill="#D5D6EF" class="step-1 subtle"/>\n<rect id="step-1-textbox" x="400.9921875" y="19.0625" width="196.99996948242188" height="115.99998474121094" class="step-1 textbox subtle" fill="#E5E5E5"/>\n<rect id="step-1-selection" x="382.55" y="1.55034" width="234.899" height="177.899" stroke="black" stroke-width="1.10067" class="step-1 selection"/>\n</g>\n</g>\n</svg>\n',inputs_4:'<svg class="inputs-frame" width="675.48" height="456.9800000000001" viewBox="164.018 46.01 675.48 456.9800000000001" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="inputs-frame">\n<g id="general-1" class="general-1 accent">\n<circle id="general-1-card" cx="501" cy="268" r="83" fill="#4046B4" class="general-1 accent"/>\n<rect id="general-1-accent-textbox" x="434.1640625" y="218.0625" width="132" height="98" class="general-1 accent textbox" fill="#E5E5E5"/>\n</g>\n<g id="step-2" class="step-2 subtle">\n<path id="step-2_2" d="M621.336 330C620.659 330 619.991 330.042 619.336 330.124V330H591.836L605.336 347.005V474C605.336 482.837 612.499 490 621.336 490H809.336C818.172 490 825.336 482.837 825.336 474V346C825.336 337.163 818.172 330 809.336 330H621.336Z" fill="#D5D6EF" class="step-2 subtle"/>\n<rect id="step-2-textbox" x="617.9921875" y="343.0625" width="191.99998474121094" height="132.99998474121094" class="step-2 textbox subtle" fill="#E5E5E5"/>\n<rect id="step-2-selection" x="584.364" y="322.536" width="247.928" height="173.928" stroke="black" stroke-width="1.0719" class="step-2 selection"/>\n</g>\n<g id="step-3" class="step-3 subtle">\n<path id="step-3_2" d="M381.008 330C381.685 330 382.353 330.042 383.008 330.124V330H410.508L397.008 347.005V474C397.008 482.837 389.844 490 381.008 490H193.008C184.171 490 177.008 482.837 177.008 474V346C177.008 337.163 184.171 330 193.008 330H381.008Z" fill="#D5D6EF" class="step-3 subtle"/>\n<rect id="step-3-textbox" x="189.1640625" y="343.0625" width="191.99998474121094" height="132.99998474121094" class="step-3 textbox subtle" fill="#E5E5E5"/>\n<rect id="step-3-selection" x="169.536" y="322.536" width="247.928" height="173.928" stroke="black" stroke-width="1.0719" class="step-3 selection"/>\n</g>\n<g id="step-4" class="step-4 subtle">\n<path id="step-4_2" d="M381.008 219C381.685 219 382.353 218.958 383.008 218.876V219H410.508L397.008 201.995V75C397.008 66.1635 389.844 59 381.008 59H193.008C184.171 59 177.008 66.1635 177.008 75V203C177.008 211.837 184.171 219 193.008 219H381.008Z" fill="#D5D6EF" class="step-4 subtle"/>\n<rect id="step-4-textbox" x="189.1640625" y="72.0625" width="191.99998474121094" height="132.99998474121094" class="step-4 textbox subtle" fill="#E5E5E5"/>\n<rect id="step-4-selection" x="169.536" y="51.5359" width="247.928" height="173.928" stroke="black" stroke-width="1.0719" class="step-4 selection"/>\n</g>\n<g id="step-1" class="step-1 subtle">\n<path id="step-1_2" d="M622.508 219C621.83 219 621.163 218.958 620.508 218.876V219H593.008L606.508 201.995V75C606.508 66.1635 613.671 59 622.508 59H810.508C819.344 59 826.508 66.1635 826.508 75V203C826.508 211.837 819.344 219 810.508 219H622.508Z" fill="#D5D6EF" class="step-1 subtle"/>\n<rect id="step-1-textbox" x="619.1640625" y="72.0625" width="191.99998474121094" height="132.99998474121094" class="step-1 textbox subtle" fill="#E5E5E5"/>\n<rect id="step-1-selection" x="585.536" y="51.5359" width="247.928" height="173.928" stroke="black" stroke-width="1.0719" class="step-1 selection"/>\n</g>\n</g>\n</svg>\n',inputs_5:'<svg class="inputs-frame" width="705.2396" height="544.1246" viewBox="148.4377 -2.5623000000000005 705.2396 544.1246" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="inputs-frame">\n<g id="general-1" class="general-1 accent">\n<circle id="general-1-card" cx="501" cy="268" r="83" fill="#4046B4" class="general-1 accent"/>\n<rect id="general-1-accent-textbox" x="434.1640625" y="218.0625" width="132" height="98" class="general-1 accent textbox" fill="#E5E5E5"/>\n</g>\n<g id="step-3" class="step-3 subtle">\n<path id="step-3_2" d="M558.508 368C557.83 368 557.163 368.042 556.508 368.124V368H529.008L542.508 385.005V512C542.508 520.837 549.671 528 558.508 528H746.508C755.344 528 762.508 520.837 762.508 512V384C762.508 375.163 755.344 368 746.508 368H558.508Z" fill="#D5D6EF" class="step-3 subtle"/>\n<rect id="step-3-textbox" x="555.1640625" y="381.0625" width="191.99998474121094" height="132.99998474121094" class="step-3 textbox subtle" fill="#E5E5E5"/>\n<rect id="step-3-selection" x="521.536" y="360.536" width="247.928" height="173.928" stroke="black" stroke-width="1.0719" class="step-3 selection"/>\n</g>\n<g id="step-5" class="step-5 subtle">\n<path id="step-5_2" d="M366 348C374.837 348 382 340.837 382 332V284.878L404.998 267.32L382 251.681V204C382 195.163 374.837 188 366 188H178C169.163 188 162 195.163 162 204V332C162 340.837 169.163 348 178 348H366Z" fill="#D5D6EF" class="step-5 subtle"/>\n<rect id="step-5-textbox" x="173.1640625" y="201.0625" width="195.99996948242188" height="132.99998474121094" class="step-5 textbox subtle" fill="#E5E5E5"/>\n<rect id="step-5-selection" x="152.536" y="180.536" width="251.928" height="173.928" stroke="black" stroke-width="1.0719" class="step-5 selection"/>\n</g>\n<g id="step-4" class="step-4 subtle">\n<path id="step-4_2" d="M442.008 368C442.685 368 443.353 368.042 444.008 368.124V368H471.508L458.008 385.005V512C458.008 520.837 450.844 528 442.008 528H254.008C245.171 528 238.008 520.837 238.008 512V384C238.008 375.163 245.171 368 254.008 368H442.008Z" fill="#D5D6EF" class="step-4 subtle"/>\n<rect id="step-4-textbox" x="250.1640625" y="381.0625" width="191.99998474121094" height="132.99998474121094" class="step-4 textbox subtle" fill="#E5E5E5"/>\n<rect id="step-4-selection" x="230.536" y="360.536" width="247.928" height="173.928" stroke="black" stroke-width="1.0719" class="step-4 selection"/>\n</g>\n<g id="step-2" class="step-2 subtle">\n<path id="step-2_2" d="M636.115 348C627.279 348 620.115 340.837 620.115 332V284.878L597.117 267.32L620.115 251.681V204C620.115 195.163 627.279 188 636.115 188H824.115C832.952 188 840.115 195.163 840.115 204V332C840.115 340.837 832.952 348 824.115 348H636.115Z" fill="#D5D6EF" class="step-2 subtle"/>\n<rect id="step-2-selection" x="597.536" y="180.536" width="253.928" height="173.928" stroke="black" stroke-width="1.0719" class="step-2 selection"/>\n<rect id="step-2-textbox" x="631.1640625" y="200.0625" width="195.99996948242188" height="132.99998474121094" class="step-2 textbox subtle" fill="#E5E5E5"/>\n</g>\n<g id="step-1" class="step-1 subtle">\n<path id="step-1_2" d="M592 11C600.837 11 608 18.1634 608 27V135C608 143.837 600.837 151 592 151H514.599L498 174L481.401 151H404C395.163 151 388 143.837 388 135V27C388 18.1634 395.163 11 404 11H592Z" fill="#D5D6EF" class="step-1 subtle"/>\n<rect id="step-1-textbox" x="398.1640625" y="21.0625" width="196.99996948242188" height="115.99998474121094" class="step-1 textbox subtle" fill="#E5E5E5"/>\n<rect id="step-1-selection" x="380.55" y="3.55034" width="234.899" height="177.899" stroke="black" stroke-width="1.10067" class="step-1 selection"/>\n</g>\n</g>\n</svg>\n',inputs_6:'<svg class="inputs-frame" width="684.4396000000003" height="543.3246" viewBox="158.83769999999998 -2.1623000000000054 684.4396000000003 543.3246" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="inputs-frame">\n<g id="general-1" class="general-1 accent">\n<circle id="general-1-card" cx="501" cy="268" r="83" fill="#4046B4" class="general-1 accent"/>\n<rect id="general-1-accent-textbox" x="434.1640625" y="218.0625" width="132" height="98" class="general-1 accent textbox" fill="#E5E5E5"/>\n</g>\n<g id="step-1" class="step-1 subtle">\n<path id="step-1_2" d="M558.508 171C557.83 171 557.163 170.958 556.508 170.876V171H529.008L542.508 153.995V27C542.508 18.1635 549.671 11 558.508 11H746.508C755.344 11 762.508 18.1635 762.508 27V155C762.508 163.837 755.344 171 746.508 171H558.508Z" fill="#D5D6EF" class="step-1 subtle"/>\n<rect id="step-1-textbox" x="555.1640625" y="24.0625" width="191.99998474121094" height="132.99998474121094" class="step-1 textbox subtle" fill="#E5E5E5"/>\n<rect id="step-1-selection" x="521.536" y="3.53595" width="247.928" height="173.928" stroke="black" stroke-width="1.0719" class="step-1 selection"/>\n</g>\n<g id="step-6" class="step-6 subtle">\n<path id="step-6_2" d="M442.008 171C442.685 171 443.353 170.958 444.008 170.876V171H471.508L458.008 153.995V27C458.008 18.1635 450.844 11 442.008 11H254.008C245.171 11 238.008 18.1635 238.008 27V155C238.008 163.837 245.171 171 254.008 171H442.008Z" fill="#D5D6EF" class="step-6 subtle"/>\n<rect id="step-6-textbox" x="250.1640625" y="24.0625" width="191.99998474121094" height="132.99998474121094" class="step-6 textbox subtle" fill="#E5E5E5"/>\n<rect id="step-6-selection" x="230.536" y="3.53595" width="247.928" height="173.928" stroke="black" stroke-width="1.0719" class="step-6 selection"/>\n</g>\n<g id="step-4" class="step-4 subtle">\n<path id="step-4_2" d="M442.008 368C442.685 368 443.353 368.042 444.008 368.124V368H471.508L458.008 385.005V512C458.008 520.837 450.844 528 442.008 528H254.008C245.171 528 238.008 520.837 238.008 512V384C238.008 375.163 245.171 368 254.008 368H442.008Z" fill="#D5D6EF" class="step-4 subtle"/>\n<rect id="step-4-textbox" x="250.1640625" y="381.0625" width="191.99998474121094" height="132.99998474121094" class="step-4 textbox subtle" fill="#E5E5E5"/>\n<rect id="step-4-selection" x="230.536" y="360.536" width="247.928" height="173.928" stroke="black" stroke-width="1.0719" class="step-4 selection"/>\n</g>\n<g id="step-3" class="step-3 subtle">\n<path id="step-3_2" d="M558.508 368C557.83 368 557.163 368.042 556.508 368.124V368H529.008L542.508 385.005V512C542.508 520.837 549.671 528 558.508 528H746.508C755.344 528 762.508 520.837 762.508 512V384C762.508 375.163 755.344 368 746.508 368H558.508Z" fill="#D5D6EF" class="step-3 subtle"/>\n<rect id="step-3-textbox" x="555.1640625" y="381.0625" width="191.99998474121094" height="132.99998474121094" class="step-3 textbox subtle" fill="#E5E5E5"/>\n<rect id="step-3-selection" x="521.536" y="360.536" width="247.928" height="173.928" stroke="black" stroke-width="1.0719" class="step-3 selection"/>\n</g>\n<g id="step-2" class="step-2 subtle">\n<path id="step-2_2" d="M626.115 348C617.279 348 610.115 340.837 610.115 332V284.878L587.117 267.32L610.115 251.681V204C610.115 195.163 617.279 188 626.115 188H814.115C822.952 188 830.115 195.163 830.115 204V332C830.115 340.837 822.952 348 814.115 348H626.115Z" fill="#D5D6EF" class="step-2 subtle"/>\n<rect id="step-2-selection" x="587.536" y="180.536" width="253.928" height="173.928" stroke="black" stroke-width="1.0719" class="step-2 selection"/>\n<rect id="step-2-textbox" x="621.1640625" y="200.0625" width="195.99996948242188" height="132.99998474121094" class="step-2 textbox subtle" fill="#E5E5E5"/>\n</g>\n<g id="step-5" class="step-5 subtle">\n<path id="step-5_2" d="M376 348C384.837 348 392 340.837 392 332V284.878L414.998 267.32L392 251.681V204C392 195.163 384.837 188 376 188H188C179.163 188 172 195.163 172 204V332C172 340.837 179.163 348 188 348H376Z" fill="#D5D6EF" class="step-5 subtle"/>\n<rect id="step-5-textbox" x="183.1640625" y="201.0625" width="195.99996948242188" height="132.99998474121094" class="step-5 textbox subtle" fill="#E5E5E5"/>\n<rect id="step-5-selection" x="162.536" y="180.536" width="251.928" height="173.928" stroke="black" stroke-width="1.0719" class="step-5 selection"/>\n</g>\n</g>\n</svg>\n'}).map(e=>{let[t,n]=e,a=t.match(/_([0-9]+)$/);return[a?Number(a[1]):1,n]})),tG="inputs",tK={key:tG,Component:e=>{var t,n;let{data:i}=e,r=null!=(n=null==(t=i.step)?void 0:t.length)?n:6,o=tU.get(r);return o?(0,a.jsx)(ty,{svgData:o,templateKey:tG,svgScalingFactor:tK.svgScalingFactor,...e}):(console.error("No SVG data found for key",r),null)},label:()=>r.Ru._({id:"h8Oe96"}),previewImage:{src:"https://assets.gammahosted.com/j1bla5j5f/_next/static/media/inputs.835e6090.svg",height:96,width:253,blurWidth:0,blurHeight:0},allowedColorSchemes:[],stepSvgData:tU,formattingMenu:$,defaultData:()=>C(tU)},tQ=new Map(Object.entries({nested_diamond_4:'<svg class="nested_diamond" width="923.3276130002498" height="479.32827550001747" viewBox="40.23968724975512 61.31402474999518 923.3276130002498 479.32827550001747" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="nested_diamond" class="nested_diamond">\n<g id="step-4" class="step-4">\n<path id="step-4-neutral" d="M289.735 517.933C289.7 517.968 289.663 518 289.628 518.034C290.622 518.138 291.631 518.192 292.652 518.192H917.037C932.928 518.192 945.811 505.31 945.811 489.419V452.973C945.811 437.082 932.928 424.199 917.037 424.199H383.468L289.735 517.933Z" fill="#F5F2F2" class="step-4 neutral"/>\n<path id="step-4-accent-no-border" d="M357.167 447.532C359.119 445.58 359.119 442.414 357.167 440.461L283.356 366.65C281.403 364.697 278.237 364.697 276.285 366.65L202.473 440.461C200.521 442.414 200.521 445.58 202.473 447.532L276.285 521.344C278.237 523.296 281.403 523.296 283.356 521.344L357.167 447.532Z" fill="#4046B4" class="step-4 accent no-border"/>\n<rect id="step-4-card-textbox-left" width="420" height="45" fill="#D9D9D9" class="step-4 card textbox left" x="485.808" y="448"/>\n<rect id="step-4-accent-image" width="45" height="45" fill="#D9D9D9" class="step-4 accent image" x="257" y="421"/>\n<rect id="step-4-selection" x="252.308" y="413.5" width="661" height="87" stroke="black" class="step-4 selection"/>\n</g>\n<g id="step-3" class="step-3">\n<path id="step-3-neutral" d="M402.325 405.019H917.037C932.928 405.019 945.81 392.136 945.811 376.245V339.799C945.811 323.908 932.928 311.025 917.037 311.025H496.318L402.325 405.019Z" fill="#F5F2F2" class="step-3 neutral"/>\n<path id="step-3-accent-no-border" d="M283.37 270.328C281.418 268.375 278.253 268.375 276.3 270.328L154.288 392.339C152.336 394.292 152.336 397.458 154.288 399.411L276.3 521.422C278.253 523.374 281.418 523.374 283.37 521.422L405.382 399.411C407.335 397.458 407.335 394.292 405.382 392.339L283.37 270.328ZM276.285 364.523C278.237 362.571 281.402 362.571 283.355 364.523L358.227 439.395C360.18 441.348 360.18 444.514 358.227 446.466L283.355 521.337C281.402 523.29 278.237 523.29 276.285 521.337L201.412 446.466C199.46 444.514 199.46 441.348 201.412 439.395L276.285 364.523Z" fill="#666BC3" class="step-3 accent no-border"/>\n<rect id="step-3-card-textbox-left" width="420" height="45" fill="#D9D9D9" class="step-3 card textbox left" x="485.808" y="335"/>\n<rect id="step-3-image-accent" width="45" height="45" fill="#D9D9D9" class="step-3 image accent" x="257" y="307"/>\n<rect id="step-3-selection" x="252.308" y="299.5" width="661" height="88" stroke="black" class="step-3 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<path id="step-2-neutral" d="M497.572 291.842H917.037C932.928 291.842 945.81 278.959 945.811 263.068V226.622C945.811 210.731 932.928 197.848 917.037 197.848H403.578L497.572 291.842Z" fill="#F5F2F2" class="step-2 neutral"/>\n<path id="step-2-accent-no-border" d="M283.428 175.496C281.476 173.543 278.31 173.543 276.357 175.496L107.096 344.756C105.144 346.709 105.144 349.875 107.096 351.828L151.917 396.647C151.012 394.783 151.331 392.475 152.878 390.928L276.299 267.507C278.252 265.555 281.418 265.555 283.371 267.507L406.791 390.928C408.405 392.542 408.685 394.985 407.63 396.886L452.689 351.828C454.641 349.875 454.642 346.709 452.689 344.756L283.428 175.496Z" fill="#B3B5E1" class="step-2 accent no-border"/>\n<rect id="step-2-textbox-left" width="420" height="45" fill="#D9D9D9" class="step-2 card textbox left" x="485.808" y="221"/>\n<rect id="step-2-accent-image" width="45" height="45" fill="#D9D9D9" class="step-2 accent image" x="257" y="212"/>\n<rect id="step-2-selection" x="252.308" y="204.5" width="662" height="70" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-1" class="step-1">\n<path id="step-1-neutral" d="M292.652 84.6738C291.923 84.6738 291.201 84.7007 290.485 84.7539L384.397 178.667H917.037C932.928 178.667 945.81 165.785 945.811 149.894V113.447C945.811 97.5561 932.928 84.6739 917.037 84.6738H292.652Z" fill="#F5F2F2" class="step-1 neutral"/>\n<path id="step-1-accent-no-border" d="M283.267 80.5347C281.315 78.5822 278.148 78.5822 276.196 80.5347L59.4604 297.27C57.5078 299.223 57.5079 302.389 59.4604 304.341L104.896 349.776C103.517 347.824 103.7 345.108 105.447 343.361L276.294 172.513C278.247 170.561 281.412 170.561 283.365 172.513L454.212 343.361C455.81 344.958 456.1 347.367 455.084 349.259L500.002 304.341C501.955 302.389 501.955 299.223 500.002 297.27L283.267 80.5347Z" fill="#D9DAF0" class="step-1 accent no-border"/>\n<rect id="step-1-card-textbox-left" width="420" height="45" fill="#D9D9D9" class="step-1 card textbox left" x="485.808" y="109"/>\n<rect id="step-1-accent-image" width="45" height="45" fill="#D9D9D9" class="step-1 accent image" x="257" y="109"/>\n<rect id="step-1-selection" x="254.308" y="101.5" width="657" height="60" stroke="black" class="step-1 selection"/>\n</g>\n</g>\n</svg>\n',nested_diamond_2:'<svg class="nested_diamond" width="728.0270400000003" height="282.1467900000028" viewBox="136.99947999999972 125.99948000000013 728.0270400000003 282.1467900000028" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="nested_diamond" class="nested_diamond">\n<g id="step-2" class="step-2">\n<path id="step-2-neutral" d="M307.541 371.017H822.253C838.144 371.017 851.026 358.134 851.026 342.243V305.797C851.026 289.906 838.144 277.023 822.253 277.023H401.534L307.541 371.017Z" fill="#F5F2F2" class="step-2 neutral"/>\n<path id="step-2-accent-no-border" d="M355.343 318.87C357.295 316.918 357.295 313.752 355.343 311.799L281.531 237.988C279.579 236.035 276.413 236.035 274.46 237.988L200.649 311.799C198.696 313.752 198.696 316.918 200.649 318.87L274.46 392.681C276.413 394.634 279.579 394.634 281.531 392.681L355.343 318.87Z" fill="#4046B4" class="step-2 accent no-border"/>\n<rect id="step-2-card-textbox-left" width="420" height="45" fill="#D9D9D9" class="step-2 card textbox left" x="394.02700000000004" y="304.014"/>\n<rect id="step-2-accent-image" width="40" height="40" fill="#D9D9D9" class="step-2 accent image" x="258" y="287"/>\n<rect id="step-2-selection" x="253.52599999999995" y="281.504" width="568" height="75" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-1" class="step-1">\n<path id="step-1-neutral" d="M402.788 257.842H822.253C838.144 257.842 851.026 244.959 851.026 229.068V192.622C851.026 176.731 838.144 163.848 822.253 163.848H308.794L402.788 257.842Z" fill="#F5F2F2" class="step-1 neutral"/>\n<path id="step-1-accent-no-border" d="M281.546 141.464C279.594 139.512 276.429 139.512 274.476 141.464L152.464 263.476C150.512 265.429 150.512 268.595 152.464 270.547L274.476 392.559C276.428 394.511 279.594 394.511 281.546 392.559L403.558 270.547C405.511 268.595 405.511 265.429 403.558 263.476L281.546 141.464ZM274.46 235.66C276.413 233.707 279.579 233.707 281.532 235.66L356.403 310.532C358.355 312.484 358.355 315.65 356.403 317.603L281.532 392.474C279.579 394.427 276.413 394.427 274.46 392.474L199.588 317.603C197.636 315.65 197.636 312.484 199.588 310.532L274.46 235.66Z" fill="#666BC3" class="step-1 accent no-border"/>\n<rect id="step-1-card-textbox-left" width="420" height="45" fill="#D9D9D9" class="step-1 card textbox left" x="394.02700000000004" y="187"/>\n<rect id="step-1-accent-image" width="40" height="40" fill="#D9D9D9" class="step-1 accent image" x="258" y="187"/>\n<rect id="step-1-selection" x="253.52599999999995" y="179.5" width="568" height="60" stroke="black" class="step-1 selection"/>\n</g>\n</g>\n</svg>\n',nested_diamond_3:'<svg class="nested_diamond" width="885.2266540000002" height="382.9001790000003" viewBox="57.97693549999997 116.9764105000004 885.2266540000002 382.9001790000003" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="nested_diamond" class="nested_diamond">\n<g id="step-3" class="step-3">\n<path id="step-3-neutral" d="M270.104 467.905C270.07 467.94 270.032 467.973 269.997 468.007C270.991 468.111 272 468.165 273.021 468.165H897.406C913.297 468.165 926.18 455.283 926.18 439.392V402.945C926.18 387.054 913.297 374.172 897.406 374.172H363.837L270.104 467.905Z" fill="#F5F2F2" class="step-3 neutral"/>\n<path id="step-3-accent-no-border" d="M326.535 407.484C328.488 405.531 328.488 402.365 326.535 400.412L252.724 326.601C250.771 324.649 247.605 324.649 245.653 326.601L171.841 400.412C169.889 402.365 169.889 405.531 171.841 407.484L245.653 481.295C247.605 483.247 250.771 483.247 252.724 481.295L326.535 407.484Z" fill="#4046B4" class="step-3 accent no-border"/>\n<rect id="step-3-card-textbox-left" width="457" height="45" fill="#D9D9D9" class="step-3 card textbox left" x="435.18100000000004" y="396.008"/>\n<rect id="step-3-accent-image" width="40" height="40" fill="#D9D9D9" class="step-3 accent image" x="229" y="378.023"/>\n<rect id="step-3-selection" x="224.67999999999995" y="370.504" width="674" height="78" stroke="black" class="step-3 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<path id="step-2-neutral" d="M426.641 304.434C428.593 306.386 428.593 309.551 426.641 311.504L383.176 354.969H897.402C913.293 354.969 926.176 342.086 926.176 326.195V289.742C926.176 273.851 913.293 260.969 897.402 260.969H383.176L426.641 304.434Z" fill="#F5F2F2" class="step-2 neutral"/>\n<path id="step-2-accent-no-border" d="M252.74 230.294C250.787 228.342 247.622 228.342 245.669 230.294L123.658 352.306C121.705 354.259 121.705 357.425 123.658 359.377L245.669 481.389C247.622 483.341 250.787 483.341 252.74 481.389L374.751 359.377C376.704 357.425 376.704 354.259 374.751 352.306L252.74 230.294ZM245.654 324.49C247.606 322.537 250.772 322.537 252.725 324.49L327.596 399.362C329.549 401.314 329.549 404.48 327.596 406.433L252.725 481.304C250.772 483.257 247.606 483.257 245.654 481.304L170.782 406.433C168.829 404.48 168.829 401.314 170.782 399.362L245.654 324.49Z" fill="#666BC3" class="step-2 accent no-border"/>\n<rect id="step-2-card-textbox-left" width="457" height="45" fill="#D9D9D9" class="step-2 card textbox left" x="435.18100000000004" y="287.008"/>\n<rect id="step-2-accent-image" width="40" height="40" fill="#D9D9D9" class="step-2 accent image" x="229" y="275"/>\n<rect id="step-2-selection" x="224.67999999999995" y="267.5" width="674" height="72" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-1" class="step-1">\n<path id="step-1-neutral" d="M273.021 149.643C272.293 149.643 271.57 149.669 270.854 149.723L364.767 243.636H897.406C913.297 243.636 926.18 230.753 926.18 214.862V178.416C926.18 162.525 913.297 149.643 897.406 149.643H273.021Z" fill="#F5F2F2" class="step-1 neutral"/>\n<path id="step-1-accent-no-border" d="M252.797 135.464C250.844 133.512 247.679 133.512 245.726 135.464L76.4646 304.726C74.5125 306.678 74.5125 309.844 76.4646 311.796L121.286 356.616C120.381 354.753 120.7 352.444 122.248 350.897L245.669 227.476C247.621 225.523 250.787 225.523 252.74 227.476L376.161 350.897C377.775 352.511 378.054 354.953 377 356.855L422.058 311.796C424.011 309.844 424.01 306.678 422.058 304.726L252.797 135.464Z" fill="#B3B5E1" class="step-1 accent no-border"/>\n<rect id="step-1-card-textbox-left" width="457" height="45" fill="#D9D9D9" class="step-1 card textbox left" x="435.18100000000004" y="173.008"/>\n<rect id="step-1-accent-image" width="40" height="40" fill="#D9D9D9" class="step-1 accent image" x="229" y="176"/>\n<rect id="step-1-selection" x="224.67999999999995" y="165.5" width="674" height="60" stroke="black" class="step-1 selection"/>\n</g>\n</g>\n</svg>\n'}).map(e=>{let[t,n]=e;return[Number(t.replace("nested_diamond_","")),n]})),tZ="nested_diamond",tq={key:tZ,Component:e=>{var t,n;let{data:i}=e,r=null!=(n=null==(t=i.step)?void 0:t.length)?n:3,o=tQ.get(r);return o?(0,a.jsx)(ty,{svgData:o,templateKey:tZ,svgScalingFactor:tq.svgScalingFactor,...e}):(console.error("No SVG data found for key",r),null)},label:()=>r.Ru._({id:"C5zvEL"}),icon:i.euE,previewImage:{src:"https://assets.gammahosted.com/j1bla5j5f/_next/static/media/nested_diamonds.fbef844a.svg",height:96,width:253,blurWidth:0,blurHeight:0},allowedColorSchemes:[],stepSvgData:tQ,formattingMenu:$,defaultData:()=>C(tQ),defaultColorScheme:"monochrome",svgScalingFactor:1},t$=new Map(Object.entries({packed_circles_1:'<svg class="packed_circles-frame" width="320" height="320" viewBox="341 108 320 320" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="packed_circles-frame">\n<g id="step-1" class="step-1 accent">\n<circle id="step-1-accent" cx="501" cy="268" r="150" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-accent-textbox" x="376.16796875" y="190.0625" width="247" height="161" class="step-1 textbox accent" fill="#E5E5E5"/>\n<rect id="step-1-selection" x="351.5" y="118.5" width="299" height="299" stroke="black" class="step-1 selection"/>\n</g>\n</g>\n</svg>\n',packed_circles_2:'<svg class="packed_circles-frame" width="570.96416" height="377.96016" viewBox="215.01992 79.01992 570.96416 377.96016" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="packed_circles-frame">\n<g id="step-1" class="step-1 accent">\n<circle id="step-1-accent" cx="376" cy="240" r="150" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-accent-textbox" x="249.16796875" y="161.0625" width="251" height="163" class="step-1 textbox accent" fill="#E5E5E5"/>\n<rect id="step-1-selection" x="226.5" y="90.5" width="299" height="299" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2 accent">\n<circle id="step-2-accent" cx="655.004" cy="326" r="120" fill="#666BC3" class="step-2 accent"/>\n<rect id="step-2-accent-textbox" x="561.16796875" y="264.0625" width="185" height="121" class="step-2 textbox accent" fill="#E5E5E5"/>\n<rect id="step-2-selection" x="535.5" y="206.5" width="239" height="239" stroke="black" class="step-2 selection"/>\n</g>\n</g>\n</svg>\n',packed_circles_3:'<svg class="packed_circles-frame" width="583.44" height="499.44" viewBox="208.78 17.78 583.44 499.44" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="packed_circles-frame">\n<g id="step-1" class="step-1 accent">\n<circle id="step-1-accent" cx="370" cy="179" r="150" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-accent-textbox" x="237.16796875" y="96.0625" width="263" height="171" class="step-1 textbox accent" fill="#E5E5E5"/>\n<rect id="step-1-selection" x="220.5" y="29.5" width="299" height="299" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2 accent">\n<circle id="step-2-accent" cx="661" cy="166" r="120" fill="#666BC3" class="step-2 accent"/>\n<rect id="step-2-accent-textbox" x="557.16796875" y="98.0625" width="205" height="133" class="step-2 textbox accent" fill="#E5E5E5"/>\n<rect id="step-2-selection" x="541.5" y="46.5" width="239" height="239" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-3" class="step-3 accent">\n<circle id="step-3-accent" cx="551" cy="396" r="110" fill="#B3B5E1" class="step-3 accent"/>\n<rect id="step-3-accent-textbox" x="460.16796875" y="333.0625" width="179" height="131" class="step-3 textbox accent" fill="#E5E5E5"/>\n<rect id="step-3-selection" x="441.5" y="286.5" width="219" height="219" stroke="black" class="step-3 selection"/>\n</g>\n</g>\n</svg>\n',packed_circles_4:'<svg class="packed_circles-frame" width="748.8" height="486.8" viewBox="126.6 50.6 748.8 486.8" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="packed_circles-frame">\n<g id="step-1" class="step-1 accent">\n<circle id="step-1-accent" cx="291" cy="329" r="150" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-selection" x="129.5" y="170.5" width="315" height="315" stroke="black" class="step-1 selection"/>\n<rect id="step-1-accent-textbox" x="164.16796875" y="247.0625" width="251" height="163" class="step-1 textbox accent" fill="#E5E5E5"/>\n</g>\n<g id="step-2" class="step-2 accent">\n<circle id="step-2-accent" cx="542" cy="185" r="120" fill="#666BC3" class="step-2 accent"/>\n<rect id="step-2-accent-textbox" x="443.16796875" y="120.0625" width="195" height="127" class="step-2 textbox accent" fill="#E5E5E5"/>\n<rect id="step-2-selection" x="414.5" y="57.5" width="255" height="255" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-3" class="step-3 accent">\n<circle id="step-3-accent" cx="751" cy="324" r="110" fill="#8C90D2" class="step-3 accent"/>\n<rect id="step-3-accent-textbox" x="661.16796875" y="262.0625" width="177" height="129" class="step-3 textbox accent" fill="#E5E5E5"/>\n<rect id="step-3-selection" x="641.5" y="214.5" width="219" height="219" stroke="black" class="step-3 selection"/>\n</g>\n<g id="step-4" class="step-4 accent">\n<circle id="step-4-accent" cx="544" cy="423" r="100" fill="#B3B5E1" class="step-4 accent"/>\n<rect id="step-4-accent-textbox" x="459.16796875" y="363.0625" width="167" height="121" class="step-4 textbox accent" fill="#E5E5E5"/>\n<rect id="step-4-selection" x="437.5" y="319.5" width="211" height="211" stroke="black" class="step-4 selection"/>\n</g>\n</g>\n</svg>\n',packed_circles_5:'<svg class="packed_circles-frame" width="748.8" height="550.8" viewBox="126.6 -13.4 748.8 550.8" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="packed_circles-frame">\n<g id="step-1" class="step-1 accent">\n<circle id="step-1-accent" cx="291" cy="329" r="150" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-accent-textbox" x="164.16796875" y="247.0625" width="251" height="163" class="step-1 textbox accent" fill="#E5E5E5"/>\n<rect id="step-1-selection" x="141.5" y="179.5" width="315" height="315" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2 accent">\n<circle id="step-2-accent" cx="542" cy="185" r="120" fill="#666BC3" class="step-2 accent"/>\n<rect id="step-2-accent-textbox" x="443.16796875" y="120.0625" width="195" height="127" class="step-2 textbox accent" fill="#E5E5E5"/>\n<rect id="step-2-selection" x="422.5" y="65.5" width="255" height="255" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-3" class="step-3 accent">\n<circle id="step-3-accent" cx="751" cy="324" r="110" fill="#8C90D2" class="step-3 accent"/>\n<rect id="step-3-accent-textbox" x="661.16796875" y="262.0625" width="177" height="129" class="step-3 textbox accent" fill="#E5E5E5"/>\n<rect id="step-3-selection" x="641.5" y="214.5" width="219" height="219" stroke="black" class="step-3 selection"/>\n</g>\n<g id="step-4" class="step-4 accent">\n<circle id="step-4-accent" cx="544" cy="423" r="100" fill="#B3B5E1" class="step-4 accent"/>\n<rect id="step-4-accent-textbox" x="459.16796875" y="363.0625" width="167" height="121" class="step-4 textbox accent" fill="#E5E5E5"/>\n<rect id="step-4-selection" x="444.5" y="323.5" width="199" height="199" stroke="black" class="step-4 selection"/>\n</g>\n<g id="step-5" class="step-5 accent">\n<circle id="step-5-accent" cx="343.5" cy="88.5" r="87.5" fill="#D9DAF0" class="step-5 accent"/>\n<rect id="step-5-accent-textbox" x="268.16796875" y="41.0625" width="147" height="96" class="step-5 textbox accent" fill="#E5E5E5"/>\n<rect id="step-5-selection" x="256.5" y="1.5" width="174" height="174" stroke="black" class="step-5 selection"/>\n</g>\n</g>\n</svg>\n'}).map(e=>{let[t,n]=e,a=t.match(/_([0-9]+)$/);return[a?Number(a[1]):1,n]})),tJ="packed_circles",tY={key:tJ,Component:e=>{var t,n;let{data:i}=e,r=null!=(n=null==(t=i.step)?void 0:t.length)?n:5,o=t$.get(r);return o?(0,a.jsx)(ty,{svgData:o,templateKey:tJ,svgScalingFactor:tY.svgScalingFactor,...e}):(console.error("No SVG data found for key",r),null)},label:()=>r.Ru._({id:"QhL7JY"}),icon:i.GEE,defaultColorScheme:"monochrome",stepSvgData:t$,previewImage:{src:"https://assets.gammahosted.com/j1bla5j5f/_next/static/media/packed-circles.50bed684.svg",height:96,width:253,blurWidth:0,blurHeight:0},formattingMenu:$,defaultData:()=>C(t$),svgScalingFactor:1},tX=new Map(Object.entries({pinwheel_4:'<svg class="pinwheel" width="965.1158399999999" height="471.75724" viewBox="18.44008 32.12168 965.1158399999999 471.75724" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="pinwheel" class="pinwheel">\n<g id="step-1" class="step-1">\n<path id="step-1-accent" d="M499.646 257.01C497.493 257.23 495.522 258.062 493.905 259.326L393.133 158.178L499.099 50.6816L499.646 257.01Z" fill="#4046B4" class="step-1 accent"/>\n<path id="step-1-accent_2" d="M492.525 260.598C490.948 262.323 489.903 264.543 489.651 266.998L392.09 266.321L392.261 159.473L492.525 260.598Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-accent-image" x="439" y="143" width="35" height="35" fill="#D9D9D9" class="step-1 accent image"/>\n<rect id="step-1-card-textbox" x="37" y="169" width="334" height="79" fill="#D9D9D9" class="step-1 card textbox"/>\n<rect id="step-1-selection" x="27.5" y="135.5" width="455" height="121" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<path id="step-2-accent" d="M718.061 266.454L511.945 267.001C511.72 264.795 510.852 262.78 509.535 261.142L610.564 160.488L718.061 266.454Z" fill="#666BC3" class="step-2 accent"/>\n<path id="step-2-accent_2" d="M609.268 159.62L508.242 259.785C506.483 258.22 504.229 257.201 501.742 256.994L502.419 159.449L609.268 159.62Z" fill="#666BC3" class="step-2 accent"/>\n<rect id="step-2-accent-image" x="593" y="213" width="35" height="35" fill="#D9D9D9" class="step-2 accent image"/>\n<rect id="step-2-card-textbox" x="520" y="61" width="334" height="79" fill="#D9D9D9" class="step-2 card textbox"/>\n<rect id="step-2-selection" x="512.5" y="54.5" width="349" height="202" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-3" class="step-3">\n<path id="step-3-accent" d="M608.346 377.823L502.38 485.319L501.832 279.309C504.078 279.102 506.13 278.233 507.795 276.898L608.346 377.823Z" fill="#8C90D2" class="step-3 accent"/>\n<path id="step-3-accent_2" d="M609.39 269.679L609.219 376.527L509.156 275.606C510.746 273.823 511.773 271.53 511.962 269.002L609.39 269.679Z" fill="#8C90D2" class="step-3 accent"/>\n<rect id="step-3-accent-image" x="526.996" y="360" width="35" height="35" fill="#D9D9D9" class="step-3 accent image"/>\n<rect id="step-3-card-textbox" x="630.996" y="283" width="334" height="79" fill="#D9D9D9" class="step-3 card textbox"/>\n<rect id="step-3-selection" x="520.5" y="274.5" width="453" height="127" stroke="black" class="step-3 selection"/>\n</g>\n<g id="step-4" class="step-4">\n<path id="step-4-accent" d="M489.62 268.908C489.766 271.116 490.55 273.149 491.792 274.824L390.82 375.422L283.324 269.456L489.62 268.908Z" fill="#B3B5E1" class="step-4 accent"/>\n<path id="step-4-accent_2" d="M493.034 276.232C494.787 277.918 497.085 279.04 499.64 279.302L498.966 376.463L392.117 376.292L493.034 276.232Z" fill="#B3B5E1" class="step-4 accent"/>\n<rect id="step-4-accent-image" x="373" y="294.002" width="35" height="35" fill="#D9D9D9" class="step-4 accent image"/>\n<rect id="step-4-card-textbox" x="147" y="393" width="334" height="79" fill="#D9D9D9" class="step-4 card textbox"/>\n<rect id="step-4-selection" x="139.5" y="286.502" width="349" height="193" stroke="black" class="step-4 selection"/>\n</g>\n<g id="general-1" class="general-1">\n<circle id="general-1-subtle" cx="501" cy="268" r="9" fill="#D9DAF0" class="general-1 subtle"/>\n</g>\n</g>\n</svg>\n'}).map(e=>{let[t,n]=e;return[Number(t.replace("pinwheel_","")),n]})),t0="pinwheel",t1={key:t0,Component:e=>{var t,n;let{data:i}=e,r=null!=(n=null==(t=i.step)?void 0:t.length)?n:1,o=tX.get(r);return o?(0,a.jsx)(ty,{svgData:o,templateKey:t0,svgScalingFactor:t1.svgScalingFactor,...e}):(console.error("No SVG data found for key",r),null)},label:()=>r.Ru._({id:"MVp6kM"}),icon:i.SiZ,previewImage:{src:"https://assets.gammahosted.com/j1bla5j5f/_next/static/media/pinwheel.728e4518.svg",height:96,width:253,blurWidth:0,blurHeight:0},defaultColorScheme:"monochrome",stepSvgData:tX,formattingMenu:$,defaultData:()=>C(tX),svgScalingFactor:1},t2=new Map([[4,'<svg class="puzzle" width="994.2397920000001" height="493.886492" viewBox="4.789203999999998 14.192504 994.2397920000001 493.886492" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="puzzle" class="puzzle">\n<g id="step-4" class="step-4">\n<path id="step-4-accent" d="M575.792 33.3125C591.699 33.3125 604.594 46.2075 604.594 62.1143V73.6348H669.108V139.879H680.631C696.537 139.879 709.432 152.774 709.433 168.681C709.433 184.587 696.538 197.482 680.631 197.482H669.108V257.967H611.505V252.206C611.505 233.118 596.03 217.645 576.942 217.645C557.854 217.645 542.38 233.118 542.38 252.206V257.967H484.776V199.211H490.537C509.625 199.211 525.099 183.736 525.1 164.648C525.099 145.56 509.625 130.087 490.537 130.087H484.776V73.6348H546.99V62.1143C546.99 46.2075 559.885 33.3125 575.792 33.3125Z" fill="#D9DAF0" class="step-4 accent"/>\n<rect id="step-4-card-textbox-left" opacity="0.5" x="733.909" y="118.992" width="246" height="97" fill="#D9D9D9" class="step-4 card textbox left"/>\n<rect id="step-4-accent-image" opacity="0.5" x="535.909" y="128.992" width="86" height="74" fill="#D9D9D9" class="step-4 accent image"/>\n<rect id="step-4-selection" x="528.5" y="111.5" width="459" height="112" stroke="black" class="step-4 selection"/>\n</g>\n<g id="step-3" class="step-3">\n<path id="step-3-accent" d="M575.792 223.406C591.699 223.406 604.594 236.301 604.594 252.208V263.729H669.108V329.973H680.631C696.537 329.973 709.432 342.868 709.433 358.774C709.433 374.681 696.538 387.576 680.631 387.576H669.108V448.061H611.505V442.3C611.505 423.212 596.03 407.738 576.942 407.738C557.854 407.738 542.38 423.212 542.38 442.3V448.061H484.776V389.305H490.537C509.625 389.305 525.099 373.83 525.1 354.742C525.099 335.654 509.625 320.181 490.537 320.181H484.776V263.729H546.99V252.208C546.99 236.301 559.885 223.406 575.792 223.406Z" fill="#B3B5E1" class="step-3 accent"/>\n<rect id="step-3-card-textbox-left" x="733.909" y="305" width="246" height="97" fill="#D9D9D9" class="step-3 card textbox left"/>\n<rect id="step-3-accent-image" x="535.909" y="315" width="86" height="74" fill="#D9D9D9" class="step-3 accent image"/>\n<rect id="step-3-selection" x="528.5" y="296.5" width="459" height="112" stroke="black" class="step-3 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<path id="step-2-accent" d="M351.713 264.305V270.064C351.713 289.153 367.186 304.627 386.274 304.627C405.363 304.627 420.837 289.153 420.837 270.064V264.305H478.44V324.788H489.963C505.869 324.788 518.764 337.683 518.765 353.59C518.765 369.497 505.87 382.391 489.963 382.392H478.44V448.636H413.926V460.157C413.926 476.064 401.031 488.959 385.124 488.959C369.217 488.959 356.322 476.064 356.322 460.157V448.636H294.108V392.185H299.869C318.957 392.185 334.432 376.71 334.432 357.622C334.432 338.534 318.957 323.061 299.869 323.061H294.108V264.305H351.713Z" fill="#8C90D2" class="step-2 accent"/>\n<rect id="step-2-card-textbox-right" x="23.9092" y="305" width="246" height="97" fill="#D9D9D9" class="step-2 card textbox right"/>\n<rect id="step-2-accent-image" x="347.909" y="327" width="86" height="74" fill="#D9D9D9" class="step-2 accent image"/>\n<rect id="step-2-selection" x="16.5" y="297.5" width="426" height="111" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-1" class="step-1">\n<path id="step-1-accent" d="M354.595 79.4004C354.595 98.4884 370.068 113.963 389.156 113.963C408.244 113.963 423.719 98.4885 423.719 79.4004V73.6406H480.17V135.853H491.691C507.598 135.853 520.493 148.748 520.493 164.654C520.493 180.561 507.598 193.456 491.691 193.456H480.17V257.972H413.927V269.493C413.927 285.4 401.031 298.295 385.124 298.295C369.218 298.295 356.323 285.4 356.322 269.493V257.972H295.839V200.368H301.6C320.687 200.368 336.161 184.894 336.161 165.807C336.161 146.719 320.688 131.244 301.6 131.244H295.839V73.6406H354.595V79.4004Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-accent-image" x="348" y="141.008" width="86" height="74" fill="#D9D9D9" class="step-1 accent image"/>\n<rect id="step-1-card-textbox-right" x="25" y="119.008" width="245" height="96" fill="#D9D9D9" class="step-1 card textbox right"/>\n<rect id="step-1-selection" x="16.5" y="111.508" width="425" height="111" stroke="black" class="step-1 selection"/>\n</g>\n</g>\n</svg>\n']]),t4="puzzle",t5={key:t4,Component:e=>{var t,n;let{data:i}=e,r=null!=(n=null==(t=i.step)?void 0:t.length)?n:4,o=t2.get(r);return o?(0,a.jsx)(ty,{svgData:o,templateKey:t4,svgScalingFactor:t5.svgScalingFactor,...e}):(console.error("No SVG data found for key",r),null)},label:()=>r.Ru._({id:"nT0180"}),icon:tI.wvb,defaultColorScheme:"monochrome",allowedColorSchemes:["monochrome"],previewImage:{src:"https://assets.gammahosted.com/j1bla5j5f/_next/static/media/puzzle.f9b38688.svg",height:96,width:253,blurWidth:0,blurHeight:0},formattingMenu:$,stepSvgData:t2,defaultData:()=>C(t2),svgScalingFactor:1},t6=new Map([[1,'<svg class="quadrant" width="1001" height="501" viewBox="0 0 1001 501" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="quadrant" class="quadrant">\n<path id="general-6-accent" d="M510.64 430.569C511.202 431.131 511.202 432.043 510.64 432.605L501.475 441.77C500.913 442.332 500.001 442.332 499.439 441.77L490.274 432.605C489.712 432.043 489.711 431.131 490.274 430.569C490.836 430.006 491.748 430.007 492.31 430.569L499.017 437.275L499.017 69.8051L492.31 76.5117C491.748 77.0739 490.836 77.074 490.274 76.5117C489.711 75.9493 489.712 75.0377 490.274 74.4753L499.439 65.3105C500.001 64.7481 500.913 64.7481 501.475 65.3105L510.64 74.4753C511.202 75.0377 511.202 75.9493 510.64 76.5117C510.077 77.074 509.166 77.0739 508.603 76.5117L501.897 69.8051L501.897 437.275L508.603 430.569C509.166 430.007 510.077 430.006 510.64 430.569Z" fill="#4046B4" class="general-6 accent"/>\n<path id="general-5-accent" d="M778.005 233.851C778.567 233.289 779.479 233.289 780.041 233.851L789.206 243.016C789.768 243.579 789.768 244.49 789.206 245.053L780.041 254.217C779.479 254.78 778.567 254.78 778.005 254.217C777.442 253.655 777.442 252.743 778.005 252.181L784.711 245.474H215.628L222.335 252.181C222.897 252.743 222.897 253.655 222.335 254.217C221.773 254.78 220.861 254.78 220.299 254.217L211.134 245.053C210.571 244.49 210.571 243.579 211.134 243.016L220.299 233.851C220.861 233.289 221.773 233.289 222.335 233.851C222.897 234.414 222.897 235.325 222.335 235.888L215.628 242.594H784.711L778.005 235.888C777.442 235.325 777.442 234.414 778.005 233.851Z" fill="#4046B4" class="general-5 accent"/>\n<rect id="general-4-card-textbox" y="226" width="197" height="35" fill="#D9D9D9" class="general-4 card textbox"/>\n<rect id="general-3-card-textbox" x="310.656" y="455.152" width="380.183" height="34.5621" fill="#D9D9D9" class="general-3 card textbox"/>\n<rect id="general-2-card-textbox" x="803" y="226" width="197" height="35" fill="#D9D9D9" class="general-2 card textbox"/>\n<rect id="general-1-card-textbox" x="310.083" y="17.3652" width="380.183" height="34.5621" fill="#D9D9D9" class="general-1 card textbox"/>\n<g id="step-3" class="step-3">\n<circle id="step-3-accent" cx="371.042" cy="300.042" r="23.0417" fill="#D5D6EF" class="step-3 accent"/>\n<rect id="step-3-card-textbox" x="276" y="334" width="202" height="71" fill="#D9D9D9" class="step-3 card textbox"/>\n<rect id="step-3-accent-image" x="357.14" y="286.418" width="28" height="28" fill="#D9D9D9" class="step-3 accent image"/>\n<rect id="step-3-selection" x="262.25" y="269.25" width="218.5" height="144.5" stroke="black" stroke-width="0.5" class="step-3 selection"/>\n</g>\n<g id="step-4" class="step-4">\n<circle id="step-4-accent" cx="641.902" cy="300.747" r="23.0417" fill="#D5D6EF" class="step-4 accent"/>\n<rect id="step-4-card-textbox" x="541" y="335" width="202" height="71" fill="#D9D9D9" class="step-4 card textbox"/>\n<rect id="step-4-accent-image" x="628" y="287" width="28" height="28" fill="#D9D9D9" class="step-4 accent image"/>\n<rect id="step-4-selection" x="533.25" y="270.25" width="217.5" height="143.5" stroke="black" stroke-width="0.5" class="step-4 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<circle id="step-2-accent" cx="641.902" cy="115.747" r="23.0417" fill="#D5D6EF" class="step-2 accent"/>\n<rect id="step-2-card-textbox" x="541" y="150" width="202" height="71" fill="#D9D9D9" class="step-2 card textbox"/>\n<rect id="step-2-accent-image" x="628" y="102" width="28" height="28" fill="#D9D9D9" class="step-2 accent image"/>\n<rect id="step-2-selection" x="533.25" y="85.25" width="217.5" height="143.5" stroke="black" stroke-width="0.5" class="step-2 selection"/>\n</g>\n<g id="step-1" class="step-1">\n<circle id="step-1-accent" cx="370.902" cy="115.747" r="23.0417" fill="#D5D6EF" class="step-1 accent"/>\n<rect id="step-1-card-textbox" x="270" y="150" width="202" height="71" fill="#D9D9D9" class="step-1 card textbox"/>\n<rect id="step-1-accent-image" x="357" y="102" width="28" height="28" fill="#D9D9D9" class="step-1 accent image"/>\n<rect id="step-1-selection" x="262.25" y="85.25" width="217.5" height="143.5" stroke="black" stroke-width="0.5" class="step-1 selection"/>\n</g>\n</g>\n</svg>\n\n    ']]),t3="quadrants",t9={key:t3,Component:e=>{let t=t6.get(1);return t?(0,a.jsx)(ty,{svgData:t,templateKey:t3,svgScalingFactor:t9.svgScalingFactor,...e}):(console.error("No SVG data found for key",1),null)},label:()=>r.Ru._({id:"o/Eq9R"}),icon:tI.Nfw,previewImage:{src:"https://assets.gammahosted.com/j1bla5j5f/_next/static/media/quadrant.755601ce.svg",height:96,width:253,blurWidth:0,blurHeight:0},stepSvgData:t6,formattingMenu:$,defaultData:()=>C(t6),svgScalingFactor:1},t7=new Map(Object.entries({ribbon_arrows_2:'<svg class="ribbon_arrows" width="436.64399999999995" height="463.68179999999995" viewBox="283.309 35.2422 436.64399999999995 463.68179999999995" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="ribbon_arrows" class="ribbon_arrows">\n<g id="step-1" class="step-1">\n<g id="step-1-accent" class="step-1 accent">\n<path d="M307.145 191.594H498.764L481.87 206.649L465 222.005V315.155H307.145V191.594Z" fill="#B3B5E1"/>\n</g>\n<rect id="step-1-textbox-card-top" x="293.309" y="368.125" width="220.148" height="120.799" fill="black" class="step-1 textbox card top"/>\n<rect id="step-1-accent-image" x="374.594" y="224.75" width="56.4482" height="56.4482" fill="#D9D9D9" class="step-1 accent image"/>\n<rect id="step-1-selection" x="284.551" y="184.484" width="235" height="313" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<path id="step-2-accent" d="M709.953 285.188L648.453 371.791V345.727H465.168V222.165H648.453V198.586L709.953 285.188Z" fill="#D9DAF0" class="step-2 accent"/>\n<path id="step-2-accent-dim" d="M499 222.008V191.508L465 222.008H499Z" fill="#8C90D2" class="step-2 accent dim"/>\n<rect id="step-2-textbox-card-bottom" x="480.715" y="45.2422" width="220.148" height="120.799" fill="black" class="step-2 textbox card bottom"/>\n<rect id="step-2-accent-image" x="542.809" y="257.484" width="56.4482" height="56.4482" fill="#D9D9D9" class="step-2 accent image"/>\n<rect id="step-2-selection" x="454.551" y="36.4844" width="264" height="344" stroke="black" class="step-2 selection"/>\n</g>\n</g>\n</svg>\n',ribbon_arrows_3:'<svg class="ribbon_arrows" width="584.87" height="525.2318" viewBox="208.1625 4.6587 584.87 525.2318" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="ribbon_arrows" class="ribbon_arrows">\n<g id="step-1" class="step-1">\n<path id="step-1-accent" d="M223 191H414.62L397.726 206.055L380.855 221.411V314.562H223V191Z" fill="#8C90D2" class="step-1 accent"/>\n<rect id="step-1-card-textbox-bottom" x="219.41" y="15.9062" width="227" height="121" fill="black" class="step-1 card textbox bottom"/>\n<rect id="step-1-accent-image" x="288.992" y="223.984" width="56.4482" height="56.4482" fill="#D9D9D9" class="step-1 accent image"/>\n<rect id="step-1-selection" x="211.5" y="7.5" width="244" height="314" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<path id="step-2-accent-dim" d="M414 221.5V191L380 221.5H414Z" fill="#666BC3" class="step-2 accent dim"/>\n<path id="step-2-accent" d="M380 221H571.62L554.726 236.055L537.855 251.411V344.562H380V221Z" fill="#B3B5E1" class="step-2 accent"/>\n<rect id="step-2-card-textbox-top" x="365.766" y="397.844" width="220.148" height="120.799" fill="black" class="step-2 card textbox top"/>\n<rect id="step-2-accent-image" x="447.051" y="254.469" width="56.4482" height="56.4482" fill="#D9D9D9" class="step-2 accent image"/>\n<rect id="step-2-selection" x="356.5" y="212.5" width="238" height="313" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-3" class="step-3">\n<path id="step-3-accent-dim" d="M571 251.5V221L537 251.5H571Z" fill="#8C90D2" class="step-3 accent dim"/>\n<path id="step-3-accent" d="M781.785 314.603L720.285 401.205V375.141H537V251.579H720.285V228L781.785 314.603Z" fill="#D9DAF0" class="step-3 accent"/>\n<rect id="step-3-card-textbox-bottom" x="553.172" y="74.9609" width="220.148" height="120.799" fill="black" class="step-3 card textbox bottom"/>\n<rect id="step-3-accent-image" x="615.266" y="287.211" width="56.4482" height="56.4482" fill="#D9D9D9" class="step-3 accent image"/>\n<rect id="step-3-selection" x="529.5" y="66.5" width="261" height="343" stroke="black" class="step-3 selection"/>\n</g>\n</g>\n</svg>\n',ribbon_arrows_4:'<svg class="ribbon_arrows" width="772.63472" height="532.45352" viewBox="115.39964 1.047839999999999 772.63472 532.45352" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="ribbon_arrows" class="ribbon_arrows">\n<g id="step-1" class="step-1">\n<path id="step-1-accent" d="M157 162H348.62L331.726 177.055L314.855 192.411V285.562H157V162Z" fill="#666BC3" class="step-1 accent"/>\n<rect id="step-1-card-textbox-top" x="130.258" y="332.367" width="220.148" height="120.799" fill="black" class="step-1 card textbox top"/>\n<rect id="step-1-accent-image" x="221.703" y="193.508" width="56.4482" height="56.4482" fill="#D9D9D9" class="step-1 accent image"/>\n<rect id="step-1-selection" x="122.5" y="153.5" width="235" height="309" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<path id="step-2-accent-dim" d="M348 192.5V162L314 192.5H348Z" fill="#4046B4" class="step-2 accent dim"/>\n<path id="step-2-accent" d="M314 192H505.62L488.726 207.055L471.855 222.411V315.562H314V192Z" fill="#8C90D2" class="step-2 accent"/>\n<rect id="step-2-textbox-card-bottom" x="310.176" y="15.9062" width="227" height="121" fill="black" class="step-2 textbox card bottom"/>\n<rect id="step-2-accent-image" x="379.758" y="223.984" width="56.4482" height="56.4482" fill="#D9D9D9" class="step-2 accent image"/>\n<rect id="step-2-selection" x="304.5" y="6.5" width="242" height="314" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-3" class="step-3">\n<path id="step-3-accent-dim" d="M505 222.5V192L471 222.5H505Z" fill="#666BC3" class="step-3 accent dim"/>\n<path id="step-3-accent" d="M471 222H662.62L645.726 237.055L628.855 252.411V345.562H471V222Z" fill="#B3B5E1" class="step-3 accent"/>\n<rect id="step-3-textbox-card-top" x="456.531" y="397.844" width="220.148" height="120.799" fill="black" class="step-3 textbox card top"/>\n<rect id="step-3-accent-image" x="537.816" y="254.469" width="56.4482" height="56.4482" fill="#D9D9D9" class="step-3 accent image"/>\n<rect id="step-3-selection" x="449.5" y="214.5" width="235" height="312" stroke="black" class="step-3 selection"/>\n</g>\n<g id="step-4" class="step-4">\n<path id="step-4-accent-dim" d="M662 252.5V222L628 252.5H662Z" fill="#8C90D2" class="step-4 accent dim"/>\n<path id="step-4-accent" d="M873.176 314.907L811.676 401.51V375.445H628.391V251.884H811.676V228.305L873.176 314.907Z" fill="#D9DAF0" class="step-4 accent"/>\n<rect id="step-4-textbox-card-bottom" x="643.938" y="74.9609" width="220.148" height="120.799" fill="black" class="step-4 textbox card bottom"/>\n<rect id="step-4-accent-image" x="706.031" y="287.211" width="56.4482" height="56.4482" fill="#D9D9D9" class="step-4 accent image"/>\n<rect id="step-4-selection" x="620.5" y="68.5" width="260" height="339" stroke="black" class="step-4 selection"/>\n</g>\n</g>\n</svg>\n',ribbon_arrows_5:'<svg class="ribbon_arrows" width="926.441048" height="565.119158" viewBox="44.33612599999999 -10.573984 926.441048 565.119158" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="ribbon_arrows" class="ribbon_arrows">\n<g id="step-1" class="step-1">\n<path id="step-1-accent" d="M79.0508 148.984H270.67L253.776 164.04L236.906 179.396V272.546H79.0508V148.984Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-card-textbox-bottom" x="62.1523" y="7.24219" width="220.148" height="120.799" fill="black" class="step-1 card textbox bottom"/>\n<rect id="step-1-accent-image" x="144.566" y="181.102" width="56.4482" height="56.4482" fill="#D9D9D9" class="step-1 accent image"/>\n<rect id="step-1-selection" x="52.5508" y="1.48438" width="240" height="278" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<path id="step-2-accent" d="M236.051 178.984H427.67L410.776 194.04L393.906 209.396V302.546H236.051V178.984Z" fill="#666BC3" class="step-2 accent"/>\n<rect id="step-2-textbox-card-top" x="210.043" y="350.453" width="220.148" height="120.799" fill="black" class="step-2 textbox card top"/>\n<rect id="step-2-accent-image" x="301.488" y="211.586" width="56.4482" height="56.4482" fill="#D9D9D9" class="step-2 accent image"/>\n<rect id="step-2-selection" x="200.551" y="168.484" width="237" height="313" stroke="black" class="step-2 selection"/>\n<g id="step-2-accent-dim" class="step-2 accent dim">\n<path d="M270.051 179.484V148.984L236.051 179.484H270.051Z" fill="#4046B4"/>\n<path d="M270.051 179.484V148.984L236.051 179.484H270.051Z" fill="black" fill-opacity="0.2"/>\n</g>\n</g>\n<g id="step-3" class="step-3">\n<path id="step-3-accent" d="M393.051 208.984H584.67L567.776 224.04L550.906 239.396V332.546H393.051V208.984Z" fill="#8C90D2" class="step-3 accent"/>\n<rect id="step-3-card-textbox-bottom" x="389.961" y="33.9844" width="227" height="121" fill="black" class="step-3 card textbox bottom"/>\n<rect id="step-3-accent-image" x="459.543" y="242.07" width="56.4482" height="56.4482" fill="#D9D9D9" class="step-3 accent image"/>\n<rect id="step-3-selection" x="381.551" y="26.4844" width="243" height="316" stroke="black" class="step-3 selection"/>\n<path id="step-3-accent-dim" d="M427.051 209.484V178.984L393.051 209.484H427.051Z" fill="#4046B4" class="step-3 accent dim"/>\n</g>\n<g id="step-4" class="step-4">\n<path id="step-4-accent" d="M550.051 238.984H741.67L724.776 254.04L707.906 269.396V362.546H550.051V238.984Z" fill="#B3B5E1" class="step-4 accent"/>\n<rect id="step-4-textbox-card-top" x="536.316" y="415.93" width="220.148" height="120.799" fill="black" class="step-4 textbox card top"/>\n<rect id="step-4-accent-image" x="617.602" y="272.547" width="56.4482" height="56.4482" fill="#D9D9D9" class="step-4 accent image"/>\n<rect id="step-4-selection" x="526.551" y="231.484" width="240" height="313" stroke="black" class="step-4 selection"/>\n<path id="step-4-accent-dim" d="M584.051 239.484V208.984L550.051 239.484H584.051Z" fill="#666BC3" class="step-4 accent dim"/>\n</g>\n<g id="step-5" class="step-5">\n<path id="step-5-accent-dim" d="M742.051 269.484V238.984L708.051 269.484H742.051Z" fill="#8C90D2" class="step-5 accent dim"/>\n<path id="step-5-accent" d="M952.961 332.985L891.461 419.588V393.523H708.176V269.962H891.461V246.383L952.961 332.985Z" fill="#D9DAF0" class="step-5 accent"/>\n<rect id="step-5-card-textbox-bottom" x="723.723" y="93.0469" width="220.148" height="120.799" fill="black" class="step-5 card textbox bottom"/>\n<rect id="step-5-accent-image" x="785.816" y="305.289" width="56.4482" height="56.4482" fill="#D9D9D9" class="step-5 accent image"/>\n<rect id="step-5-selection" x="700.551" y="85.4844" width="262" height="342" stroke="black" class="step-5 selection"/>\n</g>\n</g>\n</svg>\n'}).map(e=>{let[t,n]=e;return[Number(t.replace("ribbon_arrows_","")),n]})),t8="ribbon_arrows",ne={key:t8,Component:e=>{var t,n;let{data:i}=e,r=null!=(n=null==(t=i.step)?void 0:t.length)?n:5,o=t7.get(r);return o?(0,a.jsx)(ty,{svgData:o,templateKey:t8,svgScalingFactor:ne.svgScalingFactor,...e}):(console.error("No SVG data found for key",r),null)},label:()=>r.Ru._({id:"aBHvyl"}),previewImage:{src:"https://assets.gammahosted.com/j1bla5j5f/_next/static/media/ribbon_arrows.297df46f.svg",height:96,width:253,blurWidth:0,blurHeight:0},defaultColorScheme:"monochrome",allowedColorSchemes:["monochrome"],formattingMenu:$,stepSvgData:t7,defaultData:()=>C(t7),svgScalingFactor:1},nt=new Map(Object.entries({rings_1:'<svg class="rings" width="237.077" height="232.29580000000004" viewBox="381.996 14.9922 237.077 232.29580000000004" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="rings" class="rings">\n<g id="step-1" class="step-1">\n<path id="step-1-accent" d="M583.151 168.645C583.151 145.05 564.025 125.922 540.43 125.922H460.645C437.05 125.922 417.922 145.05 417.922 168.645C417.922 192.239 437.05 211.367 460.645 211.367H540.43C564.024 211.367 583.151 192.239 583.151 168.645ZM609.073 168.645C609.073 206.555 578.341 237.288 540.43 237.288H460.645C422.734 237.288 392 206.555 392 168.645C392 130.733 422.733 100 460.645 100H540.43C578.341 100 609.073 130.734 609.073 168.645Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-card-textbox" x="391.996" y="24.9922" width="216" height="60" fill="#D9D9D9" class="step-1 card textbox"/>\n<rect id="step-1-selection" x="383.5" y="13.5" width="235" height="236" stroke="black" class="step-1 selection"/>\n</g>\n</g>\n</svg>\n',rings_2:'<svg class="rings" width="358.851" height="370.9998" viewBox="320.996 14.9922 358.851 370.9998" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="rings" class="rings">\n<g id="step-1" class="step-1">\n<path id="step-1-accent" d="M479.43 100C513.021 100 540.975 124.129 546.909 156H520.248C514.858 138.578 498.622 125.922 479.43 125.922H399.645C376.05 125.922 356.922 145.05 356.922 168.645C356.922 192.239 376.05 211.367 399.645 211.367H454.059C454.039 211.466 454.019 211.566 454 211.665H479.037C479.599 211.665 480.158 211.65 480.714 211.629C480.744 211.533 480.776 211.438 480.808 211.343C499.159 210.761 514.586 198.608 520.039 181.938H546.786C540.595 213.486 512.793 237.288 479.43 237.288H399.645C361.734 237.288 331 206.555 331 168.645C331 130.733 361.733 100 399.645 100H479.43Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-card-textbox" x="330.996" y="24.9922" width="216" height="60" fill="#D9D9D9" class="step-1 card textbox"/>\n<rect id="step-1-selection" x="318.5" y="15.5" width="241" height="236" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<path id="step-2-accent" d="M601.203 156C639.114 156 669.847 186.734 669.847 224.645C669.847 262.555 639.114 293.288 601.203 293.288H521.418C487.938 293.288 460.056 269.319 453.996 237.605H479.033C479.588 237.605 480.141 237.598 480.692 237.585C486.175 254.854 502.334 267.367 521.418 267.367H601.203C624.798 267.367 643.925 248.239 643.925 224.645C643.925 201.05 624.798 181.922 601.203 181.922H553.991C553.993 181.927 553.994 181.932 553.996 181.938H518.978C500.65 182.646 486.047 194.898 480.71 211.629C480.154 211.65 479.595 211.665 479.033 211.665H453.996C459.956 180.476 486.758 156.777 519.496 156H601.203Z" fill="#8C90D2" class="step-2 accent"/>\n<rect id="step-2-card-textbox" x="452.996" y="315.992" width="216" height="60" fill="#D9D9D9" class="step-2 card textbox"/>\n<rect id="step-2-selection" x="439.5" y="145.5" width="243" height="244" stroke="black" class="step-2 selection"/>\n</g>\n</g>\n</svg>\n',rings_3:'<svg class="rings" width="482" height="370.9998" viewBox="260 14.9922 482 370.9998" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="rings" class="rings">\n<g id="step-1" class="step-1">\n<path id="step-1-accent" d="M418.43 100C452.021 100 479.975 124.129 485.909 156H459.248C453.858 138.578 437.622 125.922 418.43 125.922H338.645C315.05 125.922 295.922 145.05 295.922 168.645C295.922 192.239 315.05 211.367 338.645 211.367H393.059C393.039 211.466 393.019 211.566 393 211.665H418.037C418.599 211.665 419.158 211.65 419.714 211.629C419.744 211.533 419.776 211.438 419.808 211.343C438.159 210.761 453.586 198.608 459.039 181.938H485.786C479.595 213.486 451.793 237.288 418.43 237.288H338.645C300.734 237.288 270 206.555 270 168.645C270 130.733 300.733 100 338.645 100H418.43Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-card-textbox" x="270" y="24.9922" width="216" height="60" fill="#D9D9D9" class="step-1 card textbox"/>\n<rect id="step-1-selection" x="259.5" y="14.5" width="236" height="232" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<path id="step-2-accent" d="M608.024 236C601.849 267.568 573.853 293.288 540.477 293.288H484.862C484.865 293.274 484.867 293.26 484.869 293.246H458.326C426.353 292.163 399.926 267.333 393.527 237H417.211C418.299 237 419.432 236.92 420.5 237C426.053 252.561 440.275 266.719 457.455 267.245C463.21 267.421 475.262 267.452 484.392 267.458C484.385 267.428 484.38 267.397 484.374 267.367H515.055C515.038 267.453 515.02 267.54 515.004 267.626H540.041C540.602 267.626 541.162 267.611 541.718 267.59C541.744 267.508 541.771 267.426 541.798 267.345C560.188 266.786 575.836 252.707 581.283 236H608.024ZM540.477 156C574.054 156 602.074 178.648 608.024 210.5H581.358C575.956 193.099 559.655 181.922 540.477 181.922H460.691C441.132 181.922 424.643 194.105 419.574 212.041C418.79 212.014 418.002 212 417.211 212H393.039C398.586 179.654 426.763 156 460.691 156H540.477Z" fill="#8C90D2" class="step-2 accent"/>\n<rect id="step-2-card-textbox" x="392" y="315.992" width="216" height="60" fill="#D9D9D9" class="step-2 card textbox"/>\n<rect id="step-2-selection" x="382.5" y="148.5" width="236" height="239" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-3" class="step-3">\n<path id="step-3-accent" d="M583.484 236.289C549.893 236.289 521.94 213.16 516.005 181.289H542.666C548.057 198.711 564.292 210.367 583.484 210.367H663.27C686.865 210.367 705.992 191.24 705.992 167.645C705.992 144.05 686.864 124.922 663.27 124.922H608.855C608.875 124.823 608.895 124.723 608.914 124.624H583.877C583.315 124.624 582.757 124.639 582.2 124.66C582.17 124.756 582.138 124.851 582.106 124.946C563.755 125.528 548.205 139.331 542.752 156.001H516.005C522.196 124.452 550.121 99.0012 583.484 99.001H663.27C701.181 99.001 731.914 129.734 731.914 167.645C731.914 205.556 701.181 236.289 663.27 236.289H583.484Z" fill="#4046B4" class="step-3 accent"/>\n<rect id="step-3-card-textbox" x="516" y="24.9922" width="216" height="60" fill="#D9D9D9" class="step-3 card textbox"/>\n<rect id="step-3-selection" x="505.5" y="14.5" width="236" height="232" stroke="black" class="step-3 selection"/>\n</g>\n</g>\n</svg>\n',rings_4:'<svg class="rings" width="607.36" height="374.3598" viewBox="197.32 13.3122 607.36 374.3598" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="rings" class="rings">\n<g id="step-1" class="step-1">\n<path id="step-1-accent" d="M357.43 100C391.021 100 418.975 124.129 424.909 156H398.248C392.858 138.578 376.622 125.922 357.43 125.922H277.645C254.05 125.922 234.922 145.05 234.922 168.645C234.922 192.239 254.05 211.367 277.645 211.367H332.059C332.039 211.466 332.019 211.566 332 211.665H357.037C357.599 211.665 358.158 211.65 358.714 211.629C358.744 211.533 358.776 211.438 358.808 211.343C377.159 210.761 392.586 198.608 398.039 181.938H424.786C418.595 213.486 390.793 237.288 357.43 237.288H277.645C239.734 237.288 209 206.555 209 168.645C209 130.733 239.733 100 277.645 100H357.43Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-card-textbox" x="209" y="24.9922" width="216" height="60" fill="#D9D9D9" class="step-1 card textbox"/>\n<rect id="step-1-selection" x="198.5" y="14.5" width="236" height="232" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<path id="step-2-accent" d="M547.024 236C540.849 267.568 512.853 293.288 479.477 293.288H423.862C423.865 293.274 423.867 293.26 423.869 293.246H397.326C365.353 292.163 338.926 267.333 332.527 237H356.211C357.299 237 358.432 236.92 359.5 237C365.053 252.561 379.275 266.719 396.455 267.245C402.21 267.421 414.262 267.452 423.392 267.458C423.385 267.428 423.38 267.397 423.374 267.367H454.055C454.038 267.453 454.02 267.54 454.004 267.626H479.041C479.602 267.626 480.162 267.611 480.718 267.59C480.744 267.508 480.771 267.426 480.798 267.345C499.188 266.786 514.836 252.707 520.283 236H547.024ZM479.477 156C513.054 156 541.074 178.648 547.024 210.5H520.358C514.956 193.099 498.655 181.922 479.477 181.922H399.691C380.132 181.922 363.643 194.105 358.574 212.041C357.79 212.014 357.002 212 356.211 212H332.039C337.586 179.654 365.763 156 399.691 156H479.477Z" fill="#8C90D2" class="step-2 accent"/>\n<rect id="step-2-card-textbox" x="331" y="315.992" width="216" height="60" fill="#D9D9D9" class="step-2 card textbox"/>\n<rect id="step-2-selection" x="321.5" y="146.5" width="236" height="239" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-3" class="step-3">\n<path id="step-3-accent" d="M685.571 180.898C678.948 212.467 649.123 236.288 613.33 236.288H553.69C553.692 236.274 553.695 236.26 553.697 236.246H525.233C490.944 235.163 462.604 212.216 455.742 181.883H481.141C482.307 181.883 483.464 181.924 484.609 182.004C490.564 197.565 505.875 209.719 524.298 210.245C530.469 210.421 543.395 210.452 553.185 210.458C553.178 210.428 553.173 210.397 553.166 210.367H586.068C586.05 210.453 586.031 210.54 586.014 210.626H612.863C613.465 210.626 614.065 210.611 614.662 210.59C614.69 210.508 614.719 210.426 614.747 210.345C634.469 209.786 651.052 197.606 656.893 180.898H685.571ZM613.33 99C649.339 99.0003 679.307 123.109 685.688 154.961H657.091C651.298 137.559 633.897 124.922 613.33 124.922H527.769C506.794 124.922 489.111 138.065 483.675 156.002C482.834 155.975 481.989 155.961 481.141 155.961H455.219C461.167 123.615 491.385 99 527.769 99H613.33Z" fill="#4046B4" class="step-3 accent"/>\n<rect id="step-3-card-textbox" x="455.219" y="24.9922" width="231.638" height="60" fill="#D9D9D9" class="step-3 card textbox"/>\n<rect id="step-3-selection" x="443.5" y="14.5" width="252" height="232" stroke="black" class="step-3 selection"/>\n</g>\n<g id="step-4" class="step-4">\n<g id="step-4-accent" class="step-4 accent">\n<path d="M724.211 155C762.122 155 792.854 185.734 792.854 223.645C792.854 261.555 762.122 292.288 724.211 292.288H644.426C610.946 292.288 583.064 268.319 577.004 236.605H602.041C602.596 236.605 603.149 236.598 603.7 236.585C609.183 253.854 625.342 266.367 644.426 266.367H724.211C747.806 266.367 766.932 247.239 766.933 223.645C766.933 200.05 747.806 180.922 724.211 180.922H676.999C677.001 180.927 677.002 180.932 677.004 180.938H641.985C623.658 181.646 609.055 193.898 603.718 210.629C603.161 210.65 602.603 210.665 602.041 210.665H577.004C582.963 179.476 609.766 155.777 642.504 155H724.211Z" fill="white"/>\n<path d="M724.211 155C762.122 155 792.854 185.734 792.854 223.645C792.854 261.555 762.122 292.288 724.211 292.288H644.426C610.946 292.288 583.064 268.319 577.004 236.605H602.041C602.596 236.605 603.149 236.598 603.7 236.585C609.183 253.854 625.342 266.367 644.426 266.367H724.211C747.806 266.367 766.932 247.239 766.933 223.645C766.933 200.05 747.806 180.922 724.211 180.922H676.999C677.001 180.927 677.002 180.932 677.004 180.938H641.985C623.658 181.646 609.055 193.898 603.718 210.629C603.161 210.65 602.603 210.665 602.041 210.665H577.004C582.963 179.476 609.766 155.777 642.504 155H724.211Z" fill="#8C90D2"/>\n</g>\n<rect id="step-4-card-textbox" x="577" y="314.992" width="216" height="60" fill="#D9D9D9" class="step-4 card textbox"/>\n<rect id="step-4-selection" x="567.5" y="146.5" width="236" height="239" stroke="black" class="step-4 selection"/>\n</g>\n</g>\n</svg>\n',rings_5:'<svg class="rings" width="736.32" height="379.3198" viewBox="132.84 10.8322 736.32 379.3198" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="rings" class="rings">\n<g id="step-1" class="step-1">\n<path id="step-1-accent" d="M295.43 100C329.021 100 356.975 124.129 362.909 156H336.248C330.858 138.578 314.622 125.922 295.43 125.922H215.645C192.05 125.922 172.922 145.05 172.922 168.645C172.922 192.239 192.05 211.367 215.645 211.367H270.059C270.039 211.466 270.019 211.566 270 211.665H295.037C295.599 211.665 296.158 211.65 296.714 211.629C296.744 211.533 296.776 211.438 296.808 211.343C315.159 210.761 330.586 198.608 336.039 181.938H362.786C356.595 213.486 328.793 237.288 295.43 237.288H215.645C177.734 237.288 147 206.555 147 168.645C147 130.733 177.733 100 215.645 100H295.43Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-card-textbox" x="147" y="24.9922" width="216" height="60" fill="#D9D9D9" class="step-1 card textbox"/>\n<rect id="step-1-selection" x="136.5" y="14.5" width="236" height="232" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<path id="step-2-accent" d="M485.024 236C478.849 267.568 450.853 293.288 417.477 293.288H361.862C361.865 293.274 361.867 293.26 361.869 293.246H335.326C303.353 292.163 276.926 267.333 270.527 237H294.211C295.299 237 296.432 236.92 297.5 237C303.053 252.561 317.275 266.719 334.455 267.245C340.21 267.421 352.262 267.452 361.392 267.458C361.385 267.428 361.38 267.397 361.374 267.367H392.055C392.038 267.453 392.02 267.54 392.004 267.626H417.041C417.602 267.626 418.162 267.611 418.718 267.59C418.744 267.508 418.771 267.426 418.798 267.345C437.188 266.786 452.836 252.707 458.283 236H485.024ZM417.477 156C451.054 156 479.074 178.648 485.024 210.5H458.358C452.956 193.099 436.655 181.922 417.477 181.922H337.691C318.132 181.922 301.643 194.105 296.574 212.041C295.79 212.014 295.002 212 294.211 212H270.039C275.586 179.654 303.763 156 337.691 156H417.477Z" fill="#8C90D2" class="step-2 accent"/>\n<rect id="step-2-card-textbox" x="269" y="315.992" width="216" height="60" fill="#D9D9D9" class="step-2 card textbox"/>\n<rect id="step-2-selection" x="259.5" y="146.5" width="236" height="239" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-3" class="step-3">\n<path id="step-3-accent" d="M607.801 180.898C601.625 212.467 573.814 236.288 540.438 236.288H484.823C484.826 236.274 484.828 236.26 484.83 236.246H458.287C426.313 235.163 399.887 212.216 393.488 181.883H417.172C418.26 181.883 419.339 181.924 420.406 182.004C425.959 197.565 440.236 209.719 457.416 210.245C463.171 210.421 475.223 210.452 484.353 210.458C484.346 210.428 484.341 210.397 484.335 210.367H515.016C514.999 210.453 514.981 210.54 514.965 210.626H540.002C540.563 210.626 541.122 210.611 541.679 210.59C541.705 210.508 541.732 210.426 541.759 210.345C560.149 209.786 575.612 197.606 581.06 180.898H607.801ZM540.438 99C574.015 99.0003 601.96 123.109 607.91 154.961H581.244C575.842 137.559 559.616 124.922 540.438 124.922H460.652C441.093 124.922 424.604 138.065 419.535 156.002C418.751 155.975 417.963 155.961 417.172 155.961H393C398.547 123.615 426.724 99 460.652 99H540.438Z" fill="#4046B4" class="step-3 accent"/>\n<rect id="step-3-card-textbox" x="393" y="24.9922" width="216" height="60" fill="#D9D9D9" class="step-3 card textbox"/>\n<rect id="step-3-selection" x="386.5" y="14.5" width="236" height="232" stroke="black" class="step-3 selection"/>\n</g>\n<g id="step-4" class="step-4">\n<path id="step-4-accent" d="M730.024 235C723.849 266.568 695.853 292.288 662.477 292.288H606.862C606.865 292.274 606.867 292.26 606.869 292.246H580.326C548.353 291.163 521.926 266.333 515.527 236H539.211C540.299 236 541.432 235.92 542.5 236C548.053 251.561 562.275 265.719 579.455 266.245C585.21 266.421 597.262 266.452 606.392 266.458C606.385 266.428 606.38 266.397 606.374 266.367H637.055C637.038 266.453 637.02 266.54 637.004 266.626H662.041C662.602 266.626 663.162 266.611 663.718 266.59C663.744 266.508 663.771 266.426 663.798 266.345C682.188 265.786 697.836 251.707 703.283 235H730.024ZM662.477 155C696.054 155 724.074 177.648 730.024 209.5H703.358C697.956 192.099 681.655 180.922 662.477 180.922H582.691C563.132 180.922 546.643 193.105 541.574 211.041C540.79 211.014 540.002 211 539.211 211H515.039C520.586 178.654 548.763 155 582.691 155H662.477Z" fill="#8C90D2" class="step-4 accent"/>\n<rect id="step-4-card-textbox" x="515" y="314.992" width="216" height="60" fill="#D9D9D9" class="step-4 card textbox"/>\n<rect id="step-4-selection" x="505.5" y="146.5" width="236" height="239" stroke="black" class="step-4 selection"/>\n</g>\n<g id="step-5" class="step-5">\n<path id="step-5-accent" d="M705.484 235.287C671.893 235.287 643.94 212.158 638.005 180.287H664.666C670.057 197.709 686.292 209.365 705.484 209.365H785.27C808.865 209.365 827.992 190.238 827.992 166.643C827.992 143.048 808.864 123.92 785.27 123.92H730.855C730.875 123.821 730.895 123.721 730.914 123.622H705.877C705.315 123.622 704.757 123.637 704.2 123.658C704.17 123.754 704.138 123.849 704.106 123.944C685.755 124.526 670.205 138.329 664.752 154.999H638.005C644.196 123.45 672.121 97.9992 705.484 97.999H785.27C823.181 97.999 853.914 128.732 853.914 166.643C853.914 204.554 823.181 235.287 785.27 235.287H705.484Z" fill="#4046B4" class="step-5 accent"/>\n<rect id="step-5-card-textbox" x="639" y="24.9922" width="216" height="60" fill="#D9D9D9" class="step-5 card textbox"/>\n<rect id="step-5-selection" x="628.5" y="14.5" width="236" height="232" stroke="black" class="step-5 selection"/>\n</g>\n</g>\n</svg>\n',rings_6:'<svg class="rings" width="863.2" height="384.1998" viewBox="62.4 8.392199999999999 863.2 384.1998" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="rings" class="rings">\n<g id="step-1" class="step-1">\n<path id="step-1-accent" d="M227.43 100C261.021 100 288.975 124.129 294.909 156H268.248C262.858 138.578 246.622 125.922 227.43 125.922H147.645C124.05 125.922 104.922 145.05 104.922 168.645C104.922 192.239 124.05 211.367 147.645 211.367H202.059C202.039 211.466 202.019 211.566 202 211.665H227.037C227.599 211.665 228.158 211.65 228.714 211.629C228.744 211.533 228.776 211.438 228.808 211.343C247.159 210.761 262.586 198.608 268.039 181.938H294.786C288.595 213.486 260.793 237.288 227.43 237.288H147.645C109.734 237.288 79.0002 206.555 79 168.645C79 130.733 109.733 100 147.645 100H227.43Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-card-textbox" x="79" y="24.9922" width="216" height="60" fill="#D9D9D9" class="step-1 card textbox"/>\n<rect id="step-1-selection" x="68.5" y="18.5" width="236" height="232" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<path id="step-2-accent" d="M417.024 236C410.849 267.568 382.853 293.288 349.477 293.288H293.862C293.865 293.274 293.867 293.26 293.869 293.246H267.326C235.353 292.163 208.926 267.333 202.527 237H226.211C227.299 237 228.432 236.92 229.5 237C235.053 252.561 249.275 266.719 266.455 267.245C272.21 267.421 284.262 267.452 293.392 267.458C293.385 267.428 293.38 267.397 293.374 267.367H324.055C324.038 267.453 324.02 267.54 324.004 267.626H349.041C349.602 267.626 350.162 267.611 350.718 267.59C350.744 267.508 350.771 267.426 350.798 267.345C369.188 266.786 384.836 252.707 390.283 236H417.024ZM349.477 156C383.054 156 411.074 178.648 417.024 210.5H390.358C384.956 193.099 368.655 181.922 349.477 181.922H269.691C250.132 181.922 233.643 194.105 228.574 212.041C227.79 212.014 227.002 212 226.211 212H202.039C207.586 179.654 235.763 156 269.691 156H349.477Z" fill="#8C90D2" class="step-2 accent"/>\n<rect id="step-2-card-textbox" x="201" y="315.992" width="216" height="60" fill="#D9D9D9" class="step-2 card textbox"/>\n<rect id="step-2-selection" x="190.5" y="146.5" width="236" height="239" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-3" class="step-3">\n<path id="step-3-accent" d="M539.801 180.898C533.625 212.467 505.814 236.288 472.438 236.288H416.823C416.826 236.274 416.828 236.26 416.83 236.246H390.287C358.313 235.163 331.887 212.216 325.488 181.883H349.172C350.26 181.883 351.339 181.924 352.406 182.004C357.959 197.565 372.236 209.719 389.416 210.245C395.171 210.421 407.223 210.452 416.353 210.458C416.346 210.428 416.341 210.397 416.335 210.367H447.016C446.999 210.453 446.981 210.54 446.965 210.626H472.002C472.563 210.626 473.122 210.611 473.679 210.59C473.705 210.508 473.732 210.426 473.759 210.345C492.149 209.786 507.612 197.606 513.06 180.898H539.801ZM472.438 99C506.015 99.0003 533.96 123.109 539.91 154.961H513.244C507.842 137.559 491.616 124.922 472.438 124.922H392.652C373.093 124.922 356.604 138.065 351.535 156.002C350.751 155.975 349.963 155.961 349.172 155.961H325C330.547 123.615 358.724 99 392.652 99H472.438Z" fill="#4046B4" class="step-3 accent"/>\n<rect id="step-3-card-textbox" x="325" y="24.9922" width="216" height="60" fill="#D9D9D9" class="step-3 card textbox"/>\n<rect id="step-3-selection" x="314.5" y="18.5" width="236" height="232" stroke="black" class="step-3 selection"/>\n</g>\n<g id="step-4" class="step-4">\n<path id="step-4-accent" d="M662.024 235C655.849 266.568 627.853 292.288 594.477 292.288H538.862C538.865 292.274 538.867 292.26 538.869 292.246H512.326C480.353 291.163 453.926 266.333 447.527 236H471.211C472.299 236 473.432 235.92 474.5 236C480.053 251.561 494.275 265.719 511.455 266.245C517.21 266.421 529.262 266.452 538.392 266.458C538.385 266.428 538.38 266.397 538.374 266.367H569.055C569.038 266.453 569.02 266.54 569.004 266.626H594.041C594.602 266.626 595.162 266.611 595.718 266.59C595.744 266.508 595.771 266.426 595.798 266.345C614.188 265.786 629.836 251.707 635.283 235H662.024ZM594.477 155C628.054 155 656.074 177.648 662.024 209.5H635.358C629.956 192.099 613.655 180.922 594.477 180.922H514.691C495.132 180.922 478.643 193.105 473.574 211.041C472.79 211.014 472.002 211 471.211 211H447.039C452.586 178.654 480.763 155 514.691 155H594.477Z" fill="#8C90D2" class="step-4 accent"/>\n<rect id="step-4-card-textbox" x="447" y="314.992" width="216" height="60" fill="#D9D9D9" class="step-4 card textbox"/>\n<rect id="step-4-selection" x="436.5" y="146.5" width="236" height="239" stroke="black" class="step-4 selection"/>\n</g>\n<g id="step-5" class="step-5">\n<path id="step-5-accent" d="M784.801 179.898C778.625 211.467 750.814 235.288 717.438 235.288H661.823C661.826 235.274 661.828 235.26 661.83 235.246H635.287C603.313 234.163 576.887 211.216 570.488 180.883H594.172C595.26 180.883 596.339 180.924 597.406 181.004C602.959 196.565 617.236 208.719 634.416 209.245C640.171 209.421 652.223 209.452 661.353 209.458C661.346 209.428 661.341 209.397 661.335 209.367H692.016C691.999 209.453 692.032 209.281 692.016 209.367H717C717.561 209.367 717.944 209.389 718.5 209.367C718.526 209.285 718.732 209.426 718.759 209.345C737.149 208.786 752.612 196.606 758.06 179.898H784.801ZM717.438 98C751.015 98.0003 778.96 122.109 784.91 153.961H758.244C752.842 136.559 736.616 123.922 717.438 123.922H637.652C618.093 123.922 601.604 137.065 596.535 155.002C595.751 154.975 594.963 154.961 594.172 154.961H570C575.547 122.615 603.724 98 637.652 98H717.438Z" fill="#4046B4" class="step-5 accent"/>\n<rect id="step-5-card-textbox" x="571" y="24.9922" width="216" height="60" fill="#D9D9D9" class="step-5 card textbox"/>\n<rect id="step-5-selection" x="560.5" y="18.5" width="236" height="232" stroke="black" class="step-5 selection"/>\n</g>\n<g id="step-6" class="step-6">\n<rect id="step-6-card-textbox" x="693" y="313.992" width="216" height="60" fill="#D9D9D9" class="step-6 card textbox"/>\n<path id="step-6-accent" d="M839.363 153.629C877.315 153.629 908.08 184.395 908.08 222.346C908.08 260.298 877.315 291.063 839.363 291.063H759.494C725.978 291.063 698.067 267.069 692 235.321H717.064C717.619 235.321 718.173 235.314 718.725 235.301C724.213 252.588 740.389 265.114 759.494 265.114H839.363C862.983 265.114 882.13 245.966 882.131 222.346C882.131 198.726 862.983 179.579 839.363 179.578H792.101C792.103 179.584 792.105 179.589 792.106 179.594H757.051C738.704 180.303 724.085 192.568 718.742 209.317C718.185 209.338 717.626 209.353 717.064 209.353H692C697.966 178.131 724.797 154.407 757.57 153.629H839.363Z" fill="#8C90D2" class="step-6 accent"/>\n<rect id="step-6-selection" x="678.5" y="146.5" width="236" height="239" stroke="black" class="step-6 selection"/>\n</g>\n</g>\n</svg>\n'}).map(e=>{let[t,n]=e;return[Number(t.replace("rings_","")),n]})),nn="rings",na={key:nn,Component:e=>{var t,n;let{data:i}=e,r=null!=(n=null==(t=i.step)?void 0:t.length)?n:5,o=nt.get(r);return o?(0,a.jsx)(ty,{svgData:o,templateKey:nn,svgScalingFactor:na.svgScalingFactor,...e}):(console.error("No SVG data found for key",r),null)},label:()=>r.Ru._({id:"ZoIl0W"}),icon:tI.CQO,previewImage:{src:"https://assets.gammahosted.com/j1bla5j5f/_next/static/media/rings.9591dd73.svg",height:96,width:253,blurWidth:0,blurHeight:0},defaultColorScheme:"alternating",allowedColorSchemes:["alternating"],stepSvgData:nt,formattingMenu:$,defaultData:()=>C(nt),svgScalingFactor:1},ni=new Map(Object.entries({slope_2:'<svg class="slope-frame" width="365.779" height="395.13800000000003" viewBox="318 148 365.779 395.13800000000003" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="slope-frame">\n<g id="step-1" class="step-1 accent">\n<path id="step-1-accent" fill-rule="evenodd" clip-rule="evenodd" d="M411.944 204.898C458.306 204.898 495.889 242.482 495.889 288.843V533.138H328V288.843C328 242.482 365.583 204.898 411.944 204.898ZM412 222.328C376.101 222.328 347 251.43 347 287.328C347 323.227 376.101 352.328 412 352.328C447.899 352.328 477 323.227 477 287.328C477 251.43 447.899 222.328 412 222.328Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-accent-textbox" x="331.1689453125" y="372.92578125" width="160" height="128" class="step-1 accent textbox" fill="#E5E5E5"/>\n<rect id="step-1-selection" x="329.5" y="251.5" width="166" height="258" stroke="black" class="step-1 selection"/>\n<rect id="step-1-card-image" x="384" y="260" width="55" height="55" class="step-1 image subtle" fill="#666666"/>\n</g>\n<g id="step-2" class="step-2 accent">\n<path id="step-2-accent" fill-rule="evenodd" clip-rule="evenodd" d="M589.835 158C636.196 158 673.779 195.583 673.779 241.944V533.131H505.891V241.944C505.891 195.583 543.474 158 589.835 158ZM590.002 175.328C554.103 175.328 525.002 204.43 525.002 240.328C525.002 276.227 554.103 305.328 590.002 305.328C625.9 305.328 655.002 276.227 655.002 240.328C655.002 204.43 625.9 175.328 590.002 175.328Z" fill="#666BC3" class="step-2 accent"/>\n<rect id="step-2-accent-textbox" x="511.1669921875" y="326.92578125" width="156" height="128" class="step-2 accent textbox" fill="#E5E5E5"/>\n<rect id="step-2-selection" x="507.5" y="204.5" width="166" height="258" stroke="black" class="step-2 selection"/>\n<rect id="step-2-card-image" x="562" y="213" width="55" height="55" class="step-2 image subtle" fill="#666666"/>\n</g>\n</g>\n</svg>\n',slope_3:'<svg class="slope-frame" width="545.5278400000002" height="443.00984000000005" viewBox="228.50907999999998 101.50907999999998 545.5278400000002 443.00984000000005" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="slope-frame">\n<g id="step-1" class="step-1 accent">\n<path id="step-1-accent" fill-rule="evenodd" clip-rule="evenodd" d="M322.944 205.789C369.306 205.789 406.889 243.372 406.889 289.733V534.028H239V289.733C239 243.372 276.583 205.789 322.944 205.789ZM323 223.219C287.101 223.219 258 252.32 258 288.219C258 324.117 287.101 353.219 323 353.219C358.899 353.219 388 324.117 388 288.219C388 252.32 358.899 223.219 323 223.219Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-card-image" x="295" y="260" width="55" height="55" class="step-1 image subtle" fill="#666666"/>\n<rect id="step-1-accent-textbox" x="242.1689453125" y="373.0625" width="160" height="128" class="step-1 accent textbox" fill="#E5E5E5"/>\n<rect id="step-1-selection" x="240.5" y="252.5" width="166" height="258" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2 accent">\n<path id="step-2-accent" fill-rule="evenodd" clip-rule="evenodd" d="M500.827 158.891C547.188 158.891 584.771 196.474 584.771 242.835V534.021H416.883V242.835C416.883 196.474 454.466 158.891 500.827 158.891ZM500.994 176.219C465.096 176.219 435.994 205.32 435.994 241.219C435.994 277.117 465.096 306.219 500.994 306.219C536.893 306.219 565.994 277.117 565.994 241.219C565.994 205.32 536.893 176.219 500.994 176.219Z" fill="#666BC3" class="step-2 accent"/>\n<rect id="step-2-card-image" x="473" y="213" width="55" height="55" class="step-2 image subtle" fill="#666666"/>\n<rect id="step-2-accent-textbox" x="422.1748046875" y="327.0625" width="156" height="128" class="step-2 accent textbox" fill="#E5E5E5"/>\n<rect id="step-2-selection" x="418.5" y="205.5" width="166" height="258" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-3" class="step-3 accent">\n<path id="step-3-accent" fill-rule="evenodd" clip-rule="evenodd" d="M679.159 112C725.764 112 763.546 149.782 763.546 196.387V534.022H594.773V196.387C594.773 149.782 632.554 112 679.159 112ZM678.996 129.219C643.098 129.219 613.996 158.32 613.996 194.219C613.996 230.117 643.098 259.219 678.996 259.219C714.895 259.219 743.996 230.117 743.996 194.219C743.996 158.32 714.895 129.219 678.996 129.219Z" fill="#8C90D2" class="step-3 accent"/>\n<rect id="step-3-accent-textbox" x="599.1728515625" y="280.0625" width="160" height="128" class="step-3 accent textbox" fill="#E5E5E5"/>\n<rect id="step-3-selection" x="595.5" y="158.5" width="168" height="258" stroke="black" class="step-3 selection"/>\n<rect id="step-3-card-image" x="651" y="166" width="55" height="55" class="step-3 image subtle" fill="#666666"/>\n</g>\n</g>\n</svg>\n',slope_4:'<svg class="slope-frame" width="730.53344" height="497.01644" viewBox="135.95127999999997 50.95127999999998 730.53344 497.01644" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="slope-frame">\n<g id="step-1" class="step-1 accent">\n<path id="step-1-accent" fill-rule="evenodd" clip-rule="evenodd" d="M233.944 205.68C280.306 205.68 317.889 243.263 317.889 289.624V533.919H150V289.624C150 243.263 187.583 205.68 233.944 205.68ZM234 223.109C198.101 223.109 169 252.211 169 288.109C169 324.008 198.101 353.109 234 353.109C269.899 353.109 299 324.008 299 288.109C299 252.211 269.899 223.109 234 223.109Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-accent-textbox" x="153.1689453125" y="374.0625" width="160" height="128" class="step-1 accent textbox" fill="#E5E5E5"/>\n<rect id="step-1-selection" x="151.5" y="252.5" width="166" height="258" stroke="black" class="step-1 selection"/>\n<rect id="step-1-card-image" x="206" y="260" width="55" height="55" class="step-1 image subtle" fill="#666666"/>\n</g>\n<g id="step-2" class="step-2 accent">\n<path id="step-2-accent" fill-rule="evenodd" clip-rule="evenodd" d="M411.827 158.781C458.188 158.781 495.771 196.364 495.771 242.726V533.912H327.883V242.726C327.883 196.364 365.466 158.781 411.827 158.781ZM411.994 176.109C376.096 176.109 346.994 205.211 346.994 241.109C346.994 277.008 376.096 306.109 411.994 306.109C447.893 306.109 476.994 277.008 476.994 241.109C476.994 205.211 447.893 176.109 411.994 176.109Z" fill="#666BC3" class="step-2 accent"/>\n<rect id="step-2-accent-textbox" x="332.1748046875" y="327.0625" width="160" height="128" class="step-2 accent textbox" fill="#E5E5E5"/>\n<rect id="step-2-selection" x="329.5" y="205.5" width="166" height="258" stroke="black" class="step-2 selection"/>\n<rect id="step-2-card-image" x="384" y="213" width="55" height="55" class="step-2 image subtle" fill="#666666"/>\n</g>\n<g id="step-3" class="step-3 accent">\n<path id="step-3-accent" fill-rule="evenodd" clip-rule="evenodd" d="M590.159 111.891C636.764 111.891 674.546 149.672 674.546 196.277V533.913H505.773V196.277C505.773 149.672 543.554 111.891 590.159 111.891ZM589.996 129.109C554.098 129.109 524.996 158.211 524.996 194.109C524.996 230.008 554.098 259.109 589.996 259.109C625.895 259.109 654.996 230.008 654.996 194.109C654.996 158.211 625.895 129.109 589.996 129.109Z" fill="#8C90D2" class="step-3 accent"/>\n<rect id="step-3-accent-textbox" x="510.1728515625" y="280.0625" width="160" height="128" class="step-3 accent textbox" fill="#E5E5E5"/>\n<rect id="step-3-selection" x="506.5" y="158.5" width="168" height="258" stroke="black" class="step-3 selection"/>\n<rect id="step-3-card-image" x="562" y="166" width="55" height="55" class="step-3 image subtle" fill="#666666"/>\n</g>\n<g id="step-4" class="step-4 accent">\n<path id="step-4-accent" fill-rule="evenodd" clip-rule="evenodd" d="M768.491 65C814.852 65 852.436 102.583 852.436 148.944V533.913H684.547V148.944C684.547 102.583 722.13 65 768.491 65ZM767.998 82.1094C732.1 82.1094 702.998 111.211 702.998 147.109C702.998 183.008 732.1 212.109 767.998 212.109C803.897 212.109 832.998 183.008 832.998 147.109C832.998 111.211 803.897 82.1094 767.998 82.1094Z" fill="#B3B5E1" class="step-4 accent"/>\n<rect id="step-4-accent-textbox" x="687.1708984375" y="233.0625" width="160" height="128" class="step-4 accent textbox" fill="#E5E5E5"/>\n<rect id="step-4-selection" x="685.5" y="111.5" width="166" height="258" stroke="black" class="step-4 selection"/>\n<rect id="step-4-card-image" x="740" y="119" width="55" height="55" class="step-4 image subtle" fill="#666666"/>\n</g>\n</g>\n</svg>\n',slope_5:'<svg class="slope-frame" width="915.5390400000001" height="551.0230399999999" viewBox="43.39348 0.3934799999999967 915.5390400000001 551.0230399999999" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="slope-frame">\n<g id="step-1" class="step-1 accent">\n<path id="step-1-accent" fill-rule="evenodd" clip-rule="evenodd" d="M144.944 205.57C191.306 205.57 228.889 243.153 228.889 289.515V533.81H61V289.515C61 243.153 98.5832 205.57 144.944 205.57ZM145 223C109.101 223 80 252.101 80 288C80 323.899 109.101 353 145 353C180.899 353 210 323.899 210 288C210 252.101 180.899 223 145 223Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-accent-textbox" x="64.1689453125" y="377.0625" width="160" height="125" class="step-1 accent textbox" fill="#E5E5E5"/>\n<rect id="step-1-selection" x="62.5" y="252.5" width="166" height="258" stroke="black" class="step-1 selection"/>\n<rect id="step-1-card-image" x="117" y="260" width="55" height="55" class="step-1 image subtle" fill="#666666"/>\n</g>\n<g id="step-2" class="step-2 accent">\n<path id="step-2-accent" fill-rule="evenodd" clip-rule="evenodd" d="M322.827 158.672C369.188 158.672 406.771 196.255 406.771 242.616V533.803H238.883V242.616C238.883 196.255 276.466 158.672 322.827 158.672ZM322.994 176C287.096 176 257.994 205.101 257.994 241C257.994 276.899 287.096 306 322.994 306C358.893 306 387.994 276.899 387.994 241C387.994 205.101 358.893 176 322.994 176Z" fill="#666BC3" class="step-2 accent"/>\n<rect id="step-2-accent-textbox" x="242.1748046875" y="327.0625" width="160" height="128" class="step-2 accent textbox" fill="#E5E5E5"/>\n<rect id="step-2-selection" x="239.5" y="205.5" width="167" height="258" stroke="black" class="step-2 selection"/>\n<rect id="step-2-card-image" x="295" y="213" width="55" height="55" class="step-2 image subtle" fill="#666666"/>\n</g>\n<g id="step-3" class="step-3 accent">\n<path id="step-3-accent" fill-rule="evenodd" clip-rule="evenodd" d="M501.159 111.781C547.764 111.781 585.546 149.563 585.546 196.168V533.804H416.773V196.168C416.773 149.563 454.554 111.781 501.159 111.781ZM500.996 129C465.098 129 435.996 158.101 435.996 194C435.996 229.899 465.098 259 500.996 259C536.895 259 565.996 229.899 565.996 194C565.996 158.101 536.895 129 500.996 129Z" fill="#8C90D2" class="step-3 accent"/>\n<rect id="step-3-accent-textbox" x="421.1728515625" y="280.0625" width="160" height="128" class="step-3 accent textbox" fill="#E5E5E5"/>\n<rect id="step-3-selection" x="417.5" y="158.5" width="168" height="258" stroke="black" class="step-3 selection"/>\n<rect id="step-3-card-image" x="473" y="166" width="55" height="55" class="step-3 image subtle" fill="#666666"/>\n</g>\n<g id="step-4" class="step-4 accent">\n<path id="step-4-accent" fill-rule="evenodd" clip-rule="evenodd" d="M679.491 64.8906C725.852 64.8906 763.436 102.474 763.436 148.835V533.804H595.547V148.835C595.547 102.474 633.13 64.8907 679.491 64.8906ZM678.998 82C643.1 82 613.998 111.101 613.998 147C613.998 182.899 643.1 212 678.998 212C714.897 212 743.998 182.899 743.998 147C743.998 111.101 714.897 82 678.998 82Z" fill="#B3B5E1" class="step-4 accent"/>\n<rect id="step-4-accent-textbox" x="598.1708984375" y="233.0625" width="160" height="128" class="step-4 accent textbox" fill="#E5E5E5"/>\n<rect id="step-4-selection" x="596.5" y="111.5" width="166" height="258" stroke="black" class="step-4 selection"/>\n<rect id="step-4-card-image" x="651" y="119" width="55" height="55" class="step-4 image subtle" fill="#666666"/>\n</g>\n<g id="step-5" class="step-5 accent">\n<path id="step-5" fill-rule="evenodd" clip-rule="evenodd" d="M857.382 18C903.743 18 941.326 55.5832 941.326 101.944V533.809H773.438V101.944C773.438 55.5832 811.021 18 857.382 18ZM858 35C822.101 35 793 64.1015 793 100C793 135.899 822.101 165 858 165C893.899 165 923 135.899 923 100C923 64.1015 893.899 35 858 35Z" fill="#D9DAF0" class="step-5 accent"/>\n<rect id="step-5-textbox" x="776.1689453125" y="186.0625" width="160" height="128" class="step-5 textbox accent" fill="#E5E5E5"/>\n<rect id="step-5-selection" x="773.5" y="64.5" width="168" height="258" stroke="black" class="step-5 selection"/>\n<rect id="step-5-card-image" x="830" y="69" width="55" height="55" class="step-5 image subtle" fill="#666666"/>\n</g>\n</g>\n</svg>\n'}).map(e=>{let[t,n]=e,a=t.match(/_([0-9]+)$/);return[a?Number(a[1]):1,n]})),nr="slope",no={key:nr,Component:e=>{var t,n;let{data:i}=e,r=null!=(n=null==(t=i.step)?void 0:t.length)?n:4,o=ni.get(r);return o?(0,a.jsx)(ty,{svgData:o,templateKey:nr,svgScalingFactor:no.svgScalingFactor,...e}):(console.error("No SVG data found for key",r),null)},label:()=>r.Ru._({id:"ppRU+y"}),icon:i.pyr,defaultColorScheme:"monochrome",stepSvgData:ni,previewImage:{src:"https://assets.gammahosted.com/j1bla5j5f/_next/static/media/slope.09a45f04.svg",height:96,width:253,blurWidth:0,blurHeight:0},formattingMenu:$,defaultData:()=>C(ni),svgScalingFactor:1},nl=new Map(Object.entries({square_cycle_4:'<svg class="square_cycle-frame" width="1004.640208" height="416.520508" viewBox="0.7737960000000008 14.160495999999998 1004.640208 416.520508" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="square_cycle-frame">\n<g id="step-4" class="step-4">\n<path id="step-4-accent" d="M353.612 208.309H368.938V227.029H311.333V411.361H495.664V357.993H488.703V373.226C488.703 374.179 487.496 374.592 486.912 373.838L444.927 319.605C444.648 319.245 444.648 318.741 444.927 318.381L486.912 264.148C487.496 263.395 488.703 263.808 488.703 264.761V280.993H495.664V227.029H438.062V208.309H453.385L403.499 169.426L353.612 208.309Z" fill="#B3B5E1" class="step-4 accent"/>\n<rect id="step-4-accent-image" x="378" y="294" width="50" height="50" fill="#D9D9D9" class="step-4 accent image"/>\n<rect id="step-4-card-textbox" x="20.0938" y="271" width="263" height="96" fill="#D9D9D9" class="step-4 card textbox"/>\n<rect id="step-4-selection" x="11.5938" y="263.5" width="434" height="111" stroke="black" class="step-4 selection"/>\n</g>\n<g id="step-3" class="step-3">\n<path id="step-3-accent" d="M504.88 284.631H486.16V269.307L447.277 319.193L486.16 369.079V353.755H504.88V411.359H689.211V227.027H635.453V234.741H651.686C652.639 234.741 653.052 235.949 652.298 236.532L598.065 278.518C597.705 278.797 597.201 278.796 596.841 278.518L542.608 236.532C541.855 235.949 542.267 234.741 543.221 234.741H558.453V227.027H504.88V284.631Z" fill="#8C90D2" class="step-3 accent"/>\n<rect id="step-3-card-textbox" x="714.094" y="271" width="263" height="96" fill="#D9D9D9" class="step-3 card textbox"/>\n<rect id="step-3-accent-image" x="572.094" y="294" width="50" height="50" fill="#D9D9D9" class="step-3 accent image"/>\n<rect id="step-3-selection" x="555.594" y="263.5" width="430" height="111" stroke="black" class="step-3 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<path id="step-2-accent" d="M504.88 88.2266H512.469V71.9941C512.469 71.0411 513.676 70.6283 514.26 71.3818L556.245 125.614C556.524 125.975 556.524 126.478 556.245 126.839L514.26 181.071C513.676 181.825 512.469 181.412 512.469 180.459V165.227H504.88V217.812H562.485V236.533H547.158L597.045 275.416L646.931 236.533H631.609V217.812H689.211V33.4805H504.88V88.2266Z" fill="#4046B4" class="step-2 accent"/>\n<rect id="step-2-card-textbox" x="723.094" y="79" width="263" height="96" fill="#D9D9D9" class="step-2 card textbox"/>\n<rect id="step-2-accent-image" x="573.094" y="101" width="50" height="50" fill="#D9D9D9" class="step-2 accent image"/>\n<rect id="step-2-selection" x="553.594" y="72.5" width="439" height="111" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-1" class="step-1">\n<path id="step-1-accent" d="M311.322 217.812H364.207V210.978H348.975C348.021 210.978 347.609 209.77 348.362 209.187L402.595 167.201C402.955 166.922 403.459 166.922 403.819 167.201L458.052 209.187C458.805 209.77 458.393 210.977 457.439 210.978H441.207V217.812H495.654V160.208H514.375V175.532L553.258 125.646L514.375 75.7598V91.084H495.654V33.4805H311.322V217.812Z" fill="#D9DAF0" class="step-1 accent"/>\n<rect id="step-1-card-textbox" x="20.0938" y="80" width="263" height="96" fill="#D9D9D9" class="step-1 card textbox"/>\n<rect id="step-1-accent-image" x="378.094" y="103" width="50" height="50" fill="#D9D9D9" class="step-1 accent image"/>\n<rect id="step-1-selection" x="11.5938" y="72.5" width="434" height="111" stroke="black" class="step-1 selection"/>\n</g>\n</g>\n</svg>\n'}).map(e=>{let[t,n]=e,a=t.match(/_([0-9]+)$/);return[a?Number(a[1]):1,n]})),ns="square_arrows",nd={key:ns,Component:e=>{var t,n;let{data:i}=e,r=null!=(n=null==(t=i.step)?void 0:t.length)?n:4,o=nl.get(r);return o?(0,a.jsx)(ty,{svgData:o,templateKey:ns,svgScalingFactor:nd.svgScalingFactor,...e}):(console.error("No SVG data found for key",r),null)},label:()=>r.Ru._({id:"Rnzk97"}),previewImage:{src:"https://assets.gammahosted.com/j1bla5j5f/_next/static/media/square_arrows.b7d5390b.svg",height:96,width:253,blurWidth:0,blurHeight:0},defaultColorScheme:"monochrome",allowedColorSchemes:["monochrome"],formattingMenu:$,stepSvgData:nl,defaultData:()=>C(nl),svgScalingFactor:1},nc=new Map(Object.entries({swoosh_1:'<svg class="swoosh" width="817.44" height="186.44" viewBox="89.28 95.28 817.44 186.44" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="swoosh" class="swoosh">\n<g id="step-1" class="step-1">\n<path id="step-1-accent" d="M433 181.39H236.218C206.003 181.39 181.509 205.974 181.509 236.299V266H105V197.697C105 149.816 143.674 111 191.382 111H433V181.39Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-card-textbox-left" x="453" y="115.002" width="438" height="64.1481" fill="#D9D9D9" class="step-1 card textbox left"/>\n<rect id="step-1-selection" x="446.5" y="107.5" width="455" height="80" stroke="black" class="step-1 selection"/>\n</g>\n</g>\n</svg>\n',swoosh_2:'<svg class="swoosh" width="892.32" height="260.32" viewBox="51.83999999999999 58.84 892.32 260.32" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="swoosh" class="swoosh">\n<g id="step-1" class="step-1">\n<rect id="step-1-card-textbox-left" x="489" y="80.9863" width="438" height="63.9035" fill="#D9D9D9" class="step-1 card textbox left"/>\n<rect id="step-1-selection" x="481.5" y="71.5" width="455" height="79" stroke="black" class="step-1 selection"/>\n<path id="step-1-accent" d="M469 147.071H227.538C179.862 147.071 141.213 185.869 141.213 233.729V302H69V191.545C69 127.731 120.532 76.0002 184.101 76H469V147.071Z" fill="#666BC3" class="step-1 accent"/>\n</g>\n<g id="step-2" class="step-2">\n<path id="step-2-accent" d="M469 217.39H272.218C242.003 217.39 217.509 241.974 217.509 272.299V302H141V233.697C141 185.816 179.674 147 227.382 147H469V217.39Z" fill="#4046B4" class="step-2 accent"/>\n<rect id="step-2-card-textbox" x="489" y="151.002" width="438" height="64.1481" fill="#D9D9D9" class="step-2 card textbox left"/>\n<rect id="step-2-selection" x="481.5" y="145.5" width="455" height="76" stroke="black" class="step-2 selection"/>\n</g>\n</g>\n</svg>\n',swoosh_3:'<svg class="swoosh" width="956.7999618015795" height="329.80003605632817" viewBox="19.600037463835477 23.599963209086837 956.7999618015795 329.80003605632817" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="swoosh" class="swoosh">\n<g id="step-1" class="step-1">\n<path id="step-1-accent" d="M500 109.071H326.394C326.394 109.071 297.972 109.113 268.476 109.071C224.705 109.071 227.025 109.071 203.926 109.844C184.529 112.185 168.031 117.693 151.532 128.708C137.034 137.721 126.035 149.738 115.036 167.764C109.536 178.279 100.537 195.303 100.112 222.862V335H38.1298L38.1298 192.635C35.0432 122.199 87.0382 38.0805 192.264 42.1415L500 42.1415V109.071Z" fill="#B3B5E1" class="step-1 accent"/>\n<rect id="step-1-card-textbox-left" x="520" y="44.9922" width="438" height="64" fill="#D9D9D9" class="step-1 card textbox left"/>\n<rect id="step-1-selection" x="512.5" y="38.5" width="455" height="75" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<rect id="step-2-card-textbox" x="520" y="113.986" width="438" height="63.9035" fill="#D9D9D9" class="step-2 card textbox left"/>\n<rect id="step-2-selection" x="512.5" y="109.5" width="455" height="74" stroke="black" class="step-2 selection"/>\n<path id="step-2-accent" d="M500 180.071H258.538C210.862 180.071 172.213 218.869 172.213 266.729V335H100V224.545C100 160.731 151.532 109 215.101 109H500V180.071Z" fill="#666BC3" class="step-2 accent"/>\n</g>\n<g id="step-3" class="step-3">\n<path id="step-3-accent" d="M500 250.39H303.218C273.003 250.39 248.509 274.974 248.509 305.299V335H172V266.697C172 218.816 210.674 180 258.382 180H500V250.39Z" fill="#4046B4" class="step-3 accent"/>\n<rect id="step-3-card-textbox-left" x="520" y="184.002" width="438" height="64.1481" fill="#D9D9D9" class="step-3 card textbox left"/>\n<rect id="step-3-selection" x="512.5" y="178.5" width="455" height="76" stroke="black" class="step-3 selection"/>\n</g>\n</g>\n</svg>\n',swoosh_4:'<svg class="swoosh" width="1019.2" height="398.209" viewBox="-11.600000000000001 -10.600000000000001 1019.2 398.209" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="swoosh" class="swoosh">\n<g id="step-1" class="step-1">\n<path id="step-1-accent" d="M530 75.4842H334C334 75.4842 301.858 75.5389 268.5 75.4842C219 75.4842 202.406 75.251 195.5 76.4838C132.5 83.9803 86.5 129.462 73 183.441C71.5 188.938 68.5 195.935 68.5 219.925V368.009H8V183.441C9 87.4789 85 10.51 182.312 11.0102H530V75.4842Z" fill="#D9DAF0" class="step-1 accent"/>\n<rect id="step-1-card-textbox-left" x="550" y="9" width="438" height="63.9742" fill="#D9D9D9" class="step-1 card textbox left"/>\n<rect id="step-1-selection" x="544.5" y="4.5" width="450" height="73" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<path id="step-2-accent" d="M530 142.078H356.394C356.394 142.078 327.972 142.121 298.476 142.078C254.705 142.078 257.025 142.078 233.926 142.852C214.529 145.193 198.031 150.701 181.532 161.716C167.034 170.729 156.035 182.746 145.036 200.771C139.536 211.286 130.537 228.31 130.112 255.87V368.008H68.1298L68.1298 225.643C65.0432 155.207 117.038 71.0883 222.264 75.1494L530 75.1493V142.078Z" fill="#B3B5E1" class="step-2 accent"/>\n<rect id="step-2-card-textbox-left" x="550" y="78" width="438" height="64" fill="#D9D9D9" class="step-2 card textbox left"/>\n<rect id="step-2-selection" x="544.5" y="73.5" width="450" height="73" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-3" class="step-3">\n<rect id="step-3-card-textbox-left" x="550" y="146.994" width="438" height="63.9035" fill="#D9D9D9" class="step-3 card textbox left"/>\n<rect id="step-3-selection" x="544.5" y="142.5" width="450" height="74" stroke="black" class="step-3 selection"/>\n<path id="step-3-accent" d="M530 213.079H288.538C240.862 213.079 202.213 251.877 202.213 299.737V368.008H130V257.552C130 193.739 181.532 142.008 245.101 142.008H530V213.079Z" fill="#666BC3" class="step-3 accent"/>\n</g>\n<g id="step-4" class="step-4">\n<path id="step-4-accent" d="M530 283.398H333.218C303.003 283.398 278.509 307.981 278.509 338.306V368.008H202V299.705C202 251.824 240.674 213.008 288.382 213.008H530V283.398Z" fill="#4046B4" class="step-4 accent"/>\n<rect id="step-4-card-textbox-left" x="550" y="217.01" width="438" height="64.1481" fill="#D9D9D9" class="step-4 card textbox left"/>\n<rect id="step-4-selection" x="544.5" y="211.5" width="450" height="75" stroke="black" class="step-4 selection"/>\n</g>\n</g>\n</svg>\n'}).map(e=>{let[t,n]=e;return[Number(t.replace("swoosh_","")),n]})),nu="swoosh",np={key:nu,Component:e=>{var t,n;let{data:i}=e,r=null!=(n=null==(t=i.step)?void 0:t.length)?n:4,o=nc.get(r);return o?(0,a.jsx)(ty,{svgData:o,templateKey:nu,svgScalingFactor:np.svgScalingFactor,...e}):(console.error("No SVG data found for key",r),null)},label:()=>r.Ru._({id:"ba37aB"}),previewImage:{src:"https://assets.gammahosted.com/j1bla5j5f/_next/static/media/swoosh.2b045b37.svg",height:96,width:253,blurWidth:0,blurHeight:0},defaultColorScheme:"monochrome",allowedColorSchemes:["monochrome"],stepSvgData:nc,formattingMenu:$,defaultData:()=>C(nc),svgScalingFactor:1},nh=new Map(Object.entries({versus_2:'<svg class="versus" width="1031.68" height="448.791" viewBox="-19.84 -19.84 1031.68 448.791" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="versus" class="versus">\n<g id="general-1" class="general-1">\n<circle id="general-1-accent" cx="386.565" cy="221.324" r="93.3178" fill="#4046B4" class="general-1 accent"/>\n<rect id="general-1-accent-textbox" x="321.999" y="170.992" width="130" height="104" fill="#D9D9D9" class="general-1 accent textbox"/>\n</g>\n<g id="step-2" class="step-2">\n<circle id="step-2-subtle" cx="766.361" cy="228.052" r="20.2416" fill="#D5D6EF" class="step-2 subtle"/>\n<path id="step-2-accent" d="M746 225L746 227L709 227L709 225L746 225Z" fill="#4046B4" class="step-2 accent"/>\n<rect id="step-2-card-textbox" x="793" y="164" width="199" height="114" fill="#D9D9D9" class="step-2 card textbox left"/>\n<rect x="756.5361595153809" y="215.720703125" width="20.89386749267578" height="26.497655868530273" class="step-2 subtle image" fill="#666666"/>\n<rect id="step-2-selection" x="701.5" y="157.5" width="298" height="128" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-1" class="step-1">\n<circle id="step-1-subtle" cx="236.242" cy="227.052" r="20.2416" fill="#D5D6EF" class="step-1 subtle"/>\n<path id="step-1-accent" d="M293 224L293 226L256 226L256 224L293 224Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-card-textbox" x="10" y="163" width="199" height="114" fill="#D9D9D9" class="step-1 card textbox right"/>\n<rect id="step-1-subtle-image" x="224" y="215.531" width="20.8939" height="26.4977" fill="#D9D9D9" class="step-1 subtle image"/>\n<rect id="step-1-selection" x="2.5" y="156.5" width="298" height="128" stroke="black" class="step-1 selection"/>\n</g>\n<g id="general-3" class="general-3">\n<path id="general-3-accent" d="M502.637 409.111L499.756 409.111L499.756 34.6875L502.637 34.6875L502.637 409.111Z" fill="#4046B4" class="general-3 accent"/>\n</g>\n<g id="general-2" class="general-2">\n<circle id="general-2-accent" cx="93.3178" cy="93.3178" r="93.3178" transform="matrix(-1 0 0 1 709.145 128)" fill="#4046B4" class="general-2 accent"/>\n<rect id="general-2-accent-textbox" x="550.999" y="170.986" width="130" height="104" fill="#D9D9D9" class="general-2 accent textbox"/>\n</g>\n</g>\n</svg>\n',versus_3:'<svg class="versus" width="1031.68" height="448.791" viewBox="-19.84 -19.84 1031.68 448.791" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="versus" class="versus">\n<g id="general-1" class="general-1">\n<circle id="general-1-accent" cx="386.565" cy="221.324" r="93.3178" fill="#4046B4" class="general-1 accent"/>\n<rect id="general-1-accent-textbox" x="321.999" y="170.992" width="130" height="104" fill="#D9D9D9" class="general-1 accent textbox"/>\n</g>\n<g id="step-3" class="step-3">\n<circle id="step-3-subtle" cx="766.361" cy="228.052" r="20.2416" fill="#D5D6EF" class="step-3 subtle"/>\n<path id="step-3-accent" d="M746 225L746 227L709 227L709 225L746 225Z" fill="#4046B4" class="step-3 accent"/>\n<rect id="step-3-card-textbox" x="793" y="164" width="199" height="114" fill="#D9D9D9" class="step-3 card textbox left"/>\n<rect x="756.5361595153809" y="215.720703125" width="20.89386749267578" height="26.497655868530273" class="step-3 subtle image" fill="#666666"/>\n<rect id="step-3-selection" x="701.5" y="157.5" width="298" height="128" stroke="black" class="step-3 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<circle id="step-2-subtle" cx="23.3111" cy="23.3111" r="23.3111" transform="matrix(-1 0 0 1 300.287 331.109)" fill="#D5D6EF" class="step-2 subtle"/>\n<path id="step-2-accent" d="M295.043 339.92L293.376 338.291L334.647 297.969L336.314 299.598L295.043 339.92Z" fill="#4046B4" class="step-2 accent"/>\n<rect id="step-2-card-textbox" x="9" y="295" width="228" height="112" fill="#D9D9D9" class="step-2 card textbox right"/>\n<rect id="step-2-subtle-image" x="262.235" y="341.748" width="27.711" height="26.4977" fill="#D9D9D9" class="step-2 subtle image"/>\n<rect id="step-2-selection" x="1.5" y="285.5" width="343" height="131" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-1" class="step-1">\n<path id="step-1-accent" d="M292.046 102.681L293.713 101.052L336.164 142.527L334.497 144.156L292.046 102.681Z" fill="#4046B4" class="step-1 accent"/>\n<circle id="step-1-subtle" cx="23.3111" cy="23.3111" r="23.3111" transform="matrix(-1 0 0 1 300.283 62.1875)" fill="#D5D6EF" class="step-1 subtle"/>\n<rect id="step-1-card-textbox" x="8" y="31" width="234" height="113" fill="#D9D9D9" class="step-1 card textbox right"/>\n<rect id="step-1-subtle-image" x="262.822" y="72.25" width="27.711" height="26.4977" fill="#D9D9D9" class="step-1 subtle image"/>\n<rect id="step-1-selection" x="0.5" y="23.5" width="343" height="128" stroke="black" class="step-1 selection"/>\n</g>\n<g id="general-3" class="general-3">\n<path id="general-3-accent" d="M502.637 409.111L499.756 409.111L499.756 34.6875L502.637 34.6875L502.637 409.111Z" fill="#4046B4" class="general-3 accent"/>\n</g>\n<g id="general-2" class="general-2">\n<circle id="general-2-accent" cx="93.3178" cy="93.3178" r="93.3178" transform="matrix(-1 0 0 1 709.145 128)" fill="#4046B4" class="general-2 accent"/>\n<rect id="general-2-accent-textbox" x="550.999" y="170.986" width="130" height="104" fill="#D9D9D9" class="general-2 accent textbox"/>\n</g>\n</g>\n</svg>\n',versus_4:'<svg class="versus" width="1031.68" height="451.68" viewBox="-19.84 -19.84 1031.68 451.68" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="versus" class="versus">\n<g id="general-1" class="general-1">\n<circle id="general-1-accent" cx="386.565" cy="221.324" r="93.3178" fill="#4046B4" class="general-1 accent"/>\n<rect id="general-1-accent-textbox" x="321.999" y="170.992" width="130" height="104" fill="#D9D9D9" class="general-1 accent textbox"/>\n</g>\n<g id="general-2" class="general-2">\n<circle id="general-2-accent" cx="93.3178" cy="93.3178" r="93.3178" transform="matrix(-1 0 0 1 709.145 128.006)" fill="#4046B4" class="general-2 accent"/>\n<rect id="general-2-accent-textbox" x="550.999" y="170.992" width="130" height="104" fill="#D9D9D9" class="general-2 accent textbox"/>\n</g>\n<g id="step-4" class="step-4">\n<path id="step-4-accent" d="M705.623 339.662L703.955 341.291L663.273 301.545L664.94 299.916L705.623 339.662Z" fill="#4046B4" class="step-4 accent"/>\n<circle id="step-4-subtle" cx="720.354" cy="357.42" r="23.3111" fill="#D5D6EF" class="step-4 subtle"/>\n<rect id="step-4-card-textbox" x="762" y="300" width="229" height="112" fill="#D9D9D9" class="step-4 card textbox left"/>\n<rect x="706.749626159668" y="342.78515625" width="27.711048126220703" height="26.497655868530273" class="step-4 subtle image" fill="#666666"/>\n<rect id="step-4-selection" x="656.5" y="290.5" width="343" height="129" stroke="black" class="step-4 selection"/>\n</g>\n<g id="step-3" class="step-3">\n<path id="step-3-accent" d="M702.472 99.4219L704.16 101.051L660.592 143.102L658.904 141.473L702.472 99.4219Z" fill="#4046B4" class="step-3 accent"/>\n<circle id="step-3-subtle" cx="721.106" cy="85.4984" r="23.4535" fill="#D5D6EF" class="step-3 subtle"/>\n<rect id="step-3-card-textbox" x="758" y="31" width="234" height="113" fill="#D9D9D9" class="step-3 card textbox left"/>\n<rect id="step-3-subtle-image" x="707.381" y="72.25" width="28.0506" height="26.4977" fill="#D9D9D9" class="step-3 subtle image"/>\n<rect id="step-3-selection" x="651.5" y="23.5" width="348" height="128" stroke="black" class="step-3 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<circle id="step-2-subtle" cx="23.3111" cy="23.3111" r="23.3111" transform="matrix(-1 0 0 1 305.287 334.109)" fill="#D5D6EF" class="step-2 subtle"/>\n<path id="step-2-accent" d="M300.043 342.92L298.376 341.291L339.647 300.969L341.314 302.598L300.043 342.92Z" fill="#4046B4" class="step-2 accent"/>\n<rect id="step-2-card-textbox" x="14" y="298" width="228" height="112" fill="#D9D9D9" class="step-2 card textbox right"/>\n<rect id="step-2-subtle-image" x="267.235" y="344.748" width="27.711" height="26.4977" fill="#D9D9D9" class="step-2 subtle image"/>\n<rect id="step-2-selection" x="6.5" y="288.5" width="343" height="131" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-1" class="step-1">\n<path id="step-1-accent" d="M293.046 102.681L294.713 101.052L337.164 142.527L335.497 144.156L293.046 102.681Z" fill="#4046B4" class="step-1 accent"/>\n<circle id="step-1-subtle" cx="23.3111" cy="23.3111" r="23.3111" transform="matrix(-1 0 0 1 301.283 62.1875)" fill="#D5D6EF" class="step-1 subtle"/>\n<rect id="step-1-card-textbox" x="9" y="31" width="234" height="113" fill="#D9D9D9" class="step-1 card textbox right"/>\n<rect id="step-1-subtle-image" x="263.822" y="72.25" width="27.711" height="26.4977" fill="#D9D9D9" class="step-1 subtle image"/>\n<rect id="step-1-selection" x="1.5" y="23.5" width="343" height="128" stroke="black" class="step-1 selection"/>\n</g>\n<g id="general-3" class="general-3">\n<path id="general-3-accent" d="M502.637 409.111L499.756 409.111L499.756 34.6875L502.637 34.6875L502.637 409.111Z" fill="#4046B4" class="general-3 accent"/>\n</g>\n</g>\n</svg>\n',versus_5:'<svg class="versus" width="1034.8" height="453.8" viewBox="-19.900000000000002 -19.900000000000002 1034.8 453.8" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="versus" class="versus">\n<g id="general-1" class="general-1">\n<circle id="general-1-accent" cx="387.048" cy="220.572" r="93.3178" fill="#4046B4" class="general-1 accent"/>\n<rect id="general-1-accent-textbox" x="322.482" y="170.24" width="130" height="104" fill="#D9D9D9" class="general-1 accent textbox"/>\n</g>\n<g id="general-2" class="general-2">\n<circle id="general-2-accent" cx="93.3178" cy="93.3178" r="93.3178" transform="matrix(-1 0 0 1 709.628 127.254)" fill="#4046B4" class="general-2 accent"/>\n<rect id="general-2-accent-textbox" x="551.482" y="170.24" width="130" height="104" fill="#D9D9D9" class="general-2 accent textbox"/>\n</g>\n<g id="step-5" class="step-5">\n<path id="step-5-accent" d="M703.623 340.662L701.955 342.291L661.273 302.545L662.94 300.916L703.623 340.662Z" fill="#4046B4" class="step-5 accent"/>\n<circle id="step-5-subtle" cx="718.354" cy="358.42" r="23.3111" fill="#D5D6EF" class="step-5 subtle"/>\n<rect id="step-5-card-textbox" opacity="0.5" x="760" y="301" width="229" height="112" fill="#D9D9D9" class="step-5 card textbox left"/>\n<rect x="704.266227722168" y="344.537109375" width="27.711048126220703" height="26.497655868530273" class="step-5 subtle image" fill="#666666"/>\n<rect id="step-5-selection" x="654.5" y="291.5" width="343" height="129" stroke="black" class="step-5 selection"/>\n</g>\n<g id="step-4" class="step-4">\n<path id="step-4-accent" d="M705.472 98.4219L707.16 100.051L663.592 142.102L661.904 140.473L705.472 98.4219Z" fill="#4046B4" class="step-4 accent"/>\n<circle id="step-4-subtle" cx="724.106" cy="84.4984" r="23.4535" fill="#D5D6EF" class="step-4 subtle"/>\n<rect id="step-4-card-textbox" x="761" y="30" width="234" height="113" fill="#D9D9D9" class="step-4 card textbox left"/>\n<rect id="step-4-subtle-image" x="710.381" y="71.25" width="28.0506" height="26.4977" fill="#D9D9D9" class="step-4 subtle image"/>\n<rect id="step-4-selection" x="654.5" y="22.5" width="348" height="128" stroke="black" class="step-4 selection"/>\n</g>\n<g id="step-3" class="step-3">\n<circle id="step-3-subtle" cx="22.1957" cy="22.1957" r="22.1957" transform="matrix(-1 0 0 1 321.012 337.225)" fill="#D5D6EF" class="step-3 subtle"/>\n<path id="step-3-accent" d="M315.196 344.92L313.684 343.291L351.101 302.969L352.612 304.598L315.196 344.92Z" fill="#4046B4" class="step-3 accent"/>\n<rect id="step-3-card-textbox" x="57" y="309" width="206" height="105" fill="#D9D9D9" class="step-3 card textbox right"/>\n<rect id="step-3-subtle-image" x="285.453" y="346.748" width="25.1226" height="26.4977" fill="#D9D9D9" class="step-3 subtle image"/>\n<rect id="step-3-selection" x="49.1396" y="301.5" width="303.362" height="120" stroke="black" class="step-3 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<rect id="step-2-card-textbox" x="11" y="165" width="199" height="114" fill="#D9D9D9" class="step-2 card textbox right"/>\n<rect id="step-2-subtle-image" x="226" y="218" width="25.1226" height="26.4977" fill="#D9D9D9" class="step-2 subtle image"/>\n<rect id="step-2-selection" x="5.5" y="158.5" width="298" height="128" stroke="black" class="step-2 selection"/>\n<circle id="step-2-subtle" cx="20.2416" cy="20.2416" r="20.2416" transform="matrix(-1 0 0 1 256.881 208.811)" fill="#D5D6EF" class="step-2 subtle"/>\n<path id="step-2-accent" d="M257 226L257 228L294 228L294 226L257 226Z" fill="#4046B4" class="step-2 accent"/>\n</g>\n<g id="step-1" class="step-1">\n<rect id="step-1-card-textbox" x="58" y="20" width="188" height="114" fill="#D9D9D9" class="step-1 card textbox right"/>\n<rect id="step-1-subtle-image" x="275" y="67" width="25.1226" height="26.4977" fill="#D9D9D9" class="step-1 subtle image"/>\n<rect id="step-1-selection" x="54.5" y="12.5" width="298" height="128" stroke="black" class="step-1 selection"/>\n<path id="step-1-accent" d="M305.087 94.377L303.399 96.0059L346.968 138.057L348.655 136.428L305.087 94.377Z" fill="#4046B4" class="step-1 accent"/>\n<circle id="step-1-subtle" cx="23.4535" cy="23.4535" r="23.4535" transform="matrix(-1 0 0 1 309.907 57)" fill="#D5D6EF" class="step-1 subtle"/>\n</g>\n<g id="general-3" class="general-3">\n<path id="general-3-accent" d="M503.12 408.359L500.239 408.359L500.239 33.9355L503.12 33.9355L503.12 408.359Z" fill="#4046B4" class="general-3 accent"/>\n</g>\n</g>\n</svg>\n',versus_6:'<svg class="versus" width="1032.72" height="451.72" viewBox="-19.86 -19.86 1032.72 451.72" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="versus" class="versus">\n<g id="general-1" class="general-1">\n<circle id="general-1-accent" cx="387.048" cy="220.572" r="93.3178" fill="#4046B4" class="general-1 accent"/>\n<rect id="general-1-accent-textbox" x="322.482" y="170.24" width="130" height="104" fill="#D9D9D9" class="general-1 accent textbox"/>\n</g>\n<g id="general-2" class="general-2">\n<circle id="general-2-accent" cx="93.3178" cy="93.3178" r="93.3178" transform="matrix(-1 0 0 1 709.628 127.254)" fill="#4046B4" class="general-2 accent"/>\n<rect id="general-2-accent-textbox" x="551.482" y="170.24" width="130" height="104" fill="#D9D9D9" class="general-2 accent textbox"/>\n</g>\n<g id="step-6" class="step-6">\n<path id="step-6-accent" d="M700.948 339.911L699.423 341.539L662.225 301.793L663.75 300.164L700.948 339.911Z" fill="#4046B4" class="step-6 accent"/>\n<circle id="step-6-subtle" cx="714.418" cy="357.667" r="22.2905" fill="#D5D6EF" class="step-6 subtle"/>\n<rect id="step-6-card-textbox" x="753" y="308" width="208" height="104" fill="#D9D9D9" class="step-6 card textbox left"/>\n<rect x="701.4912185668945" y="343.78515625" width="25.337772369384766" height="26.497655868530273" class="step-6 subtle image" fill="#666666"/>\n<rect id="step-6-selection" x="655.5" y="291.5" width="314" height="128" stroke="black" class="step-6 selection"/>\n</g>\n<g id="step-5" class="step-5">\n<circle id="step-5-subtle" cx="775.877" cy="222.298" r="22.2905" fill="#D5D6EF" class="step-5 subtle"/>\n<path id="step-5-accent" d="M755.391 218.844L755.391 221.147L705.794 221.147L705.794 218.844L755.391 218.844Z" fill="#4046B4" class="step-5 accent"/>\n<rect id="step-5-card-textbox" x="808" y="167" width="185" height="104" fill="#D9D9D9" class="step-5 card textbox left"/>\n<rect id="step-5-subtle-image" x="764.018" y="210.779" width="25.3378" height="26.4977" fill="#D9D9D9" class="step-5 subtle image"/>\n<rect id="step-5-selection" x="702.5" y="158.5" width="298" height="120" stroke="black" class="step-5 selection"/>\n</g>\n<g id="step-4" class="step-4">\n<path id="step-4-accent" d="M697.587 94.6699L699.111 96.2989L659.757 138.35L658.232 136.721L697.587 94.6699Z" fill="#4046B4" class="step-4 accent"/>\n<circle id="step-4-subtle" cx="714.419" cy="80.7456" r="22.2905" fill="#D5D6EF" class="step-4 subtle"/>\n<rect id="step-4-card-textbox" x="748" y="26" width="209" height="104" fill="#D9D9D9" class="step-4 card textbox left"/>\n<rect id="step-4-subtle-image" x="702.021" y="67.498" width="25.3378" height="26.4977" fill="#D9D9D9" class="step-4 subtle image"/>\n<rect id="step-4-selection" x="650.5" y="18.5" width="314" height="127" stroke="black" class="step-4 selection"/>\n</g>\n<g id="step-3" class="step-3">\n<circle id="step-3-subtle" cx="22.1957" cy="22.1957" r="22.1957" transform="matrix(-1 0 0 1 311.493 336.473)" fill="#D5D6EF" class="step-3 subtle"/>\n<path id="step-3-accent" d="M305.677 344.168L304.166 342.539L341.582 302.217L343.094 303.846L305.677 344.168Z" fill="#4046B4" class="step-3 accent"/>\n<rect id="step-3-card-textbox" x="47" y="309" width="206" height="103" fill="#D9D9D9" class="step-3 card textbox right"/>\n<rect id="step-3-subtle-image" x="275.935" y="345.996" width="25.1226" height="26.4977" fill="#D9D9D9" class="step-3 subtle image"/>\n<rect id="step-3-selection" x="39.5" y="292.5" width="311" height="128" stroke="black" class="step-3 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<circle id="step-2-subtle" cx="23.0414" cy="23.0414" r="23.0414" transform="matrix(-1 0 0 1 242.463 199.258)" fill="#D5D6EF" class="step-2 subtle"/>\n<path id="step-2-accent" d="M242.463 223.451V221.147H293.73V223.451H242.463Z" fill="#4046B4" class="step-2 accent"/>\n<rect id="step-2-card-textbox" x="9" y="166" width="183" height="104" fill="#D9D9D9" class="step-2 card textbox right"/>\n<rect id="step-2-subtle-image" x="205.021" y="207.898" width="27.0737" height="26.4977" fill="#D9D9D9" class="step-2 subtle image"/>\n<rect id="step-2-selection" x="1.5" y="158.5" width="302" height="120" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-1" class="step-1">\n<path id="step-1-accent" d="M299.817 98.9275L301.446 97.2985L342.921 138.773L341.292 140.402L299.817 98.9275Z" fill="#4046B4" class="step-1 accent"/>\n<circle id="step-1-subtle" cx="23.0414" cy="23.0414" r="23.0414" transform="matrix(-1 0 0 1 308.131 58.7051)" fill="#D5D6EF" class="step-1 subtle"/>\n<rect id="step-1-card-textbox" x="47" y="26" width="206" height="105" fill="#D9D9D9" class="step-1 card textbox right"/>\n<rect id="step-1-subtle-image" x="271.265" y="68.498" width="27.0737" height="26.4977" fill="#D9D9D9" class="step-1 subtle image"/>\n<rect id="step-1-selection" x="39.5" y="18.5" width="310" height="128" stroke="black" class="step-1 selection"/>\n</g>\n<g id="general-3" class="general-3">\n<path id="general-3-accent" d="M503.12 408.359L500.239 408.359L500.239 33.9355L503.12 33.9355L503.12 408.359Z" fill="#4046B4" class="general-3 accent"/>\n</g>\n</g>\n</svg>\n'}).map(e=>{let[t,n]=e;return[Number(t.replace("versus_","")),n]})),nm="versus",ng={key:nm,Component:e=>{var t,n;let{data:i}=e,r=null!=(n=null==(t=i.step)?void 0:t.length)?n:6,o=nh.get(r);return o?(0,a.jsx)(ty,{svgData:o,templateKey:nm,svgScalingFactor:ng.svgScalingFactor,...e}):(console.error("No SVG data found for key",r),null)},label:()=>r.Ru._({id:"HHQOYx"}),icon:tI.fGk,previewImage:{src:"https://assets.gammahosted.com/j1bla5j5f/_next/static/media/versus.25a7f3a8.svg",height:96,width:253,blurWidth:0,blurHeight:0},formattingMenu:$,stepSvgData:nh,defaultData:()=>C(nh),svgScalingFactor:1},nx=(e,t,n,a)=>{let i=n/2,r=e*a,o=t*a,l=-i,s=-e,d=-t;return{path:["M ".concat(l,",").concat(s),"L ".concat(i,",").concat(d),"A ".concat(o,",").concat(t," 0 0,0 ").concat(i,",").concat(t),"L ".concat(l,",").concat(e),"A ".concat(r,",").concat(e," 0 0,1 ").concat(l,",").concat(s),"Z"].join(" "),iconCenterX:-r}},nf=e=>{let{index:t,totalSegments:n,label:i,icon:r,color:o,updateLabel:l,selectItem:s,isEditable:d,isNodeSelected:c,selectedKeyPath:u,editor:p,x:h,segmentLength:m}=e,g=100/n,x=40+g*(t+1),{path:f,iconCenterX:b}=nx(40+g*t,x,m,.35),v=(0,e8.q9)(o);return(0,a.jsxs)("g",{style:v,children:[(0,a.jsx)("ellipse",{cx:h+m/2,cy:140,rx:.35*x,ry:x,className:(0,ea.cx)(eh._B,eh.D6),style:{opacity:.5}}),(0,a.jsx)("g",{transform:"translate(".concat(h,", ").concat(140,")"),children:(0,a.jsx)("path",{d:f,className:eh.D6})}),(0,a.jsx)(ey,{x:h+b-22.5,y:117.5,width:45,height:45,image:r,isEditable:d,selectItem:()=>s("segments[".concat(t,"].icon")),isItemSelected:c&&u==="segments[".concat(t,"].icon")}),(0,a.jsx)(e4,{x:h,transform:"translateX(-50%)",y:140+x+20,width:m+40,height:550-(140+x+20),fontSize:16.2,text:i,isEditable:d,onUpdate:l,selectItem:()=>s("segments[".concat(t,"].label")),parentEditor:p,isItemSelected:c&&u==="segments[".concat(t,"].label"),verticalAlign:"start"})]})},nb={key:"funnelDiagram",Component:e=>{let t,{data:n,updateData:i,selectItem:r,isEditable:o,editor:l,isNodeSelected:s,selectedKeyPath:d,...c}=e,{segments:u}=n,p=(0,V.GV)(K.SJ),h=(0,U.Ik)((0,U.VH)(p)),m=Array.from({length:u.length},(e,t)=>t);n.colorScheme&&(t=(0,F.M)(h,m,n.colorScheme));let g=(937-40*(u.length-1))/u.length,x=g/2+14;return(0,a.jsx)(ep,{...c,data:n,updateData:i,selectItem:r,isEditable:o,editor:l,isNodeSelected:s,selectedKeyPath:d,children:(0,a.jsx)("svg",{viewBox:"0 0 ".concat(1e3," ").concat(550),preserveAspectRatio:"xMidYMid meet",overflow:"visible",children:u.map((e,n)=>(0,a.jsx)(nf,{index:n,totalSegments:u.length,label:e.label,icon:e.icon,color:e.color||(null==t?void 0:t.get(n)),isEditable:o,selectItem:r,isNodeSelected:s,selectedKeyPath:d,editor:l,x:x+n*(g+40),segmentLength:g,updateLabel:e=>i(t=>(t.segments[n].label=e,t))},n))})})},label:()=>r.Ru._({id:"MWYJBI"}),icon:i.AKc,formattingMenu:q,disabled:!0},nv=425,ny=535,nw=555,nC=287.5,nj=e=>{let{x:t,color:n,icon:i,label:r,updateLabel:o,selectItem:l,isEditable:s,isNodeSelected:d,selectedKeyPath:c,editor:u,index:p}=e,h=(0,e8.q9)(n);return(0,a.jsxs)("g",{transform:"translate(".concat(t,", 0)"),style:h,children:[(0,a.jsx)("rect",{x:12.5,y:205,width:140,height:330,className:eh.D6}),(0,a.jsx)("rect",{x:0,y:205,width:165,height:20,rx:5,ry:5,className:eh.D6}),(0,a.jsx)("rect",{x:0,y:ny-20,width:165,height:20,rx:5,ry:5,className:eh.D6}),(0,a.jsx)(ey,{x:57.5,y:345,width:50,height:50,image:i,isEditable:s,selectItem:()=>l("pillars[".concat(p,"].icon")),isItemSelected:d&&c==="pillars[".concat(p,"].icon")}),(0,a.jsx)(e4,{x:82.5,y:nw,width:214.5,transform:"translateX(-50%)",height:80,fontSize:18,text:r,isEditable:s,onUpdate:o,selectItem:()=>l("pillars[".concat(p,"].label")),parentEditor:u,isItemSelected:d&&c==="pillars[".concat(p,"].label"),verticalAlign:"start"})]})},nA={key:"pillars",Component:e=>{let{data:t,updateData:n,isEditable:i,selectItem:r,editor:o,isNodeSelected:l,selectedKeyPath:s,...d}=e,{title:c,pillars:u}=t,p=(()=>{let e=u.length;if(e<=1)return[417.5];let t=e>1?(850-165*e)/(e-1):0;return u.map((e,n)=>75+n*(165+t))})(),h="".concat(75,",").concat(205," ").concat(925,",").concat(205," ").concat(500+nv/2,",").concat(5," ").concat(500-nv/2,",").concat(5);return(0,a.jsx)(ep,{...d,data:t,updateData:n,selectItem:r,isEditable:i,editor:o,isNodeSelected:l,selectedKeyPath:s,children:(0,a.jsxs)("svg",{viewBox:"0 0 ".concat(1e3," ").concat(650),preserveAspectRatio:"xMidYMid meet",overflow:"visible",children:[(0,a.jsx)("polygon",{points:h,className:eh.D6}),(0,a.jsx)(e4,{x:nC,y:5,width:nv,height:200,fontSize:18,text:c,isEditable:i,onUpdate:e=>{n(t=>(t.title=e,t))},selectItem:()=>r("title"),parentEditor:o,isItemSelected:l&&"title"===s,verticalAlign:"middle",className:eh.lR}),(0,a.jsx)("rect",{x:75,y:ny,width:850,height:20,className:eh.D6,rx:5,ry:5}),u.map((e,t)=>(0,a.jsx)(nj,{x:p[t],color:e.color,icon:e.icon,label:e.label,updateLabel:e=>{n(n=>(n.pillars[t].label=e,n))},isEditable:i,selectItem:r,isNodeSelected:l,selectedKeyPath:s,editor:o,index:t},t))]})})},label:()=>r.Ru._({id:"xGL+6k"}),icon:tI.PKn,disabled:!0,formattingMenu:q},nk=e=>[e.leftCircle,e.rightCircle,e.topCircle,e.leftRightIntersection,e.topLeftIntersection,e.topRightIntersection,e.allIntersection].some(e=>null==e?void 0:e.isEmphasized),nS=(e,t)=>t?(null==e?void 0:e.isEmphasized)?.5:.25:.5,nI=(e,t)=>t?(null==e?void 0:e.isEmphasized)?1:.5:1,nE={pillars:nA,venn:{key:"venn",Component:e=>{var t;let n,{data:r,updateData:l,isEditable:s,selectItem:d,editor:c,isNodeSelected:u,selectedKeyPath:p}=e,{topCircle:h,leftCircle:m,rightCircle:g,topLeftIntersection:x,leftRightIntersection:f,topRightIntersection:b,allIntersection:v}=r,y=!!h,w=nk(r),C=(0,o.useCallback)(()=>{y&&l(e=>({leftCircle:{...e.leftCircle},rightCircle:{...e.rightCircle},leftRightIntersection:{...e.leftRightIntersection},topCircle:void 0,topLeftIntersection:void 0,topRightIntersection:void 0,allIntersection:void 0}))},[y,l]),j=(0,o.useCallback)(()=>{y&&l(e=>({leftCircle:{...e.rightCircle},rightCircle:{...e.topCircle},leftRightIntersection:{...e.topRightIntersection},topCircle:void 0,topLeftIntersection:void 0,topRightIntersection:void 0,allIntersection:void 0}))},[y,l]),A=(0,o.useCallback)(()=>{y&&l(e=>({leftCircle:{...e.leftCircle},rightCircle:{...e.topCircle},leftRightIntersection:{...e.topLeftIntersection},topCircle:void 0,topLeftIntersection:void 0,topRightIntersection:void 0,allIntersection:void 0}))},[y,l]),k=y?3:2,S=(0,V.GV)(K.SJ),I=(0,U.Ik)((0,U.VH)(S));if(r.colorScheme){let e=Array.from({length:k},(e,t)=>t);n=(0,F.M)(I,e,r.colorScheme)}let E=(0,e8.q9)((null==h?void 0:h.color)||(null==n?void 0:n.get(0))||I),L=(0,e8.q9)((null==m?void 0:m.color)||(null==n?void 0:n.get(1))||I),D=(0,e8.q9)((null==g?void 0:g.color)||(null==n?void 0:n.get(2))||I);return(0,a.jsx)(ep,{...e,svgWidthPercent:75,children:(0,a.jsxs)("svg",{viewBox:y?"0 0 1000 938":"0 0 1000 625",preserveAspectRatio:"xMidYMid meet",overflow:"visible",style:{"--shape-border-width":"1.25px"},children:[(0,a.jsx)(et,{}),(0,a.jsx)("g",{style:L,children:(0,a.jsx)("circle",{cx:312.5,cy:y?625:312.5,r:312.5,className:eh._B,fillOpacity:nS(m,w),strokeOpacity:nS(m,w),style:s?{pointerEvents:"none"}:void 0})}),(0,a.jsx)("g",{style:D,children:(0,a.jsx)("circle",{cx:687.5,cy:y?625:312.5,r:312.5,className:eh._B,fillOpacity:nS(g,w),strokeOpacity:nS(g,w),style:s?{pointerEvents:"none"}:void 0})}),y&&(0,a.jsx)("g",{style:E,children:(0,a.jsx)("circle",{cx:500,cy:312.5,r:312.5,className:eh._B,fillOpacity:nS(h,w),strokeOpacity:nS(h,w),style:s?{pointerEvents:"none"}:void 0})}),(0,a.jsx)(eP,{x:0,y:312.5*!!y,width:625,height:625,isEditable:s,selectItem:()=>{d("leftCircle")},updateStep:e=>{l(t=>(t.leftCircle={...t.leftCircle,...e},t))},isItemSelected:!u&&"leftCircle"===p,isStepSelected:!u&&"leftCircle"===p,formattingMenuItems:(0,a.jsx)(a.Fragment,{children:y&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(R.q,{}),(0,a.jsx)(_.I,{size:"sm",variant:"toolbar",onClick:j,icon:i.yLS,color:"red.500"})]})}),stepAttributes:m,editor:c}),(0,a.jsx)(eP,{x:375,y:312.5*!!y,width:625,height:625,isEditable:s,selectItem:()=>{d("rightCircle")},updateStep:e=>{l(t=>(t.rightCircle={...t.rightCircle,...e},t))},isItemSelected:!u&&"rightCircle"===p,isStepSelected:!u&&"rightCircle"===p,formattingMenuItems:(0,a.jsx)(a.Fragment,{children:y&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(R.q,{}),(0,a.jsx)(_.I,{size:"sm",variant:"toolbar",onClick:A,icon:i.yLS,color:"red.500"})]})}),stepAttributes:g,editor:c}),y&&(0,a.jsx)(eP,{x:187.5,y:0,width:625,height:625,isEditable:s,selectItem:()=>{d("topCircle")},updateStep:e=>{l(t=>(t.topCircle&&(t.topCircle={...t.topCircle,...e}),t))},isItemSelected:!u&&"topCircle"===p,isStepSelected:!u&&"topCircle"===p,formattingMenuItems:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(R.q,{}),(0,a.jsx)(_.I,{size:"sm",variant:"toolbar",onClick:C,icon:i.yLS,color:"red.500"})]}),stepAttributes:h,editor:c}),y&&h&&(0,a.jsx)(e4,{x:250,y:50,width:500,height:250,fontSize:24,className:eh.ok,text:h.text,isEditable:s,onUpdate:e=>{l(t=>(t.topCircle&&(t.topCircle.text=e),t))},selectItem:()=>d("topCircle.text"),parentEditor:c,isItemSelected:u&&"topCircle.text"===p,style:w?{opacity:nI(h,w)}:void 0}),(0,a.jsx)(e4,{x:y?25:50,y:y?550:50,width:y?350:300,height:y?300:525,fontSize:24,className:eh.ok,text:null!=(t=null==m?void 0:m.text)?t:"",isEditable:s,onUpdate:e=>{l(t=>(t.leftCircle||(t.leftCircle={text:""}),t.leftCircle.text=e,t))},selectItem:()=>d("leftCircle.text"),parentEditor:c,isItemSelected:u&&"leftCircle.text"===p,textAlign:"center",style:w?{opacity:nI(m,w)}:void 0}),(0,a.jsx)(e4,{x:y?625:675,y:y?550:50,width:y?350:300,height:y?300:525,fontSize:24,className:eh.ok,text:g.text,isEditable:s,onUpdate:e=>{l(t=>(t.rightCircle.text=e,t))},selectItem:()=>d("rightCircle.text"),parentEditor:c,isItemSelected:u&&"rightCircle.text"===p,textAlign:"center",style:w?{opacity:nI(g,w)}:void 0}),y&&x&&(0,a.jsx)(e4,{x:212.5,y:300,width:212.5,height:225,fontSize:24,className:eh.ok,text:x.text,isEditable:s,onUpdate:e=>{l(t=>(t.topLeftIntersection&&(t.topLeftIntersection.text=e),t))},selectItem:()=>d("topLeftIntersection.text"),parentEditor:c,isItemSelected:u&&"topLeftIntersection.text"===p,style:w?{opacity:nI(x,w)}:void 0}),y&&b&&(0,a.jsx)(e4,{x:575,y:300,width:212.5,height:225,fontSize:24,className:eh.ok,text:b.text,isEditable:s,onUpdate:e=>{l(t=>(t.topRightIntersection&&(t.topRightIntersection.text=e),t))},selectItem:()=>d("topRightIntersection.text"),parentEditor:c,isItemSelected:u&&"topRightIntersection.text"===p,style:w?{opacity:nI(b,w)}:void 0}),(0,a.jsx)(e4,{x:y?437.5:400,y:y?650:150,width:y?125:200,height:y?100:325,fontSize:24,className:eh.ok,text:f.text,isEditable:s,onUpdate:e=>{l(t=>(t.leftRightIntersection.text=e,t))},selectItem:()=>d("leftRightIntersection.text"),parentEditor:c,isItemSelected:u&&"leftRightIntersection.text"===p,textAlign:"center",style:w?{opacity:nI(f,w)}:void 0}),y&&v&&(0,a.jsx)(e4,{x:425,y:400,width:150,height:225,fontSize:24,className:eh.ok,text:v.text,isEditable:s,onUpdate:e=>{l(t=>(t.allIntersection&&(t.allIntersection.text=e),t))},selectItem:()=>d("allIntersection.text"),parentEditor:c,isItemSelected:u&&"allIntersection.text"===p,style:w?{opacity:nI(v,w)}:void 0}),(0,a.jsx)(et,{})]})})},label:()=>r.Ru._({id:"z5TX2d"}),icon:tI.cvw,previewImage:{src:"https://assets.gammahosted.com/j1bla5j5f/_next/static/media/venn.ada3eb84.svg",height:96,width:253,blurWidth:0,blurHeight:0},defaultData:()=>({leftCircle:{text:"<h2>A</h2>",color:void 0,isEmphasized:!1},rightCircle:{text:"<h2>B</h2>",color:void 0,isEmphasized:!1},leftRightIntersection:{text:"A & B",color:void 0,isEmphasized:!1}}),formattingMenu:e=>{let{editor:t,selection:n,decorations:r}=e,{data:l}=n.node.attrs,s=(0,o.useCallback)(e=>{try{let a=e({...l});t.commands.updateAttributesAtPos(n.from,{data:a})}catch(e){console.error("Error updating Venn diagram data",e)}},[l,t.commands,n.from]),d=(0,o.useCallback)(()=>{s(e=>({...e,topCircle:{text:"<h3>C</h3>",color:void 0,isEmphasized:!1},topLeftIntersection:{text:"A & C",color:void 0,isEmphasized:!1},topRightIntersection:{text:"B & C",color:void 0,isEmphasized:!1},allIntersection:{text:"A & B & C",color:void 0,isEmphasized:!1}}))},[s]),c=(0,o.useCallback)(()=>{s(e=>({leftCircle:e.leftCircle,rightCircle:e.rightCircle,leftRightIntersection:e.leftRightIntersection,topCircle:void 0,topLeftIntersection:void 0,topRightIntersection:void 0,allIntersection:void 0}))},[s]),u=!!l.topCircle;return(0,a.jsx)(q,{editor:t,selection:n,decorations:r,children:(0,a.jsxs)(k.z,{children:[!u&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(S.$,{size:"sm",variant:"toolbar",onClick:d,leftIcon:(0,a.jsx)(I.g,{icon:i.q_k}),ms:2,children:(0,a.jsx)(E.x6,{id:"Fgzljt"})}),(0,a.jsx)(R.q,{})]}),u&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(S.$,{size:"sm",variant:"toolbar",onClick:c,leftIcon:(0,a.jsx)(I.g,{icon:i.mGv}),ms:2,children:(0,a.jsx)(E.x6,{id:"DUcdY9"})}),(0,a.jsx)(R.q,{})]})]})})}},funnel:nb,[nn]:na,[tL]:tR,[t8]:ne,[tH]:tF,[tG]:tK,[t3]:t9,[nu]:np,[nm]:ng,[tV]:tW,[ns]:nd,[t4]:t5,[tk]:tS,[tZ]:tq,[tJ]:tY,[tC]:tj,[t0]:t1,[tN]:tP,[nr]:no,[tM]:t_},nL={bullseye_composable:tL,quadrant:t3,"square-arrows":ns,bubbles:tk},nR=e=>(nL[e]&&(e=nL[e]),nE[e]),nD=e=>{let t=nR(e);return null==t?void 0:t.formattingMenu},nM=e=>!!nE[e]},44637:(e,t,n)=>{"use strict";n.d(t,{Us:()=>r,h6:()=>o}),n(55729);var a=n(91938);n(6064);var i=n(69768);n(6181),n(71595);let r=()=>{if(""===a.$.SHARE_TOKEN)return;let{searchParams:e}=new URL(window.location.href);e.delete("token");let t=Object.fromEntries(e.entries());(0,i.g5)({query:t})},o=(e,t)=>{var n;if(!e||t)return null;let i=null==e||null==(n=e.accessLinks)?void 0:n.find(e=>e.token===a.$.SHARE_TOKEN);return i&&i.permission?i:null}},44798:(e,t,n)=>{"use strict";n.d(t,{B7:()=>S,RM:()=>k,Sx:()=>v,U9:()=>I,Z8:()=>y,ab:()=>A,hB:()=>L,ms:()=>R});var a=n(63867),i=n(55729),r=n(80116),o=n(98701),l=n(58809),s=n(28630),d=n(89942),c=n(25839),u=n(92397),p=n(43634),h=n(15607),m=n(33201),g=n(6181),x=n(6807),f=n(53756);let b=e=>{var t,n;if(!(e instanceof a.nh))return null;if("smartLayoutCell"===e.node.type.name&&(null==(t=e.node.textContent)?void 0:t.length)>=5)return e.node.content;let i=e.$from;for(;i.depth>0;){let e=i.node(i.depth);if("smartLayoutCell"===e.type.name&&(null==(n=e.textContent)?void 0:n.length)>=5)return e.content;i=i.doc.resolve(i.before(i.depth))}return null},v=e=>(0,i.useCallback)(()=>{if(!e)return null;let{selection:t}=e.state,n=(0,h.IV)(t.$from,m.jg)[0],a=n&&(0,u.Ub)(n.node,n.pos),{content:i}=e.state.doc.slice(a.pos+1,a.pos+a.node.nodeSize-1),o=b(t);return o?(0,r.KC)(e,o):(0,r.KC)(e,i)},[e]),y=e=>{let{editor:t,prompt:n,stylePrompt:a,addPrompt:r}=e,l=(0,c.GV)(p.sK),[s,d]=(0,i.useState)(!1),u=v(t),h=(0,i.useCallback)(()=>{d(!0),r("","push")},[r]),m=(0,i.useCallback)(e=>{r(e,"update")},[r]),x=(0,i.useCallback)(()=>{d(!1)},[]),f=(0,i.useCallback)(e=>{console.error("Error enhancing image",e),d(!1)},[]),{generate:b}=(0,o.pt)("EnhanceAIImage",{onStart:h,onContent:m,onComplete:x,onError:f,timeout:3e4}),y=(0,i.useCallback)(()=>{var e,i;if(s||!(null==l?void 0:l.id))return;let r=null==(e=(0,g.P9)(null==l?void 0:l.id))?void 0:e.id;return b({variables:{currentPrompt:n,stylePrompt:a,cardHtml:(null==t?void 0:t.isSiteNavbarEditor)?void 0:null!=(i=u())?i:void 0},workspaceId:r}).promise},[s,null==l?void 0:l.id,b,n,a,null==t?void 0:t.isSiteNavbarEditor,u]);return{isEnhancing:s,setIsEnhancing:d,runEnhanceImagePrompt:y}},w=e=>e.ind===e.history.length-1,C=e=>e.history[e.history.length-1],j={load:(e,t)=>({history:[t],ind:0}),push(e,t){return""===C(e).trim()?this.replace(e,t):{history:[...e.history,t],ind:e.history.length}},replace(e,t){let n=e.history.slice(0,-1);return{history:[...n,t],ind:n.length}},select(e,t){return w(e)&&C(e)===t?e:this.push(e,t)}},A=()=>{let e=(0,i.useRef)(!1),[t,n]=(0,i.useState)({history:[""],ind:0}),a=(0,i.useCallback)((t,a)=>{"load"===a&&n(e=>j.load(e,t)),"push"===a&&n(e=>j.push(e,t)),"update"===a&&(e.current?n(e=>j.push(e,t)):n(e=>j.replace(e,t))),"select"===a&&n(e=>j.select(e,t)),e.current="update"!==a},[]),r=(0,i.useCallback)(()=>{let{ind:e}=t;e<=0||n(e=>({...e,ind:e.ind-1}))},[t]),o=(0,i.useCallback)(()=>{let{history:e,ind:a}=t;a>=e.length-1||n(e=>({...e,ind:e.ind+1}))},[t]),{ind:l,history:s}=t;return{prompt:s[l]||"",addPrompt:a,promptPageInfo:{curr:l+1,total:s.length,canGoNext:l<s.length-1,canGoPrev:l>0},nextPrompt:o,prevPrompt:r}},k=()=>{let[e,t]=(0,x.M)("aiImageRatings",{});return{saveImageRating:(0,i.useCallback)((n,a)=>{n.savedMediaId&&(e[n.savedMediaId]=a,t(e))},[]),hasRatedImage:(0,i.useCallback)(t=>!t.savedMediaId||!!e[t.savedMediaId],[])}},S=(e,t)=>{let n=(0,c.GV)(p.sX),a=n&&!e?"doc":"user",r="doc"===a?"workspaceSavedMedia":"userSavedMedia",{data:o,loading:l}=(0,f.L)({docId:n,interactionId:e,scope:a,count:3});return{savedMedia:(0,i.useMemo)(()=>{var e;return((null==o||null==(e=o[r])?void 0:e.edges)||[]).map(e=>e.node).filter(e=>{if(t){var n;return(null==e||null==(n=e.attrs)?void 0:n.query)===t}return!0})},[o,r,t]),isLoading:l}},I=()=>{let e=(0,c.GV)(l.Jo),t=(0,d.ez)("ai_models_plus",null==e?void 0:e.organization),n=(0,d.ez)("ai_premium_models",null==e?void 0:e.organization),a=t&&n?"pro":t?"plus":"free";return e=>E(e,a)},E=(e,t)=>{let n=(0,s.kO)(e);if(!(0,s.CX)(e))return!1;let a=["free","plus","pro"];return a.indexOf(t)>=a.indexOf(n)},L=(e,t)=>{let n=(0,d.vT)("ai_models_plus",t),a=(0,d.vT)("ai_premium_models",t);return E(e,n&&a?"pro":n?"plus":"free")},R=(e,t)=>{let n=(0,i.useRef)(null);return(0,i.useEffect)(()=>{if(!t)return;let a=n.current;if(!a)return;let i=a.querySelector('[data-popover-scroll-id="'.concat(e,'"]'));if(!(i instanceof HTMLElement))return;let r=i.offsetHeight/2,o=a.offsetHeight/2,l=i.offsetTop-o+r;a.scrollTo({top:l,behavior:"instant"})},[t,e]),{scrollContainerRef:n}}},44911:(e,t,n)=>{"use strict";n.d(t,{$:()=>I});var a=n(37243),i=n(23513),r=n(52055),o=n(41896),l=n(15607),s=n(46957),d=n(6029),c=n(49611),u=n(26420),p=n(80314),h=n(48810),m=n(21938),g=n(55729),x=n(92739),f=n(25839),b=n(48932),v=n(68247),y=n(96177),w=n(43634),C=n(15587),j=n(21699),A=n(31394);let k=e=>{let{editor:t,node:n,decorations:a}=e,{href:i,variant:r,color:l}=n.attrs,s=(0,f.GV)(w.Cl),k=(0,j.Ms)(a),S=s&&k,I=(0,C.v)(a),{linkUrl:E,handleClick:L,isCurrentPage:R}=(0,b.c)({url:i}),{interceptLinkClick:D,linkUrlSafe:M,isUntrusted:_,linkInterceptEnabled:z}=(0,x.i)(E),T=z&&!0!==t.isSiteNavbarEditor,{textColor:N}=(0,y.S0)(l),P="solid"===r?{backgroundColor:l||"var(--button-color)",backgroundImage:l?void 0:"var(--button-gradient)",borderRadius:"var(--button-border-radius, var(--box-border-radius))",fontFamily:"var(--body-font)"}:"outline"===r?{border:"0px",boxShadow:"inset 0 0 0 max(1px, var(--shape-border-width)) ".concat(l||"var(--button-color)"),backgroundColor:"var(--shape-bg-color-override, var(--card-color))",borderRadius:"var(--button-border-radius, var(--box-border-radius))",fontFamily:"var(--body-font)"}:{borderRadius:"var(--button-border-radius, var(--box-border-radius))",fontFamily:"var(--body-font)"},O=(0,g.useMemo)(()=>({...(0,A.s)({variant:r})}),[r]);return(0,d.jsx)(o.VR,{children:(0,d.jsx)(c.$,{as:S?u.a:p.N,isDisabled:!!T&&_,cursor:s?"text":"pointer",userSelect:s?"auto":"none",href:T?M||void 0:E,onClick:T?D:L,...O,style:P,className:(0,m.cx)("button","solid"===r&&v.Dv),"data-export-as-image":!0,"data-export-link":i,sx:{"@media print":{width:"auto"},outline:k?"2px solid var(--chakra-ring-color) !important":void 0,lineHeight:"var(--line-height-body)"},"data-is-current-page":R,children:(0,d.jsxs)(h.E,{as:"div",noOfLines:S||I?void 0:1,wordBreak:"break-all",style:{color:"solid"===r?N||"var(--button-color-inverted)":"outline"===r?l||"var(--button-color)":void 0},textAlign:"center",children:[I&&(0,d.jsx)(h.E,{opacity:"0.3",pointerEvents:"none",contentEditable:!1,pos:"absolute",w:"100%",left:"0",textAlign:"center",children:"…"}),(0,d.jsx)(o.$p,{})]})})})};var S=n(9100);let I=a.bP.create({name:"button",content:"(text | emoji)*",marks:"",defining:!0,isolating:!0,selectable:!1,addNodeView:()=>(0,o.gu)(k,{update:s.z0}),addAttributes:()=>({href:{default:""},variant:{default:"solid"},color:{default:null}}),addCommands:()=>({addButtonToGroup:e=>t=>{let{state:n,chain:a}=t,i=n.doc.nodeAt(e);if(!i)return!1;let o=e+i.nodeSize-1;return a().insertContentAt(o,{...(0,r.G)().button,attrs:{variant:S.Dn[i.type.name].defaultVariant,href:""}}).selectInsertedNode().run(),!0},handleButtonDelete:e=>t=>{let{dispatch:n,state:r,chain:o}=t;if(!n)return!0;let s=(0,a.KP)(e=>"button"===e.type.name)(r.selection);if(!s||e&&!(0,l.Op)(s.node))return!1;let d=(0,a.KP)(e=>"buttonGroup"===e.type.name)(r.selection),c=(0,a.KP)(e=>"navbarButtons"===e.type.name)(r.selection),u=(0,a.KP)(e=>"navbarLinks"===e.type.name)(r.selection);return c||u||!d||1!==d.node.childCount?c&&1===c.node.childCount||u&&1===u.node.childCount?o().deleteNode("button").blur().run():o().deleteNode("button").command(e=>{let{tr:t}=e,n=(0,i.n)(t.doc.resolve(s.pos-1),-1);return n&&t.setSelection(n),!0}).focus().run():o().deleteNode("buttonGroup").command(e=>{let{tr:t}=e,n=(0,i.n)(t.doc.resolve(d.pos));return n&&t.setSelection(n),!0}).focus().run(),!0}}),parseHTML:()=>[{tag:"button"}],renderHTML(e){let{HTMLAttributes:t}=e;return["button",(0,a.KV)(t),0]}})},45002:(e,t,n)=>{"use strict";n.d(t,{X0:()=>f,Y3:()=>x,u4:()=>b});var a=n(6029),i=n(88507),r=n(47687),o=n.n(r),l=n(55729),s=n(9014),d=n(84431),c=n(14389),u=n(71595),p=n(38537);let h="resizeable-control-wrapper",m=(0,s.yX)([s.cM]),g=(e,t)=>Math.max(e,c.MK*Math.max(t.clientWidth/t.clientHeight,1));function x(e){let[t,n]=(0,l.useState)(!1),a=(0,u.jm)(),r=(0,l.useRef)(null),o=(0,p.KS)(r),[s,d]=(0,l.useState)(!1),c=(0,l.useCallback)(()=>{var t,a;null==(t=(a=e.commands).forceHideBubbleMenu)||t.call(a,!0),n(!0)},[e]),h=(0,l.useCallback)(()=>{var t,a;null==(t=(a=e.commands).forceHideBubbleMenu)||t.call(a,!1),n(!1)},[e]);return(0,i.w)(()=>{var t,n;null==(t=(n=e.commands).forceHideBubbleMenu)||t.call(n,s||o)},[e,s,o]),{ref:r,isResizing:s,setIsResizing:d,isAnimating:t,resizeableSx:{".moveable-control":{display:a||o||t?"none":""}},onLayoutAnimationStart:c,onLayoutAnimationComplete:h}}let f={[".".concat(h)]:{zIndex:"".concat(d.$.resizeableWrapper),".moveable-control":{bg:"white",border:"2px solid var(--chakra-colors-trueblue-300)",w:"".concat(8,"px"),h:"".concat(8,"px"),opacity:1,zIndex:10,borderRadius:0,_hover:{opacity:1},transitionProperty:"opacity",transitionDuration:"normal","&.moveable-ne, &.moveable-sw":{cursor:"nesw-resize"},"&.moveable-nw, &.moveable-se":{cursor:"nwse-resize"},"&.moveable-se, &.moveable-ne, &.moveable-e":{marginLeft:"-".concat(5,"px")},"&.moveable-sw, &.moveable-nw, &.moveable-w":{marginLeft:"-".concat(3,"px")},"&.moveable-ne, &.moveable-nw, &.moveable-n":{marginTop:"-".concat(3,"px")},"&.moveable-se, &.moveable-sw, &.moveable-s":{marginTop:"-".concat(5,"px")},"&.moveable-e, &.moveable-w":{cursor:"ew-resize",marginTop:"-".concat(4,"px")},"&.moveable-n, &.moveable-s":{cursor:"ns-resize",marginLeft:"-".concat(4,"px")}},".moveable-line":{display:"none"}}},b=e=>{let{imageWrapperRef:t,setIsResizing:n,updateResizeAttrs:i,refreshDeps:r,keepRatio:s=!0,onResizing:d}=e,u=(0,l.useRef)(null);return(0,l.useEffect)(()=>{setTimeout(()=>{requestAnimationFrame(()=>{var e,t;null==(e=u.current)||e.updateRect(),null==(t=u.current)||t.updateTarget()})},300)},[r]),(0,l.useEffect)(()=>{let e=()=>{var e;null==(e=u.current)||e.updateTarget()},t=o()(e,250);return document.addEventListener("drop",e),window.addEventListener("resize",t),()=>{document.removeEventListener("drop",e),window.removeEventListener("resize",t)}},[]),(0,a.jsx)(m,{ref:e=>{u.current=e},className:h,target:t.current,renderDirections:["se","nw","sw","ne","n","s","e","w"],keepRatio:s,draggable:!1,resizable:!0,origin:!1,onResizeStart:()=>{n(!0)},onResize:e=>{let{target:t,width:n,height:a}=e,i=g(n,t),r=s?a:g(a,t);t.style.width="".concat(i,"px"),s||(t.style.height="".concat(r,"px")),null==d||d({width:i,height:r})},onResizeEnd:e=>{let{target:t}=e,a=t.clientWidth,r=t.clientHeight,o=parseFloat(getComputedStyle(t).fontSize)/c.Ef;i({width:a/o,height:s?null:r/o,isAuto:!1}),n(!1),t.style.width="",t.style.height=""}})}},45176:(e,t,n)=>{"use strict";n.d(t,{Aj:()=>i,BA:()=>c,I0:()=>a,Vj:()=>o,XJ:()=>r,ZX:()=>d,mj:()=>s,pg:()=>l});let a=.8,i=12,r=8,o=15,l=5,s=1,d=2,c=.1},45214:(e,t,n)=>{"use strict";n.d(t,{Ax:()=>L,D6:()=>h,Eb:()=>g,Kh:()=>E,L$:()=>ea,Lp:()=>p,P7:()=>f,QI:()=>J,Re:()=>N,SA:()=>c,VN:()=>j,Xj:()=>x,_B:()=>b,_Z:()=>S,bo:()=>I,eI:()=>w,fu:()=>C,gt:()=>$,iZ:()=>m,lR:()=>A,lX:()=>v,n3:()=>q,ok:()=>k,py:()=>R,to:()=>y,uk:()=>u});var a=n(6830),i=n(28615),r=n(58328),o=n(62452),l=n(68247),s=n(14122),d=n(96177);let c="themed-html-shape-background",u="themed-html-shape-outline",p="themed-svg-shape-outline",h="themed-svg-shape-background",m="themed-svg-shape-background-dim",g="themed-svg-shape-background-light",x="themed-svg-neutral-background",f="themed-html-shape-fill",b="themed-svg-shape-fill",v="themed-svg-shape-fill-dim",y="themed-svg-shape-fill-light",w="themed-line",C="themed-svg-line",j="themed-shape-outside-text",A="themed-shape-text-over-background",k="themed-shape-text-over-fill",S="themed-svg-shape-background-rtl",I="themed-svg-shape-fill-rtl",E="themed-svg-shape-fill-dim-rtl",L="themed-svg-shape-fill-light-rtl",R=()=>({[".".concat(c)]:M,[".".concat(u)]:_,[".".concat(h)]:N,[".".concat(p)]:T,[".".concat(m)]:P,[".".concat(g)]:O,[".".concat(x)]:H,[".".concat(w)]:K,[".".concat(C)]:Q,[".".concat(f)]:B,[".".concat(b)]:V,[".".concat(v)]:W,[".".concat(y)]:U,[".".concat(j)]:Z,[".".concat(A)]:F,[".".concat(k)]:G}),D="var(--shape-shadow-color, var(--shape-border-color-override, var(--shape-border-color)))",M={borderRadius:"var(--box-border-radius)",boxShadow:"var(--shape-shadow, var(--shape-shadow-size) var(--shape-shadow-size) var(--shape-shadow-blur) ".concat(D,")"),border:"var(--shape-border-width) solid var(--shape-border-color-override, var(--shape-border-color))",background:"var(--shape-bg-color-override, var(--shape-bg-image, var(--shape-bg-color-alpha)))",backgroundColor:"var(--shape-bg-color-override, var(--shape-bg-color-alpha))","--body-color":"var(--shape-text-color)",...(0,l.U2)("var(--shape-text-color)")},_={background:"var(--card-background-color)",border:"var(--line-thickness) solid var(--shape-border-color-override, var(--shape-border-color))",borderRadius:"var(--box-border-radius)",boxShadow:"var(--shape-shadow, var(--shape-shadow-size) var(--shape-shadow-size) var(--shape-shadow-blur) ".concat(D,")"),...(0,l.U2)("var(--body-color)")},z={stroke:"var(--shape-border-color-override, var(--shape-border-color))",strokeWidth:"var(--shape-border-width)",vectorEffect:"non-scaling-stroke",strokeLinejoin:"round",strokeLinecap:"round"},T={...z,fill:"none"},N={...z,fill:"var(--shape-bg-color-override, var(--shape-bg-image-svg) var(--shape-bg-color-alpha))",filter:"var(--shape-filter, drop-shadow(var(--shape-shadow-size) var(--shape-shadow-size) var(--shape-shadow-blur) ".concat(D,"))")},P={...z,fill:"var(--shape-bg-color-override, var(--shape-bg-color-alpha-dim))"},O={...z,fill:"var(--shape-bg-color-override, var(--shape-bg-color-alpha-light))"},H={...z,fill:"var(--neutral-background-color)"},F={"--body-color":"var(--shape-text-color)",...(0,l.U2)("var(--shape-text-color)")},B={background:"var(--shape-bg-color-override, var(--shape-fill))"},V={fill:"var(--shape-bg-color-override, var(--shape-fill-svg))"},W={fill:"var(--shape-bg-color-override, var(--shape-fill-svg-dim))"},U={fill:"var(--shape-bg-color-override, var(--shape-fill-svg-light))"},G={"--body-color":"var(--shape-fill-text-color)",...(0,l.U2)("var(--shape-fill-text-color)"),...(0,s.t)("var(--shape-fill-text-color)")},K={backgroundColor:"var(--shape-border-color-override, var(--line-color))",borderRadius:"var(--box-border-radius)"},Q={stroke:"var(--shape-border-color-override, var(--line-color))",strokeLinejoin:"round",strokeLinecap:"round"},Z={...(0,l.U2)("var(--body-color)")},q=e=>{let{cardColor:t,bodyColor:n,config:i,theme:l}=e,s=(0,o.Ik)(t),c=(0,o.Ik)((0,o.QD)(l,i.shapeColorScheme)),u=(0,o.GV)(l,i.shapeColorScheme,i.shapeFill),p="custom"===i.shapeColorScheme?"var(--neutral-border-color)":u,h=r.z0[i.shapeFill].opacity,m=(0,a.sN)(s,c,h),g=(0,a.$p)(s),x=g?(0,a.Zt)(m,3):(0,a.Zt)(m,-3),f=g?(0,a.Zt)(m,-3):(0,a.Zt)(m,3),b=(0,o.Ik)(n),v=h>0&&!(0,a.a6)(c,b)?(0,d.S0)(c).textColor:b,y=(0,o.Ik)((0,o.VH)(l)),w=(0,d.S0)(y).textColor;return{"--shape-bg-image":"none"===i.shapeFill||"accent"!==i.shapeColorScheme?void 0:"var(--accent-gradient-background)","--shape-bg-color-alpha":m,"--shape-bg-color-alpha-dim":x,"--shape-bg-color-alpha-light":f,"--shape-bg-color":c,"--shape-border-color":u,"--shape-text-color":v,"--line-color":p,"--shape-bg-image-svg":"none"===i.shapeFill||"accent"!==i.shapeColorScheme?"url(#transparent)":"url(#theme-accent-background-gradient-linear)","--shape-bg-image-svg-rtl":"none"===i.shapeFill||"accent"!==i.shapeColorScheme?"url(#transparent)":"url(#theme-accent-background-gradient-linear-rtl)","--shape-fill":"var(--accent-gradient-fill, var(--accent-color))","--shape-fill-opacity":h,"--shape-fill-svg":"url(#theme-accent-gradient-linear) var(--accent-color)","--shape-fill-svg-rtl":"url(#theme-accent-gradient-linear-rtl) var(--accent-color)","--shape-fill-svg-dim":"var(--accent-color-dim)","--shape-fill-svg-light":"var(--accent-color-light)","--shape-fill-text-color":w}},$=e=>{var t;let{config:n}=e,a=r.T5[n.roundness].blockRadius,i=null==(t=r.OE[n.buttonRoundness])?void 0:t.borderRadius,{shapeBorderEm:o,lineThicknessEm:l}=r.ws[n.shapeBorder];return{"--box-border-radius":"sm"===n.roundness&&o>0?"1px":"".concat(a,"em"),"--shape-border-width":"".concat(o,"em"),"--line-thickness":"max(round(".concat(l,"em, 1px), 1px)"),"--button-border-radius":i}},J=e=>{let{cardColor:t,config:n}=e,a=(0,o.Ik)(t),l=r.kI[n.shapeShadow],s=r.ws[n.shapeBorder].shadowSizeEm;if("getShadow"in l)return{"--shape-shadow":l.getShadow(a),"--clickable-shadow":l.getClickShadow(a),"--shape-filter":l.shapeFilter};{let{shadowDistance:e,shadowBlur:n,shadowColorScheme:a,pdfShadow:r}=l,o="block"===a?void 0:Y(t),d="0 0.25em 0.375em -0.0625em rgba(0, 0, 0, 0.1), 0 0.125em 0.25em -0.0625em rgba(0, 0, 0, 0.06)";return i.rS&&!r?{"--shape-shadow":"none","--clickable-shadow":"none","--shape-filter":"none"}:0===e&&"0"===n?{"--shape-shadow":"none","--clickable-shadow":d}:{"--shape-shadow-size":"".concat(e*s,"em"),"--shape-shadow-blur":n,"--shape-shadow-color":o,"--clickable-shadow":d,"--shape-filter":void 0}}},Y=e=>{let t=(0,o.Ik)(e);return .35>(0,a.VU)(t)?(0,a.$3)("white",.25):(0,a.$3)((0,a.PE)(t,.2),.125)},X={...z,fill:"var(--shape-bg-color-override, var(--shape-bg-image-svg-rtl, var(--shape-bg-image-svg)) var(--shape-bg-color-alpha))",filter:"var(--shape-filter, drop-shadow(calc(-1 * var(--shape-shadow-size)) var(--shape-shadow-size) var(--shape-shadow-blur) ".concat(D,"))")},ee={fill:"var(--shape-bg-color-override, var(--shape-fill-svg-rtl, var(--shape-fill-svg)))"},et={fill:"var(--shape-bg-color-override, var(--shape-fill-svg-dim))"},en={fill:"var(--shape-bg-color-override, var(--shape-fill-svg-light))"},ea=()=>({[".".concat(S)]:X,[".".concat(I)]:ee,[".".concat(E)]:et,[".".concat(L)]:en})},45318:(e,t,n)=>{"use strict";n.d(t,{V:()=>p});var a=n(6029),i=n(49611),r=n(55597),o=n(48621),l=n(19564),s=n(25839),d=n(35292),c=n(10307),u=n(55084);let p=e=>{let{onClick:t,image:n,backFrom:p}=e,{toggleBuddyChatPanel:h,isBuddyChatPanelOpen:m}=(0,c.n)(),g=(0,s.jL)();return(0,d.l)(n)?(0,a.jsx)(i.$,{size:"sm",variant:"solid",leftIcon:(0,a.jsx)(o.g,{icon:r.p7g}),onClick:()=>{!m&&(h(),p&&g((0,u.Po)(p))),t()},children:(0,a.jsx)(l.x6,{id:"xWEvuo"})}):null}},45574:(e,t,n)=>{"use strict";n.d(t,{Df:()=>i.Df,Ki:()=>i.Ki,Q8:()=>a.Q,XJ:()=>i.XJ,bY:()=>i.bY,um:()=>i.um,wH:()=>i.wH,wt:()=>i.wt,yK:()=>i.yK});var a=n(14812),i=n(16595)},45611:(e,t,n)=>{"use strict";n.d(t,{K:()=>m,e:()=>c});var a=n(29614),i=n(90047),r=n(44245),o=n(73099),l=n(98088),s=n(6181),d=n(95011);let c=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{e=e.replace(/<icon([^>]*?)\/?\s*>/gi,"<icon$1></icon>");let c=new DOMParser().parseFromString(e,"text/html");if(p(c),t.removeImagesFromLayouts){var n;u(c,(null==(n=t.imageOptions)?void 0:n.provider)||"aiGenerated"),h(c)}let m=(0,s.gx)(),g=(0,o.h)(c,"img[searches], img[query], icon[query]").map(async e=>{var n,r,o,l,s,c,u,p,h;if(e.getAttribute("bookmark"))return;let g=e.getAttribute("query")||e.getAttribute("prompt")||"",x=null==(n=t.imageOptions)?void 0:n.generateStyle,f=null==(r=t.imageOptions)?void 0:r.stylePreset,b=null==(o=t.imageOptions)?void 0:o.artStylePreset,v=null==(l=t.imageOptions)?void 0:l.artStylePrompt,y=null==(s=t.imageOptions)?void 0:s.visualsMenuEnabled,w="icon"===e.tagName.toLowerCase()||"icon"===e.getAttribute("type"),C="web"==e.getAttribute("provider")?"web":"aiGenerated",j=(null==(c=t.imageOptions)?void 0:c.provider)=="auto"?C:null==(u=t.imageOptions)?void 0:u.provider,A=(0,i.e)({query:g,provider:w?"fontawesome":j||"web",license:null==(p=t.imageOptions)?void 0:p.license,model:null==(h=t.imageOptions)?void 0:h.model,stylePrompt:x,stylePreset:f,artStylePreset:b,artStylePrompt:v,visualsMenuEnabled:y}),k=new d.t,S=t.loadImages?await (0,i.a)({loadImageId:A.loadImageId,loadImageParams:A.loadImageParams,context:{workspaceId:m},imageStore:k}):{};e.setAttribute(a.A,JSON.stringify({...A,...S}))}),x=(0,o.h)(c,"smart-diagram[prompt]").map(async e=>{let t=e.getAttribute("prompt"),n=e.getAttribute("variant"),i=e.getAttribute("language");if(!t||!n)return void console.warn("Smart diagram missing prompt or variant",e);if(!(0,r.aK)(n))return void console.warn("Invalid smart diagram variant",n);let o=(0,l.z)();e.setAttribute(a.A,JSON.stringify({id:o,aiGenerateParams:{prompt:t,language:i||void 0},aiGenerateStatus:"queued",templateKey:n}))});return await Promise.all([...g,...x]),c.body.innerHTML}catch(t){return console.error("Error transforming AI HTML",t),e}},u=(e,t)=>{if("none"===t)return void e.querySelectorAll('img:not([type="icon"])').forEach(e=>{e.hasAttribute("src")||e.remove()})},p=e=>{let t=e.getElementsByTagName("*");for(let e=0;e<t.length;e++){let n=t[e],a=n.style.textAlign;n.removeAttribute("style"),a&&(n.style.textAlign=a)}},h=e=>{e.querySelectorAll("section").forEach(e=>{if(!e.querySelector("div.body"))return;let t=e.querySelector(":scope > img:not(.accent-image)");t&&t.classList.add("accent-image")})},m=e=>{try{let t=e.getAttribute(a.A);return JSON.parse(t||"")}catch(t){return console.error("[Image] Error parsing ".concat(a.A," attrs"),e,t),!1}}},45666:(e,t,n)=>{"use strict";n.d(t,{g:()=>m}),n(831);var a=n(91938),i=n(27002),r=n(67097),o=n(5541),l=n(6272),s=n(19521),d=n(32756),c=n(96104),u=n.n(c);let p=async(e,t)=>{let n=e.split(" ")[0],i="".concat(a.$.FRONTEND_URL,"/api/icons/search?count=5&query=").concat(n);try{var r;let e=await fetch(i,{credentials:"include",signal:null==t?void 0:t.signal}),n=null==(r=await e.json())?void 0:r.data;if(!n||0===n.length)return console.warn("[fetchIcons] No icons found. Using default set"),u()(h);return console.debug("[AI fetchIcons] fetched icons",n),n}catch(e){return console.error("(caught) [fetchIcons] fetchResults:",e),u()(h)}},h=[d.X46,d.$UM,d.yy,d.DN2,d.us_,d.A4h].map(e=>{let t=(0,s.Kk)(e),[n,i]=t.icon;return{id:e.iconName,provider:"fa",styles:["light"],src:"".concat(a.$.FRONTEND_URL,"/api/icons/").concat(e.iconName,".svg?provider=fa&style=light"),html:t.html[0],width:n,height:i}}),m=async e=>{let{query:t,provider:n,options:a={},count:s=35,prefetch:d=!1,abortController:c}=e,u="web"===n?i.of.get("webImageProviderType"):void 0;if("fontawesome"===n)return(await p(t,c)).map(e=>({id:e.id,imageUrl:e.src,width:e.width,height:e.height,attributionUrl:"",thumbnailUrl:"",credit:""}));let h=g({query:t,provider:n,options:{type:u,...a},count:s});try{let e=await (0,o.X)(h,{credentials:"include",signal:null==c?void 0:c.signal}),t=await e.json();if(!((null==t?void 0:t.length)>=0))throw Error(t);return d&&Promise.all(t.map(e=>(0,r.GV)(e.imageUrl))).then(()=>{console.debug("[fetchImageSearchResults] images downloaded in background")}).catch(e=>{console.debug("[fetchImageSearchResults] error downloading image:",e)}),t}catch(e){if((0,l.z)(e))throw e;return console.error("(caught) [fetchImages] fetchResults:",e),[]}},g=e=>{let{query:t,count:n,provider:i,options:r={}}=e,o=new URLSearchParams,l=a.$.API_HOST||"https://api.gamma.app";return o.append("query",t),o.append("provider",i),o.append("count",String(n)),Object.entries(r).forEach(e=>{let[t,n]=e;void 0!==n&&o.append(t,String(n))}),"".concat(l).concat("/media/images/search","?").concat(o.toString())}},45934:(e,t,n)=>{"use strict";n.d(t,{u:()=>r});var a=n(51684),i=n(77650);let r={key:"image.pictographic.icon",featureFlag:"pictographicIconsSearch",label:()=>i.Ru._({id:"aW5SOA"}),description:()=>i.Ru._({id:"cR6GgR"}),icon:a.g3w,keywords:["pictographic","icons","illustrations"]}},45943:(e,t,n)=>{"use strict";n.d(t,{Mu:()=>h,kf:()=>g,tE:()=>m});var a=n(37243),i=n(15902),r=n(63867),o=n(15607),l=n(15577),s=n(70006),d=n(23513),c=n(9893),u=n(37327);let p=e=>"gallery"===e.type.name,h=(e,t,n)=>{var c;let h=f(n);if(h.length>0)return h.forEach(t=>{let{mark:n}=t;(0,u.E0)(n)||(0,u.uI)(n.attrs.href,e)}),!1;let g=null==(c=t.clipboardData)?void 0:c.getData("text/plain");if(!g||!m(g))return!1;let{selection:b}=e.state;if(b instanceof r.U3&&!b.empty)return t.preventDefault(),x(e,g),!0;if(g.match(s.D_)||(0,l.Zj)(g))return!1;if(!e.schema.nodes.embed)return(0,u.uI)(g,e),!1;let v=b instanceof i.n,y=b.empty&&["paragraph","heading","title"].includes(b.$from.parent.type.name)&&(0,o.Op)(b.$from.parent),w=p(b.$from.parent),C=(0,a.BQ)(b)&&p(b.node);if(!(y||w||C||v))return!1;let j=b.from-1,A=C?{from:b.to-1,to:b.to-1}:y?{from:j,to:j+b.$from.parent.nodeSize}:{from:b.from,to:b.to};return e.chain().setTextSelection(A).insertEmbedAndFetchMetadata(g,void 0,!0).command(e=>{let{tr:t}=e,n=(0,d.i)(t);return n&&t.setSelection(n),!0}).run(),!0},m=e=>(0,l.Se)(e)&&!e.includes("\n")&&(0,l.AY)(e),g=e=>1===e.content.childCount&&e.content.firstChild.isTextblock&&m(e.content.firstChild.textContent),x=(e,t)=>{e.commands.setMark(c.N.name,{href:t}),(0,u.uI)(t,e)},f=e=>{let t=[];return e.content.descendants((e,n)=>{e.marks.filter(e=>"link"===e.type.name).forEach(e=>{t.push({mark:e,pos:n})})}),t}},46007:(e,t,n)=>{"use strict";n.d(t,{QC:()=>c,ZD:()=>o,cZ:()=>l,eT:()=>s,z3:()=>d});var a=n(89557),i=n(16419),r=n.n(i);function o(e){return e===a.A.pdf}function l(e,t){var n,i;return o(e)||(n=e)===a.A.doc||n===a.A.docx||"ppt"===(i=(i=t).toLocaleLowerCase())||"pptx"===i}function s(e){return"otf"===(e=e.toLocaleLowerCase())||"ttf"===e}let d=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(!+e)return"0 Bytes";let n=Math.floor(Math.log(e)/Math.log(1024));return"".concat(parseFloat((e/Math.pow(1024,n)).toFixed(t<0?0:t))," ").concat(["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][n])},c=e=>e.name&&r()(e.name.split("."))||""},46091:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var a=n(6029);n(55729);var i=n(82328);let r=e=>t=>{let{isInOfflineMode:n}=(0,i.u)();return n?null:(0,a.jsx)(e,{...t})}},46510:(e,t,n)=>{"use strict";n.d(t,{M5:()=>d,Vk:()=>o,rj:()=>l,wC:()=>s});var a=n(23460),i=n(19297);let r=e=>{var t;let{view:n,event:a}=e,i=null==(t=n.posAtCoords({left:a.clientX,top:a.clientY}))?void 0:t.inside;if(!i||-1==i)return null;let{doc:r}=n.state,o=r.nodeAt(i);return{pos:i,node:o}},o=(e,t,n)=>{var o;if(n&&!(0,i.Ny)(n,e.state.schema)||!((null==(o=t.target)?void 0:o.hasAttribute("data-media-node-wrapper"))||(0,a.xX)(t.target,e.dom,e=>e.hasAttribute("data-media-node-wrapper"))))return null;let s=r({view:e,event:t});if(!s||n&&n.content.firstChild===s.node)return null;let d=l(t.target,e);return d&&s.node?{pos:s.pos,node:s.node,side:d}:null},l=(e,t)=>{let n=(0,a.GE)(e,t.dom,"data-media-add-side");return null==n?void 0:n.getAttribute("data-media-add-side")},s=e=>{let{side:t,pasteContent:n,node:a}=e;return{type:"gridLayout",content:[{type:"gridCell",content:"left"===t?n:[a.toJSON()]},{type:"gridCell",content:"left"===t?[a.toJSON()]:n}]}},d=e=>{let{side:t,node:n}=e;return"left"===t?2:n.nodeSize+4}},46617:(e,t,n)=>{"use strict";n.d(t,{BM:()=>r,ZS:()=>a,eK:()=>i});let a=4,i={type:"gridCell",content:[{type:"paragraph"}]},r="gridLayout"},46675:(e,t,n)=>{"use strict";n.d(t,{HT:()=>d,Wz:()=>p,lz:()=>u});var a=n(94289),i=n(63867),r=n(97255),o=n(96197),l=n(48413),s=n(14503);class d extends i.LN{map(e,t){let n=e.resolve(t.map(this.$anchorCell.pos)),a=e.resolve(t.map(this.$headCell.pos));if((0,s.NH)(n)&&(0,s.NH)(a)&&(0,s.kV)(n,a)){let e=this.$anchorCell.node(-1)!=n.node(-1);return e&&this.isRowSelection()?d.rowSelection(n,a):e&&this.isColSelection()?d.colSelection(n,a):new d(n,a)}return i.U3.between(n,a)}content(){let e=this.$anchorCell.node(-1),t=l.J.get(e),n=this.$anchorCell.start(-1),i=t.rectBetween(this.$anchorCell.pos-n,this.$headCell.pos-n),r={},o=[];for(let n=i.top;n<i.bottom;n++){let l=[];for(let a=n*t.width+i.left,o=i.left;o<i.right;o++,a++){let n=t.map[a];if(!r[n]){r[n]=!0;let a=t.findCell(n),o=e.nodeAt(n),d=i.left-a.left,c=a.right-i.right;if(d>0||c>0){let e=o.attrs;d>0&&(e=(0,s.Pn)(e,0,d)),c>0&&(e=(0,s.Pn)(e,e.colspan-c,c)),o=a.left<i.left?o.type.createAndFill(e):o.type.create(e,o.content)}if(a.top<i.top||a.bottom>i.bottom){let e=(0,s.ob)(o.attrs,"rowspan",Math.min(a.bottom,i.bottom)-Math.max(a.top,i.top));o=a.top<i.top?o.type.createAndFill(e):o.type.create(e,o.content)}l.push(o)}}o.push(e.child(n).copy(a.FK.from(l)))}let d=this.isColSelection()&&this.isRowSelection()?e:o;return new a.Ji(a.FK.from(d),1,1)}replace(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.Ji.empty,n=e.steps.length,r=this.ranges;if(0===t.size){if(this.isSelectingAllCells())return void(0,o.CG)(this,e);if(this.isRowSelection())return void(0,o.QN)(this,e);if(this.isColSelection())return void(0,o.Kl)(this,e)}for(let i=0;i<r.length;i++){let{$from:o,$to:l}=r[i],s=e.mapping.slice(n);e.replace(s.map(o.pos),s.map(l.pos),i?a.Ji.empty:t)}let l=i.LN.findFrom(e.doc.resolve(e.mapping.slice(n).map(this.to)),-1);l&&e.setSelection(l)}replaceWith(e,t){this.replace(e,new a.Ji(a.FK.from(t),0,0))}getTableNode(){return this.$anchorCell.node(-1)}isSelectingAllCells(){return l.J.get(this.$anchorCell.node(-1)).map.length===this.ranges.length}everyCell(e){let t=!0;return this.forEachCell((n,a)=>{e(n,a)||(t=!1)}),t}forEachCell(e){let t=this.$anchorCell.node(-1),n=l.J.get(t),a=this.$anchorCell.start(-1),i=n.cellsInRect(n.rectBetween(this.$anchorCell.pos-a,this.$headCell.pos-a));for(let n=0;n<i.length;n++)e(t.nodeAt(i[n]),a+i[n])}isColSelection(){let e=this.$anchorCell.index(-1),t=this.$headCell.index(-1);return!(Math.min(e,t)>0)&&Math.max(e+this.$anchorCell.nodeAfter.attrs.rowspan,t+this.$headCell.nodeAfter.attrs.rowspan)==this.$headCell.node(-1).childCount}static colSelection(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=l.J.get(e.node(-1)),a=e.start(-1),i=n.findCell(e.pos-a),r=n.findCell(t.pos-a),o=e.node(0);return i.top<=r.top?(i.top>0&&(e=o.resolve(a+n.map[i.left])),r.bottom<n.height&&(t=o.resolve(a+n.map[n.width*(n.height-1)+r.right-1]))):(r.top>0&&(t=o.resolve(a+n.map[r.left])),i.bottom<n.height&&(e=o.resolve(a+n.map[n.width*(n.height-1)+i.right-1]))),new d(e,t)}isRowSelection(){let e=l.J.get(this.$anchorCell.node(-1)),t=this.$anchorCell.start(-1),n=e.colCount(this.$anchorCell.pos-t),a=e.colCount(this.$headCell.pos-t);return!(Math.min(n,a)>0)&&Math.max(n+this.$anchorCell.nodeAfter.attrs.colspan,a+this.$headCell.nodeAfter.attrs.colspan)==e.width}eq(e){return e instanceof d&&e.$anchorCell.pos==this.$anchorCell.pos&&e.$headCell.pos==this.$headCell.pos}static rowSelection(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=l.J.get(e.node(-1)),a=e.start(-1),i=n.findCell(e.pos-a),r=n.findCell(t.pos-a),o=e.node(0);return i.left<=r.left?(i.left>0&&(e=o.resolve(a+n.map[i.top*n.width])),r.right<n.width&&(t=o.resolve(a+n.map[n.width*(r.top+1)-1]))):(r.left>0&&(t=o.resolve(a+n.map[r.top*n.width])),i.right<n.width&&(e=o.resolve(a+n.map[n.width*(i.top+1)-1]))),new d(e,t)}toJSON(){return{type:"CellSelection2",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}static fromJSON(e,t){return new d(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;return new d(e.resolve(t),e.resolve(n))}getBookmark(){return new c(this.$anchorCell.pos,this.$headCell.pos)}constructor(e,t=e){let n=e.node(-1),a=l.J.get(n),r=e.start(-1),o=a.rectBetween(e.pos-r,t.pos-r),s=e.node(0),d=a.cellsInRect(o).filter(e=>e!=t.pos-r);d.unshift(t.pos-r);let c=d.map(e=>{let t=n.nodeAt(e),a=e+r+1;return new i.yn(s.resolve(a),s.resolve(a+t.content.size))});super(c[0].$from,c[0].$to,c),this.$anchorCell=e,this.$headCell=t,this.$anchorCell=e,this.$headCell=t}}if(!d.prototype.jsonID)try{i.LN.jsonID("CellSelection2",d)}catch(e){}class c{map(e){return new c(e.map(this.anchor),e.map(this.head))}resolve(e){let t=e.resolve(this.anchor),n=e.resolve(this.head);return"row"==t.parent.type.spec.tableRole&&"row"==n.parent.type.spec.tableRole&&t.index()<t.parent.childCount&&n.index()<n.parent.childCount&&(0,s.kV)(t,n)?new d(t,n):i.LN.near(n,1)}constructor(e,t){this.anchor=e,this.head=t,this.anchor=e,this.head=t}}function u(e){if(!(e.selection instanceof d))return null;let t=[];return e.selection.forEachCell((e,n)=>{t.push(r.NZ.node(n,n+e.nodeSize,{class:"selectedCell"}))}),r.zF.create(e.doc,t)}function p(e,t,n){let a,r,o=(t||e).selection,s=(t||e).doc;if(o instanceof i.nh&&(r=o.node.type.spec.tableRole)){if("cell"==r||"header_cell"==r)a=d.create(s,o.from);else if("row"==r){let e=s.resolve(o.from+1);a=d.rowSelection(e,e)}else if(!n){let e=l.J.get(o.node),t=o.from+1,n=t+e.map[e.width*e.height-1];a=d.create(s,t+1,n)}}else o instanceof i.U3&&function(e){let{$from:t,$to:n}=e;if(t.pos==n.pos||t.pos<t.pos-6)return!1;let a=t.pos,i=n.pos,r=t.depth;for(;r>=0&&!(t.after(r+1)<t.end(r));r--,a++);for(let e=n.depth;e>=0&&!(n.before(e+1)>n.start(e));e--,i--);return a==i&&/row|table/.test(t.node(r).type.spec.tableRole)}(o)?a=i.U3.create(s,o.from):o instanceof i.U3&&function(e){let t,n,{$from:a,$to:i}=e;for(let e=a.depth;e>0;e--){let n=a.node(e);if("cell"===n.type.spec.tableRole||"header_cell"===n.type.spec.tableRole){t=n;break}}for(let e=i.depth;e>0;e--){let t=i.node(e);if("cell"===t.type.spec.tableRole||"header_cell"===t.type.spec.tableRole){n=t;break}}return t!==n&&0===i.parentOffset}(o)&&(a=i.U3.create(s,o.$from.start(),o.$from.end()));return a&&(t||(t=e.tr)).setSelection(a),t}},46957:(e,t,n)=>{"use strict";n.d(t,{R$:()=>l,w_:()=>r,z0:()=>o});var a=n(27002);n(6845);let i=(e,t)=>{let n=e.filter(e=>Object.keys(e.spec).length>0),a=t.filter(e=>Object.keys(e.spec).length>0),i=n.map(e=>JSON.stringify(e.spec)),r=a.map(e=>JSON.stringify(e.spec));return{removed:i.filter(e=>!r.includes(e)),added:r.filter(e=>!i.includes(e))}},r=(e,t)=>{let n=e.filter(e=>Object.keys(e.spec).length>0),a=t.filter(e=>Object.keys(e.spec).length>0);return n.length!==a.length||JSON.stringify(n.map(e=>e.spec))!==JSON.stringify(a.map(e=>e.spec))},o=e=>{let{newNode:t,oldNode:n,updateProps:o,oldDecorations:l,newDecorations:s}=e;if(JSON.stringify(t.attrs)!==JSON.stringify(n.attrs))return o(),!0;if(r(l,s)){if(a.of.get("debugLogging")){let e=i(l,s);console.debug("============== decos ================"),console.debug("decos changed",t.type.name),e.removed.length>0&&console.debug("%c  decos removed: ".concat(e.removed.join(" ")," "),"color: red"),e.added.length>0&&console.debug("%c  decos added:   ".concat(e.added.join(" ")," "),"color: green")}o()}return!0},l=e=>{let{newNode:t,oldNode:n,updateProps:a}=e;return t.content.childCount!==n.content.childCount?(a(),!0):o(e)}},46979:(e,t,n)=>{"use strict";n.d(t,{K:()=>i});var a=n(81498);class i{get data(){if(this._data)return this._data;let e=this.findIndices();if(e.labelsOnly){let t=this.source.columns.slice(e.from.column,e.to.column+1);return new a.h({columns:t,rows:[],cells:[]})}let t=this.source.rows.slice(e.from.row,e.to.row+1),n=this.source.columns.slice(e.from.column,e.to.column+1),i=t.flatMap(e=>n.map(t=>this.source.getCell({row:e.id,column:t.id}))).filter(e=>!!e);return new a.h({rows:t,columns:n,cells:i})}clear(){let e=this.findIndices(),{rows:t,columns:n}=this.source;for(let a=e.from.column;a<=e.to.column;a++){let i=n[a];if(this.includesLabels&&(i.label=""),!e.labelsOnly)for(let n=e.from.row;n<=e.to.row;n++){let e=t[n],a=this.source.getCell({row:e.id,column:i.id});a?a.clear():this.source.setEmptyCell(e,i)}}}includes(e){if("isLabel"in e)return this.includesLabelCell(e.column);let t=this.findIndices(),n=this.source.findCellIndex(e);return!!n&&!t.labelsOnly&&!!(t.from.row<=n.row)&&!!(t.to.row>=n.row)&&!!(t.from.column<=n.column)&&!!(t.to.column>=n.column)}includesLabelCell(e){if(!this.includesLabels)return!1;let t=this.source.columns.findIndex(t=>{let{id:n}=t;return n===e});if(t<0)return!1;let n=this.findIndices();return n.from.column<=t&&n.to.column>=t}findIndices(){let{rows:e,columns:t}=this.source,n=t.findIndex(e=>{let{id:t}=e;return t===this.from.column}),a=t.findIndex(e=>{let{id:t}=e;return t===this.to.column});if(!this.to.row)return{from:{column:n},to:{column:a},labelsOnly:!0};let i=e.findIndex(e=>{let{id:t}=e;return t===this.from.row}),r=e.findIndex(e=>{let{id:t}=e;return t===this.to.row});if(-1!==[i,r,n,a].indexOf(-1))throw Error("Invalid range");return{from:{row:i,column:n},to:{row:r,column:a},labelsOnly:!1}}static nonEmpty(e){function t(t){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=e.getLines(t);for(let t=n?a.length-1:0;t!==(n?-1:a.length);n?t--:t++){let n=a[t];if(!n.isEmpty(e))return n}return null}let n=t("row"),a=t("row",!0),i=t("column"),r=t("column",!0);return n&&a&&i&&r?new this(e,{row:n.id,column:i.id},{row:a.id,column:r.id},!0):null}constructor(e,t,n,a=!1){this.source=e,this.from=t,this.to=n,this.includesLabels=a,this._data=void 0}}},48369:(e,t,n)=>{"use strict";n.d(t,{BJ:()=>iS,aQ:()=>iA});var a=n(6029),i=n(26420),r=n(51684),o=n(77650),l=n(55729),s=n(45214),d=n(43607),c=n(58959),u=n(57405),p=n(48810),h=n(53113),m=n(99492),g=n(48621),x=n(48342),f=n(98874);let b={key:"cellSize",defaultValue:()=>(0,f.rO)().md.width,Control:e=>{let{value:t,updateValue:n,option:i}=e,r=Object.values((0,f.rO)()).find(e=>e.width===t);return(0,a.jsxs)(c.z,{spacing:2,me:2,children:[(0,a.jsx)(x.Tz,{placement:"top",label:(0,a.jsxs)(u.T,{spacing:0,children:[(0,a.jsx)(p.E,{color:"gray.400",children:i.name()}),(0,a.jsx)(p.E,{children:null==r?void 0:r.label()})]}),children:(0,a.jsx)(p.E,{fontSize:"sm",fontWeight:"600",children:(0,a.jsx)(g.g,{icon:m.oZz})})}),(0,a.jsxs)(h.Ap,{min:(0,f.rO)().sm.width,max:(0,f.rO)().xl.width,step:5,value:t,onChange:n,w:"60px",focusThumbOnChange:!1,colorScheme:"trueblue",size:"sm",children:[(0,a.jsx)(h.hB,{children:(0,a.jsx)(h.hJ,{})}),r?(0,a.jsx)(x.Tz,{placement:"top",label:(0,a.jsxs)(u.T,{spacing:0,children:[(0,a.jsx)(p.E,{color:"gray.400",children:i.name()}),(0,a.jsx)(p.E,{children:r.label()})]}),children:(0,a.jsx)(h.OQ,{background:"trueblue.500"})}):(0,a.jsx)(h.OQ,{background:"trueblue.500"})]})]})},ControlMenu:(e,t,n)=>({key:n.key,label:n.name(),icon:m.oZz,items:Object.entries((0,f.rO)()).map(n=>{let[a,i]=n;return{key:"cell-size-".concat(a),label:i.label(),icon:i.width===e?m.e68:void 0,onClick:()=>{t(i.width)}}})}),getDefaultOnParse:e=>e.childElementCount%2==0?(0,f.rO)().lg.width:(0,f.rO)().md.width,checkEnabled(e){let{options:t}=e;return"vertical"!==t.orientation},name:()=>o.Ru._({id:"LNoaEH"}),validator:e=>Object.values((0,f.rO)()).some(t=>t.width===e)};var v=n(54229),y=n(35883);let w=(e,t,n)=>(0,a.jsx)(v.b,{currentColor:e,setColor:e=>{t(e,!0),null==n||n()},unsetColor:()=>{t(null,!0),null==n||n()},source:"SmartLayout",showAddColorButton:!1}),C={key:"color",Control:e=>{let{value:t,updateValue:n,editor:i}=e;return(0,a.jsx)(y.a,{color:t,setColor:e=>n(e,!0),editor:i,analyticsSource:"SmartLayout"})},ControlMenu:(e,t,n)=>({key:n.key,label:n.name(),icon:m.fyG,items:[{key:"clear",element:n=>w(e,t,n)}]}),name:()=>"Color"};var j=n(55597),A=n(74471);let k={key:"isEmphasized",Control:e=>{let{value:t,editor:n,pos:i}=e;return(0,a.jsx)(A.I,{label:t?o.Ru._({id:"PDMbsX"}):o.Ru._({id:"m1crrt"}),icon:t?j.yy:m.yy,onClick:()=>{i&&n.chain().handleEmphasizeCell(i,!t).run()}})},ControlMenu:(e,t,n)=>({key:n.key,label:e?o.Ru._({id:"PDMbsX"}):o.Ru._({id:"m1crrt"}),icon:e?j.yy:m.yy,onClick:()=>{t(!e)}}),name:()=>"Emphasis"},S=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return Object.values(t.reduce((e,t)=>(t.forEach(t=>{e[t.key]=t}),e),{}))},I=e=>{let{additionalOptions:t=[],additionalCellOptions:n=[],defaultOptions:a={},presetConfigurations:i=[]}=e;return{...e,options:S([C,b],t),cellOptions:S([C,k],n),presetConfigurations:i,addDirection:e=>"vertical"===e.orientation?"bottom":"right",isFullWidth:e=>"horizontal"===e.orientation,defaultOptions:a}};var E=n(40452),L=n(66082),R=n(25839),D=n(58328),M=n(68247),_=n(96177),z=n(88839),T=n(62452),N=n(43634);let P=function(e,t){var n;let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0,o=(0,R.GV)(N.SJ),s=null!=(n=null==t?void 0:t.color)?n:e.color,d=s,c=(0,z.M)(o),u=D.z0[c.shapeFill].opacity,p=(0,T.bh)(o);if(!d&&!r&&"custom"===c.shapeColorScheme&&p.length>0&&t){let e=(0,T.bh)(o).map(T.Ik);d=e[a%e.length]}let h=!0===i?0:!1===i?1:u,m=(0,l.useMemo)(()=>(0,_.q9)(d,h),[d,h]),g=s?(0,M.U2)(s):void 0;return{color:d,colorVars:m,headingColorCss:g,colorOverride:s}};var O=n(3298),H=n(58568);let F=2/3*3,B=function(e,t,n,a){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"ltr",r=F*n,o=3*n;if(!a){let n=.75*t,a=(e-r)/2,i=a+r,l=(e-o)/2;return"M ".concat(a," 0 ")+"L ".concat(i," 0 ")+"L ".concat(i," ").concat(n," ")+"L ".concat(l+o," ").concat(n," ")+"L ".concat(e/2," ").concat(t," ")+"L ".concat(l," ").concat(n," ")+"L ".concat(a," ").concat(n," ")+"Z"}let l=t/2,s=(t-r)/2,d=s+r,c=(t-o)/2,u=c+o;if("rtl"===i){let t=2.5*n;return"M 0 ".concat(l," ")+"L ".concat(t," ").concat(c," ")+"L ".concat(t," ").concat(s," ")+"L ".concat(e," ").concat(s," ")+"L ".concat(e," ").concat(d," ")+"L ".concat(t," ").concat(d," ")+"L ".concat(t," ").concat(u," ")+"Z"}let p=e-2.5*n;return"M 0 ".concat(s," ")+"L ".concat(p," ").concat(s," ")+"L ".concat(p," ").concat(c," ")+"L ".concat(e," ").concat(l," ")+"L ".concat(p," ").concat(u," ")+"L ".concat(p," ").concat(d," ")+"L 0 ".concat(d," ")+"Z"},V=(0,l.memo)(e=>{let{cellProps:t,isHorizontal:n}=e,{layoutOptions:r,cellOptions:o,index:l,direction:d,selectCellForElementProps:c}=t,{colorVars:u}=P(r,o,l),{width:p,height:h,fontSize:m,ref:g}=(0,H.Lf)(),x=B(p,h,m,n,d),f=n?{width:"100%",height:"".concat(3,"em")}:{minWidth:"".concat(3,"em"),width:"".concat(3,"em"),height:"100%"};return(0,a.jsx)(E.s,{contentEditable:!1,align:"center",justify:"center",position:"relative",sx:u,...c,ref:g,...f,children:(0,a.jsx)(i.a,{as:"svg",pos:"absolute",inset:"0",w:"100%",overflow:"visible","data-testid":"arrow-svg",...c,children:(0,a.jsx)(i.a,{as:"path",d:x,className:s.D6})})})});V.displayName="ArrowLabel";var W=n(21938),U=n(69837);let G=(e,t,n,a,i)=>{let r=(a?4:5)*n,o=+n;return a?"rtl"===i?"\n          M ".concat(o," 0\n          L 0 ").concat(r/2,"\n          L ").concat(o," ").concat(r,"\n          L ").concat(e," ").concat(r,"\n          L ").concat(e-o," ").concat(r/2,"\n          L ").concat(e," 0 Z"):"\n        M ".concat(e-o," 0\n        L ").concat(e," ").concat(r/2,"\n        L ").concat(e-o," ").concat(r,"\n        L 0 ").concat(r,"\n        L ").concat(o," ").concat(r/2,"\n        L 0 0 Z"):"\n          M 0 ".concat(t-o,"\n          L ").concat(r/2," ").concat(t,"\n          L ").concat(r," ").concat(t-o,"\n          L ").concat(r," 0\n          L ").concat(r/2," ").concat(o,"\n          L 0 0 Z")},K=(0,l.memo)(e=>{let{cellProps:t,isHorizontal:n}=e,{layoutOptions:r,cellOptions:o,index:l,direction:d,image:c,selectCell:u,selectCellForElementProps:p}=t,{colorVars:h}=P(r,o,l),{width:m,height:g,fontSize:x,ref:f}=(0,H.Lf)(),b=G(m,g,x,n,d),v=n?{width:"100%",height:"".concat(4,"em")}:{width:"".concat(5,"em"),height:"100%"};return(0,a.jsxs)(E.s,{lineHeight:"1",contentEditable:!1,align:"center",justify:"center",position:"relative",sx:{...h,...(0,L.yp)("center")},...v,ref:f,"data-export-as-image":!0,className:s.lR,children:[(0,a.jsx)(i.a,{as:"svg",pos:"absolute",inset:"0",w:"100%",overflow:"visible","data-testid":"arrow-svg",...p,children:(0,a.jsx)(i.a,{as:"path",d:b,className:s.D6})}),(0,a.jsx)(E.s,{fontSize:"1.5em",pos:"absolute",my:"0.5em",alignItems:"center",justifyContent:"center",className:(0,W.cx)(M.U6),children:(0,a.jsx)(U.R,{image:c,number:r.numbered?l+1:void 0,isNumbered:r.numbered,iconSize:1,selectCell:u})})]})});K.displayName="ChevronLabel";let Q=(0,l.memo)(e=>{let{cellProps:t,isHorizontal:n}=e,{layoutOptions:i,cellOptions:r,index:o,image:l,selectCell:d,selectCellForElementProps:c}=t,{colorVars:u}=P(i,r,o);return(0,a.jsx)(E.s,{lineHeight:"1",contentEditable:!1,align:"center",justify:"center",position:"relative",sx:{...u},style:n?{borderTopLeftRadius:"calc(var(--box-border-radius) - var(--line-thickness))",borderTopRightRadius:"calc(var(--box-border-radius) - var(--line-thickness))",borderBottomLeftRadius:"0px",borderBottomRightRadius:"0px",borderTopWidth:"0px",borderLeftWidth:"0px",borderRightWidth:"0px"}:{borderTopRightRadius:"0px",borderBottomRightRadius:"0px",borderTopLeftRadius:"calc(var(--box-border-radius) - var(--line-thickness))",borderBottomLeftRadius:"calc(var(--box-border-radius) - var(--line-thickness))",borderTopWidth:"0px",borderLeftWidth:"0px",borderBottomWidth:"0px"},...n?{width:"100%",height:"3em"}:{width:"4em",height:"100%",minHeight:"4em"},className:(0,W.cx)(s.SA,s.lR),...c,children:(0,a.jsx)(E.s,{fontSize:"1.5em",alignItems:"center",justifyContent:"center",className:(0,W.cx)(M.U6),children:(0,a.jsx)(U.R,{image:l,number:i.numbered?o+1:void 0,isNumbered:i.numbered,iconSize:1,selectCell:d})})})});Q.displayName="FlushLabel";var Z=n(53996),q=n(17006),$=n(29608),J=n(80274),Y=n(90278);let X=e=>{var t;let{cellProps:n,positionProps:r,markerProps:o,markerFontSize:c="h3",children:u}=e,{index:p,theme:h,layoutOptions:m,cellOptions:g,getPos:x,editor:f,selectCell:b,image:v}=n,y=(0,d.FX)(),w=null==(t=m.numbered)||t,C=ee(y,null!=c?c:"h3"),j=(0,l.useCallback)(()=>{if(!f.isEditable)return;let e=f.state.doc.resolve(x());(0,Y.tN)(f,e)},[x,f]),A=(0,l.useMemo)(()=>(0,q.bh)(c,h),[c,h]),{colorVars:k}=P(m,g,p),S={...(0,$.nr)()?(0,M.U2)():void 0};return(0,a.jsxs)(E.s,{...r,contentEditable:!1,userSelect:"none",onMouseDown:j,cursor:"default",css:k,children:[(0,a.jsx)(Z.o,{h:"".concat(C,"em"),w:"".concat(C,"em"),className:s.SA,sx:S,pos:"relative",...o,children:(0,a.jsx)(i.a,{sx:A,className:(0,W.cx)(M.U6),textAlign:"center",style:{lineHeight:1},pos:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",children:(0,a.jsx)(U.R,{image:v,number:w?p+1:void 0,isNumbered:w,iconSize:1,selectCell:b})})}),u]})},ee=(e,t)=>{var n;let a=(0,J.o)(t);return(e&&null!=(n=a.mobileSize)?n:a.size)+.75},et=(e,t,n,a)=>{var i,r,o;let l=(0,J.o)(a),s="body"===l.type,d=t&&null!=(i=l.mobileSize)?i:l.size,c=null===n?0:ee(t,n),u=s||t?null!=(r=e.config.lineHeightBody)?r:q.Uw:null!=(o=e.config.lineHeightHeading)?o:q.eL;return"".concat((c-d*u)/2,"em")},en=(0,l.memo)(e=>{let{cellProps:t,isHorizontal:n}=e,{layoutOptions:i,cellOptions:r,index:o,direction:l,image:c,selectCell:u,selectCellForElementProps:p,theme:h,firstChildSize:m}=t,{colorVars:g}=P(i,r,o),x=et(h,(0,d.FX)(),"h1",m);return(0,a.jsxs)(E.s,{width:n?"100%":"3em",height:n?"3em":"100%",align:"center",justify:"center",position:"relative",direction:n?"row":"column",contentEditable:!1,children:[(0,a.jsx)(E.s,{borderRadius:"50% !important",width:"3em",height:"3em",position:"absolute",left:"rtl"===l?void 0:0,right:"rtl"===l?0:void 0,top:n?"50%":"".concat(x),transform:n?"translateY(-50%)":void 0,zIndex:"1",sx:{...g},className:(0,W.cx)(s.SA,s.lR),justify:"center",align:"center",children:(0,a.jsx)(E.s,{fontSize:"1.5em",my:"0.5em",alignItems:"center",justifyContent:"center",className:(0,W.cx)(M.U6),children:(0,a.jsx)(U.R,{image:c,number:i.numbered?o+1:void 0,isNumbered:i.numbered,iconSize:1,selectCell:u})})}),(0,a.jsx)(E.s,{align:"center",justify:"center",position:"relative",sx:g,...n?{width:"calc(100% - 1.5em)",height:"".concat(1,"em"),marginInlineStart:"1.5em"}:{minWidth:"".concat(1,"em"),width:"".concat(1,"em"),height:"calc(100% - 1.5em)",marginTop:"1.5em"},className:s.SA,...p})]})});en.displayName="IconCircleWithSimpleLineLabel";let ea=(0,l.memo)(e=>{let{cellProps:t,isHorizontal:n}=e,{layoutOptions:i,cellOptions:r,index:o,image:l,selectCell:d,selectCellForElementProps:c}=t,{colorVars:u}=P(i,r,o);return(0,a.jsx)(E.s,{lineHeight:"1",contentEditable:!1,align:"center",justify:"center",position:"relative",sx:{...u},style:{borderRadius:"12em"},...n?{width:"100%",height:"3em"}:{width:"4em",height:"100%",minHeight:"4em"},className:(0,W.cx)(s.SA,s.lR),...c,children:(0,a.jsx)(E.s,{fontSize:"1.5em",alignItems:"center",justifyContent:"center",className:(0,W.cx)(M.U6),children:(0,a.jsx)(U.R,{image:l,number:i.numbered?o+1:void 0,isNumbered:i.numbered,iconSize:1,selectCell:d})})})});ea.displayName="PillsLabel";let ei=(0,l.memo)(e=>{let{cellProps:t,isHorizontal:n}=e,{layoutOptions:i,cellOptions:r,index:o,selectCellForElementProps:l}=t,{colorVars:d}=P(i,r,o);return(0,a.jsx)(E.s,{contentEditable:!1,align:"center",justify:"center",position:"relative",sx:d,style:n?{borderTopLeftRadius:"calc(var(--box-border-radius) - var(--line-thickness))",borderTopRightRadius:"calc(var(--box-border-radius) - var(--line-thickness))",borderBottomLeftRadius:"0px",borderBottomRightRadius:"0px",borderTopWidth:"0px",borderLeftWidth:"0px",borderRightWidth:"0px"}:{borderTopRightRadius:"0px",borderBottomRightRadius:"0px",borderTopLeftRadius:"calc(var(--box-border-radius) - var(--line-thickness))",borderBottomLeftRadius:"calc(var(--box-border-radius) - var(--line-thickness))",borderTopWidth:"0px",borderLeftWidth:"0px",borderBottomWidth:"0px"},...n?{width:"100%",height:"".concat(1,"em")}:{minWidth:"".concat(1,"em"),width:"".concat(1,"em"),height:"100%"},className:s.SA,...l})});ei.displayName="SimpleLineFlushLabel";let er=(0,l.memo)(e=>{let{cellProps:t,isHorizontal:n}=e,{layoutOptions:i,cellOptions:r,index:o,selectCellForElementProps:l}=t,{colorVars:d}=P(i,r,o);return(0,a.jsx)(E.s,{contentEditable:!1,align:"center",justify:"center",position:"relative",sx:d,...n?{width:"100%",height:"".concat(1,"em")}:{minWidth:"".concat(1,"em"),width:"".concat(1,"em"),height:"100%"},className:s.SA,...l})});er.displayName="SimpleLineLabel";let eo=(e,t,n,a,i)=>{let r=(a?4:5)*n,o=1.5*n;return a?"rtl"===i?"\n          M ".concat(o," 0\n          L ").concat(e," 0\n          L ").concat(e-o," ").concat(r,"\n          L 0 ").concat(r,"\n          Z"):"\n        M ".concat(o," 0\n        L ").concat(e," 0\n        L ").concat(e-o," ").concat(r,"\n        L 0 ").concat(r,"\n        Z"):"\n          M 0 ".concat(t,"\n          L 0 ").concat(o,"\n          L ").concat(r," 0\n          L ").concat(r," ").concat(t-o,"\n          Z")},el=(0,l.memo)(e=>{let{cellProps:t,isHorizontal:n}=e,{layoutOptions:r,cellOptions:o,index:l,direction:d,image:c,selectCell:u,selectCellForElementProps:p}=t,{colorVars:h}=P(r,o,l),{width:m,height:g,fontSize:x,ref:f}=(0,H.Lf)(),b=eo(m,g,x,n,d),v=n?{width:"100%",height:"".concat(4,"em")}:{width:"".concat(5,"em"),height:"100%"};return(0,a.jsxs)(E.s,{lineHeight:"1",contentEditable:!1,align:"center",justify:"center",position:"relative",sx:{...h,...(0,L.yp)("center")},...v,ref:f,"data-export-as-image":!0,className:s.lR,children:[(0,a.jsx)(i.a,{as:"svg",pos:"absolute",inset:"0",w:"100%",overflow:"visible","data-testid":"arrow-svg",...p,children:(0,a.jsx)(i.a,{as:"path",d:b,className:s.D6})}),(0,a.jsx)(E.s,{fontSize:"1.5em",pos:"absolute",my:"0.5em",alignItems:"center",justifyContent:"center",className:(0,W.cx)(M.U6),children:(0,a.jsx)(U.R,{image:c,number:r.numbered?l+1:void 0,isNumbered:r.numbered,iconSize:1,selectCell:u})})]})});el.displayName="SlantedLabel";let es={chevron:K,flush:Q,pills:ea,slanted:el,simpleLine:er,arrow:V,iconCircleWithSimpleLine:en,simpleLineFlush:ei},ed=(0,l.memo)(e=>{let{cellProps:t}=e,{layoutOptions:n,cellOptions:i,index:r,image:o,selectCell:l,selectCellForElementProps:d}=t,{colorVars:c}=P(n,i,r,!1);return(0,a.jsx)(E.s,{width:"".concat(3,"em"),height:"".concat(3,"em"),align:"center",justify:"center",contentEditable:!1,sx:c,className:(0,W.cx)(s.P7,s.ok),style:{borderRadius:"9999px"},...d,children:(0,a.jsx)(E.s,{alignItems:"center",justifyContent:"center",className:(0,W.cx)(M.U6),children:(0,a.jsx)(U.R,{image:o,number:n.numbered?r+1:void 0,isNumbered:n.numbered,iconSize:1.35,selectCell:l})})})});ed.displayName="IconCircleMarker";let ec={iconCircle:ed,smallBullet:e=>{let{cellProps:t}=e,{layoutOptions:n,cellOptions:r,index:o}=t,{colorVars:l}=P(n,r,o,!1);return(0,a.jsx)(i.a,{width:"0.5em",height:"0.5em",borderRadius:"50%",transform:"translateY(-50%)",className:s.P7,flexShrink:0,sx:l,contentEditable:!1})},bigBullet:X},eu=e=>{switch(e){case"solid":return"".concat(s.VN," ").concat(s.SA);case"outline":return"".concat(s.VN," ").concat(s.uk);case"none":return s.VN}};var ep=n(25722);let eh=(e,t)=>{let n={display:"flex",gap:O.xb};return"left"===e?{...n,flexDirection:"row",alignItems:"start",pt:"calc(".concat(t," * -1)")}:{...n,flexDirection:"column"}},em=e=>{let{isHorizontal:t,direction:n,layoutOptions:a,gap:i}=e;return{display:"flex",flexDirection:t?"column":"rtl"===n&&"left"===a.horizontalAlign||"ltr"===n&&"right"===a.horizontalAlign?"row-reverse":"row",gap:i,minH:t?void 0:"6em",h:"100%",borderRadius:"var(--box-border-radius)"}},eg=e=>{let{isHorizontal:t}=e;return t?{minW:0,transformOrigin:"center top",p:O.xb,pt:0}:{transformOrigin:"left center",p:O.xb,px:0}},ex=e=>{let{children:t,cellStyle:n="none",cellContentPropOverrides:r,colorVars:o,alignStyles:l,cellProps:s,theme:c,markerProps:u,innerLabelProps:p,cursor:h,onClick:m}=e,{layoutOptions:g,direction:x,numCells:f,layoutContainerSize:b,firstChildSize:v}=s,{isHorizontal:y}=(0,ep.i)(g,f,b),w=(0,d.FX)(),C="";u&&(C=et(c,w,u.markerFontSize||null,v));let j=u?eh(u.markerPosition,C):{},A=p?em({isHorizontal:y,direction:x,layoutOptions:g,gap:"1em"}):{},k=p?eg({isHorizontal:y}):{},S=u?ec[u.markerType]:void 0,I=p?es[p.labelType]:void 0;return u&&p&&console.warn("markerProps and labelProps have not yet been validated for compatibility"),(0,a.jsxs)(i.a,{"data-selection-ring":!0,cursor:h||"text",onClick:m,position:"relative",p:"none"===n||p?0:O.xb,flex:"1",...r,sx:{...o,...j,...A,...l,...null==r?void 0:r.sx},className:eu(n),children:[u&&S&&(0,a.jsx)(S,{cellProps:s,markerFontSize:u.markerFontSize}),I&&(0,a.jsx)(I,{cellProps:s,isHorizontal:y}),u||p?(0,a.jsx)(i.a,{flex:"1",w:"100%",minW:"0",mt:u&&"left"===u.markerPosition?C:void 0,sx:{...k},cursor:"text",children:t}):t]})};var ef=n(48687);let eb=e=>{let{index:t,numCells:n,columns:a,unevenBehavior:i="center"}=e;if("flex"!==i||Math.floor(t/a)!==Math.ceil(n/a)-1)return ef.m;let r=n%a||a,o=t%a;if(o>=r)return 0;let l=a*ef.m,s=Math.floor(l/r);return o<l%r?s+1:s},ev=(e,t,n,a)=>{let i={};if(e){if(a&&"cascade"===e.horizontal){let e=t%n+1;i.paddingTop="".concat((n-e)*1.5,"em"),i.paddingBottom=0}else a||"oscillating"!==e.vertical||(i.paddingInlineStart="".concat(function(e){let t=e%6;return t<=3?1.5*t:4.5-(t-3)*1.5}(t),"em"));a&&"function"==typeof e.horizontal?i.paddingTop=e.horizontal(t,n):a||"function"!=typeof e.vertical||(i.paddingInlineStart=e.vertical(t))}return i},ey=(0,l.memo)(e=>{let{cellProps:t,children:n,unevenBehavior:i="center",forceBalance:r,staggering:o,cellStyle:l="none",cellContentPropOverrides:s,markerProps:d,innerLabelProps:c}=e,{layoutOptions:u,cellOptions:p,dragHandle:h,index:m,selectCellForElementProps:g,numCells:x,layoutContainerSize:f,direction:b,theme:v}=t,{colorVars:y}=P(u,p,m,!0),w=(null==s?void 0:s.alignItems)?void 0:{...(0,L.yp)(u.horizontalAlign,b),...(0,L.AS)(u.horizontalAlign,b)},{isHorizontal:C,columns:j}=(0,ep.i)(u,x,f,r),A=eb({index:m,numCells:x,columns:j,unevenBehavior:i}),k=o?ev(o,t.index,j,C):void 0;return(0,a.jsx)(E.s,{"data-content-reference":!0,gridColumn:"span ".concat(A),sx:{...k},h:"100%",children:(0,a.jsxs)(ex,{cellContentPropOverrides:s,colorVars:y,alignStyles:w,cellStyle:l,cellProps:t,theme:v,markerProps:d,innerLabelProps:c,cursor:g.cursor||"text",onClick:g.onClick,children:[n,h]})})});ey.displayName="SmartLayoutGridCell";var ew=n(83743);let eC=e=>{switch(e){case"none":return{rowGap:"0em",columnGap:"0em"};case"small":return{rowGap:"1em",columnGap:"1em"};case"medium":return{rowGap:"2em",columnGap:"1.25em"};case"large":return{rowGap:"2em",columnGap:"2em"}}},ej=(0,l.memo)(e=>{let{children:t,options:n,numCells:i,containerSize:r,onContextMenu:o,selectLayoutForElementProps:l,spacing:s="medium",unevenBehavior:d="center",forceBalance:c,wrapperStyle:u="none"}=e,{isHorizontal:p,columns:h,lastRowAligner:m}=(0,ep.i)(n,i,r,c),{rowGap:g,columnGap:x}=eC(s),f=p?{columns:h*ef.m,rowGap:g,columnGap:x}:{columns:+ef.m,rowGap:g};return(0,a.jsxs)(ew.r,{"data-selection-ring":!0,...f,pos:"relative",onContextMenu:o,...l,className:eu(u),children:[t,"center"===d&&m]})});ej.displayName="SmartLayoutGridWrapper";let eA=(0,l.memo)(e=>{let{children:t,visual:n,visualPosition:r="top",visualSize:o="100%",visualMaxSize:l,gap:s="1.25em",alignContent:d,unevenBehavior:c="center",forceBalance:u,cellProps:p,textboxProps:h,cellStyle:m="none"}=e,{layoutOptions:g,cellOptions:x,isContentEmpty:f,isLayoutFocused:b,direction:v,index:y}=p,w="left"===r,C=d||(w?"rtl"===v?"right":"left":g.horizontalAlign),{colorVars:j}=P(g,x,y,!0);return(0,a.jsxs)(ey,{cellProps:p,unevenBehavior:c,cellStyle:m,forceBalance:u,cellContentPropOverrides:{p:0,gap:f&&!b?0:s,display:"flex",flexDirection:w?"right"===C&&"rtl"!==v?"row-reverse":"row":"column",alignItems:w?"flex-start":void 0,justifyContent:"center",h:"100%"},children:[(0,a.jsx)(i.a,{w:o,maxW:l,flex:w?1:void 0,children:n}),(0,a.jsx)(i.a,{minW:w?"6em":"100%",maxW:"100%",flex:w?1.618:1,"data-content-empty":f,css:{...j,...w?(0,L.G4)("flex-start"):{}},cursor:"text",...h,children:t})]})});eA.displayName="VisualGridCell";var ek=n(41427),eS=n(45143);let eI={base:!1,md:!0},eE={base:!1,md:!0},eL=e=>{let t=(0,eS.h5)(eI)||!1,n=(0,eS.h5)(eE)||!1,a="horizontal"===e.orientation&&n,i=e.twoSided&&(a||t);return{isHorizontal:a,isTwoSided:i}},eR=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n?e?{templateRows:"auto 0px auto",gridAutoColumns:"1fr",gridAutoFlow:"column",justifyContent:"start",columnGap:"1.25em"}:{templateColumns:t?"1fr 0px 1fr":"0px 0px 1fr",gridAutoRows:"auto",justifyContent:"center",rowGap:"2em"}:e?{templateRows:"auto 0px auto",autoColumns:"1fr",justifyContent:"center",columnGap:"1.25em"}:{templateColumns:t?"1fr 0px 1fr":"0px 0px 1fr",autoRows:"auto",justifyContent:"center",rowGap:"2em"}},eD=function(e,t,n,a,i){let r=arguments.length>5&&void 0!==arguments[5]&&arguments[5],o=t&&(n+1)%2==1;return r?e?{gridColumn:n+1,gridRow:o?1:3,align:o?"flex-end":"flex-start",justify:"center",transformOrigin:o?"center bottom":"center top",pt:o?void 0:a,pb:o?a:void 0,px:i}:{gridRow:n+1,gridColumn:o?1:3,align:"flex-start",transformOrigin:o?"right center":"left center",ps:o?void 0:a,pe:o?a:void 0}:e?{gridColumn:"span 2",gridRow:o?1:3,align:o?"flex-end":"flex-start",justify:"center",transformOrigin:o?"center bottom":"center top",pt:o?void 0:a,pb:o?a:void 0,px:i}:{gridRow:"span 2",gridColumn:o?1:3,align:"flex-start",transformOrigin:o?"right center":"left center",ps:o?void 0:a,pe:o?a:void 0}},eM=(e,t,n,a,i,r)=>{let o=!t*a,l=t&&n%2==0,[s,d]=(0,ek.yz)(i),c="center"===r?"50%":0;return e?l?{bottom:"".concat(o,"em"),transform:"translateY(50%)"}:{top:"".concat(o,"em"),transform:"translateY(-50%)"}:l?{[d]:"".concat(o,"em"),transform:"translateX(".concat("rtl"===i?"-50":"50","%)"),top:c}:{[s]:"".concat(o,"em"),transform:"translateX(".concat("rtl"===i?"50":"-50","%)"),top:c}},e_=(e,t,n,a,i)=>{let r=t&&n%2==0,[o,l]=(0,ek.yz)(i),s="number"==typeof a?"".concat(a,"em"):a;return e?{height:s,width:"var(--line-thickness)",[o]:"50%",top:r?void 0:"50%",bottom:r?"50%":void 0,transform:"translateX(".concat("rtl"===i?"50":"-50","%)")}:{width:s,height:"var(--line-thickness)",top:"50%",transform:"translateY(-50%)",[o]:r?void 0:"calc(100% - var(--line-thickness))",[l]:r?"calc(100% - var(--line-thickness))":void 0}},ez=(e,t,n,a,i,r,o)=>"".concat(("inside"===e?o?t/2:t:0)+("none"===e?a:0)+(i?n/2:n)+(r?0:a),"em"),eT=(0,l.memo)(e=>{let{cellProps:t,markerSize:n,lineLength:r,verticalAlign:o="top",MarkerWrapper:l=X,markerFontSize:c="h3"}=e,{direction:u,index:p,layoutOptions:h}=t,{isHorizontal:m,isTwoSided:g}=eL(h),x=h.hasLine?"inside":"none",f=(0,d.FX)(),b=eM(m,g,p,n,u,o),v=e_(m,g,p,"none"===x?0:"inside"===x?"".concat(f?r/2:r,"em"):"100%",u);return(0,a.jsx)(l,{cellProps:t,positionProps:{...b,position:"absolute"},markerFontSize:c,children:"none"!==x&&(0,a.jsx)(i.a,{position:"absolute",zIndex:"-1","data-testid":"timeline-line",...v,className:s.eI})})});eT.displayName="AlternatingMarker";let eN=e=>{switch(e.verticalAlign||"top"){case"center":return{alignItems:"center"};case"bottom":return{alignItems:"flex-end"};default:return{alignItems:"flex-start"}}},eP=(0,l.memo)(e=>{let{children:t,markerSize:n=1.125,lineLength:i=3,contentPadding:r=2,minCellSize:o=8,MarkerComponent:l=eT,testIdPrefix:s="timeline-item",cellContentPropOverrides:c,markerFontSize:u="h3",useSequentialPositioning:p=!1,css:h,cellStyle:m="none",...g}=e,{layoutOptions:x,index:f,dragHandle:b,cellOptions:v,direction:y,selectCellForElementProps:w,theme:C}=g,{isHorizontal:j,isTwoSided:A}=eL(x),k=A&&(f+1)%2==1,S=x.hasLine?"inside":"none",{colorVars:I}=P(x,v,f,!0),R=(0,d.FX)(),D=ez(S,i,r,n,j,A,R),M=eD(j,A,f,D,"".concat(r/2,"em"),p),_={right:"rtl"===y?"left":"right",left:"rtl"===y?"right":"left"},z=et(g.theme,R,u,g.firstChildSize),T=j?{minW:"min(100%, ".concat(o,"em)"),...(0,L.yp)("center"),...I}:{minH:A?"".concat(o,"em"):void 0,...(0,L.yp)(k?_.right:_.left),...(0,L.AS)(k?_.right:_.left,y),...l&&{mt:z},...I},N={...c,sx:T,flex:"1",maxW:"100%",...w};return(0,a.jsxs)(E.s,{minW:"0",position:"relative",transitionProperty:"border, padding, right, margin","data-selection-ring":"padded","data-content-reference":!0,...w,...M,["data-test-".concat(s)]:f,css:{...h},...eN(x),children:[l&&(0,a.jsx)(l,{cellProps:g,markerSize:n,lineLength:i}),(0,a.jsxs)(ex,{cellContentPropOverrides:N,cellStyle:m,cellProps:g,theme:C,children:[t,b]})]})});var eO=n(56570);let eH=(0,l.memo)(e=>{let{children:t,options:n,direction:i,onContextMenu:r,selectLayoutForElementProps:o,markerSize:s=1.125,useSequentialPositioning:d=!1,css:c}=e,{isHorizontal:u,isTwoSided:p}=eL(n),h=(0,l.useMemo)(()=>eR(u,p,d),[u,p,d]),{colorVars:m}=P(n);return(0,a.jsxs)(eO.x,{...h,"data-selection-ring":"padded",pos:"relative",onContextMenu:r,...o,css:c,children:[(0,a.jsx)(eF,{isHorizontal:u,isTwoSided:p,direction:i,markerSize:s,colorVars:m}),t,p&&(0,a.jsx)(eB,{isHorizontal:u,selectLayoutForElementProps:o})]})});eH.displayName="AlternatingGridWrapper";let eF=(0,l.memo)(e=>{let{isHorizontal:t,isTwoSided:n,direction:r,markerSize:o,colorVars:l}=e;return t?(0,a.jsx)(i.a,{gridRow:2,gridColumn:1,"data-spotlight-dim":!0,contentEditable:!1,css:l,children:(0,a.jsx)(i.a,{position:"absolute",height:"var(--line-thickness)",width:"100%",insetX:"0",insetBlockStart:n?void 0:"".concat(o,"em"),className:s.eI})}):(0,a.jsx)(Z.o,{gridColumn:2,gridRow:1,"data-spotlight-dim":!0,contentEditable:!1,css:l,children:(0,a.jsx)(i.a,{position:"absolute",width:"var(--line-thickness)",insetY:"0",left:n||"rtl"===r?void 0:"0",right:n||"ltr"===r?void 0:"0",className:s.eI,ms:n?void 0:"".concat(o,"em")})})});eF.displayName="AlternatingCenterLine";let eB=(0,l.memo)(e=>{let{isHorizontal:t,selectLayoutForElementProps:n}=e;return(0,a.jsx)(i.a,{...t?{gridColumn:"1 / span 1",gridRow:3,minW:"0.5fr"}:{gridColumn:3,gridRow:"1 / span 1",minH:"".concat(4,"em")},contentEditable:!1,...n})});eB.displayName="AlternatingStaggerElement";var eV=n(19564);let eW={key:"hasLine",defaultValue:()=>!0,Control:e=>{let{value:t,updateValue:n,option:i}=e;return(0,a.jsx)(A.I,{label:i.name(),onClick:()=>n(!t),isActive:t,icon:m.CCK})},ControlMenu:(e,t,n)=>({key:n.key,label:e?(0,a.jsx)(eV.x6,{id:"IELtbA"}):(0,a.jsx)(eV.x6,{id:"81xMlD"}),icon:m.CCK,onClick:()=>t(!e)}),name:()=>o.Ru._({id:"aPb1AT"})},eU={key:"orientation",defaultValue:()=>"horizontal",Control:e=>{let{value:t,updateValue:n,option:i}=e;return(0,a.jsx)(A.I,{label:i.name(),onClick:()=>n("horizontal"===t?"vertical":"horizontal"),isActive:"vertical"===t,icon:"horizontal"===t?m.dmS:m.B0C,testId:"smart-layout-orientation-option"})},ControlMenu:(e,t,n)=>({key:n.key,label:o.Ru._({id:"R56kJO"}),icon:"horizontal"===e?m.dmS:m.B0C,items:[{key:"horizontal",label:o.Ru._({id:"pzu7v4"}),icon:"horizontal"===e?m.e68:void 0,onClick:()=>t("horizontal")},{key:"vertical",label:o.Ru._({id:"mX/isJ"}),icon:"vertical"===e?m.e68:void 0,onClick:()=>t("vertical")}]}),name:()=>o.Ru._({id:"MRB7nI"}),validator:e=>"horizontal"===e||"vertical"===e},eG={key:"twoSided",defaultValue:()=>!0,Control:e=>{let{value:t,updateValue:n,option:i}=e;return(0,a.jsx)(A.I,{label:i.name(),onClick:()=>n(!t),isActive:t,icon:m.v6v,testId:"smart-layout-two-sided-option"})},ControlMenu:(e,t,n)=>({key:n.key,label:e?o.Ru._({id:"x+f1ZW"}):o.Ru._({id:"o18EC+"}),icon:m.v6v,onClick:()=>t(!e)}),name:()=>o.Ru._({id:"ovs7iP"})},eK=e=>{let{additionalOptions:t=[],additionalCellOptions:n=[],presetConfigurations:a=[],...i}=e;return{baseHorizontalAlign:(0,L.Ro)("center"),imageSlot:"optional",imageType:"icon",options:S([{...eU,defaultValue:()=>"vertical"},eG,eW,C],t),cellOptions:S([C,k],n),presetConfigurations:a.length>0?a:[{name:()=>"Horizontal (one-sided)",options:{twoSided:!1,hasLine:!0,orientation:"horizontal"}},{name:()=>"Horizontal (two-sided)",options:{twoSided:!0,hasLine:!0,orientation:"horizontal"}},{name:()=>"Vertical (one-sided)",options:{twoSided:!1,hasLine:!0,orientation:"vertical"}},{name:()=>"Vertical (two-sided)",options:{twoSided:!0,hasLine:!0,orientation:"vertical"}}],addDirection:e=>"horizontal"===e.orientation?"right":"bottom",isFullWidth:e=>"horizontal"===e.orientation,...i}},eQ=e=>{let{additionalOptions:t=[],presetConfigurations:n=[],...a}=e;return eK({...a,additionalOptions:[{...eG,defaultValue:()=>!0},...t],presetConfigurations:n.length>0?n:[{name:()=>"Horizontal",options:{twoSided:!0,hasLine:!0,orientation:"horizontal"}},{name:()=>"Vertical",options:{twoSided:!0,hasLine:!0,orientation:"vertical"}}],defaultOptions:{twoSided:!0,numbered:!1,...a.defaultOptions}})},eZ=(0,l.memo)(e=>(0,a.jsx)(eH,{...e,markerSize:.75}));eZ.displayName="TimelineWrapper";let eq=(0,l.memo)(e=>{let{children:t,positionProps:n,cellProps:r}=e,{direction:o,layoutOptions:l,cellOptions:c,index:u}=r,{colorVars:p}=P(l,c,u),h=ee((0,d.FX)(),"h3");return(0,a.jsxs)(i.a,{...n,height:"".concat(h,"em"),css:p,children:[(0,a.jsx)(i.a,{position:"absolute",transform:"translate(".concat("rtl"===o?"50%":"-50%",", -50%)"),width:"".concat(.75,"em"),height:"".concat(.75,"em"),borderRadius:"50%",className:s.P7,zIndex:2,top:"50%"}),t]})});eq.displayName="TimelineMarkerBox";let e$=(0,l.memo)(e=>(0,a.jsx)(eT,{...e,MarkerWrapper:eq,verticalAlign:"top"}));e$.displayName="TimelineMarkerComponent";let eJ=(0,l.memo)(e=>(0,a.jsx)(eP,{...e,lineLength:2,contentPadding:2,minCellSize:8,markerSize:.75,markerFontSize:"h3",MarkerComponent:e$,cellStyle:"none"}));eJ.displayName="TimelineCell";let eY=()=>eK({key:"minimalTimeline",name:()=>o.Ru._({id:"cupqy6"}),family:"sequence",icon:r.bef,htmlTag:"minimal-timeline",Wrapper:eZ,Cell:eJ,keywords:["minimal","timeline","layout","list","horizontal","vertical","clean"],featureFlag:"smartLayoutsJuly2025"}),eX=(0,l.memo)(e=>(0,a.jsx)(eH,{...e,markerSize:.75}));eX.displayName="TimelineWrapper";let e0=(0,l.memo)(e=>{let{children:t,positionProps:n,cellProps:r}=e,{direction:o,layoutOptions:l,cellOptions:d,index:c}=r,{colorVars:u}=P(l,d,c);return(0,a.jsxs)(i.a,{...n,css:u,children:[(0,a.jsx)(i.a,{position:"absolute",transform:"translate(".concat("rtl"===o?"50%":"-50%",", -50%)"),width:"0.75em",height:"0.75em",borderRadius:"50%",className:s.P7,zIndex:2}),t]})});e0.displayName="TimelineMarkerBox";let e1=(0,l.memo)(e=>(0,a.jsx)(eT,{...e,MarkerWrapper:e0,verticalAlign:"center"}));e1.displayName="TimelineMarkerComponent";let e2=(0,l.memo)(e=>(0,a.jsx)(eP,{...e,lineLength:3,contentPadding:0,minCellSize:8,markerSize:.75,MarkerComponent:e1,cellStyle:"solid"}));e2.displayName="TimelineCell";let e4=()=>eK({key:"minimalTimelineWithBoxes",name:()=>o.Ru._({id:"D5zoh6"}),family:"sequence",icon:j.bef,htmlTag:"minimal-timeline-boxes",Wrapper:eX,Cell:e2,keywords:["minimal","timeline","boxes","layout","list","horizontal","vertical","clean"],featureFlag:"smartLayoutsJuly2025"}),e5={key:"horizontalAlign",defaultValue:()=>null,Control:e=>{let{value:t,updateValue:n}=e;return(0,a.jsx)(c.z,{spacing:0,dir:"ltr",children:L.gj.map(e=>{let{name:i,icon:r,alignment:o}=e;return(0,a.jsx)(A.I,{label:i(),icon:r,onClick:()=>{n(o===t?null:o)},isActive:t===o},i())})})},ControlMenu:(e,t,n)=>({key:n.key,label:n.name(),icon:m.ecg,items:L.gj.map(n=>{let{name:a,alignment:i}=n;return{key:a(),label:a(),icon:e===i?m.e68:void 0,onClick:()=>{t(i===e?null:i)}}})}),name:()=>o.Ru._({id:"0j+RGO"})},e6=(e,t,n,a)=>{let i=(e+1)%2==1;return t?i&&a?{borderBottomLeftRadius:"0 !important",borderBottomRightRadius:"0 !important",borderBottom:"none !important"}:{borderTopLeftRadius:"0 !important",borderTopRightRadius:"0 !important",borderTop:"none !important",top:"var(--line-thickness) !important"}:("ltr"===n?!a||!i:a&&i)?{borderTopLeftRadius:"0 !important",borderBottomLeftRadius:"0 !important",borderLeft:"none !important",left:"var(--line-thickness) !important"}:{borderTopRightRadius:"0 !important",borderBottomRightRadius:"0 !important",borderRight:"none !important",right:"var(--line-thickness) !important"}},e3=(0,l.memo)(e=>(0,a.jsx)(eH,{...e,markerSize:0,useSequentialPositioning:!0,css:{"--line-color":"var(--shape-border-color-override, var(--shape-border-color))"}}));e3.displayName="SolidBoxesAlternatingWrapper";let e9=(0,l.memo)(e=>{let{layoutOptions:t,index:n,direction:i}=e,{isHorizontal:r}=eL(t),o=e6(n,r,i,t.twoSided);return(0,a.jsx)(eP,{...e,lineLength:0,contentPadding:0,minCellSize:6,markerSize:0,useSequentialPositioning:!0,spanSize:1,cellContentPropOverrides:{p:O.xb,height:"100%",css:o},MarkerComponent:null,cellStyle:"solid"})});e9.displayName="SolidBoxesAlternatingCell";let e7=()=>eQ({key:"solidBoxesAlternating",name:()=>o.Ru._({id:"17LxIH"}),family:"boxes",Wrapper:e3,Cell:e9,icon:r.aqE,htmlTag:"solidBoxesAlternating",additionalOptions:[e5],defaultOptions:{horizontalAlign:"center",verticalAlign:"middle"},keywords:["solid","boxes","alternating","layout","list","horizontal","vertical"],featureFlag:"smartLayoutsJuly2025"});var e8=n(37243),te=n(55424);let tt={key:"numbered",defaultValue:()=>!0,Control:e=>{let{value:t,updateValue:n,option:i}=e;return(0,a.jsx)(A.I,{label:i.name(),onClick:()=>n(!t),isActive:t,icon:m.Tsj})},ControlMenu:(e,t,n)=>({key:n.key,label:e?o.Ru._({id:"qCzYrD"}):o.Ru._({id:"Ty8hAp"}),icon:m.Tsj,onClick:()=>t(!e)}),name:()=>o.Ru._({id:"mVQI+S"})},tn={...tt,getDefaultOnParse:e=>!Array.from(e.children).every(e=>e.querySelector("icon")),checkEnabled:e=>{let{options:t,node:n}=e,a=n&&(0,e8.xe)(n,te.q);return(null==a?void 0:a.every(e=>{var t,n,a,i,r;return!(null==e||null==(n=e.node)||null==(t=n.attrs)?void 0:t.image)||(null==e||null==(r=e.node)||null==(i=r.attrs)||null==(a=i.image)?void 0:a.src)===void 0}))||!0===t.numbered}},ta=(0,l.memo)(e=>(0,a.jsx)(eH,{...e,markerSize:1.125}));ta.displayName="TimelineWrapper";let ti=(0,l.memo)(e=>(0,a.jsx)(eT,{...e,MarkerWrapper:X}));ti.displayName="TimelineMarkerComponent";let tr=(0,l.memo)(e=>(0,a.jsx)(eP,{...e,lineLength:3,contentPadding:2,minCellSize:8,markerSize:1.125,MarkerComponent:ti,cellStyle:"none"}));tr.displayName="TimelineCell";let to=()=>eK({key:"timeline",name:()=>o.Ru._({id:"cklVjM"}),family:"sequence",Wrapper:ta,Cell:tr,icon:j.o7M,htmlTag:"timeline",keywords:["timeline","layout","list","horizontal","vertical"],additionalOptions:[tn]});var tl=n(83740),ts=n(34807),td=n(28615);let tc="1.5em",tu=e=>{let{containerSize:t,columnsNeeded:n}=e,a=(0,d.FX)(),i=(0,ts.A)({base:1,sm:2,md:3,xl:4})||2;return(td.D1?4:a?2:i)*t<n},tp=(0,l.memo)(e=>{let{children:t,layoutOptions:n,flexProps:r,...o}=e,{index:l,direction:c}=o,{colorVars:u}=P(n,e.cellOptions,l,!0),p=(0,L.AS)("rtl"===c?"right":"left",e.direction),h=(0,d.FX)(),m=et(e.theme,h,"h4",e.firstChildSize);return(0,a.jsxs)(E.s,{direction:"row",align:"flex-start",gap:O.xb,w:"100%","data-selection-ring":!0,"data-content-reference":!0,pos:"relative",...r,children:[(0,a.jsx)(X,{cellProps:e,markerFontSize:"h4"}),(0,a.jsx)(i.a,{flex:"1",minW:"0",className:s.VN,css:u,pt:m,sx:p,children:t})]})});tp.displayName="StackedSmartLayoutCell";let th={ring:{thickness:.075,padAngle:0,roundness:0,iconSize:1,circleScale:.8,numberBackground:!0},flower:{thickness:.97,padAngle:3,roundness:.2,iconSize:1.25,circleScale:1},cycle:{thickness:.6,padAngle:2,roundness:0,pointiness:.33,iconSize:1.33,circleScale:1},circle:{thickness:.6,padAngle:3,iconSize:1.33,circleScale:1},semiCircle:{thickness:.5,padAngle:2,iconSize:1.5,circleScale:1}},tm=(0,l.memo)((0,l.forwardRef)((e,t)=>{let{flexProps:n,coords:r,...o}=e,{image:l,selectCell:d,layoutOptions:c,cellOptions:u,index:p,numCells:h,variant:m}=o,g=c.numbered&&h>1,{iconSize:x,numberBackground:f}=th[m.key],{colorVars:b}=P(c,u,p),{arcPath:v,circleWidth:y}=r;return(0,a.jsxs)(E.s,{pos:"relative",ref:t,aspectRatio:"1/1","data-smart-layout-emphasis":!0,css:{contain:"layout"},pointerEvents:"none",...n,children:[(0,a.jsx)(i.a,{as:"svg",pos:"absolute",inset:0,viewBox:"0 0 ".concat(y," ").concat(y),overflow:"visible",className:s.D6,css:b,children:(0,a.jsx)(i.a,{as:"path",d:v,transform:"translate(".concat(y/2,"px, ").concat(y/2,"px) scale(").concat(y,")"),style:{vectorEffect:"non-scaling-stroke"}})}),(0,a.jsx)(E.s,{className:f?s.SA:s.lR,top:"".concat(r.centroidTop,"px"),left:"".concat(r.centroidLeft,"px"),pos:"absolute",contentEditable:!1,transform:"translate(-50%, -50%)",borderRadius:"999px !important",aspectRatio:"1/1",h:"2.5em",align:"center",direction:"column",justify:"center",css:b,children:(0,a.jsx)(i.a,{className:(0,W.cx)(M.U6),pointerEvents:"auto",children:(0,a.jsx)(U.R,{image:l,number:g?p+1:void 0,isNumbered:c.numbered,iconSize:1.125*x,selectCell:d})})})]})}));tm.displayName="CircleSegment";var tg=n(84462),tx=n.n(tg),tf=n(5777);let tb=tx()(tf.JL);function tv(e,t){return[e*Math.sin(t),-e*Math.cos(t)]}function ty(e,t,n,a){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,r=i>1e-9?Math.sin(i/2)*(t-e)*(2*a):0,[o,l]=tv((e+t)/2-r,n-i/2),s=(t-e)*a;return[o+s*Math.cos(n),l+s*Math.sin(n)]}let tw=tx()(function(e){let{innerRadius:t=0,outerRadius:n=0,startAngle:a=0,endAngle:i=2*Math.PI,pointStrength:r=.5,padAngle:o=0}=e,{innerStartAngle:l,innerEndAngle:s,outerStartAngle:d,outerEndAngle:c,innerArcSpan:u,outerArcSpan:p,isClockwise:h}=function(e,t,n,a,i){let r=a>n,o=Math.abs(a-n),l=n,s=a,d=n,c=a,u=o,p=o;if(i>1e-9){let o=i/2,h=Math.sqrt(e*e+t*t),m=0;e>1e-9&&(m=Math.asin(h/e*Math.sin(o)));let g=0;t>1e-9&&(g=Math.asin(h/t*Math.sin(o))),(u-=2*m)>1e-9?r?(l+=m,s-=m):(l-=m,s+=m):l=s=(n+a)/2,(p-=2*g)>1e-9?r?(d+=g,c-=g):(d-=g,c+=g):d=c=(n+a)/2}return{isClockwise:r,innerStartAngle:l,innerEndAngle:s,outerStartAngle:d,outerEndAngle:c,innerArcSpan:u,outerArcSpan:p}}(t,n,a,i,o),m=tv(n,d),g=tv(n,c),x=tv(t,l),f=tv(t,s),b=r*(h?1:-1),v=r>0,y=ty(t,n,d,b,h?0:o),w=ty(t,n,c,b,h?o:0),C=+(u>=Math.PI),j=+(p>=Math.PI);return{arcPath:["M ".concat(m[0]," ").concat(m[1]),v&&"L ".concat(y[0]," ").concat(y[1]),"L ".concat(x[0]," ").concat(x[1]),"A ".concat(t," ").concat(t," 0 ").concat(C," ").concat(+!!h," ").concat(f[0]," ").concat(f[1]),v&&"L ".concat(w[0]," ").concat(w[1]),"L ".concat(g[0]," ").concat(g[1]),"A ".concat(n," ").concat(n," 0 ").concat(j," ").concat(+!h," ").concat(m[0]," ").concat(m[1]),"Z"].filter(Boolean).join(" "),centroid:tv((t+n)/2,((l+s)/2+(d+c)/2)/2+b*Math.PI/6)}}),tC={1:90,2:-180,3:-150,4:-90,5:-90,6:-60,7:-60,8:-45},tj=tx()(e=>{var t;let n,a,{index:i,numCells:r,variant:o,direction:l,semi:s,themeRoundness:d}=e,c=(s?-90:null!=(t=tC[r])?t:0)*("rtl"===l?-1:1),u=(s?180:360)/r*("rtl"===l?-1:1),p=i*u+c,h=p+u,m=(p+h)/2,g=Math.PI/180*((90-m)%360),{thickness:x,padAngle:f,roundness:b=d,pointiness:v}=th[o],y=.5*(1-x);if(v){let e=tw({innerRadius:y,outerRadius:.5,startAngle:p*Math.PI/180,endAngle:h*Math.PI/180,padAngle:f*Math.PI/180,pointStrength:v});n=e.arcPath,a=e.centroid}else{let e=tb({innerRadius:y,outerRadius:.5,startAngle:p*Math.PI/180,endAngle:h*Math.PI/180,padAngle:f*Math.PI/180,cornerRadius:b});n=e()||"",a=e.centroid()}let w=a[0],C=a[1],j=.5*Math.cos(g),A=(m+360)%360;return{outsideX:j,outsideY:.5*Math.sin(g),centroidX:w,centroidY:C,arcPath:n,sideX:A>0&&A<=180?"right":"left",sideY:A>90&&A<=270?"bottom":"top",startAngle:p,midpointAngle:m,endAngle:h}}),tA=e=>{let{index:t,numCells:n,variant:a,direction:i,semi:r=!1,themeRoundness:o}=e,{width:l,height:s,ref:d}=(0,H.Lh)(),c=tj({index:t,numCells:n,variant:a,direction:i,semi:r,themeRoundness:o}),{outsideX:u,outsideY:p,centroidX:h,centroidY:m}=c,g=s*(.5-p)*(r?2:1),x=s*(.5+m)*(r?2:1),f=s*(.5+u)*(r?2:1),b=s*(.5+h)*(r?2:1);return{...c,outsideTop:g,outsideLeft:f,centroidTop:x,centroidLeft:b,circleRef:d,circleWidth:l,circleHeight:s}},tk=tx()(e=>{var t;let n=360/e,a=null!=(t=tC[e])?t:0,i=[],r=[],o=[];for(let t=0;t<e;t++){let e=(a+t*n)%360,l=e+n/2,s=l>0&&l<=180?"right":"left",d=(90-e)%360*Math.PI/180,c=Math.sin(d),u={index:t,angle:e,sideX:s,sideY:l>90&&l<=270?"bottom":"top",x:Math.cos(d),y:c,columnPosition:-1};"left"===s?i.push(u):r.push(u),o.push(u)}return i.sort((e,t)=>t.y-e.y),r.sort((e,t)=>t.y-e.y),i.forEach((e,t)=>{e.columnPosition=t}),r.forEach((e,t)=>{e.columnPosition=t}),{items:o,leftItems:i,rightItems:r}}),tS=(e,t)=>{let{items:n,rightItems:a,leftItems:i}=tk(t),{columnPosition:r,sideX:o}=n[e],l=function(e,t){return Math.abs(e*t)/function(e,t){for(;0!==t;){let n=t;t=e%t,e=n}return e}(e,t)}(a.length,i.length),s="right"===o?a.length:i.length,d=1===t?3:l/s;return{rowStart:r*d+1,rowSpan:d,numRows:l,verticalAlign:"center"}},tI=(0,l.memo)(e=>{let{children:t,containerSize:n,variant:i,onContextMenu:r,selectLayoutForElementProps:o}=e,l=tu({containerSize:n,columnsNeeded:3}),{circleScale:s}=th[i.key];return(0,a.jsx)(eO.x,{pos:"relative","data-selection-ring":"padded",templateColumns:"1fr calc(".concat(100*(l?.8:.35*s),"% * var(--media-scale, 1)) 1fr"),autoRows:"auto",rowGap:l?tc:"1.5em",dir:"ltr",onContextMenu:r,...o,children:t})});tI.displayName="CircleWrapper";let tE=(0,l.memo)(e=>tu({containerSize:e.layoutContainerSize,columnsNeeded:3})?(0,a.jsx)(tR,{...e}):(0,a.jsx)(tL,{...e}));tE.displayName="CircleCell";let tL=(0,l.memo)(e=>{let{children:t,index:n,numCells:r,dragHandle:o,variant:l,direction:d,theme:c,selectCellForElementProps:u}=e,{roundness:p}=(0,z.M)(c),{pathRounding:h}=D.T5[p],{circleRef:m,...g}=tA({index:n,numCells:r,variant:l.key,direction:d,themeRoundness:h}),x="right"===g.sideX,f=x?"left":"right",b=(0,L.yp)(f),v=(g.midpointAngle+360)%180==90,{rowStart:y,rowSpan:w,numRows:C,verticalAlign:j}=tS(n,r),A=v?"2em":"flower"===l.key?"0em":C%2==0?"1.5em":"1em";return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(E.s,{gridColumn:x?3:1,gridRow:"".concat(y," / span ").concat(w),zIndex:"1",sx:{...b,...(0,L.AS)(f,"ltr"),...x?{pl:A}:{pr:A}},direction:"column",justify:j,className:s.VN,minW:"0",...u,children:(0,a.jsxs)(i.a,{"data-content-reference":!0,"data-smart-layout-emphasis":!0,"data-selection-ring":"padded",pos:"relative",w:"100%",cursor:"text",children:[t,o]})}),(0,a.jsx)(tm,{...e,flexProps:{gridColumn:2,gridRow:"1 / span ".concat(C),alignSelf:"center"},coords:g,ref:m})]})}),tR=(0,l.memo)(e=>{let{index:t,numCells:n,direction:i,variant:r,theme:o}=e,{roundness:l}=(0,z.M)(o),{pathRounding:s}=D.T5[l],{circleRef:d,...c}=tA({index:t,numCells:n,variant:r.key,direction:i,themeRoundness:s});return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(tm,{...e,flexProps:{gridRow:1,gridColumn:2},coords:c,ref:d}),(0,a.jsx)(tp,{flexProps:{gridColumn:"1 / span 3",gridRow:"auto",dir:i},...e})]})});tR.displayName="CircleCellStacked";let tD=()=>({key:"circle",name:()=>o.Ru._({id:"7xMmki"}),icon:m.O0T,keywords:["circle","ring","radial","donut","circular"],options:[C,tn],cellOptions:[C,k],presetConfigurations:[{name:()=>o.Ru._({id:"7xMmki"}),options:{numbered:!0}}],Wrapper:tI,Cell:tE,addDirection:()=>"bottom",defaultAttrs:{image:{source:tl.f.key}},htmlTag:"circle",imageSlot:"optional",imageType:"icon",family:"circles"}),tM=()=>({...tD(),key:"cycle",name:()=>o.Ru._({id:"qicHbX"}),icon:m.yNr,htmlTag:"cycle",keywords:["cyclical","flywheel","circle","circular","recycle"],presetConfigurations:[{name:()=>o.Ru._({id:"qicHbX"}),options:{numbered:!0}}]}),t_=()=>({...tD(),key:"flower",name:()=>o.Ru._({id:"abEdHK"}),icon:m.xnU,keywords:["petals","clover","butterfly"],htmlTag:"flower",presetConfigurations:[{name:()=>o.Ru._({id:"abEdHK"}),options:{numbered:!0}}]}),tz=()=>({...tD(),key:"ring",name:()=>o.Ru._({id:"EKlSR5"}),icon:m.GEE,keywords:["ring","circle","circular"],htmlTag:"ring",presetConfigurations:[{name:()=>o.Ru._({id:"EKlSR5"}),options:{numbered:!0}}]}),tT=(0,l.memo)(e=>{let{children:t,containerSize:n,onContextMenu:i,selectLayoutForElementProps:r}=e;return tu({containerSize:n,columnsNeeded:3})?(0,a.jsx)(eO.x,{pos:"relative","data-selection-ring":"padded",templateColumns:"1fr",templateRows:"auto auto",rowGap:tc,onContextMenu:i,...r,dir:"ltr",children:t}):(0,a.jsx)(eO.x,{pos:"relative","data-selection-ring":"padded",onContextMenu:i,...r,autoColumns:"1fr",autoRows:"auto",columnGap:"1.5em",rowGap:"2em",children:t})});tT.displayName="SemiCircleWrapper";let tN=(0,l.memo)(e=>tu({containerSize:e.layoutContainerSize,columnsNeeded:3})?(0,a.jsx)(tO,{...e}):(0,a.jsx)(tP,{...e}));tN.displayName="SemiCircleCell";let tP=(0,l.memo)(e=>{let{children:t,index:n,numCells:i,dragHandle:r,variant:o,direction:l,theme:s,selectCellForElementProps:d}=e,c=(0,L.yp)("center"),{roundness:u}=(0,z.M)(s),{pathRounding:p}=D.T5[u],{circleRef:h,...m}=tA({index:n,numCells:i,variant:o.key,direction:l,semi:!0,themeRoundness:p}),g=i>4?"70%":"60%";return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(E.s,{direction:"column",align:"center",justify:"flex-end",pos:"relative",zIndex:"1","data-content-reference":!0,"data-smart-layout-emphasis":!0,"data-selection-ring":"padded",sx:{...c,...(0,L.AS)("center","ltr")},mb:i>2?"-".concat(.6*m.outsideTop,"px"):void 0,...d,cursor:"text",children:[t,r]}),(0,a.jsx)(tm,{...e,flexProps:{gridRow:2,gridColumn:"1 / span ".concat(i),alignSelf:"start",justifySelf:"center",aspectRatio:"2/1",width:"calc(".concat(g," * var(--media-scale, 1))")},coords:m,ref:h})]})});tP.displayName="SemiCircleCellTop";let tO=(0,l.memo)(e=>{let{index:t,numCells:n,direction:i,variant:r,theme:o}=e,{roundness:l}=(0,z.M)(o),{pathRounding:s}=D.T5[l],{circleRef:d,...c}=tA({index:t,numCells:n,variant:r.key,direction:i,semi:!0,themeRoundness:s});return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(tm,{...e,flexProps:{gridRow:1,gridColumn:1,alignSelf:"start",justifySelf:"center",aspectRatio:"2/1",width:"calc(100% * var(--media-scale, 1))"},coords:c,ref:d}),(0,a.jsx)(tp,{flexProps:{gridColumn:1,gridRow:"auto",dir:i},...e})]})});tO.displayName="SemiCircleCellStacked";let tH=()=>({...tD(),key:"semiCircle",name:()=>o.Ru._({id:"r9sPHK"}),Wrapper:tT,Cell:tN,addDirection:()=>"right",htmlTag:"semicircle",keywords:["semicircle","arc","circle","radial"],icon:m.jiG,presetConfigurations:[{name:()=>o.Ru._({id:"r9sPHK"}),options:{numbered:!0}}]});var tF=n(14122),tB=n(50861);let tV=(0,l.memo)(e=>{let{children:t,...n}=e,{layoutOptions:r,cellOptions:o,index:l,firstChildSize:c,theme:u}=n,p=(0,d.FX)(),{colorVars:h}=P(r,o,l,!0),{color:m,colorVars:g}=P(r,o,l,!0),x=et(u,p,null,c),f={...n.image&&(0,tB.Xs)(n.image)?(0,tF.t)(null!=m?m:"var(--accent-color-readable)"):{}};return(0,a.jsxs)(ey,{cellProps:n,unevenBehavior:"flex",cellStyle:"none",cellContentPropOverrides:{display:"flex",flexDirection:"row",alignItems:"start",gap:O.xb,pt:"calc(".concat(x," * -1)")},children:[(0,a.jsx)(i.a,{width:"2.25em",height:"2.25em",transform:"translateY(-50%)",flexShrink:0,sx:{...g,...f},contentEditable:!1,display:"flex",alignItems:"center",justifyContent:"center",children:(0,a.jsx)(U.R,{image:n.image,iconSize:1.5,placeholderIfEmpty:!1,selectCell:n.selectCell,isNumbered:!1})}),(0,a.jsx)(i.a,{flex:"1",minW:"0",className:s.VN,css:h,mt:x,cursor:"text",children:t})]})});tV.displayName="IconBulletsCell";let tW=(0,l.memo)(e=>(0,a.jsx)(ej,{...e,unevenBehavior:"flex",spacing:"medium"}));tW.displayName="IconBulletsWrapper";let tU=()=>I({key:"iconBullets",name:()=>o.Ru._({id:"Xl0g8o"}),icon:m.cCs,keywords:["icon","bullets","layout","list","icon bullets"],htmlTag:"iconBullets",family:"bullets",additionalOptions:[eU],presetConfigurations:[{name:()=>o.Ru._({id:"Xl0g8o"}),options:{},zoomIn:!0}],defaultAttrs:{image:{source:"image.icon",src:"https://cdn-staging.gamma.app/_app_static/icons/v0/star.svg"}},imageSlot:"optional",imageType:"icon",Wrapper:tW,Cell:tV,isFullWidth:()=>!0,addDirection:()=>"right",featureFlag:"smartLayoutSkins"}),tG=()=>I({key:"arrowBullets",name:()=>o.Ru._({id:"KFruYJ"}),icon:m.dmS,keywords:["arrow","bullets","layout","list","arrow bullets"],htmlTag:"arrowBullets",family:"bullets",additionalOptions:[eU],presetConfigurations:[{name:()=>o.Ru._({id:"KFruYJ"}),options:{},zoomIn:!0}],defaultAttrs:{image:{source:"image.icon",src:"https://cdn-staging.gamma.app/_app_static/icons/v0/arrow-right.svg"}},imageSlot:"optional",imageType:"icon",Wrapper:tW,Cell:tV,isFullWidth:()=>!0,addDirection:()=>"right",featureFlag:"smartLayoutsJuly2025"}),tK=(0,l.memo)(e=>{let{children:t,...n}=e;return(0,a.jsx)(ey,{cellProps:n,unevenBehavior:"flex",cellStyle:"none",markerProps:{markerType:"bigBullet",markerFontSize:"h3",markerPosition:"left"},children:t})});tK.displayName="BulletsCell";let tQ=(0,l.memo)(e=>(0,a.jsx)(ej,{...e,unevenBehavior:"flex",spacing:"medium"}));tQ.displayName="BulletsWrapper";let tZ=()=>I({key:"bigBullets",name:()=>o.Ru._({id:"OsVXoX"}),icon:m.ITF,keywords:["bullets","layout","list","bullet"],htmlTag:"bullets",family:"bullets",additionalOptions:[eU,tn],presetConfigurations:[{name:()=>o.Ru._({id:"UIxZV9"}),options:{numbered:!0},zoomIn:!0},{name:()=>o.Ru._({id:"EJnrtJ"}),options:{numbered:!1},zoomIn:!0}],imageSlot:"optional",imageType:"icon",Wrapper:tQ,Cell:tK,isFullWidth:()=>!0,addDirection:()=>"right"}),tq=(0,l.memo)(e=>(0,a.jsx)(ej,{...e,spacing:"small",unevenBehavior:"flex"}));tq.displayName="OutlineBoxesWrapper";let t$=(0,l.memo)(e=>{let{layoutOptions:t,cellOptions:n,index:i}=e,{colorVars:r}=P(t,n,i,!0),o={...r};return(0,a.jsx)(ey,{cellProps:e,unevenBehavior:"flex",cellStyle:"outline",cellContentPropOverrides:{sx:o},children:e.children})});t$.displayName="OutlineBoxesCell";let tJ=()=>I({key:"outlineBoxes",name:()=>o.Ru._({id:"f43cMT"}),icon:m.Nfw,keywords:["outline","boxes","layout","border"],htmlTag:"outline-boxes",family:"boxes",presetConfigurations:[{name:()=>o.Ru._({id:"f43cMT"}),options:{horizontalAlign:"center"}}],additionalOptions:[e5],Wrapper:tq,Cell:t$,isFullWidth:()=>!0}),tY=(0,l.memo)(e=>(0,a.jsx)(ej,{...e,spacing:"small",unevenBehavior:"flex"}));tY.displayName="OutlineBoxesWithSideLineWrapper";let tX=(0,l.memo)(e=>{let{layoutOptions:t,cellOptions:n,index:i}=e,{colorVars:r}=P(t,n,i,!1);return(0,a.jsxs)(ey,{cellProps:e,unevenBehavior:"flex",cellStyle:"outline",cellContentPropOverrides:{style:{borderInlineStartWidth:"0px",borderStartStartRadius:"calc(var(--line-thickness) * 4)",borderEndStartRadius:"calc(var(--line-thickness) * 4)",paddingInlineStart:"calc(var(--line-thickness) * 4 + ".concat(O.xb,")")}},children:[(0,a.jsx)(E.s,{position:"absolute",top:"calc(var(--line-thickness) * -1)",bottom:"calc(var(--line-thickness) * -1)",insetInlineStart:"calc(var(--line-thickness) * -1)",width:"calc(var(--line-thickness) * 4)",className:s.P7,borderInlineStartRadius:"var(--box-border-radius)",sx:r,contentEditable:!1}),e.children]})});tX.displayName="OutlineBoxesWithSideLineCell";let t0=()=>I({key:"outlineBoxesWithSideLine",name:()=>o.Ru._({id:"6NYS8b"}),icon:r.POs,keywords:["outline","boxes","layout","sidebar","line","border"],htmlTag:"outline-boxes-with-line",family:"boxes",presetConfigurations:[{name:()=>o.Ru._({id:"6NYS8b"}),options:{horizontalAlign:"center"}}],additionalOptions:[e5],Wrapper:tY,Cell:tX,isFullWidth:()=>!0}),t1=(0,l.memo)(e=>(0,a.jsx)(ej,{...e,spacing:"small",unevenBehavior:"flex"}));t1.displayName="OutlineBoxesWithTopCircleWrapper";let t2=(0,l.memo)(e=>{let{layoutOptions:t,cellOptions:n,index:i,image:r,selectCell:o,selectCellForElementProps:l}=e,{colorVars:d}=P(t,n,i);return(0,a.jsx)(E.s,{position:"absolute",top:"-".concat(1.5,"em"),left:"50%",transform:"translateX(-50%)",width:"".concat(3,"em"),height:"".concat(3,"em"),align:"center",justify:"center",contentEditable:!1,sx:{...d},className:(0,W.cx)(s.P7,s.ok),style:{borderRadius:"100%"},...l,children:(0,a.jsx)(E.s,{alignItems:"center",justifyContent:"center",className:(0,W.cx)(M.U6),children:(0,a.jsx)(U.R,{image:r,number:t.numbered?i+1:void 0,isNumbered:t.numbered,iconSize:1.2000000000000002,selectCell:o})})})});t2.displayName="TopCircle";let t4=(0,l.memo)(e=>{let{layoutOptions:t,cellOptions:n,index:i}=e,{colorVars:r}=P(t,n,i,!1);return(0,a.jsxs)(ey,{cellProps:e,unevenBehavior:"flex",cellStyle:"outline",cellContentPropOverrides:{pos:"relative",mt:"".concat(1.5,"em"),pt:"calc(".concat(O.xb," + ").concat(1.5,"em)"),style:{borderTopWidth:"0px",borderTopLeftRadius:"calc(var(--line-thickness) * 4)",borderTopRightRadius:"calc(var(--line-thickness) * 4)"}},children:[(0,a.jsx)(E.s,{position:"absolute",top:"calc(var(--line-thickness) * -1)",left:"calc(var(--line-thickness) * -1)",right:"calc(var(--line-thickness) * -1)",height:"calc(var(--line-thickness) * 4)",className:s.P7,borderTopRadius:"var(--box-border-radius)",sx:r,contentEditable:!1}),(0,a.jsx)(t2,{...e}),e.children]})});t4.displayName="OutlineBoxesWithTopCircleCell";let t5=()=>I({key:"outlineBoxesWithTopCircle",name:()=>o.Ru._({id:"bFvflC"}),icon:m.QRE,keywords:["outline","boxes","layout","circle","top","stripe","badge"],htmlTag:"outline-boxes-with-top-circle",family:"boxes",presetConfigurations:[{name:()=>o.Ru._({id:"duDvK9"}),options:{horizontalAlign:"center",numbered:!0}},{name:()=>o.Ru._({id:"wLSSrc"}),options:{horizontalAlign:"center",numbered:!1}}],additionalOptions:[e5,tn],imageSlot:"optional",imageType:"icon",Wrapper:t1,Cell:t4,isFullWidth:()=>!0,dragHandlePlacement:"left"}),t6=(0,l.memo)(e=>(0,a.jsx)(ej,{...e,spacing:"small",unevenBehavior:"flex"}));t6.displayName="ProcessStepsWrapper";let t3=(0,l.memo)(e=>{let t,{layoutOptions:n,index:i,image:r,selectCell:o,selectCellForElementProps:l}=e;return t=n.numbered?i+1<10?"0".concat(i+1):"".concat(i+1):void 0,(0,a.jsx)(E.s,{className:s.VN,flexDirection:"column",alignItems:"right"!==n.horizontalAlign?n.horizontalAlign:"end",opacity:1,contentEditable:!1,...l,children:(0,a.jsx)(E.s,{alignItems:"center",justifyContent:"center",className:(0,W.cx)(M.U6),mb:"".concat(.25,"em"),children:(0,a.jsx)(U.R,{image:r,number:t,isNumbered:n.numbered,iconSize:1,selectCell:o,textAlign:n.numbered?"left":void 0,fontWeight:"light"})})})});t3.displayName="TopBorderIconOrNumber";let t9=(0,l.memo)(e=>{let{layoutOptions:t,cellOptions:n,index:i,image:r,selectCell:o,selectCellForElementProps:l}=e,{colorVars:d}=P(t,n,i,!1);return(0,a.jsxs)(ey,{cellProps:e,unevenBehavior:"flex",cellStyle:"none",cellContentPropOverrides:{textAlign:"start",mb:"".concat(.75,"em"),style:{borderRadius:0,borderWidth:0}},children:[(0,a.jsx)(t3,{layoutOptions:t,cellOptions:n,index:i,image:r,selectCell:o,selectCellForElementProps:l}),(0,a.jsx)(E.s,{position:"relative",top:"calc(var(--line-thickness) * -1)",marginTop:"0.2em",marginBottom:"0.5em",opacity:1,height:"calc(var(--line-thickness) * 1)",className:s.P7,borderRadius:0,sx:d,contentEditable:!1}),e.children]})});t9.displayName="ProcessStepsCell";let t7=()=>I({key:"processSteps",name:()=>o.Ru._({id:"uFRM59"}),icon:m.Tsj,keywords:["boxes","layout","border","top","outline","badge","header","process","agenda","step"],htmlTag:"process-steps",family:"bullets",presetConfigurations:[{name:()=>o.Ru._({id:"uFRM59"}),options:{horizontalAlign:"center",numbered:!0}},{name:()=>o.Ru._({id:"cO9Sj8"}),options:{horizontalAlign:"center",numbered:!1}}],additionalOptions:[e5,tn],imageSlot:"optional",imageType:"icon",Wrapper:t6,Cell:t9,isFullWidth:()=>!0,dragHandlePlacement:"top",featureFlag:"smartLayoutsJuly2025"}),t8=(0,l.memo)(e=>(0,a.jsx)(ej,{...e,spacing:"small",unevenBehavior:"flex"}));t8.displayName="QuoteBoxesWrapper";let ne=(0,l.memo)(e=>{let{layoutOptions:t,cellOptions:n,index:i}=e,{colorVars:r}=P(t,n,i,!0),{colorVars:o}=P(t,n,i,!1),l={...r};return(0,a.jsxs)(ey,{cellProps:e,unevenBehavior:"flex",cellStyle:"outline",cellContentPropOverrides:{p:"calc(".concat(O.xb," + 0.5em)"),sx:l},children:[(0,a.jsx)(nt,{position:"absolute",top:"-".concat(.6,"em"),insetStart:"-".concat(.6,"em"),width:"".concat(1.2,"em"),height:"".concat(1.2,"em"),css:o}),(0,a.jsx)(nt,{position:"absolute",bottom:"-".concat(.6,"em"),insetEnd:"-".concat(.6,"em"),width:"".concat(1.2,"em"),height:"".concat(1.2,"em"),transform:"rotate(180deg)",css:o}),e.children]})});ne.displayName="QuoteBoxesCell";let nt=e=>(0,a.jsx)(i.a,{contentEditable:!1,userSelect:"none",pointerEvents:"none",...e,children:(0,a.jsx)("svg",{width:"100%",height:"100%",viewBox:"0 0 24 24",className:s._B,style:{filter:"drop-shadow(0.25em 0 0em var(--card-color)) drop-shadow(0 0.25em 0em var(--card-color))"},children:(0,a.jsx)("path",{d:"M14.017 21v-7.391c0-5.704 3.731-9.57 8.983-10.609l.995 2.151c-2.432.917-3.995 3.638-3.995 5.849h4v10h-10zm-14.017 0v-7.391c0-5.704 3.748-9.57 9-10.609l.996 2.151c-2.433.917-3.996 3.638-3.996 5.849h4v10h-10z"})})}),nn=()=>I({key:"quoteBoxes",name:()=>o.Ru._({id:"dXQ/Ao"}),icon:m.$7g,keywords:["quote","quotes","boxes","layout","testimonial","quotation"],htmlTag:"quote-boxes",family:"quotes",presetConfigurations:[{name:()=>o.Ru._({id:"dXQ/Ao"}),options:{horizontalAlign:"center"}}],additionalOptions:[e5],Wrapper:t8,Cell:ne,isFullWidth:()=>!0,featureFlag:"smartLayoutsJuly2025"}),na=(0,l.memo)(e=>(0,a.jsx)(ej,{...e,spacing:"small",unevenBehavior:"flex"}));na.displayName="SpeechBubblesWrapper";let ni=(0,l.memo)(e=>{let{layoutOptions:t,cellOptions:n,index:r,selectCellForElementProps:o,children:l}=e,{colorVars:d}=P(t,n,r),{width:c,height:u,fontSize:p,ref:h}=(0,H.Lf)(),m=nr(c,u,p);return(0,a.jsx)(ey,{cellProps:e,unevenBehavior:"flex",children:(0,a.jsxs)(E.s,{position:"relative",css:d,width:"100%",h:"100%",minHeight:"4em",ref:h,className:s.lR,children:[(0,a.jsx)(i.a,{as:"svg",pos:"absolute",inset:"0",w:"100%",h:"100%",overflow:"visible","data-testid":"speech-bubble-svg",...o,children:(0,a.jsx)(i.a,{as:"path",d:m,className:s.D6})}),(0,a.jsx)(i.a,{pos:"relative",p:"".concat(1,"em"),pb:"".concat(2.2,"em"),w:"100%",zIndex:1,sx:(0,L.yp)(t.horizontalAlign||"left"),children:l})]})})});ni.displayName="SpeechBubblesCell";let nr=(e,t,n)=>{let a=1.2*n,i=.5*n,r=e-0,o=t-a-0,l=2*e/3,s=0+o;return"\n    M ".concat(0+i," ").concat(0,"\n    L ").concat(0+r-i," ").concat(0,"\n    Q ").concat(0+r," ").concat(0," ").concat(0+r," ").concat(0+i,"\n    L ").concat(0+r," ").concat(0+o-i,"\n    Q ").concat(0+r," ").concat(0+o," ").concat(0+r-i," ").concat(0+o,"\n    L ").concat(l+a/2," ").concat(s,"\n    L ").concat(l+a/2," ").concat(s+a,"\n    L ").concat(l-a/2," ").concat(s,"\n    L ").concat(0+i," ").concat(0+o,"\n    Q ").concat(0," ").concat(0+o," ").concat(0," ").concat(0+o-i,"\n    L ").concat(0," ").concat(0+i,"\n    Q ").concat(0," ").concat(0," ").concat(0+i," ").concat(0,"\n    Z")},no=()=>I({key:"speechBubbles",name:()=>o.Ru._({id:"H+n8Qp"}),icon:m.DN2,keywords:["speech","bubbles","quotes","conversation","dialogue"],htmlTag:"speechBubbles",family:"quotes",additionalOptions:[tn,{...e5,defaultValue:(0,L.Ro)("left")}],presetConfigurations:[{name:()=>o.Ru._({id:"btb61s"}),options:{horizontalAlign:"left"}},{name:()=>o.Ru._({id:"9WPD2t"}),options:{horizontalAlign:"center"}},{name:()=>o.Ru._({id:"HbrV/u"}),options:{horizontalAlign:"right"}}],imageSlot:"optional",Wrapper:na,Cell:ni,featureFlag:"smartLayoutsJuly2025"}),nl=(0,l.memo)(e=>{let{children:t,...n}=e;return(0,a.jsx)(ey,{cellProps:n,unevenBehavior:"flex",cellStyle:"none",markerProps:{markerType:"smallBullet",markerFontSize:null,markerPosition:"left"},children:t})});nl.displayName="SmallBulletsCell";let ns=(0,l.memo)(e=>(0,a.jsx)(ej,{...e,unevenBehavior:"flex",spacing:"medium"}));ns.displayName="SmallBulletsWrapper";let nd=()=>I({key:"smallBullets",name:()=>o.Ru._({id:"XY2IHD"}),icon:m.pch,keywords:["small","bullets","layout","list","bullet"],htmlTag:"smallBullets",family:"bullets",additionalOptions:[eU],presetConfigurations:[{name:()=>o.Ru._({id:"XY2IHD"}),options:{},zoomIn:!0}],Wrapper:ns,Cell:nl,isFullWidth:()=>!0,addDirection:()=>"right"}),nc=(0,l.memo)(e=>(0,a.jsx)(ej,{...e,spacing:"small",unevenBehavior:"flex"}));nc.displayName="SolidBoxesWrapper";let nu=(0,l.memo)(e=>{let{colorVars:t}=P(e.layoutOptions,e.cellOptions,e.index);return(0,a.jsx)(ey,{cellProps:e,unevenBehavior:"flex",cellStyle:"solid",cellContentPropOverrides:{sx:t},children:e.children})});nu.displayName="SolidBoxesCell";let np=()=>I({key:"solidBoxes",name:()=>o.Ru._({id:"fN02hl"}),icon:r.Nfw,keywords:["solid","boxes","layout","filled","text boxes"],htmlTag:"solid-boxes",family:"boxes",presetConfigurations:[{name:()=>o.Ru._({id:"fN02hl"}),options:{horizontalAlign:"center"}}],additionalOptions:[e5],Wrapper:nc,Cell:nu,isFullWidth:()=>!0}),nh=(0,l.memo)(e=>(0,a.jsx)(ej,{...e,spacing:"small",unevenBehavior:"flex"}));nh.displayName="SolidBoxesWithIconsInsideWrapper";let nm=(0,l.memo)(e=>(0,a.jsx)(ey,{cellProps:e,unevenBehavior:"flex",cellStyle:"solid",markerProps:{markerType:"iconCircle",markerFontSize:null,markerPosition:"top"},children:e.children}));nm.displayName="SolidBoxesWithIconsInsideCell";let ng=()=>I({key:"solidBoxesWithIconsInside",name:()=>o.Ru._({id:"X7s5I1"}),icon:r.Dnq,keywords:["solid","boxes","layout","icons","inside","filled","text boxes"],htmlTag:"solid-boxes-with-icons-inside",family:"boxes",presetConfigurations:[{name:()=>o.Ru._({id:"WH8tvt"}),options:{horizontalAlign:"center",numbered:!0}},{name:()=>o.Ru._({id:"X7s5I1"}),options:{horizontalAlign:"center",numbered:!1}}],additionalOptions:[e5,tn],imageSlot:"optional",imageType:"icon",Wrapper:nh,Cell:nm,isFullWidth:()=>!0,dragHandlePlacement:"top",featureFlag:"smartLayoutsJuly2025"}),nx=(0,l.memo)(e=>(0,a.jsx)(ej,{...e,spacing:"none",unevenBehavior:"flex",wrapperStyle:"solid"}));nx.displayName="SolidJoinedBoxesWrapper";let nf=(0,l.memo)(e=>{let{index:t,layoutOptions:n,numCells:r,layoutContainerSize:o,cellOptions:l,children:d}=e,{columns:c}=(0,ep.i)(n,r,o,!1),{colorVars:u}=P(n,l,t,!1,!0),{colorVars:p}=P(n,l,t,!1),h=0===t,m=t%c==0,g=t>=c,x=t===c-1,f=t===Math.floor((r-1)/c)*c,b=t===r-1;return(0,a.jsxs)(ey,{cellProps:e,unevenBehavior:"flex",cellContentPropOverrides:{p:O.xb,css:{...u},borderStartStartRadius:h?"var(--box-border-radius)":"0",borderEndStartRadius:f?"var(--box-border-radius)":"0",borderStartEndRadius:x?"var(--box-border-radius)":"0",borderEndEndRadius:b?"var(--box-border-radius)":"0",backgroundColor:"var(--shape-bg-color-override, var(--shape-bg-color-alpha))"},children:[!h&&!m&&(0,a.jsx)(i.a,{position:"absolute",top:"0",contentEditable:!1,zIndex:0,height:"100%",width:"var(--line-thickness)",insetStart:"0",className:s.eI,css:p}),g&&(0,a.jsx)(i.a,{position:"absolute",top:"0",contentEditable:!1,zIndex:0,width:"100%",height:"var(--line-thickness)",insetStart:"0",className:s.eI,css:p}),d]})});nf.displayName="SolidJoinedBoxesCell";let nb=()=>I({key:"solidJoinedBoxes",name:()=>o.Ru._({id:"6zAXOC"}),icon:r.swh,keywords:["solid","boxes","layout","filled","text boxes"],htmlTag:"solid-joined-boxes",family:"boxes",presetConfigurations:[{name:()=>o.Ru._({id:"6zAXOC"}),options:{horizontalAlign:"center"}}],additionalOptions:[e5],Wrapper:nx,Cell:nf,isFullWidth:()=>!0,featureFlag:"smartLayoutsJuly2025"}),nv=(0,l.memo)(e=>(0,a.jsx)(ej,{...e,spacing:"none",unevenBehavior:"flex",wrapperStyle:"solid"}));nv.displayName="SolidJoinedBoxesWrapper";let ny=(e,t)=>e?"".concat(O.xb," 2.5em ").concat(O.xb," ").concat(O.xb):t?"".concat(O.xb," ").concat(O.xb," ").concat(O.xb," 2.5em"):"".concat(O.xb," 2.5em ").concat(O.xb," 2.5em"),nw=(e,t)=>0===e?"".concat(O.xb," ").concat(O.xb," 2.5em ").concat(O.xb):e===t-1?"2.5em ".concat(O.xb," ").concat(O.xb," ").concat(O.xb):"2.5em ".concat(O.xb," 2.5em ").concat(O.xb),nC=(e,t,n,a)=>{let i="rtl"===a?e===n-1:e===Math.floor((n-1)/t)*t,r="rtl"===a?e===Math.floor((n-1)/t)*t:e===n-1;return{borderStartStartRadius:("rtl"===a?e===t-1:0===e)?"var(--box-border-radius)":"0",borderEndStartRadius:i?"var(--box-border-radius)":"0",borderStartEndRadius:("rtl"===a?0===e:e===t-1)?"var(--box-border-radius)":"0",borderEndEndRadius:r?"var(--box-border-radius)":"0"}},nj=(0,l.memo)(e=>{let{direction:t,index:n,layoutOptions:r,numCells:o,layoutContainerSize:l,cellOptions:d,children:c,image:u,selectCell:p}=e,{columns:h,isHorizontal:m}=(0,ep.i)(r,o,l,!1),{colorVars:g}=P(r,d,n,!1,!0),{colorVars:x}=P(r,d,n,!1),f="rtl"===t?n===h-1:0===n,b="rtl"===t?(n+1)%h==0:n%h==0,v="rtl"===t?n%h==0:(n+1)%h==0||n===o-1,y=n>=h,w=!f&&!b&&m,C=m?ny(b,v):nw(n,o),j=nC(n,h,o,t);return(0,a.jsxs)(ey,{cellProps:e,unevenBehavior:"flex",cellContentPropOverrides:{p:C,css:{...g},...j,backgroundColor:"var(--shape-bg-color-override, var(--shape-bg-color-alpha))"},children:[w&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.a,{position:"absolute",top:"0",contentEditable:!1,zIndex:0,height:"100%",width:"var(--line-thickness)",left:"0",className:s.eI,css:x}),(0,a.jsx)(E.s,{position:"absolute",top:"50%",left:"calc(-".concat(1.25,"em)"),transform:"translateY(-50%)",width:"".concat(2.5,"em"),height:"".concat(2.5,"em"),align:"center",justify:"center",contentEditable:!1,zIndex:1,sx:x,borderRadius:"50%",className:(0,W.cx)(s.uk,s.SA,s.lR),children:(0,a.jsx)(E.s,{alignItems:"center",justifyContent:"center",className:(0,W.cx)(M.U6),children:(0,a.jsx)(U.R,{image:u,number:r.numbered?n+1:void 0,isNumbered:r.numbered,iconSize:1.25,selectCell:p})})})]}),y&&(0,a.jsx)(i.a,{position:"absolute",top:"0",contentEditable:!1,zIndex:0,width:"100%",height:"var(--line-thickness)",left:"0",className:s.eI,css:x,children:!m&&(0,a.jsx)(E.s,{position:"absolute",top:"50%",left:"calc(50% - ".concat(1.25,"em)"),transform:"translateY(-50%)",width:"".concat(2.5,"em"),height:"".concat(2.5,"em"),align:"center",justify:"center",contentEditable:!1,zIndex:1,sx:x,borderRadius:"50%",className:(0,W.cx)(s.uk,s.SA,s.lR),children:(0,a.jsx)(E.s,{alignItems:"center",justifyContent:"center",className:(0,W.cx)(M.U6),children:(0,a.jsx)(U.R,{image:u,number:r.numbered?n+1:void 0,isNumbered:r.numbered,iconSize:1.25,selectCell:p})})})}),c]})});nj.displayName="SolidJoinedBoxesCell";let nA=()=>I({key:"solidJoinedBoxesWithIcons",name:()=>o.Ru._({id:"riEUxW"}),icon:r.swh,keywords:["solid","boxes","layout","filled","text boxes","icons"],htmlTag:"solid-joined-boxes-with-icons",family:"boxes",presetConfigurations:[{name:()=>o.Ru._({id:"riEUxW"}),options:{horizontalAlign:"center"}}],additionalOptions:[e5],imageSlot:"always",imageType:"icon",Wrapper:nv,Cell:nj,isFullWidth:()=>!0,dragHandlePlacement:"top",featureFlag:"smartLayoutsJuly2025"}),nk=(0,l.memo)(e=>(0,a.jsx)(ej,{...e,spacing:"small",unevenBehavior:"flex"}));nk.displayName="SolidLeafBoxesWrapper";let nS=(0,l.memo)(e=>{let{colorVars:t}=P(e.layoutOptions,e.cellOptions,e.index);return(0,a.jsx)(ey,{cellProps:e,unevenBehavior:"flex",cellStyle:"solid",cellContentPropOverrides:{sx:t,style:{borderRadius:"2em 0 2em 0"}},children:e.children})});nS.displayName="SolidLeafBoxesCell";let nI=()=>I({key:"solidLeafBoxes",name:()=>o.Ru._({id:"gVDJjb"}),icon:m.YHM,keywords:["solid","leaf","boxes","layout","filled","text boxes","rounded"],htmlTag:"solid-leaf-boxes",family:"boxes",presetConfigurations:[{name:()=>o.Ru._({id:"gVDJjb"}),options:{horizontalAlign:"center"}}],additionalOptions:[e5],Wrapper:nk,Cell:nS,isFullWidth:()=>!0,featureFlag:"smartLayoutsJuly2025"}),nE=(0,l.memo)(e=>(0,a.jsx)(ej,{...e,spacing:"none",forceBalance:!0}));nE.displayName="ArrowsWrapper";let nL=(0,l.memo)(e=>(0,a.jsx)(ey,{cellProps:e,forceBalance:!0,innerLabelProps:{labelType:"chevron"},children:e.children}));nL.displayName="ArrowsCell";let nR=()=>I({key:"arrows",name:()=>o.Ru._({id:"YUGjgn"}),icon:m.vFJ,keywords:["sequence","ordered","arrows","chevrons","roadmap"],htmlTag:"arrows",family:"sequence",additionalOptions:[eU,tn,{...e5,defaultValue:(0,L.Ro)("left")}],presetConfigurations:[{name:()=>o.Ru._({id:"QI5FSO"}),options:{orientation:"horizontal"},hideIfVertical:!0},{name:()=>o.Ru._({id:"KphBeD"}),options:{orientation:"vertical"}}],imageSlot:"optional",imageType:"icon",Wrapper:nE,Cell:nL});(0,l.memo)(e=>{let{cellProps:t,isHorizontal:n}=e,{layoutOptions:i,cellOptions:r,index:o,image:l,selectCell:d,selectCellForElementProps:c}=t,{colorVars:u}=P(i,r,o);return(0,a.jsx)(E.s,{lineHeight:"1",contentEditable:!1,align:"center",justify:"center",position:"relative",sx:{...u},style:n?{borderTopLeftRadius:"calc(var(--box-border-radius) - var(--line-thickness))",borderTopRightRadius:"calc(var(--box-border-radius) - var(--line-thickness))",borderBottomLeftRadius:"0px",borderBottomRightRadius:"0px",borderTopWidth:"0px",borderLeftWidth:"0px",borderRightWidth:"0px"}:{borderTopRightRadius:"0px",borderBottomRightRadius:"0px",borderTopLeftRadius:"calc(var(--box-border-radius) - var(--line-thickness))",borderBottomLeftRadius:"calc(var(--box-border-radius) - var(--line-thickness))",borderTopWidth:"0px",borderLeftWidth:"0px",borderBottomWidth:"0px"},...n?{width:"100%",height:"3em"}:{width:"4em",height:"100%",minHeight:"4em"},className:(0,W.cx)(s.SA,s.lR),...c,children:(0,a.jsx)(E.s,{fontSize:"1.5em",alignItems:"center",justifyContent:"center",className:(0,W.cx)(M.U6),children:(0,a.jsx)(U.R,{image:l,number:i.numbered?o+1:void 0,isNumbered:i.numbered,iconSize:1,selectCell:d})})})}).displayName="OutlineBoxesWithLabelLabel";let nD=(0,l.memo)(e=>(0,a.jsx)(ej,{...e,spacing:"small",forceBalance:!0}));nD.displayName="OutlineBoxesWithLabelWrapper";let nM=(0,l.memo)(e=>(0,a.jsx)(ey,{cellProps:e,forceBalance:!0,cellContentPropOverrides:{borderRadius:"var(--box-border-radius)"},innerLabelProps:{labelType:"flush"},cellStyle:"outline",children:e.children}));nM.displayName="OutlineBoxesWithLabelCell";let n_=()=>I({key:"outlineBoxesWithLabel",name:()=>o.Ru._({id:"VWjsp7"}),icon:m._vK,keywords:["outline","boxes","label","sequence","ordered","headers"],htmlTag:"outline-boxes-with-label",family:"boxes",additionalOptions:[eU,tn],presetConfigurations:[{name:()=>o.Ru._({id:"yTTyHb"}),options:{orientation:"horizontal"},hideIfVertical:!0},{name:()=>o.Ru._({id:"UifYfm"}),options:{orientation:"vertical"}}],imageSlot:"optional",imageType:"icon",Wrapper:nD,Cell:nM}),nz=(0,l.memo)(e=>(0,a.jsx)(ej,{...e,spacing:"small",forceBalance:!0}));nz.displayName="PillsWrapper";let nT=(0,l.memo)(e=>(0,a.jsx)(ey,{cellProps:e,forceBalance:!0,innerLabelProps:{labelType:"pills"},children:e.children}));nT.displayName="PillsCell";let nN=()=>I({key:"pills",name:()=>o.Ru._({id:"OOCfU+"}),icon:m.M1V,keywords:["pills","capsules","sequence","ordered","rounded"],htmlTag:"pills",family:"sequence",additionalOptions:[eU,tn],presetConfigurations:[{name:()=>o.Ru._({id:"D17j6n"}),options:{orientation:"horizontal"},hideIfVertical:!0},{name:()=>o.Ru._({id:"gJEEpm"}),options:{orientation:"vertical"}}],imageSlot:"optional",imageType:"icon",Wrapper:nz,Cell:nT}),nP=(0,l.memo)(e=>(0,a.jsx)(ej,{...e,spacing:"none",forceBalance:!0}));nP.displayName="SlantedLabelsWrapper";let nO=(0,l.memo)(e=>(0,a.jsx)(ey,{cellProps:e,forceBalance:!0,innerLabelProps:{labelType:"slanted"},children:e.children}));nO.displayName="SlantedLabelsCell";let nH=()=>I({key:"slantedLabels",name:()=>o.Ru._({id:"J0xtcw"}),icon:r.sD5,keywords:["sequence","ordered","arrows","chevrons","roadmap"],htmlTag:"slantedLabels",family:"sequence",additionalOptions:[eU,tn,{...e5,defaultValue:(0,L.Ro)("left")}],presetConfigurations:[{name:()=>o.Ru._({id:"gA8+s2"}),options:{orientation:"horizontal"},hideIfVertical:!0},{name:()=>o.Ru._({id:"ryugXN"}),options:{orientation:"vertical"}}],imageSlot:"optional",imageType:"icon",Wrapper:nP,Cell:nO,featureFlag:"smartLayoutsJuly2025"}),nF=(0,l.memo)(e=>(0,a.jsx)(ej,{...e,spacing:"small",forceBalance:!0}));nF.displayName="StepsWrapper";let nB=(0,l.memo)(e=>(0,a.jsx)(ey,{cellProps:e,forceBalance:!0,staggering:{horizontal:"cascade",vertical:"oscillating"},innerLabelProps:{labelType:"simpleLine"},children:e.children}));nB.displayName="StepsCell";let nV=()=>I({key:"steps",name:()=>o.Ru._({id:"A9onc2"}),icon:m.k2U,keywords:["steps","sequence","ordered"],htmlTag:"steps",family:"steps",additionalOptions:[eU],presetConfigurations:[{name:()=>o.Ru._({id:"087akc"}),options:{orientation:"horizontal",horizontalAlign:"left"},hideIfVertical:!0},{name:()=>o.Ru._({id:"DCkonM"}),options:{orientation:"vertical",horizontalAlign:"left"}}],Wrapper:nF,Cell:nB}),nW=(0,l.memo)(e=>(0,a.jsx)(ej,{...e,spacing:"small",forceBalance:!0}));nW.displayName="StepsWrapper";let nU=(0,l.memo)(e=>(0,a.jsx)(ey,{cellProps:e,forceBalance:!0,staggering:{horizontal:"cascade",vertical:"oscillating"},innerLabelProps:{labelType:"arrow"},children:e.children}));nU.displayName="StepsCell";let nG=()=>I({key:"stepsWithArrow",name:()=>o.Ru._({id:"kQwqXh"}),icon:m.INJ,keywords:["steps","arrow","sequence","ordered"],htmlTag:"steps",family:"steps",additionalOptions:[eU],presetConfigurations:[{name:()=>o.Ru._({id:"wFgEzK"}),options:{orientation:"horizontal",horizontalAlign:"left"},hideIfVertical:!0},{name:()=>o.Ru._({id:"WkYYLP"}),options:{orientation:"vertical",horizontalAlign:"left"}}],Wrapper:nW,Cell:nU,featureFlag:"smartLayoutsJuly2025"}),nK=(0,l.memo)(e=>(0,a.jsx)(ej,{...e,spacing:"small",forceBalance:!0}));nK.displayName="StepsWrapper";let nQ=(0,l.memo)(e=>(0,a.jsx)(ey,{cellProps:e,forceBalance:!0,staggering:{horizontal:"cascade",vertical:"oscillating"},innerLabelProps:{labelType:"iconCircleWithSimpleLine"},children:e.children}));nQ.displayName="StepsCell";let nZ=()=>I({key:"stepsWithIcons",name:()=>o.Ru._({id:"q8HKHP"}),icon:m.o97,keywords:["steps","icons","sequence","ordered"],htmlTag:"stepsWithIcons",family:"steps",additionalOptions:[eU,tn],presetConfigurations:[{name:()=>o.Ru._({id:"lPCKsX"}),options:{orientation:"horizontal",horizontalAlign:"left"},hideIfVertical:!0},{name:()=>o.Ru._({id:"wNI9DR"}),options:{orientation:"vertical",horizontalAlign:"left"}}],imageSlot:"optional",imageType:"icon",Wrapper:nK,Cell:nQ,featureFlag:"smartLayoutsJuly2025"}),nq=(0,l.memo)(e=>(0,a.jsx)(ej,{...e,spacing:"small",forceBalance:!0}));nq.displayName="StepsWrapper";let n$=(0,l.memo)(e=>(0,a.jsx)(ey,{cellProps:e,forceBalance:!0,staggering:{horizontal:"cascade",vertical:"oscillating"},cellContentPropOverrides:{borderRadius:"var(--box-border-radius)"},innerLabelProps:{labelType:"simpleLineFlush"},cellStyle:"outline",children:e.children}));n$.displayName="StepsCell";let nJ=()=>I({key:"stepsWithOutlineBoxes",name:()=>o.Ru._({id:"bKc2b/"}),icon:r.idT,keywords:["steps","outline","boxes","sequence","ordered"],htmlTag:"steps",family:"steps",additionalOptions:[eU],presetConfigurations:[{name:()=>o.Ru._({id:"pi32P5"}),options:{orientation:"horizontal",horizontalAlign:"left"},hideIfVertical:!0},{name:()=>o.Ru._({id:"T9MVOK"}),options:{orientation:"vertical",horizontalAlign:"left"}}],Wrapper:nq,Cell:n$,featureFlag:"smartLayoutsJuly2025"});var nY=n(56151),nX=n(30709),n0=n(85813);let n1=e=>{let{updateAttributes:t,value:n,placeholder:i,inputProps:r,...o}=e,s=(0,l.useCallback)(e=>{t&&t({label:""===e?null:e})},[t]),d=(0,R.GV)(N.Cl)&&t;return(0,a.jsxs)(nY.F,{value:n||"",placeholder:i,onChange:s,isDisabled:!d,...o,children:[(0,a.jsx)(nX.l,{width:"100%",h:"1em",py:0,noOfLines:1,userSelect:d?void 0:"none",lineHeight:1}),(0,a.jsx)(n0.j,{width:"100%",my:-1,py:1,lineHeight:1,...r})]})},n2={key:"imagePosition",defaultValue:()=>"top",Control:e=>{let{value:t,updateValue:n,option:i}=e;return(0,a.jsx)(A.I,{label:i.name(),onClick:()=>n("top"===t?"left":"top"),isActive:"left"===t,icon:"top"===t?m.qXP:m.Usg,testId:"smart-layout-orientation-option"})},ControlMenu:(e,t,n)=>({key:n.key,label:n.name(),icon:"top"===e?m.qXP:m.Usg,items:[{key:"top",label:o.Ru._({id:"WWy8TN"}),icon:"top"===e?m.e68:void 0,onClick:()=>t("top")},{key:"left",label:o.Ru._({id:"lg7+vk"}),icon:"left"===e?m.e68:void 0,onClick:()=>t("left")}]}),name:()=>o.Ru._({id:"BWUDJY"})},n4=[{label:()=>o.Ru._({id:"yrC1Cd"}),key:"xs"},{label:()=>o.Ru._({id:"4Revpc"}),key:"sm"},{label:()=>o.Ru._({id:"agPptk"}),key:"md"},{label:()=>o.Ru._({id:"k7rCa/"}),key:"lg"},{label:()=>o.Ru._({id:"vp6Yr4"}),key:"xl"},{label:()=>o.Ru._({id:"CK1KXz"}),key:"full"}],n5={key:"shapeSize",defaultValue:()=>null,Control:e=>{let{value:t,updateValue:n,option:i}=e,r=n4.findIndex(e=>e.key===t);-1===r&&(r=3);let{label:o}=n4[r],s=(0,l.useCallback)(e=>{let{key:t}=n4[e];n(t)},[n]);return(0,a.jsxs)(c.z,{spacing:2,me:2,children:[(0,a.jsx)(x.Tz,{placement:"top",label:(0,a.jsxs)(u.T,{spacing:0,children:[(0,a.jsx)(p.E,{color:"gray.400",children:i.name()}),(0,a.jsx)(p.E,{children:o()})]}),children:(0,a.jsx)(p.E,{fontSize:"sm",fontWeight:"600",children:(0,a.jsx)(g.g,{icon:i.icon,fixedWidth:!0})})}),(0,a.jsxs)(h.Ap,{min:0,max:n4.length-1,step:1,value:r,onChange:s,w:"60px",focusThumbOnChange:!1,colorScheme:"trueblue",size:"sm",children:[(0,a.jsx)(h.hB,{children:(0,a.jsx)(h.hJ,{})}),(0,a.jsx)(x.Tz,{placement:"top",label:(0,a.jsxs)(u.T,{spacing:0,children:[(0,a.jsx)(p.E,{color:"gray.400",children:i.name()}),(0,a.jsx)(p.E,{children:o()})]}),children:(0,a.jsx)(h.OQ,{background:"trueblue.500"})})]})]})},ControlMenu:(e,t,n)=>({key:n.key,label:n.name(),icon:m.j3q,items:n4.map(n=>({key:n.key,label:n.label(),icon:n.key===e?m.e68:void 0,onClick:()=>t(n.key)}))}),name:()=>o.Ru._({id:"FeDgKA"}),icon:m.j3q,validator:e=>null===e||n4.some(t=>t.key===e)};var n6=n(79018);let n3=(0,l.memo)(e=>(0,a.jsx)(ej,{...e,spacing:"medium"}));n3.displayName="CircleStatsWrapper";let n9={xs:.35,sm:.48,md:.61,lg:.74,xl:.87,full:1},n7=(0,l.memo)(e=>{let{theme:t,layoutOptions:n,cellOptions:r,label:o,updateAttributes:l,index:c,selectCellForElementProps:u}=e,p=(0,z.M)(t),h=(0,n6.dD)(e),m=(0,tf.JL)({innerRadius:41,outerRadius:50}),g=m({startAngle:0,endAngle:2*h*Math.PI}),x=m({startAngle:0,endAngle:2*Math.PI}),b=n9[n.shapeSize]||1,v="min(100%, ".concat(f.mw*b,"em)"),y=(0,d.FX)()||"left"===n.imagePosition?"".concat(2*b,"em"):"".concat(2.5*b,"em"),{colorOverride:w}=P(n,r,c,!0),{colorVars:C}=P(n,r,c),{colorVars:j}=P(n,r,c,!1),{useTransparentTrack:A,shouldRecolorTrack:k}=ae(p,w),S=(0,a.jsxs)(E.s,{direction:"column",align:"center",justify:"center",width:"100%",maxW:v,pos:"relative",contentEditable:!1,py:"0.25em",...u,children:[(0,a.jsx)(n1,{value:o||"",updateAttributes:l,pos:"absolute",insetStart:"".concat(9,"%"),className:(0,W.cx)(M.U6),fontSize:y,lineHeight:1,display:"flex",alignItems:"center",sx:(0,L.yp)("center"),style:{width:"".concat(82,"%")},cursor:"text"}),(0,a.jsxs)("svg",{width:"100%",viewBox:"".concat(-50," ").concat(-50," ").concat(100," ").concat(100),overflow:"visible",onClick:e=>{u.onClick(e)},cursor:u.cursor,children:[(0,a.jsx)(i.a,{as:"path",d:x||void 0,className:s.D6,style:{fill:A?"var(--card-color)":void 0},"data-testid":"stats-track",css:k?C:void 0,...u}),(0,a.jsx)(i.a,{as:"path",d:g||void 0,className:s._B,"data-testid":"stats-fill",css:j,...u})]})]});return(0,a.jsx)(eA,{visual:S,visualPosition:n.imagePosition,visualSize:"".concat(100*b,"%"),visualMaxSize:v,gap:"1em",cellProps:e,children:e.children})});n7.displayName="CircleStatsCell";let n8=()=>I({key:"circleStats",name:()=>o.Ru._({id:"mvpFPS"}),icon:m.ItB,keywords:["stats","circle"],htmlTag:"circleStats",family:"numbers",additionalOptions:[{...n2,checkEnabled(e){let{options:t}=e;return"vertical"!==t.orientation}},{...n5,name:()=>o.Ru._({id:"1C+7U1"}),icon:m.GEE},{...e5,defaultValue:(0,L.Ro)("center"),checkEnabled(e){let{options:t}=e;return"left"!==t.imagePosition}}],presetConfigurations:[{name:()=>o.Ru._({id:"MpKR5P"}),options:{shapeSize:"lg"},cellAttrs:{label:"75"}}],defaultAttrs:{label:"50%"},addDirection:()=>"right",Wrapper:n3,Cell:n7}),ae=(e,t)=>{let n="default"!==e.shapeColorScheme;return{useTransparentTrack:"none"===e.shapeFill||"solid"===e.shapeFill&&"custom"===e.shapeColorScheme||t&&n,shouldRecolorTrack:n}},at=(0,l.memo)(e=>(0,a.jsx)(ej,{...e,spacing:"medium"}));at.displayName="BarStatsWrapper";let an=(0,l.memo)(e=>{let{theme:t,layoutOptions:n,cellOptions:r,label:o,updateAttributes:l,index:d,selectCellForElementProps:c}=e,u=(0,z.M)(t),p=n.horizontalAlign,h=(0,n6.dD)(e),{colorOverride:m}=P(n,r,d,!0),{colorVars:g}=P(n,r,d),{colorVars:x}=P(n,r,d,!1),{useTransparentTrack:f,shouldRecolorTrack:b}=ae(u,m),v=(0,a.jsxs)(E.s,{direction:"row",align:"center",justify:"stretch",width:"100%",pos:"relative",contentEditable:!1,gap:"0.75em",...c,children:[(0,a.jsxs)(i.a,{flex:"1",my:"0.5em",pos:"relative",borderRadius:"var(--box-border-radius)",...c,children:[(0,a.jsx)(i.a,{pos:"absolute",inset:"0",className:s.SA,style:f?{background:"var(--card-color)"}:void 0,css:b?g:void 0,...c}),(0,a.jsx)(i.a,{w:"".concat(100*h,"%"),h:"1.25em",pos:"relative",className:s.P7,borderRadius:"inherit",css:x,...c})]}),(0,a.jsx)(n1,{value:o||"",updateAttributes:l,className:(0,W.cx)(M.U6),lineHeight:1,display:"flex",alignItems:"center",sx:(0,L.yp)(p),fontSize:"1.25em",inputProps:{textAlign:"right",width:"4em",py:0},minW:"1em"})]});return(0,a.jsx)(eA,{visual:v,visualPosition:"top",gap:"0.75em",cellProps:e,children:e.children})});an.displayName="BarStatsCell";let aa=()=>I({key:"barStats",name:()=>o.Ru._({id:"LYRXtx"}),icon:m.dYn,keywords:["stats","bar","progress","number","percentage"],htmlTag:"percentages",family:"numbers",additionalOptions:[{...e5,defaultValue:(0,L.Ro)("left")}],presetConfigurations:[{name:()=>o.Ru._({id:"oWD4zD"}),options:{horizontalAlign:"left"},cellAttrs:{label:"75"}},{name:()=>o.Ru._({id:"HEnTGz"}),options:{horizontalAlign:"right"},cellAttrs:{label:"75"}}],defaultAttrs:{label:"50%"},addDirection:()=>"right",Wrapper:at,Cell:an}),ai=(0,l.memo)(e=>(0,a.jsx)(ej,{...e,spacing:"medium"}));ai.displayName="CircleWithBoldLineStatsWrapper";let ar={xs:.35,sm:.48,md:.61,lg:.74,xl:.87,full:1},ao=(0,l.memo)(e=>{let{theme:t,layoutOptions:n,cellOptions:r,label:o,updateAttributes:l,index:c,selectCellForElementProps:u}=e,p=(0,z.M)(t),h=(0,n6.dD)(e),m=9,g=(0,tf.JL)({innerRadius:50-m,outerRadius:50})({startAngle:0,endAngle:2*h*Math.PI}),x=45,b=.45,v=(0,tf.JL)({innerRadius:x-b,outerRadius:x})({startAngle:0,endAngle:2*Math.PI}),y=ar[n.shapeSize]||1,w="min(100%, ".concat(f.mw*y,"em)"),C=(0,d.FX)()||"left"===n.imagePosition?"".concat(2*y,"em"):"".concat(2.5*y,"em"),{colorOverride:j}=P(n,r,c,!0),{colorVars:A}=P(n,r,c),{colorVars:k}=P(n,r,c,!1),{useTransparentTrack:S,shouldRecolorTrack:I}=as(p,j),R=(0,a.jsxs)(E.s,{direction:"column",align:"center",justify:"center",width:"100%",maxW:w,pos:"relative",contentEditable:!1,py:"0.25em",...u,children:[(0,a.jsx)(n1,{value:o||"",updateAttributes:l,pos:"absolute",insetStart:"".concat(m,"%"),className:(0,W.cx)(M.U6),fontSize:C,lineHeight:1,display:"flex",alignItems:"center",sx:(0,L.yp)("center"),style:{width:"".concat(100-2*m,"%")},cursor:"text"}),(0,a.jsxs)("svg",{width:"100%",viewBox:"".concat(-50," ").concat(-50," ").concat(100," ").concat(100),overflow:"visible",onClick:e=>{u.onClick(e)},cursor:u.cursor,children:[(0,a.jsx)(i.a,{as:"path",d:v||void 0,className:s.Lp,style:{fill:S?"var(--card-color)":void 0},"data-testid":"stats-track",css:{...I?A:void 0,"--shape-border-width":"0.125em"},...u}),(0,a.jsx)(i.a,{as:"path",d:g||void 0,className:s._B,"data-testid":"stats-fill",css:k,...u})]})]});return(0,a.jsx)(eA,{visual:R,visualPosition:n.imagePosition,visualSize:"".concat(100*y,"%"),visualMaxSize:w,gap:"1em",cellProps:e,children:e.children})});ao.displayName="CircleWithBoldLineStatsCell";let al=()=>I({key:"circleStatsWithBoldLine",name:()=>o.Ru._({id:"kSnmN+"}),icon:m.ItB,keywords:["stats","circle"],htmlTag:"circle-stats-with-bold-line",family:"numbers",additionalOptions:[{...n2,checkEnabled(e){let{options:t}=e;return"vertical"!==t.orientation}},{...n5,name:()=>o.Ru._({id:"1C+7U1"}),icon:m.GEE},{...e5,defaultValue:(0,L.Ro)("center"),checkEnabled(e){let{options:t}=e;return"left"!==t.imagePosition}}],presetConfigurations:[{name:()=>o.Ru._({id:"MpKR5P"}),options:{shapeSize:"lg"},cellAttrs:{label:"75"}}],defaultAttrs:{label:"50%"},addDirection:()=>"right",Wrapper:ai,Cell:ao,featureFlag:"smartLayoutsJuly2025"}),as=(e,t)=>{let n="default"!==e.shapeColorScheme;return{useTransparentTrack:"none"===e.shapeFill||"solid"===e.shapeFill&&"custom"===e.shapeColorScheme||t&&n,shouldRecolorTrack:n}},ad=(0,l.memo)(e=>(0,a.jsx)(ej,{...e,spacing:"medium"}));ad.displayName="CircleWithExternalBoldLineStatsWrapper";let ac={xs:.35,sm:.48,md:.61,lg:.74,xl:.87,full:1},au=(0,l.memo)(e=>{let{theme:t,layoutOptions:n,cellOptions:r,label:o,updateAttributes:l,index:c,selectCellForElementProps:u}=e,p=(0,z.M)(t),h=(0,n6.dD)(e),m=9,g=(0,tf.JL)({innerRadius:50-m,outerRadius:50})({startAngle:0,endAngle:2*h*Math.PI}),x=35,b=.35000000000000003,v=(0,tf.JL)({innerRadius:x-b,outerRadius:x})({startAngle:0,endAngle:2*Math.PI}),y=ac[n.shapeSize]||1,w="min(100%, ".concat(f.mw*y,"em)"),C=(0,d.FX)()||"left"===n.imagePosition?"".concat(2*y,"em"):"".concat(2.5*y,"em"),{colorOverride:j}=P(n,r,c,!0),{colorVars:A}=P(n,r,c),{colorVars:k}=P(n,r,c,!1),{useTransparentTrack:S,shouldRecolorTrack:I}=ah(p,j),R=(0,a.jsxs)(E.s,{direction:"column",align:"center",justify:"center",width:"100%",maxW:w,pos:"relative",contentEditable:!1,py:"0.25em",...u,children:[(0,a.jsx)(n1,{value:o||"",updateAttributes:l,pos:"absolute",insetStart:"".concat(m,"%"),className:(0,W.cx)(M.U6),fontSize:C,lineHeight:1,display:"flex",alignItems:"center",sx:(0,L.yp)("center"),style:{width:"".concat(100-2*m,"%")},cursor:"text"}),(0,a.jsxs)("svg",{width:"100%",viewBox:"".concat(-50," ").concat(-50," ").concat(100," ").concat(100),overflow:"visible",onClick:e=>{u.onClick(e)},cursor:u.cursor,children:[(0,a.jsx)(i.a,{as:"path",d:v||void 0,className:s.Lp,style:{fill:S?"var(--card-color)":void 0},"data-testid":"stats-track",css:{...I?A:void 0,"--shape-border-width":"0.125em"},...u}),(0,a.jsx)(i.a,{as:"path",d:g||void 0,className:s._B,"data-testid":"stats-fill",css:k,...u})]})]});return(0,a.jsx)(eA,{visual:R,visualPosition:n.imagePosition,visualSize:"".concat(100*y,"%"),visualMaxSize:w,gap:"1em",cellProps:e,children:e.children})});au.displayName="CircleWithExternalBoldLineStatsCell";let ap=()=>I({key:"circleStatsWithExternalBoldLine",name:()=>o.Ru._({id:"L3jtjR"}),icon:m.ItB,keywords:["stats","circle"],htmlTag:"circle-stats-with-external-bold-line",family:"numbers",additionalOptions:[{...n2,checkEnabled(e){let{options:t}=e;return"vertical"!==t.orientation}},{...n5,name:()=>o.Ru._({id:"1C+7U1"}),icon:m.GEE},{...e5,defaultValue:(0,L.Ro)("center"),checkEnabled(e){let{options:t}=e;return"left"!==t.imagePosition}}],presetConfigurations:[{name:()=>o.Ru._({id:"MpKR5P"}),options:{shapeSize:"lg"},cellAttrs:{label:"75"}}],defaultAttrs:{label:"50%"},addDirection:()=>"right",Wrapper:ad,Cell:au,featureFlag:"smartLayoutsJuly2025"}),ah=(e,t)=>{let n="default"!==e.shapeColorScheme;return{useTransparentTrack:"none"===e.shapeFill||"solid"===e.shapeFill&&"custom"===e.shapeColorScheme||t&&n,shouldRecolorTrack:n}},am=(0,l.memo)(e=>(0,a.jsx)(ej,{...e,spacing:"medium"}));am.displayName="DotGridStatsWrapper";let ag=(0,l.memo)(e=>{let{theme:t,layoutOptions:n,cellOptions:r,label:o,updateAttributes:l,index:d,selectCellForElementProps:c}=e,u=(0,z.M)(t),p=n.horizontalAlign,h=(0,n6.dD)(e),{colorOverride:m}=P(n,r,d,!0),{colorVars:g}=P(n,r,d),{colorVars:x}=P(n,r,d,!1),{useTransparentTrack:f,shouldRecolorTrack:b}=ae(u,m),v=Math.round(100*h),y=Array.from({length:100},(e,t)=>{let n=Math.floor(t/10),r=t%10,o=Math.floor(v/10),l=n>=10-o||n===10-o-1&&r<v%10;return(0,a.jsx)(i.a,{w:"1em",h:"1em",borderRadius:"50% !important",className:l?s.P7:s.SA,css:l?x:b?g:void 0,style:!l&&f?{background:"var(--card-color)"}:void 0,...c},t)}),w=(0,a.jsx)(E.s,{width:"100%",justify:"center"===p?"center":"right"===p?"flex-end":"flex-start",children:(0,a.jsxs)(E.s,{direction:"column",align:"center"===p?"center":"right"===p?"flex-end":"flex-start",justify:"stretch",width:"100%",pos:"relative",contentEditable:!1,gap:"0.75em",...c,children:[(0,a.jsx)(eO.x,{templateColumns:"repeat(10, 1fr)",gap:"0.2em",flex:"1",my:"0.5em",justifyItems:"center",alignItems:"center",...c,children:y}),(0,a.jsx)(n1,{value:o||"",updateAttributes:l,className:(0,W.cx)(M.U6),lineHeight:1,display:"flex",alignItems:"center",sx:(0,L.yp)(p),fontSize:"3em",inputProps:{textAlign:"left",width:"4em",py:0},minW:"1em",mb:"0.25em"})]})});return(0,a.jsx)(eA,{visual:w,visualPosition:"top",gap:"0.75em",cellProps:e,children:e.children})});ag.displayName="DotGridStatsCell";let ax=()=>I({key:"dotGridStats",name:()=>o.Ru._({id:"iW6hrR"}),icon:r.nBi,keywords:["stats","dot","grid","number","percentage"],htmlTag:"percentages",family:"numbers",additionalOptions:[{...e5,defaultValue:(0,L.Ro)("left")}],presetConfigurations:[{name:()=>o.Ru._({id:"OCJYne"}),options:{horizontalAlign:"left"},cellAttrs:{label:"75"}},{name:()=>o.Ru._({id:"Ho9/Bu"}),options:{horizontalAlign:"right"},cellAttrs:{label:"75"}}],defaultAttrs:{label:"50%"},addDirection:()=>"right",Wrapper:am,Cell:ag,featureFlag:"smartLayoutsJuly2025"}),af=(0,l.memo)(e=>(0,a.jsx)(ej,{...e,spacing:"medium"}));af.displayName="DotLineStatsWrapper";let ab=(0,l.memo)(e=>{let{theme:t,layoutOptions:n,cellOptions:r,label:o,updateAttributes:l,index:d,selectCellForElementProps:c}=e,u=(0,z.M)(t),p=n.horizontalAlign,h=(0,n6.dD)(e),{colorOverride:m}=P(n,r,d,!0),{colorVars:g}=P(n,r,d),{colorVars:x}=P(n,r,d,!1),{useTransparentTrack:f,shouldRecolorTrack:b}=ae(u,m),v=Math.round(5*h),y=Array.from({length:5},(e,t)=>{let n=t<v;return(0,a.jsx)(i.a,{w:"1em",h:"1em",borderRadius:"50% !important",className:n?s.P7:s.SA,css:n?x:b?g:void 0,style:!n&&f?{background:"var(--card-color)"}:void 0,...c},t)}),w=(0,a.jsx)(E.s,{width:"100%",justify:"center"===p?"center":"right"===p?"flex-end":"flex-start",children:(0,a.jsxs)(E.s,{direction:"row",align:"center",justify:"stretch",pos:"relative",contentEditable:!1,gap:"0.75em",...c,children:[(0,a.jsx)(eO.x,{templateColumns:"repeat(5, 1fr)",gap:"0.1em",my:"0.5em",justifyItems:"center",alignItems:"center",...c,children:y}),(0,a.jsx)(n1,{value:o||"",updateAttributes:l,className:(0,W.cx)(M.U6),lineHeight:1,display:"flex",alignItems:"center",sx:(0,L.yp)(p),fontSize:"1.25em",inputProps:{textAlign:"left",width:"4em",py:0},minW:"1em"})]})});return(0,a.jsx)(eA,{visual:w,visualPosition:"top",gap:"0.75em",cellProps:e,children:e.children})});ab.displayName="DotLineStatsCell";let av=()=>I({key:"dotLineStats",name:()=>o.Ru._({id:"Z+uBD/"}),icon:r.Dwc,keywords:["stats","bar","progress","number","percentage"],htmlTag:"percentages",family:"numbers",additionalOptions:[{...e5,defaultValue:(0,L.Ro)("left")}],presetConfigurations:[{name:()=>o.Ru._({id:"kpy3OF"}),options:{horizontalAlign:"left"},cellAttrs:{label:"75"}},{name:()=>o.Ru._({id:"YT7LWI"}),options:{horizontalAlign:"right"},cellAttrs:{label:"75"}}],defaultAttrs:{label:"50%"},addDirection:()=>"right",Wrapper:af,Cell:ab,featureFlag:"smartLayoutsJuly2025"}),ay=(0,l.memo)(e=>(0,a.jsx)(ej,{...e,spacing:"medium"}));ay.displayName="PlainStatsWrapper";let aw={xs:2,sm:2.65,md:3.3,lg:3.95,xl:4.6,full:5.25},aC=(0,l.memo)(e=>{let{layoutOptions:t,cellOptions:n,label:i,updateAttributes:r,index:o}=e,{headingColorCss:l}=P(t,n,o,!0),s=t.horizontalAlign,c=aw[t.shapeSize||"md"],u=(0,d.FX)(),p=(0,a.jsx)(E.s,{direction:"column",align:"center",justify:"center",width:"100%",pos:"relative",contentEditable:!1,py:"0.5em",css:l,fontSize:u?"0.75em":"1em",children:(0,a.jsx)(n1,{value:i||"",updateAttributes:r,className:(0,W.cx)(M.U6),fontSize:"".concat(c,"em"),lineHeight:1,display:"flex",alignItems:"center",sx:(0,L.yp)(s||"center"),style:{width:"100%"},placeholder:"—",cursor:"text"})});return(0,a.jsx)(eA,{visual:p,visualPosition:"top",gap:"0.75em",cellProps:e,children:e.children})});aC.displayName="PlainStatsCell";let aj=()=>I({key:"stats",name:()=>o.Ru._({id:"29Hx9U"}),icon:m.Bi7,keywords:["stats"],htmlTag:"numbers",family:"numbers",additionalOptions:[{...n5,name:()=>o.Ru._({id:"IfKwpr"}),icon:m.ACh},{...e5,defaultValue:(0,L.Ro)("center")}],presetConfigurations:[{name:()=>o.Ru._({id:"cYvymx"}),options:{shapeSize:"lg"},cellAttrs:{label:"75"}}],defaultAttrs:{label:"50%"},addDirection:()=>"right",defaultOptions:{cellSize:10},Wrapper:ay,Cell:aC});var aA=n(33750),ak=n.n(aA);let aS=e=>e/100*5,aI=(0,l.memo)(e=>{let{fillAmount:t,trackColorVars:n,fillColorVars:r,size:o}=e;return t<.01?(0,a.jsx)(i.a,{sx:{...n,path:{fill:"inherit"}},children:(0,a.jsx)(g.g,{icon:j.yy,fontSize:o,style:{strokeWidth:"1em"},className:s.Lp})}):t>.99?(0,a.jsx)(i.a,{sx:{...r,path:{fill:"inherit"}},children:(0,a.jsx)(g.g,{icon:j.yy,fontSize:o,className:s._B})}):(0,a.jsxs)(i.a,{position:"relative",sx:{...n,path:{fill:"inherit"}},children:[(0,a.jsx)(g.g,{icon:j.yy,className:s.Lp,style:{strokeWidth:"1em"},fontSize:o}),(0,a.jsx)(i.a,{position:"absolute",top:"0",insetStart:"0",width:"".concat(100*t,"%"),height:"100%",overflow:"hidden",sx:{...r,path:{fill:"inherit"}},children:(0,a.jsx)(g.g,{icon:j.yy,className:s._B,fontSize:o})})]})});aI.displayName="StarIcon";let aE=(0,l.memo)(e=>{let{rating:t,trackColorVars:n,fillColorVars:r,size:o}=e,l=[];for(let e=1;e<=5;e++){let s=ak()(t-e+1,0,1);l.push((0,a.jsx)(i.a,{children:(0,a.jsx)(aI,{size:o,fillAmount:s,trackColorVars:n,fillColorVars:r},e)}))}return(0,a.jsx)(E.s,{gap:"0.25em",align:"center",children:l})});aE.displayName="StarRating";let aL=(0,l.memo)(e=>(0,a.jsx)(ej,{...e,spacing:"medium"}));aL.displayName="StarStatsWrapper";let aR=(0,l.memo)(e=>{let{layoutOptions:t,cellOptions:n,label:r,updateAttributes:o,index:l,selectCellForElementProps:s}=e,d=t.horizontalAlign,c=aS(100*(0,n6.dD)({label:r,basis:5})),{colorVars:u}=P(t,n,l),{colorVars:p}=P(t,n,l,!1),h=(0,a.jsx)(E.s,{width:"100%",justify:"center"===d?"center":"right"===d?"flex-end":"flex-start",children:(0,a.jsxs)(E.s,{direction:"row",align:"center",justify:"stretch",pos:"relative",contentEditable:!1,gap:"0.75em",...s,children:[(0,a.jsx)(i.a,{display:"flex",alignItems:"center",justifyContent:"flex-start",...s,children:(0,a.jsx)(aE,{rating:c,size:t.cellSize===f.vG?"1.25em":"1.5em",trackColorVars:u,fillColorVars:p})}),(0,a.jsx)(n1,{value:r||"",updateAttributes:o,className:(0,W.cx)(M.U6),lineHeight:1,display:"flex",alignItems:"center",sx:(0,L.yp)(d),fontSize:"1.25em",inputProps:{textAlign:"left",width:"2em",py:0},minW:"1em"})]})});return(0,a.jsx)(eA,{visual:h,visualPosition:"top",gap:"0.75em",cellProps:e,children:e.children})});aR.displayName="StarStatsCell";let aD=()=>I({key:"starStats",name:()=>o.Ru._({id:"omSCb1"}),icon:j.yy,keywords:["stats","star","rating","number","percentage"],htmlTag:"ratings",family:"numbers",additionalOptions:[{...e5,defaultValue:(0,L.Ro)("left")}],presetConfigurations:[{name:()=>o.Ru._({id:"NGIe/7"}),options:{horizontalAlign:"left"},cellAttrs:{label:"4.5"}},{name:()=>o.Ru._({id:"AeN6Ey"}),options:{horizontalAlign:"right"},cellAttrs:{label:"4.5"}}],defaultAttrs:{label:"3.5"},addDirection:()=>"right",Wrapper:aL,Cell:aR,featureFlag:"smartLayoutsJuly2025"}),aM=(e,t,n,a,i)=>({top:n,left:a,orientation:i}),a_=(e,t)=>!(e.rect.bottom<=t.rect.top||t.rect.bottom<=e.rect.top)&&(e.rect.right<=t.rect.left+5&&e.rect.right>=t.rect.left-50||t.rect.right<=e.rect.left+5&&t.rect.right>=e.rect.left-50),az=(e,t)=>!(e.rect.right<=t.rect.left||t.rect.right<=e.rect.left)&&(e.rect.bottom<=t.rect.top+5&&e.rect.bottom>=t.rect.top-50||t.rect.bottom<=e.rect.top+5&&t.rect.bottom>=e.rect.top-50),aT=(0,l.memo)(e=>{let{top:t,left:n,orientation:r}=e,o="horizontal"===r?{width:"".concat(1,"em"),height:"".concat(2,"em"),"-webkit-mask":"radial-gradient(circle ".concat(.5,"em at 50% 0%,transparent 99%,#000),\n            radial-gradient(circle ").concat(.5,"em at 50% 100%,transparent 99%,#000)"),"-webkit-mask-composite":"destination-in",maskComposite:"destination-in"}:{width:"".concat(2,"em"),height:"".concat(1,"em"),"-webkit-mask":"radial-gradient(circle ".concat(.5,"em at 0 50%,transparent 99%,#000),\n            radial-gradient(circle ").concat(.5,"em at 100% 50%,transparent 99%,#000)"),"-webkit-mask-composite":"destination-in",maskComposite:"destination-in"};return(0,a.jsx)(i.a,{contentEditable:!1,position:"absolute",top:"".concat(t,"px"),insetStart:"".concat(n,"px"),backgroundColor:"var(--shape-border-color)",pointerEvents:"none",zIndex:1,transform:"translate(-50%, -50%)",sx:o})});aT.displayName="CellConnector";let aN=(0,l.memo)(e=>{let[t,n]=(0,l.useState)([]),{ref:r,width:o,height:s}=(0,H.Lh)(),d=(0,l.useCallback)(()=>{if(!r.current)return;let e=r.current,t=e.querySelectorAll("[data-cell-index]"),a=[];t.forEach((t,n)=>{let i=t.getBoundingClientRect(),r=e.getBoundingClientRect(),o={left:i.left-r.left,top:i.top-r.top,right:i.right-r.left,bottom:i.bottom-r.top,width:i.width,height:i.height};a.push({rect:o,index:n,el:t})});let i=[];for(let e=0;e<a.length;e++)for(let t=e+1;t<a.length;t++){let n=a[e],r=a[t];if(a_(n,r)){let e=Math.max(n.rect.top,r.rect.top),t=Math.min(n.rect.bottom,r.rect.bottom)-e;if(t>0){let a=n.rect.left<r.rect.left?n:r,o=n.rect.left<r.rect.left?r:n,l=(a.rect.right+o.rect.left)/2,s=e+t/2;i.push(aM(n,r,s,l,"horizontal"))}}if(az(n,r)){let e=Math.max(n.rect.left,r.rect.left),t=Math.min(n.rect.right,r.rect.right)-e;if(t>0){let a=n.rect.top<r.rect.top?n:r,o=n.rect.top<r.rect.top?r:n,l=(a.rect.bottom+o.rect.top)/2,s=e+t/2;i.push(aM(n,r,l,s,"vertical"))}}}n(i)},[]);return(0,l.useEffect)(()=>{o&&s&&d()},[o,s,d,e.numCells]),(0,a.jsxs)(i.a,{position:"relative",ref:r,children:[(0,a.jsx)(ej,{...e,spacing:"small",unevenBehavior:"flex"}),t.map((e,t)=>(0,a.jsx)(aT,{...e},"".concat(e.orientation,"-").concat(e.top,"-").concat(e.left,"-").concat(t)))]})});aN.displayName="ConnectedBoxesWrapper";let aP=(0,l.memo)(e=>(0,a.jsx)(ey,{cellProps:e,unevenBehavior:"flex",cellStyle:"solid","data-cell-index":e.index,children:e.children}));aP.displayName="ConnectedBoxesCell";let aO=()=>I({key:"connectedBoxes",name:()=>o.Ru._({id:"u6HATE"}),icon:r.Nfw,keywords:["connected","boxes","layout","filled","connectors","flow"],htmlTag:"connected-boxes",family:"boxes",presetConfigurations:[{name:()=>o.Ru._({id:"u6HATE"}),options:{horizontalAlign:"center"}}],additionalOptions:[e5],Wrapper:aN,Cell:aP,isFullWidth:()=>!0,featureFlag:"smartLayoutSkins"});var aH=n(88889),aF=n(17485),aB=n(89703);let aV=e=>{let{selectCell:t,isFocused:n}=e,a=(0,aB.f)();return{handleClick:(0,l.useCallback)(()=>{n?a({isOpen:!0}):null==t||t()},[t,a,n]),handleDoubleClick:(0,l.useCallback)(()=>{null==t||t(),a({isOpen:!0})},[t,a])}},aW={xs:.3,sm:.44,md:.58,lg:.72,xl:.86,full:1},aU=(0,l.memo)(e=>(0,a.jsx)(ej,{...e}));aU.displayName="ImagesWithTextWrapper";let aG=(0,l.memo)(e=>{var t,n;let{image:r,layoutOptions:o,numCells:l,layoutContainerSize:s,isFocused:d,selectCell:c,...u}=e,p=null!=(n=o.imageShape)?n:"square",h=aF.zF[p],m=null==r||null==(t=r.meta)?void 0:t.has_transparency,g=!o.shapeSize&&o.imageSize?o.imageSize:aW[o.shapeSize||"full"],x="left"===o.imagePosition,{columns:b}=(0,ep.i)(o,s,l,!1),v=1===b?"min(100%, ".concat(f.mw*g,"em)"):"100%",y=m?{...h}:{...tF.z,...h},{handleClick:w,handleDoubleClick:C}=aV({selectCell:c,isFocused:d}),j=(0,a.jsx)(i.a,{"data-smart-layout-image-drop-target":"true",className:"image",w:"100%",h:"100%",overflow:"hidden",sx:y,children:(0,a.jsx)(aH.Y,{image:r,imageShape:p,handleEditableClick:w,handleEditableDoubleClick:C,hasQuickActions:!0,...u})});return(0,a.jsx)(eA,{visual:j,visualPosition:o.imagePosition,visualSize:"calc(".concat(100*(x?.5*g:g),"% * var(--media-scale))"),visualMaxSize:v,gap:o.shapeSize<=aW.xs?"1em":"1.25em",cellProps:e,children:e.children})});aG.displayName="ImagesWithTextCell";let aK=()=>{let e=I({key:"imagesText",name:()=>o.Ru._({id:"cDxTeG"}),keywords:["team","caption","images","text","layout"],icon:m.oMV,htmlTag:"images",family:"images",additionalOptions:[n2,{...b,getDefaultOnParse:()=>f.vG},{...n5,icon:m.Cyq,name:()=>o.Ru._({id:"8J92vb"})},aF.Kl,{...e5,defaultValue:(0,L.Ro)("left"),checkEnabled(e){let{options:t,deco:n}=e,a=t.imagePosition;return(null==n?void 0:n.direction)==="rtl"?"right"!==a:"left"!==a}}],presetConfigurations:[{name:()=>o.Ru._({id:"10G7S6"}),options:{imageShape:"square",shapeSize:"lg",horizontalAlign:"center"}},{name:()=>o.Ru._({id:"VVRqpK"}),options:{imageShape:"circle",shapeSize:"lg",horizontalAlign:"center"}}],addDirection:e=>"left"===e.imagePosition?"bottom":"right",defaultOptions:{imageShape:"landscape"},imageSlot:"always",imageType:"image",Wrapper:aU,Cell:aG});return{...e,options:e.options.filter(e=>"color"!==e.key),cellOptions:e.cellOptions.filter(e=>"color"!==e.key)}},aQ=(0,l.memo)(e=>(0,a.jsx)(ej,{...e,spacing:"small",unevenBehavior:"flex"}));aQ.displayName="QuoteBoxesWithFacesWrapper";let aZ=(0,l.memo)(e=>{var t,n;let{layoutOptions:i,cellOptions:r,index:o,selectCell:l,isFocused:d,image:c}=e,{colorVars:u}=P(i,r,o,!1),{handleClick:p,handleDoubleClick:h}=aV({selectCell:l,isFocused:d}),m=null!=(n=i.imageShape)?n:"circle",g=aF.zF[m],x=null==c||null==(t=c.meta)?void 0:t.has_transparency,f=5*(!i.shapeSize&&i.imageSize?i.imageSize:aW[i.shapeSize||"md"]),b=f/aF.z_[m],v=x?{...g}:{...tF.z,...g};return(0,a.jsx)(E.s,{position:"absolute",top:"-".concat(b,"em"),left:"50%",transform:"translateX(-50%)",width:"".concat(2*f,"em"),align:"center",justify:"center",contentEditable:!1,sx:{...u,"> div":{width:"100%"}},style:v,className:(0,W.cx)(s.uk),overflow:"hidden",children:(0,a.jsx)(aH.Y,{...e,imageShape:m,hasQuickActions:!0,handleEditableClick:p,handleEditableDoubleClick:h})})});aZ.displayName="FaceCircle";let aq=(0,l.memo)(e=>{let{layoutOptions:t}=e,n=5*(!t.shapeSize&&t.imageSize?t.imageSize:aW[t.shapeSize||"md"])/aF.z_[t.imageShape];return(0,a.jsxs)(ey,{cellProps:e,unevenBehavior:"flex",cellStyle:"outline",cellContentPropOverrides:{mt:"".concat(n,"em"),pt:"calc(".concat(O.xb," + ").concat(n,"em)")},children:[(0,a.jsx)(aZ,{...e}),e.children]})});aq.displayName="QuoteBoxesWithFacesCell";let a$=()=>I({key:"quoteBoxesWithFaces",name:()=>o.Ru._({id:"lDxgZ6"}),icon:m.ppD,keywords:["quote","quotes","testimonial","faces","circle"],htmlTag:"quote-boxes-with-faces",family:"quotes",presetConfigurations:[{name:()=>o.Ru._({id:"duDvK9"}),options:{horizontalAlign:"center",numbered:!0,imageShape:"circle",shapeSize:"md"}},{name:()=>o.Ru._({id:"wLSSrc"}),options:{horizontalAlign:"center",numbered:!1,imageShape:"square",shapeSize:"sm"}}],additionalOptions:[e5,{...n5,icon:m.Cyq,name:()=>o.Ru._({id:"8J92vb"})},aF.Kl],defaultOptions:{imageShape:"circle"},imageSlot:"optional",imageType:"image",Wrapper:aQ,Cell:aq,isFullWidth:()=>!0,dragHandlePlacement:"left",featureFlag:"smartLayoutSkins",disabled:!0}),aJ={1:["face-smile"],2:["face-frown","face-smile"],3:["face-frown","face-meh","face-smile"],4:["face-sad-tear","face-frown","face-smile","face-laugh"],5:["face-sad-tear","face-frown","face-meh","face-smile","face-laugh-beam"]},aY=e=>{let{numCells:t,index:n}=e,i=aJ[Math.min(5,Math.max(1,t))],r=i[n%i.length],o=e.image&&e.image.src?e.image:{source:"image.icon",src:"".concat("https://cdn-staging.gamma.app/_app_static/icons/v0/").concat(r,".svg")};return(0,a.jsx)(tV,{...e,image:o})},aX=()=>I({key:"satisfaction",name:()=>o.Ru._({id:"/IniW+"}),icon:m.H82,keywords:["satisfaction","emoji","scale","rating"],htmlTag:"satisfaction",family:"bullets",additionalOptions:[eU],presetConfigurations:[{name:()=>o.Ru._({id:"/IniW+"}),options:{},zoomIn:!0}],imageSlot:"optional",imageType:"icon",Wrapper:tW,Cell:aY,isFullWidth:()=>!0,addDirection:()=>"right",featureFlag:"smartLayoutSkins",maxCells:5,disabled:!0}),a0=(0,l.memo)(e=>(0,a.jsx)(ej,{...e,spacing:"small",unevenBehavior:"flex"}));a0.displayName="SolidBoxesWithTopIconsWrapper";let a1=(0,l.memo)(e=>{let{layoutOptions:t,cellOptions:n,index:i,image:r,selectCell:o,selectCellForElementProps:l}=e,{colorVars:d}=P(t,n,i,!1);return(0,a.jsx)(E.s,{position:"absolute",top:"-".concat(1.5,"em"),insetStart:"left"===t.horizontalAlign?"".concat(1.5,"em"):"right"===t.horizontalAlign?"calc(100% - ".concat(4.5,"em)"):"50%",transform:"center"!==t.horizontalAlign&&t.horizontalAlign?void 0:"translateX(-50%)",width:"".concat(3,"em"),height:"".concat(3,"em"),align:"center",justify:"center",contentEditable:!1,sx:{...d},className:(0,W.cx)(s.P7,s.ok),borderRadius:"var(--box-border-radius)",...l,children:(0,a.jsx)(E.s,{alignItems:"center",justifyContent:"center",className:(0,W.cx)(M.U6),children:(0,a.jsx)(U.R,{image:r,number:t.numbered?i+1:void 0,isNumbered:t.numbered,iconSize:1.5,selectCell:o})})})});a1.displayName="TopIcon";let a2=(0,l.memo)(e=>{let{layoutOptions:t,cellOptions:n,index:i}=e,{colorVars:r}=P(t,n,i,!0);return(0,a.jsxs)(ey,{cellProps:e,unevenBehavior:"flex",cellStyle:"solid",cellContentPropOverrides:{mt:"".concat(1.5,"em"),pt:"calc(".concat(O.xb," + ").concat(1.5,"em)"),sx:r},children:[(0,a.jsx)(a1,{...e}),e.children]})});a2.displayName="SolidBoxesWithTopIconsCell";let a4=()=>I({key:"solidBoxesWithTopIcons",name:()=>o.Ru._({id:"YcdSxJ"}),icon:r.$tZ,keywords:["solid","boxes","layout","icons","top","filled","text boxes"],htmlTag:"solid-boxes-with-top-icons",family:"boxes",presetConfigurations:[{name:()=>o.Ru._({id:"YcdSxJ"}),options:{}}],additionalOptions:[e5],imageSlot:"always",imageType:"icon",Wrapper:a0,Cell:a2,isFullWidth:()=>!0,dragHandlePlacement:"left",featureFlag:"smartLayoutSkins"}),a5={xs:.15,sm:.2,md:.25,lg:.3,xl:.35,full:.4},a6={xs:"lg",sm:"h3",md:"h2",lg:"h1",xl:"h1",full:"title"},a3=(0,l.memo)(e=>(0,a.jsx)(ej,{...e,forceBalance:!0}));a3.displayName="IconsWithTextWrapper";let a9=(0,l.memo)(e=>{var t;let{image:n,layoutOptions:r,cellOptions:o,selectCell:s,theme:c,firstChildSize:u}=e,p=a5[r.shapeSize||"md"],h="left"===r.imagePosition,m=p<=a5.xs,g=null!=(t=null==o?void 0:o.color)?t:r.color;n&&(0,tB.Xs)(n);let x=(0,l.useMemo)(()=>(0,_.q9)(g,0),[g]),b={aspectRatio:"1 / 1",...m&&h&&{mt:".175em"}},v="min(100%, ".concat(f.vG*p,"em)"),y=et(c,(0,d.FX)(),a6[r.shapeSize||"md"],u),w=(0,a.jsx)(i.a,{"data-smart-layout-image-drop-target":"true",className:"image",w:"100%",h:"100%",sx:b,css:x,children:(0,a.jsx)(U.R,{image:n,placeholderIfEmpty:!0,iconSize:5*p,boxProps:{w:"100%",h:"100%"},selectCell:s,isNumbered:r.numbered,color:null!=g?g:"url(#theme-accent-gradient-linear) var(--accent-color-readable)"})});return(0,a.jsx)(eA,{visual:w,visualPosition:r.imagePosition,visualSize:"calc(".concat(100*p,"% * var(--media-scale))"),visualMaxSize:v,gap:m?"1em":"1.25em",cellProps:e,textboxProps:{pt:h?y:0},forceBalance:!0,children:e.children})});a9.displayName="IconsWithTextCell";let a7=()=>I({key:"iconsText",name:()=>o.Ru._({id:"joUkNe"}),icon:m.cCs,keywords:["icons","text","layout"],htmlTag:"icons",family:"images",additionalOptions:[n2,C,b,{...n5,icon:m.Cyq,name:()=>o.Ru._({id:"bwZEQG"}),defaultValue:()=>"md"},{...e5,defaultValue:(0,L.Ro)("left"),checkEnabled(e){let{options:t,deco:n}=e,a=t.imagePosition;return(null==n?void 0:n.direction)==="rtl"?"right"!==a:"left"!==a}}],additionalCellOptions:[{...C,checkEnabled(e){let{attrs:t}=e;return!t.image||(0,tB.Xs)(t.image)}}],presetConfigurations:[{name:()=>o.Ru._({id:"pG60n/"}),options:{imagePosition:"top",shapeSize:"lg"}},{name:()=>o.Ru._({id:"hscPGi"}),options:{imagePosition:"left",shapeSize:"lg"}}],addDirection:e=>"left"===e.imagePosition?"bottom":"right",defaultAttrs:{image:{source:tl.f.key}},imageSlot:"always",imageType:"icon",Wrapper:a3,Cell:a9}),a8="40em",ie="0.25em",it={key:"outsideText",defaultValue:()=>!0,Control:e=>{let{value:t,updateValue:n,option:i}=e;return(0,a.jsx)(A.I,{label:i.name(),onClick:()=>n(!t),isActive:t,icon:m.LEB})},ControlMenu:(e,t,n)=>({key:n.key,label:e?o.Ru._({id:"W0lrhO"}):o.Ru._({id:"OtsbQu"}),icon:m.LEB,onClick:()=>t(!e)}),name:()=>o.Ru._({id:"OtsbQu"})};var ia=n(29452),ii=n.n(ia);let ir=(0,l.memo)(e=>{let{Step:t=iu,node:n,...i}=e,{children:r,numCells:o,options:l,theme:s,direction:d}=i,c=l.horizontalAlign||"center",u=(0,L.yp)(c,d),p="funnel"===i.variant.key,h="staircase"===i.variant.key,m=ii()(o).map(e=>{let i=n.maybeChild(e);if(!i)return null;let r=i.attrs.options,u=i.attrs.image;return(0,a.jsx)(io,{index:e,numCells:o,theme:s,isFunnel:p,alignment:c,direction:d,isStepped:h,cellOptions:r,layoutOptions:l,Step:t,image:u},e)});return(0,a.jsxs)(E.s,{direction:"column","data-selection-ring":!0,align:"stretch",gap:"1em",onContextMenu:i.onContextMenu,...i.selectLayoutForElementProps,children:[(0,a.jsx)(E.s,{direction:"column",sx:u,contentEditable:!1,gap:ie,"data-alternate-colors":!0,...i.selectLayoutForElementProps,children:m}),(0,a.jsx)(E.s,{gap:tc,direction:"column",...i.selectLayoutForElementProps,children:r})]})});ir.displayName="StackedPyramidWrapper";let io=e=>{let{index:t,numCells:n,cellOptions:i,layoutOptions:r,isFunnel:o,alignment:l,direction:s,isStepped:d,Step:c,image:u}=e,p=!d&&o&&t===n-1?{pos:"relative",bottom:"0.25em"}:d||o||0!==t?{}:{pos:"relative",top:"0.25em"},{colorVars:h}=P(r,i,t,!1);return(0,a.jsx)(c,{index:t,numCells:n,isOutside:!0,isNumbered:r.numbered,isStacked:!0,isFunnel:o,alignment:l,direction:s,stepSx:h,image:u,children:(0,a.jsx)(ic,{index:t,image:u,isNumbered:r.numbered,...p})},t)},il=(e,t)=>"right"===e?"right":"left"===e||"ltr"===t?"left":"right",is=(0,l.memo)(e=>{let t=tu({containerSize:e.containerSize,columnsNeeded:e.options.outsideText&&!e.scaleContentToFit?3:2}),{colorVars:n}=P(e.options,void 0,void 0,!0);return t?(0,a.jsx)(ir,{...e}):(0,a.jsx)(ew.r,{columns:1,autoRows:"1fr","data-selection-ring":!0,gap:ie,onContextMenu:e.onContextMenu,...e.selectLayoutForElementProps,sx:e.options.outsideText?n:void 0,children:e.children})});is.displayName="PyramidWrapper";let id=(0,l.memo)(e=>{let{Step:t=iu,isFunnel:n=!1,isStepped:r=!1,alignment:o="center",...l}=e,{children:d,layoutOptions:c,index:u,numCells:p,dragHandle:h,direction:m}=l,g=c.outsideText,x=tu({containerSize:l.layoutContainerSize,columnsNeeded:g&&!l.scaleContentToFit?3:2}),{colorVars:f}=P(c,l.cellOptions,u),{colorVars:b}=P(c,l.cellOptions,u,!0);if(x)return(0,a.jsx)(tp,{...l});let v=c.numbered,y=il(o,m),w={...(0,L.yp)(y,m),...(0,L.AS)(y,m)},C=r?{bottom:"-1px"}:n?{top:"calc(-1px - ".concat(ie," / 2 )")}:{bottom:"calc(-1px - ".concat(ie," / 2 )")},j=n?0===u:u===p-1,A=r?"0.5em":ie,k=v&&g&&!r,S=k&&n&&u===p-1?{pos:"relative",bottom:"15%"}:k&&!n&&0===u?{pos:"relative",top:"15%"}:{},I="rtl"===m&&"left"===o||"ltr"===m&&"right"===o?"row-reverse":"row";return(0,a.jsxs)(E.s,{"data-selection-ring":!0,"data-content-reference":!0,pos:"relative",w:"100%",direction:I,justify:g||"center"!==o?void 0:"center",...l.selectCellForElementProps,children:[(0,a.jsxs)(t,{numCells:p,index:u,isFunnel:n,isOutside:g,isNumbered:v,alignment:o,selectCell:l.selectCell,selectCellForElementProps:l.selectCellForElementProps,stepSx:f,direction:m,image:l.image,children:[g?(0,a.jsx)(ic,{index:u,image:l.image,isNumbered:v,selectCell:l.selectCell,...S}):d,h]}),g&&(0,a.jsxs)(E.s,{direction:"column",justify:"center",minW:0,flex:1,px:O.xb,py:O.xb,pos:"relative",sx:w,className:s.VN,css:b,cursor:"text",children:[d,!j&&(0,a.jsx)(i.a,{contentEditable:!1,position:"absolute",...C,insetStart:A,insetEnd:A,h:"var(--line-thickness)",transform:"scaleY(0.5)",className:s.eI})]})]})});id.displayName="PyramidCell";let ic=(0,l.memo)(e=>{let{index:t,image:n,selectCell:r,isNumbered:o,...l}=e;return(0,a.jsx)(i.a,{className:(0,W.cx)(M.U6,s.lR),fontSize:"1.25em",display:"flex",sx:(0,L.yp)("center"),pos:"relative",contentEditable:!1,...l,children:(0,a.jsx)(U.R,{image:n,number:o?t+1:void 0,isNumbered:o,iconSize:1.125,selectCell:r})})});ic.displayName="PyramidLabel";let iu=(0,l.memo)(e=>{let{numCells:t,index:n,isFunnel:i,isOutside:r,isStacked:o,children:l,alignment:d,selectCellForElementProps:c,stepSx:u,direction:p}=e,h=i?t-n-1:n,{width:m,height:g,ref:x}=(0,H.Lh)(),f=45*!r,b=r&&!o?50:100,v=ih(t,h,f),y=.99*ih(t,h+1,f),w=b/100*y,C=(0,L.yp)(d,p),j=(0,L.AS)(d,p),A=o?void 0:r?{ms:"center"===d?"".concat((b-w)/2,"%"):void 0}:{maxW:"calc(".concat(a8," * ").concat(w/100,")")};return(0,a.jsxs)(E.s,{direction:"column",ref:x,"data-testId":"pyramid-step",pos:"relative",w:"".concat(w,"%"),sx:{...C,...j,...u},contentEditable:!r&&void 0,...A,children:[(0,a.jsx)(ip,{width:m,height:g,alignment:d,topSize:i?1:v/y,bottomSize:i?v/y:1,selectCellForElementProps:c}),(0,a.jsx)(E.s,{direction:"column",justify:"center",h:"100%",p:r?"0.5em":O.xb,boxSizing:"border-box",sx:{...C,alignItems:r?C.alignItems:"stretch"},className:s.lR,w:"".concat((v+y)/2/y*100,"%"),minW:"3em",cursor:"text",children:l})]})});iu.displayName="PyramidStep";let ip=(0,l.memo)(e=>{let{width:t,height:n,topSize:r,bottomSize:o,alignment:l,selectCellForElementProps:d}=e,c=t*(1-r)/2,u=t*(1-o)/2,p="left"===l?"\n    M 0 0\n    L ".concat(t-2*c," 0\n    L ").concat(t-2*u," ").concat(n,"\n    L 0 ").concat(n,"\n    L 0 0 Z"):"right"===l?"\n    M ".concat(2*c," 0\n    L ").concat(t," 0\n    L ").concat(t," ").concat(n,"\n    L ").concat(2*u," ").concat(n,"\n    L ").concat(2*c," 0 Z"):"\n    M ".concat(c," 0\n    L ").concat(t-c," 0\n    L ").concat(t-u," ").concat(n,"\n    L ").concat(u," ").concat(n,"\n    L ").concat(c," 0 Z");return(0,a.jsx)(i.a,{as:"svg",pos:"absolute",inset:"0",overflow:"visible",contentEditable:!1,"data-testid":"trapezoid-svg",w:"".concat(t,"px"),h:"".concat(n,"px"),...d,children:(0,a.jsx)(i.a,{as:"path",d:p,className:s.D6,...d})})});ip.displayName="TrapezoidSVG";let ih=(e,t,n)=>n+t/e*(100-n),im={...tt,checkEnabled:e=>{let{options:t,node:n}=e,a=n&&(0,e8.xe)(n,te.q);return t.outsideText&&((null==a?void 0:a.every(e=>{var t,n;return!(null==e||null==(n=e.node)||null==(t=n.attrs)?void 0:t.image)}))||!0===t.numbered)}},ig=()=>({key:"pyramid",name:()=>o.Ru._({id:"MYceoI"}),icon:m.IJv,options:[it,im,C],cellOptions:[C,k],presetConfigurations:[{name:()=>o.Ru._({id:"Ud6L0K"}),options:{outsideText:!1}},{name:()=>o.Ru._({id:"q9tXj9"}),options:{numbered:!0,outsideText:!0}}],Wrapper:is,Cell:id,addDirection:()=>"bottom",htmlTag:"pyramid",imageSlot:"optional",imageType:"icon",family:"steps"}),ix=(0,l.memo)(e=>(0,a.jsx)(id,{...e,isFunnel:!0}));ix.displayName="FunnelCell";let ib=()=>({...ig(),key:"funnel",name:()=>o.Ru._({id:"n6KuKd"}),icon:m.AKc,htmlTag:"funnel",Cell:ix,presetConfigurations:[{name:()=>o.Ru._({id:"rSrvFr"}),options:{outsideText:!1}},{name:()=>o.Ru._({id:"dXD9N4"}),options:{numbered:!0,outsideText:!0}}]}),iv=(0,l.memo)(e=>{let{children:t,options:n,containerSize:i,onContextMenu:r,selectLayoutForElementProps:o}=e,l=(0,L.yp)(n.horizontalAlign||"left"),{colorVars:s}=P(n);if(tu({containerSize:i,columnsNeeded:e.options.outsideText&&!e.scaleContentToFit?3:2}))return(0,a.jsx)(ir,{...e,Step:iy});let d={...l,...n.outsideText?s:{}};return(0,a.jsx)(E.s,{direction:"column","data-selection-ring":!0,gap:"0.5em",sx:d,onContextMenu:r,...o,children:t})});iv.displayName="StaircaseWrapper";let iy=(0,l.memo)(e=>{let{numCells:t,index:n,isOutside:i,isStacked:r,children:o,alignment:l,direction:d,selectCell:c,stepSx:u}=e,p={...(0,L.yp)(l,d),alignItems:i?"center":"stretch",...u},h=i&&!r?50:100,m=h/100*ih(t,n+1,45*!i),g=r?void 0:i?{ms:"center"===l?"".concat((h-m)/2,"%"):void 0}:{maxW:"calc(".concat(a8," * ").concat(m/100,")")};return(0,a.jsx)(E.s,{py:i?"0.5em":O.xb,px:O.xb,sx:p,className:s.SA,w:"".concat(m,"%"),boxSizing:"border-box",...g,direction:"column",justify:"center",contentEditable:!i&&void 0,onClick:i?c:void 0,pos:"relative",children:o})});iy.displayName="StaircaseStep";let iw=(0,l.memo)(e=>{let t=e.layoutOptions.horizontalAlign;return(0,a.jsx)(id,{...e,Step:iy,isFunnel:!1,isStepped:!0,alignment:t})});iw.displayName="StaircaseCell";let iC=()=>({...ig(),key:"staircase",name:()=>o.Ru._({id:"CFVHFO"}),options:[...ig().options,{...e5,defaultValue:(0,L.Ro)("left")}],presetConfigurations:[{name:()=>o.Ru._({id:"y9fkH/"}),options:{outsideText:!1}},{name:()=>o.Ru._({id:"nGMGDy"}),options:{numbered:!0,outsideText:!0}}],icon:m.UER,Wrapper:iv,Cell:iw,htmlTag:"staircase",imageSlot:"optional",imageType:"icon",family:"steps"}),ij=()=>tZ(),iA=()=>[tZ(),nd(),tU(),tG(),aX(),np(),ng(),tJ(),t0(),t5(),aO(),nb(),nA(),a4(),nI(),nn(),a$(),t7(),n_(),aK(),a7(),to(),eY(),e4(),nR(),nN(),no(),nH(),aj(),n8(),aa(),aD(),ax(),av(),iC(),nV(),nJ(),nG(),nZ(),ig(),ib(),tM(),t_(),tD(),tz(),tH(),al(),ap(),e7()],ik=()=>iA().reduce((e,t)=>(e[t.key]=t,e),{}),iS=e=>{if(!e)return ij();iI[e]&&(e=iI[e]);let t=ik()[e];return t||ij()},iI={textBoxes:"solidBoxes",bullets:"bigBullets"}},48413:(e,t,n)=>{"use strict";let a,i;if(n.d(t,{J:()=>o,r:()=>r}),"undefined"!=typeof WeakMap){let e=new WeakMap;a=t=>e.get(t),i=(t,n)=>(e.set(t,n),n)}else{let e=[],t=0;a=t=>{for(let n=0;n<e.length;n+=2)if(e[n]==t)return e[n+1]},i=(n,a)=>(10==t&&(t=0),e[t++]=n,e[t++]=a)}class r{constructor(e,t,n,a){this.left=e,this.top=t,this.right=n,this.bottom=a}}class o{findCell(e){for(let t=0;t<this.map.length;t++){let n=this.map[t];if(n!=e)continue;let a=t%this.width,i=t/this.width|0,o=a+1,l=i+1;for(let e=1;o<this.width&&this.map[t+e]==n;e++)o++;for(let e=1;l<this.height&&this.map[t+this.width*e]==n;e++)l++;return new r(a,i,o,l)}throw RangeError("No cell with offset "+e+" found")}firstRowCells(){return this.map.slice(0,this.width)}firstColCells(){return this.map.filter((e,t)=>t%this.width==0)}colCount(e){for(let t=0;t<this.map.length;t++)if(this.map[t]==e)return t%this.width;throw RangeError("No cell with offset "+e+" found")}nextCell(e,t,n){let{left:a,right:i,top:r,bottom:o}=this.findCell(e);return"horiz"==t?(n<0?0==a:i==this.width)?null:this.map[r*this.width+(n<0?a-1:i)]:(n<0?0==r:o==this.height)?null:this.map[a+this.width*(n<0?r-1:o)]}rectBetween(e,t){let{left:n,right:a,top:i,bottom:o}=this.findCell(e),{left:l,right:s,top:d,bottom:c}=this.findCell(t);return new r(Math.min(n,l),Math.min(i,d),Math.max(a,s),Math.max(o,c))}cellsInRect(e){let t=[],n={};for(let a=e.top;a<e.bottom;a++)for(let i=e.left;i<e.right;i++){let r=a*this.width+i,o=this.map[r];!n[o]&&(n[o]=!0,i==e.left&&i&&this.map[r-1]==o||a==e.top&&a&&this.map[r-this.width]==o||t.push(o))}return t}positionAt(e,t,n){for(let a=0,i=0;;a++){let r=i+n.child(a).nodeSize;if(a==e){let n=t+e*this.width,a=(e+1)*this.width;for(;n<a&&this.map[n]<i;)n++;return n==a?r-1:this.map[n]}i=r}}static get(e){return a(e)||i(e,function(e){if("table"!=e.type.spec.tableRole)throw RangeError("Not a table node: "+e.type.name);let t=function(e){let t=-1,n=!1;for(let a=0;a<e.childCount;a++){let i=e.child(a),r=0;if(n)for(let t=0;t<a;t++){let n=e.child(t);for(let e=0;e<n.childCount;e++){let i=n.child(e);t+i.attrs.rowspan>a&&(r+=i.attrs.colspan)}}for(let e=0;e<i.childCount;e++){let t=i.child(e);r+=t.attrs.colspan,t.attrs.rowspan>1&&(n=!0)}-1==t?t=r:t!=r&&(t=Math.max(t,r))}return t}(e),n=e.childCount,a=[],i=0,r=null,l=[];for(let e=0,i=t*n;e<i;e++)a[e]=0;for(let o=0,s=0;o<n;o++){let d=e.child(o);s++;for(let e=0;;e++){for(;i<a.length&&0!=a[i];)i++;if(e==d.childCount)break;let c=d.child(e),{colspan:u,rowspan:p,colwidth:h}=c.attrs;for(let e=0;e<p;e++){if(e+o>=n){(r||(r=[])).push({type:"overlong_rowspan",pos:s,n:p-e});break}let d=i+e*t;for(let e=0;e<u;e++){0==a[d+e]?a[d+e]=s:(r||(r=[])).push({type:"collision",row:o,pos:s,n:u-e});let n=h&&h[e];if(n){let a=(d+e)%t*2,i=l[a];null==i||i!=n&&1==l[a+1]?(l[a]=n,l[a+1]=1):i==n&&l[a+1]++}}}i+=u,s+=c.nodeSize}let c=(o+1)*t,u=0;for(;i<c;)0==a[i++]&&u++;u&&(r||(r=[])).push({type:"missing",row:o,n:u}),s++}let s=new o(t,n,a,r),d=!1;for(let e=0;!d&&e<l.length;e+=2)null!=l[e]&&l[e+1]<n&&(d=!0);return d&&function(e,t,n){e.problems||(e.problems=[]);for(let a=0,i={};a<e.map.length;a++){let r=e.map[a];if(i[r])continue;i[r]=!0;let o=n.nodeAt(r),l=null;for(let n=0;n<o.attrs.colspan;n++){let i=t[2*((a+n)%e.width)];null==i||o.attrs.colwidth&&o.attrs.colwidth[n]==i||((l||(l=function(e){if(e.colwidth)return e.colwidth.slice();let t=[];for(let n=0;n<e.colspan;n++)t.push(0);return t}(o.attrs)))[n]=i)}l&&e.problems.unshift({type:"colwidth mismatch",pos:r,colwidth:l})}}(s,l,e),s}(e))}constructor(e,t,n,a){this.width=e,this.height=t,this.map=n,this.problems=a}}},48687:(e,t,n)=>{"use strict";n.d(t,{X:()=>g,m:()=>m});var a=n(6029),i=n(34807),r=n(26420),o=n(33750),l=n.n(o),s=n(25839),d=n(43607),c=n(43634),u=n(85235),p=n(28615),h=n(98874);let m=6,g=e=>{var t;let n,{containerSize:o,numCells:g,options:x,mobileMaxColumns:f=1,forceBalance:b=!1}=e,v=(null==(t=Object.values((0,h.rO)()).find(e=>e.width===x.cellSize))?void 0:t.targetColumns)||3,y=40/v,w=(0,d.FX)(),C=(0,s.GV)(c.wC)===u.w.SLIDE_VIEW,j=(0,s.GV)(c.yh),A=(0,i.A)({base:f,sm:2,md:3,xl:4},{fallback:w?"base":"xl"})||f,k=p.D1||C||j?4:w?f:A,S=l()(40*o,10,10*k),I=Math.max(1,Math.floor(S/y)),E=Math.min(I,g);if(b&&g>E&&g<=4)for(;E>=1&&g%E!=0;E--);let L=Math.ceil(g/E),R=g%E;if(R&&"center"===x.horizontalAlign){let e=(E-R)/2;n=(0,a.jsx)(r.a,{gridColumn:"span ".concat(e*m),gridRow:"".concat(L),className:"grid-offset"})}else if(R&&"right"===x.horizontalAlign){let e=E-R;n=(0,a.jsx)(r.a,{gridColumn:"span ".concat(e*m),gridRow:"".concat(L),className:"grid-offset"})}return{maxWidth:S,targetWidth:y,targetColumns:v,maxColumns:I,columns:E,lastRowAligner:n}}},48767:(e,t,n)=>{"use strict";n.d(t,{S:()=>v,o:()=>w});var a=n(6029),i=n(26420),r=n(55729),o=n(74158),l=n(48094),s=n(25839),d=n(6845),c=n(72688),u=n(87930),p=n(43634),h=n(28543),m=n(41896),g=n(94536),x=n(44811),f=n(58809);let b=e=>{let[t]=(0,r.useState)(()=>(0,x.U1)({reducer:s.Ki,middleware:e=>e({serializableCheck:!1})}));return(0,r.useEffect)(()=>{(null==e?void 0:e.doc)&&t.dispatch((0,f.Tm)({currentPage:e.doc}))},[e,t]),t},v=e=>{let{reduxData:t,...n}=e,i=b(t);return(0,a.jsx)(o.Kq,{store:i,children:(0,a.jsx)(y,{...n})})},y=e=>{let{onCreate:t=()=>{},initialContent:n,content:o,theme:x,isThumbnail:f,portalComponent:b}=e,[v,y]=(0,r.useState)(!1),w=(0,r.useMemo)(()=>(0,g.C)(),[]),C=(0,s.jL)();(0,r.useEffect)(()=>{C((0,p.Yl)({theme:x||null})),C((0,p.kd)({isAllowedToEdit:!1})),C((0,p.$j)({animationsEnabled:!1}))},[x,C]);let j=(0,m.hG)({async onCreate(e){var n;let{editor:a}=e;console.debug("[EditorPreview][onCreate] TipTap editor is now ready"),null==(n=c.Jl.getState(a.state))||n.compute(a.state).processChanges(C),a.commands.command(()=>((0,d.jL)(a.state.doc,C),!0)),y(!0),null==t||t({editor:a})},extensions:w,content:n,editable:!1});return(j.isThumbnail=f,(0,r.useEffect)(()=>{var e;o&&j&&(j.commands.setContent(o),j.commands.command(()=>((0,d.jL)(j.state.doc,C),!0)),null==(e=u.U.getState(j.state))||e.compute(j.state.doc).processChanges(C))},[o,j,C]),(0,l.GZ)(j),v)?(0,a.jsx)(i.a,{className:"editor-preview-root","data-variation-preview":!0,"data-testid":"editor-preview-root",width:"100%",position:"relative",sx:h.q,children:(0,a.jsx)(m.$Z,{editor:j,portalComponent:b,style:{width:"100%",height:"100%"},className:"highlight-mask"})}):(0,a.jsx)(a.Fragment,{})},w={"[data-thumbnail-hidden]":{display:"none !important"},"*":{backdropFilter:"none !important",webkitBackdropFilter:"none !important",WebkitTransition:"none !important",MozTransition:"none !important",OTransition:"none !important",msTransition:"none !important",transition:"none !important",vectorEffect:"none"},contain:"paint",".editor-core-root, .editor-preview-root":{height:"100% !important",width:"auto !important"},".doc-content-wrapper":{pb:"0 !important",minH:"auto !important"},"[data-doc-background-element], [data-doc-background-element-present-mode]":{display:"none !important"},".card2-background":{mt:0}}},48932:(e,t,n)=>{"use strict";n.d(t,{c:()=>p});var a=n(81278),i=n(55729),r=n(58809),o=n(8944),l=n(25839),s=n(71595),d=n(85732),c=n(63902),u=n(14110);let p=e=>{let{url:t,nonPublishedUrl:n}=e,{push:p}=(0,a.useRouter)(),h=(0,s.En)(),m=(0,l.GV)(r.Jo),g=(0,c.oR)(),x=(0,l.GV)(o.C),f=g?(0,d.M7)({url:t,doc:m,previewEnabled:x}):n||t,b=h&&(0,d.uH)(t,m),v=(0,i.useCallback)(e=>{(0,u.jv)(f)&&(e.preventDefault(),p(f,void 0,{shallow:!0}))},[f,p]);return(0,i.useMemo)(()=>({linkUrl:f,handleClick:x?v:void 0,isCurrentPage:b}),[v,f,x,b])}},48950:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var a=n(6029),i=n(77650),r=n(55729),o=n(57405),l=n(40452),s=n(64268),d=n(51504),c=n(51684),u=n(48621),p=n(68364);n(7929),n(1136),n(51650);let h=(0,n(46091).A)(e=>{let{uppyInstance:t,dropHereText:n=i.Ru._({id:"mgPDos",values:{0:"%{browse}"}}),tipText:r,customHeight:h,errorMessage:m,...g}=e;return(0,a.jsxs)(o.T,{align:"stretch",spacing:4,pos:"relative",...g,children:[(0,a.jsx)(l.s,{pos:"absolute",inset:0,justify:"center",align:"center",zIndex:1,pointerEvents:"none",mt:-14,color:"gray.600",children:(0,a.jsx)(u.g,{icon:c.vMo,size:"3x"})}),(0,a.jsx)(p.OX,{width:"100%",height:h||"100%",note:r||void 0,uppy:t,locale:{strings:{dropHereOr:n,browse:i.Ru._({id:"wZ9s+A"})}}}),m&&(0,a.jsxs)(s.F,{status:"error",children:[(0,a.jsx)(d._,{}),m]})]})});var m=n(29917);let g=e=>{let{orgId:t,uploadType:n,editType:o,onUploadStart:l,onUploadSuccess:s,onUploadFailed:d,dropHereText:c=i.Ru._({id:"mgPDos",values:{0:"%{browse}"}}),customHeight:u,customFontSize:p,maxFilesAllowed:g=1,templateId:x,sx:f,tipText:b}=e,[v,y]=(0,r.useState)(""),w=(0,r.useMemo)(()=>m.Fk.createUppyInstance(t,{onUploadStart:l,onOriginalFileUpload:s,onUploadComplete:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];s(...t),w.cancelAll()},onUploadFailed:d,setErrorMessage:y},o,g,n,x),[t,o,n,g,x,s,l,d]);return(0,a.jsx)(h,{uppyInstance:w,dropHereText:c,tipText:b,customHeight:u,errorMessage:v,fontSize:p,sx:f})}},49106:(e,t,n)=>{"use strict";n.d(t,{P:()=>r});var a=n(99492),i=n(77650);let r={key:"image.giphy",label:()=>i.Ru._({id:"E435oC",values:{GIPHY_PROPER_NOUN:"GIPHY"}}),description:()=>i.Ru._({id:"AbFJB5"}),icon:a.MEP,image:{src:"https://assets.gammahosted.com/j1bla5j5f/_next/static/media/giphy.2d92c9c6.svg",height:2500,width:2500,blurWidth:0,blurHeight:0},keywords:["gif","animation","animated","giphy"],resizeToFit:!0}},49249:(e,t,n)=>{"use strict";n.d(t,{D:()=>f,_:()=>b});var a=n(46898),i=n(77650),r=n(55729),o=n(26814),l=n(6018),s=n(58929),d=n(71877),c=n(25839),u=n(95889),p=n(12354),h=n(43634),m=n(6181),g=n(67097),x=n(61250);let f=e=>{let{editor:t,id:n}=e,a=(0,c.jL)(),i=(0,c.GV)((0,x.No)(n)),l=(0,c.GV)((0,x.AL)(n)),s=(0,r.useCallback)(()=>{a((0,p.WE)({id:n})),p.RR.emit("startRemoveBg",{id:n}),requestAnimationFrame(()=>{var e,n;null==(e=(n=t.commands).refreshBubbleMenu)||e.call(n)})},[a,t,n]);return{startRemoveBg:(0,o.tO)(s,"removeBackground",u.VV.GAMMA_PRO_UPSELL_REMOVE_BACKGROUND),isRemovingBg:i,isRemoveBgLoading:"loading"===l}},b=e=>{let{editor:t,id:n,src:o,updateAttributes:u}=e,f=(0,c.jL)(),b=(0,c.CU)(),v=(0,a.d)(),y=(0,c.GV)(h.sK),w=t.isEditable,C=(0,c.GV)((0,x.AL)(n)),j=(0,c.GV)((0,x.Vr)(n));return(0,r.useEffect)(()=>{if(!w||!o)return;let e=new AbortController,a=async a=>{var r,c,u;let h,{id:x}=a,b=null==(r=(0,m.P9)(null==y?void 0:y.id))?void 0:r.id;if(n!==x||!o||!b)return;t.state.doc.descendants((e,t)=>"image"!==e.type.name||e.attrs.id!==n||(h=e,!1));let w=null==h||null==(c=h.attrs.meta)?void 0:c.width,C=null==h||null==(u=h.attrs.meta)?void 0:u.height;try{f((0,p.GP)({id:n,status:"loading"}));let t=await (0,d.w)({imageUrl:o,workspaceId:b,abortController:e,width:w,height:C});f((0,p.BS)({id:n,url:t})),(0,l.R)("removeBackground",y),await (0,g.GV)(t),setTimeout(()=>{requestAnimationFrame(()=>{p.RR.emit("endRemoveBg",{id:n,url:t})})},500)}catch(a){if(a instanceof s.f&&"aborted"===a.type)return;let e=s.f.userFacingErrorDescription(a);v({title:i.Ru._({id:"xwVKp4"}),position:"top",description:e,status:"error",duration:5e3,isClosable:!0}),f((0,p.N2)({id:n})),requestAnimationFrame(()=>{var e,n;null==(e=(n=t.commands).refreshBubbleMenu)||e.call(n)})}},r=t=>{let{id:n}=t;f((0,p.N2)({id:n})),e.abort("User aborted")};return p.RR.on("startRemoveBg",a),p.RR.on("cancelRemoveBg",r),()=>{p.RR.off("startRemoveBg",a),p.RR.off("cancelRemoveBg",r)}},[n,t,o,u,f,b,w,y,v]),(0,r.useEffect)(()=>{if(w&&o)return p.RR.on("endRemoveBg",async e=>{let{id:a,url:i}=e;n===a&&(u({src:i||(0,x.Vr)(n)(b.getState()),source:"image.custom"}),requestAnimationFrame(()=>{f((0,p.N2)({id:n})),requestAnimationFrame(()=>{var e,n;null==(e=(n=t.commands).refreshBubbleMenu)||e.call(n)})}))})},[n,u,t,f,b,w,o]),{bgRemovalInProgress:"loading"===C,removeBgUrl:j}}},49251:(e,t,n)=>{"use strict";n.d(t,{G:()=>O});var a=n(6029),i=n(68068),r=n(36071),o=n(60628),l=n(17920),s=n(58959),d=n(29810),c=n(40691),u=n(40452),p=n(3674),h=n(65327),m=n(19564),g=n(63867),x=n(55729),f=n(45318),b=n(82328),v=n(59230),y=n(36145);let w=e=>{let{currentAttributes:t,updateAttributes:n,editor:a,isMounted:i}=e,r=(0,x.useRef)({currentAttributes:t,updateAttributes:n,sourceKey:t.source});r.current.currentAttributes=t,r.current.updateAttributes=n,(0,x.useEffect)(()=>{r.current.sourceKey=r.current.currentAttributes.source},[t.tempUrl,t.src]),(0,x.useEffect)(()=>{if(!a||i)return;let{src:e,tempUrl:t,uploadStatus:n}=r.current.currentAttributes;t&&!e&&n!==v.A.Uploading&&(console.log("[useUploadOnUnmount] uploading tempUrl:",t),r.current.updateAttributes({uploadStatus:v.A.Uploading,source:r.current.sourceKey}),(0,y.XE)(a,t))},[a,i])};var C=n(63794),j=n(83488),A=n(75748),k=n(25839),S=n(12354),I=n(64234),E=n(62917),L=n(78481),R=n(15607),D=n(61679),M=n(43607),_=n(43634),z=n(3864),T=n(92198),N=n(89703),P=n(29347);let O=x.memo(e=>{var t,n;let{editor:v}=e;(0,M.lC)(v);let y=(0,M.CJ)(v),O=(0,N.f)(),H=(0,k.GV)(_.nD),F=v.state.selection,B=(0,x.useMemo)(()=>(0,P.Am)(v,F),[v,F]),V=null==B?void 0:B.id,W=(0,k.GV)((0,S.No)(V||"")),{currentMediaDrawerSourceKey:U,setMediaDrawerSourceKeyAction:G,isQuickAction:K}=(0,E.Bz)(),Q=I.Fn[U],{isConnected:Z}=(0,b.u)(),q=!!(Z||Q.availableOffline),$=(0,k.GV)(_.rp),J=B&&(0,P.Nx)(v,B.type),Y=y&&!!($&&J&&H),X=(0,x.useRef)(null),ee=(0,x.useCallback)(()=>{O({isOpen:!1}),F instanceof g.nh&&v.chain().selectNodeAtPos(F.from,!1).focus().run()},[v,F,O]),et=(0,L.N)(v);(0,x.useEffect)(()=>{J||O({isOpen:!1})},[J,O]),(0,x.useEffect)(()=>{Y&&setTimeout(()=>{if(!X.current||!q)return;let e=(0,h.ep)(X.current);e&&!(e.length<1)&&requestAnimationFrame(()=>{let t=e[0];null==t||t.focus()})},100)},[q,Y,v]),(0,x.useEffect)(()=>{if(!B)return;let{attrs:e,mediaType:t,type:n}=B;(0,P.Nx)(v,n)&&(!v.isSiteNavbarEditor||(0,R.We)(v))&&!K&&G("embed"===t&&null===e.source?j.J.key:e.source||U)},[B,v,G,U,K]);let[en,ea]=(0,x.useState)("");(0,x.useEffect)(()=>{var e;(null==B||null==(e=B.attrs)?void 0:e.query)?ea(B.attrs.query):ea("")},[null==B||null==(t=B.attrs)?void 0:t.query]);let ei=(0,x.useCallback)(e=>{W&&S.RR.emit("cancelRemoveBg",{id:V||""}),(0,P.vI)({editor:v,selection:F,sourceKey:U,attrs:e,resizeToFit:null==Q?void 0:Q.resizeToFit})},[v,W,U,F,V,null==Q?void 0:Q.resizeToFit]),er={...null==B?void 0:B.attrs,query:en||(null==B||null==(n=B.attrs)?void 0:n.query)};w({currentAttributes:er,updateAttributes:ei,editor:v,isMounted:Y});let eo=(0,x.useCallback)(()=>{(0,P.vI)({editor:v,selection:F,sourceKey:U,attrs:{source:U},nodeName:"mediaPlaceholder",resetAttrs:!0})},[U,F,v]),el=(0,z.o)(),es=(null==B?void 0:B.editType)||"node",ed=(0,x.useCallback)(e=>(null==B?void 0:B.mediaType)==="embed"?"embed"===e.nodeName||"video"===e.nodeName:(null==B?void 0:B.mediaType)==="image"?"image"===e.nodeName:(null==B?void 0:B.mediaType)==="icon"?(0,D.D)(e.key)||"image.custom"===e.key:!!e.nodeName,[B]),ec=I.ez[U],eu=C.h[U]||{};return(0,a.jsxs)(i._s,{isOpen:Y,onClose:ee,size:el,trapFocus:!1,blockScrollOnMount:!1,children:[(0,a.jsx)(r.m,{background:"none"}),(0,a.jsxs)(o.z,{onKeyDown:et,"data-in-editor-focus":!0,"data-testid":"media-drawer","data-test-media-source":U,children:[(0,a.jsx)(l.r,{fontSize:"x-large",children:(0,a.jsxs)(s.z,{me:7,children:[(0,a.jsx)(m.x6,{id:"xYilR2"}),(0,a.jsx)(d.h,{}),(null==B?void 0:B.mediaType)==="image"&&!v.isSiteNavbarEditor&&(0,a.jsx)(f.V,{onClick:ee,image:null==B?void 0:B.attrs,backFrom:{source:"mediaDrawer",id:(null==B?void 0:B.attrs.id)||""}})]})}),(0,a.jsxs)(c.c,{overflowX:"hidden",sx:{scrollbarGutter:"stable"},display:"flex",flexDirection:"column",pt:0,children:[(0,a.jsx)(A.r,{isConnected:q,description:(0,a.jsx)(m.x6,{id:"2y7sUG"}),mb:6}),(0,a.jsx)(T.H,{currentSource:Q,onChange:e=>G(e,!0),isValidSource:ed}),Q&&(0,a.jsx)(u.s,{ref:X,opacity:q?1:.4,pointerEvents:q?"initial":"none",flex:"1",direction:"column",children:(0,a.jsx)(ec,{editor:v,updateAttributes:ei,currentAttributes:er,resetToPlaceholder:eo,editType:es,closeDrawer:ee,mediaSearchQuery:en,setMediaSearchQuery:ea,...eu})})]}),(0,a.jsx)(p.s,{"data-testid":"media-drawer-close"})]})]})});O.displayName="MediaDrawer"},49337:(e,t,n)=>{"use strict";n.d(t,{k:()=>l});var a=n(55729),i=n(25839),r=n(70006),o=n(37377);let l=function(){let{initializeViaQuery:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{initializeViaQuery:!1},t=(0,i.jL)(),n=(0,a.useCallback)(()=>{let e=window.Intercom;e&&(e("show"),t((0,o.YN)({isOpen:!0})))},[t]);return(0,a.useEffect)(()=>{e&&"true"===(0,r.sF)()["get-support"]&&n()},[e,n]),n}},49894:(e,t,n)=>{"use strict";n.d(t,{zL:()=>f,Ch:()=>b});var a=n(6029),i=n(74676),r=n(21329),o=n(26385),l=n(48810),s=n(31090),d=n(99492),c=n(48621),u=n(19564),p=n(77650);n(27002),n(89942);var h=n(99038),m=n(28630);let g=e=>{let{productKey:t}=e,n=Object.entries(m.Rz).filter(e=>{let[n]=e;return(0,m.kO)(n)===t});return(0,a.jsxs)(o.B,{spacing:"0",children:[(0,a.jsx)(l.E,{color:"gray.400",children:(0,a.jsx)(u.x6,{id:"/AD408"})}),(0,a.jsx)(s.B8,{children:n.map(e=>{let[t,n]=e;return(0,m.CX)(t)?(0,a.jsx)(s.ck,{children:n.label()},t):null})})]})},x=()=>{let e=5e4.toLocaleString(),t=1e5.toLocaleString();return{free:{name:h.v2,description:p.Ru._({id:"V2wKPH"}),featureHeading:p.Ru._({id:"66mVP3"}),features:[{label:p.Ru._({id:"BTeHnk"}),icon:(0,a.jsx)(c.g,{icon:d._$C,fixedWidth:!0})},{label:(0,r.kf)("free").pricingModalLabel,infoTip:(0,a.jsx)(g,{productKey:"free"})},{label:p.Ru._({id:"uCXqkM",values:{MAX_CARDS_FREE:10}})}],includesHeading:p.Ru._({id:"yRx7sr"}),includes:[{label:(0,a.jsx)(u.x6,{id:"FXdAlK",values:{freeTokensFormatted:e}})},{label:p.Ru._({id:"0k1jtM",values:{GAMMA_ARTIFACT_PROPER_NOUN_PLURAL:h.Ix}})},{label:p.Ru._({id:"YcKH7w"})},{label:p.Ru._({id:"vrN3H/"})}]},plus:{name:h.H9,description:p.Ru._({id:"qytu/9"}),featureHeading:p.Ru._({id:"66mVP3"}),features:[{label:(0,a.jsx)(u.x6,{id:"60SITe"})},{label:(0,r.kf)("plus").pricingModalLabel,infoTip:(0,a.jsx)(g,{productKey:"plus"})},{label:p.Ru._({id:"alnKae",values:{GAMMA_PROPER_NOUN:h.On}})},{label:(0,a.jsx)(u.x6,{id:"0tfXJh",values:{MAX_CARDS_PLUS:20}})}],includesHeading:p.Ru._({id:"jtT5YU",values:{FREE_PROPER_NOUN:h.v2}}),includes:[{label:(0,a.jsx)(u.x6,{id:"TCX9Q8",values:{plusTokensFormatted:t}}),infoTip:p.Ru._({id:"CsSTca"})},{label:p.Ru._({id:"k62X/2"})},{label:p.Ru._({id:"zeffR0"})}],dontChurnMessage:p.Ru._({id:"N4ycY7"})},pro:{name:h.Kc,description:p.Ru._({id:"ThODgx"}),featureHeading:p.Ru._({id:"66mVP3"}),features:[{label:(0,a.jsx)(u.x6,{id:"60SITe"})},{label:(0,r.kf)("pro").pricingModalLabel,infoTip:(0,a.jsx)(g,{productKey:"pro"})},{label:(0,a.jsx)(u.x6,{id:"WIpbhz"}),infoTip:(0,a.jsx)(u.x6,{id:"ofH3kV",values:{GAMMA_ARTIFACT_PROPER_NOUN:h.TP}}),flag:"editDocAI"},{label:(0,a.jsx)(u.x6,{id:"37jLpL",values:{MAX_CARDS_PRO:60}})},{label:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.E,{colorScheme:"green",size:"xs",mt:-1,me:.5,display:"inline-block",children:(0,a.jsx)(u.x6,{id:"YBt9YP"})}),(0,a.jsx)(u.x6,{id:"yKBF3l"})]}),infoTip:(0,a.jsx)(u.x6,{id:"hxfTBY",values:{NUM_API_CALLS_PER_MONTH:50,GAMMA_PROPER_NOUN:h.On}})}],includesHeading:p.Ru._({id:"FY8xWK",values:{PLUS_PROPER_NOUN:h.H9}}),includes:[{label:p.Ru._({id:"TWMkqP"}),infoTip:p.Ru._({id:"cR/lbF"})},{label:p.Ru._({id:"E3KfxC"})},{label:p.Ru._({id:"sjfiEU"})},{label:p.Ru._({id:"eJJLu0"}),infoTip:p.Ru._({id:"72pgCR",values:{GAMMA_PROPER_NOUN:h.On}})},{label:p.Ru._({id:"U0iwUz"})}],dontChurnMessage:p.Ru._({id:"I3/YZS"})},ultra:{name:h.v$,description:p.Ru._({id:"ThODgx"}),featureHeading:p.Ru._({id:"66mVP3"}),features:[],includesHeading:p.Ru._({id:"kOzjOH",values:{PRO_PROPER_NOUN:h.Kc}}),includes:[],dontChurnMessage:p.Ru._({id:"I3/YZS"})},team:{name:h.AR,description:p.Ru._({id:"ThODgx"}),featureHeading:p.Ru._({id:"66mVP3"}),features:[],includesHeading:p.Ru._({id:"kOzjOH",values:{PRO_PROPER_NOUN:h.Kc}}),includes:[],dontChurnMessage:p.Ru._({id:"I3/YZS"})},business:{name:h.$_,description:p.Ru._({id:"ThODgx"}),featureHeading:p.Ru._({id:"66mVP3"}),features:[],includesHeading:p.Ru._({id:"0W2Kxf",values:{TEAM_PROPER_NOUN:h.AR}}),includes:[],dontChurnMessage:p.Ru._({id:"I3/YZS"})}}},f=e=>{let{product:t="pro",...n}=e;return(0,a.jsx)(i.E,{fontSize:"xxs",bottom:0,insetEnd:0,variant:t,...n,children:x()[t].name})},b=e=>{let{canUseFeature:t,productFeature:n,...i}=e,o=(0,r.gD)(n);return t||null===o?null:(0,a.jsx)(f,{product:o,...i})}},50171:(e,t,n)=>{"use strict";n.d(t,{g:()=>l});var a=n(77650);let i=()=>[{id:"basic",name:()=>a.Ru._({id:"0wJVK+"}),templateIds:["blankCard","titleWith2ColumnImageLeft","titleWith2ColumnImageRight","titleWith2ColumnContent","titleWith2ColumnContentAndHeadings","titleWith3ColumnContent","titleWith3ColumnContentAndHeadings","titleWith4ColumnContent","titleWithBullets","titleWithBulletsAndImage"]},{id:"cardLayouts",name:()=>a.Ru._({id:"125H9i"}),templateIds:["accentLeft","accentRight","accentTop","accentRightFit","accentLeftFit","accentBackground"]},{id:"images",name:()=>a.Ru._({id:"an5hVd"}),templateIds:["titleWith2ImageColumns","titleWith3ImageColumns","titleWith4ImageColumns","titleWith3ImagesWithText","imageGallery","titleWithTeamPhotos"]},{id:"collections",name:()=>a.Ru._({id:"MISW12"}),templateIds:["titleWithTextBoxes","titleWithTimeline","titleWithLargeBulletList","titleWithIconsWithText","titleWithSmallIconsAndText","titleWithArrows"]},{id:"data",name:()=>a.Ru._({id:"+60MiA"}),templateIds:["titleWithColumnChart","titleWithBarChart","titleWithLineChart","titleWithPieChart","titleWithDonutChart","titleWithStats","barStatsWithText","titleWithCircleStats","titleWith3RowTable"]},{id:"embeds",name:()=>a.Ru._({id:"aTofd0"}),templateIds:["titleWithYouTubeEmbed","titleWithWebpageEmbed"]},{id:"progressiveDisclosure",name:()=>a.Ru._({id:"rd7L5e"}),templateIds:["titleWith3NestedCards","titleWith3Toggles"]},{id:"pyramid",name:()=>a.Ru._({id:"96Rp0u"}),templateIds:["funnelWithText","steppedPyramidWithText","pyramidWithTitleAndTextOutside","leftSteppedPyramidWithTitleAndTextOutside"]},{id:"calls-to-action",name:()=>a.Ru._({id:"gm+qKB"}),templateIds:["titleWithContentAndButton"]},{id:"misc",name:()=>a.Ru._({id:"RDie0n"}),templateIds:["titleCard","titleWithGif","titleWithDiagram"]},{id:"cardPlaceholder",name:()=>a.Ru._({id:"hx1ePY"}),templateIds:["titleWith2ColumnImageLeft","titleWith2ColumnContent","accentRight","titleWith3ImageColumns"]}],r=["basic","cardLayouts","images","collections","charts","pyramid","data","embeds","progressiveDisclosure","calls-to-action","misc"],o={default:r,insertWidget:r,modal:r,placeholder:["cardPlaceholder"]},l=e=>o[e].map(e=>i().find(t=>t.id===e)).filter(e=>!!e)},50507:(e,t,n)=>{"use strict";n.d(t,{iT:()=>l,l2:()=>u,s2:()=>d,st:()=>s,wz:()=>c});var a=n(77650),i=n(12562),r=n(50171),o=n(17633);let l=()=>{let e=()=>a.Ru._({id:"6MDj8K"});return{blankCard:{id:"blankCard",createdBy:null,name:()=>a.Ru._({id:"UQOvxZ"}),description:()=>a.Ru._({id:"V7lf6B"}),jsonContent:o.w.card([o.w.heading()]),keywords:["blank"]},titleWithBullets:{id:"titleWithBullets",name:()=>a.Ru._({id:"jzSy62"}),createdBy:null,description:()=>a.Ru._({id:"605WM6"}),jsonContent:o.w.card([o.w.heading(),o.w.bullet(),o.w.bullet(),o.w.bullet(),o.w.bullet()]),keywords:["heading","bullets"]},titleWithBulletsAndImage:{id:"titleWithBulletsAndImage",name:()=>a.Ru._({id:"ciw/iY"}),createdBy:null,description:()=>a.Ru._({id:"kTU/Ne"}),jsonContent:o.w.card([o.w.heading(),o.w.columns([[o.w.bullet(),o.w.bullet(),o.w.bullet(),o.w.bullet()],[o.w.mediaPlaceholder()]])]),keywords:["heading","bullets"]},titleWith2ColumnContent:{id:"titleWith2ColumnContent",createdBy:null,name:()=>a.Ru._({id:"uVQ8y8"}),description:()=>a.Ru._({id:"pRDCBH"}),jsonContent:o.w.card([o.w.heading(),o.w.columns([[o.w.paragraph(e())],[o.w.paragraph(e())]])]),keywords:["title","2 column","split","paragraph"]},titleWith2ColumnContentAndHeadings:{id:"titleWith2ColumnContentAndHeadings",createdBy:null,name:()=>a.Ru._({id:"/ESRO3"}),description:()=>a.Ru._({id:"acTyiC"}),jsonContent:o.w.card([o.w.heading(),o.w.columns([[o.w.h3(),o.w.paragraph(e())],[o.w.h3(),o.w.paragraph(e())]])]),keywords:["title","2 column","split","paragraph"]},titleWith3ColumnContent:{id:"titleWith3ColumnContent",createdBy:null,name:()=>a.Ru._({id:"YmAqYT"}),description:()=>a.Ru._({id:"od0FQb"}),jsonContent:o.w.card([o.w.heading(),o.w.columns([[o.w.paragraph(e())],[o.w.paragraph(e())],[o.w.paragraph(e())]])]),keywords:["heading","3 column","paragraph"]},titleWith3ColumnContentAndHeadings:{id:"titleWith3ColumnContentAndHeadings",createdBy:null,name:()=>a.Ru._({id:"3tQQ39"}),description:()=>a.Ru._({id:"Yno39F"}),jsonContent:o.w.card([o.w.heading(),o.w.columns([[o.w.h4(),o.w.paragraph(e())],[o.w.h4(),o.w.paragraph(e())],[o.w.h4(),o.w.paragraph(e())]])]),keywords:["heading","3 column","paragraph"]},titleWith4ColumnContent:{id:"titleWith4ColumnContent",createdBy:null,name:()=>a.Ru._({id:"+a/yD6"}),description:()=>a.Ru._({id:"h5ySm8"}),jsonContent:o.w.card([o.w.heading(),o.w.columns([[o.w.paragraph(e())],[o.w.paragraph(e())],[o.w.paragraph(e())],[o.w.paragraph(e())]])]),keywords:["heading","4 column","paragraph"]},titleWith2ColumnImageLeft:{id:"titleWith2ColumnImageLeft",createdBy:null,name:()=>a.Ru._({id:"6edF/U"}),description:()=>a.Ru._({id:"SzGG7G"}),jsonContent:o.w.card([o.w.columns([[o.w.mediaPlaceholder()],[o.w.heading(),o.w.paragraph(e())]],{cellAttrs:{verticalAlign:"center"}})]),keywords:["title","2 column","image","left"]},titleWith2ColumnImageRight:{id:"titleWith2ColumnImageRight",createdBy:null,name:()=>a.Ru._({id:"afp0nb"}),description:()=>a.Ru._({id:"M7cuHB"}),jsonContent:o.w.card([o.w.columns([[o.w.heading(),o.w.paragraph(e())],[o.w.mediaPlaceholder()]],{cellAttrs:{verticalAlign:"center"}})]),keywords:["title","2 column","image","right"]},titleWith2ImageColumns:{id:"titleWith2ImageColumns",createdBy:null,name:()=>a.Ru._({id:"oVMU3f"}),description:()=>a.Ru._({id:"sqVSP2"}),jsonContent:o.w.card([o.w.heading(),o.w.columns([[o.w.mediaPlaceholder(),o.w.h3(),o.w.paragraph(e())],[o.w.mediaPlaceholder(),o.w.h3(),o.w.paragraph(e())]])]),keywords:["heading","2 column","image"]},titleWith3ImageColumns:{id:"titleWith3ImageColumns",createdBy:null,name:()=>a.Ru._({id:"ZjjVJt"}),description:()=>a.Ru._({id:"kmtZuD"}),jsonContent:o.w.card([o.w.heading(),o.w.columns([[o.w.mediaPlaceholder(),o.w.h4(),o.w.paragraph(e())],[o.w.mediaPlaceholder(),o.w.h4(),o.w.paragraph(e())],[o.w.mediaPlaceholder(),o.w.h4(),o.w.paragraph(e())]])]),keywords:["heading","3 column","paragraph","image"]},titleWith4ImageColumns:{id:"titleWith4ImageColumns",createdBy:null,name:()=>a.Ru._({id:"Re1S+b"}),description:()=>a.Ru._({id:"+x8oem"}),jsonContent:o.w.card([o.w.heading(),o.w.columns([[o.w.mediaPlaceholder(),o.w.h4(),o.w.paragraph(e())],[o.w.mediaPlaceholder(),o.w.h4(),o.w.paragraph(e())],[o.w.mediaPlaceholder(),o.w.h4(),o.w.paragraph(e())],[o.w.mediaPlaceholder(),o.w.h4(),o.w.paragraph(e())]])]),keywords:["heading","4 column","image"]},titleWith3ImagesWithText:{id:"titleWith3ImagesWithText",createdBy:null,name:()=>a.Ru._({id:"cDxTeG"}),description:()=>a.Ru._({id:"rwJuIz"}),jsonContent:o.w.card([o.w.heading(),o.w.smartLayout("imagesText",[o.w.smartLayoutCell([o.w.h3(a.Ru._({id:"HX5SVx"})),o.w.paragraph(e())]),o.w.smartLayoutCell([o.w.h3(a.Ru._({id:"HX5SVx"})),o.w.paragraph(e())]),o.w.smartLayoutCell([o.w.h3(a.Ru._({id:"HX5SVx"})),o.w.paragraph(e())])],{options:{cellSize:10,shapeSize:"full",horizontalAlign:"left",imageShape:"square"}})]),keywords:["heading","image","layout"]},imageGallery:{id:"imageGallery",createdBy:null,name:()=>a.Ru._({id:"Oho0T7"}),description:()=>a.Ru._({id:"H87HG1"}),jsonContent:o.w.card([o.w.heading(),o.w.gallery([o.w.mediaPlaceholder({source:"image.custom"}),o.w.mediaPlaceholder({source:"image.custom"}),o.w.mediaPlaceholder({source:"image.custom"})])]),keywords:["heading","gallery","image"]},titleWithTeamPhotos:{id:"titleWithTeamPhotos",createdBy:null,name:()=>a.Ru._({id:"+kQMBP"}),description:()=>a.Ru._({id:"tt2nIz"}),jsonContent:o.w.card([o.w.heading(),o.w.smartLayout("imagesText",[o.w.smartLayoutCell([o.w.h3(a.Ru._({id:"6YtxFj"})),o.w.paragraph(a.Ru._({id:"GDvlUT"})),o.w.paragraph(a.Ru._({id:"Nu4oKW"}),{fontSize:"sm"})]),o.w.smartLayoutCell([o.w.h3(a.Ru._({id:"6YtxFj"})),o.w.paragraph(a.Ru._({id:"GDvlUT"})),o.w.paragraph(a.Ru._({id:"Nu4oKW"}),{fontSize:"sm"})]),o.w.smartLayoutCell([o.w.h3(a.Ru._({id:"6YtxFj"})),o.w.paragraph(a.Ru._({id:"GDvlUT"})),o.w.paragraph(a.Ru._({id:"Nu4oKW"}),{fontSize:"sm"})])],{options:{cellSize:10,shapeSize:"full",horizontalAlign:"center",imageShape:"circle"}})]),keywords:["heading","image","team"]},accentRight:{id:"accentRight",createdBy:null,name:()=>a.Ru._({id:"Czo70+"}),description:()=>a.Ru._({id:"x5nYRE"}),jsonContent:o.w.card([o.w.heading(),o.w.paragraph(e())],{layout:"right"}),keywords:["accent"]},accentRightFit:{id:"accentRightFit",createdBy:null,name:()=>a.Ru._({id:"1BvkHE"}),description:()=>a.Ru._({id:"oItvxV"}),jsonContent:o.w.card([o.w.heading(),o.w.paragraph(e())],{layout:"right"},{fitType:"fit"}),keywords:["accent"]},accentLeft:{id:"accentLeft",createdBy:null,name:()=>a.Ru._({id:"5HMSY5"}),description:()=>a.Ru._({id:"c/I4N2"}),jsonContent:o.w.card([o.w.heading(),o.w.paragraph(e())],{layout:"left"}),keywords:["accent"]},accentLeftFit:{id:"accentLeftFit",createdBy:null,name:()=>a.Ru._({id:"bGTdlK"}),description:()=>a.Ru._({id:"r4fLNa"}),jsonContent:o.w.card([o.w.heading(),o.w.paragraph(e())],{layout:"left"},{fitType:"fit"}),keywords:["accent"]},accentTop:{id:"accentTop",createdBy:null,name:()=>a.Ru._({id:"BUdX7X"}),description:()=>a.Ru._({id:"QuKih6"}),jsonContent:o.w.card([o.w.heading(),o.w.paragraph(e())],{layout:"top"}),keywords:["accent"]},accentBackground:{id:"accentBackground",createdBy:null,name:()=>a.Ru._({id:"CDFCZ5"}),description:()=>a.Ru._({id:"uFWjQ5"}),jsonContent:o.w.card([o.w.heading(),o.w.paragraph(e())],{layout:"behind"}),keywords:["accent"]},titleWith3NestedCards:{id:"titleWith3NestedCards",createdBy:null,name:()=>a.Ru._({id:"ORoO1f"}),description:()=>a.Ru._({id:"J89hiV"}),jsonContent:o.w.card([o.w.heading(),o.w.card([o.w.heading(),o.w.paragraph()]),o.w.card([o.w.heading(),o.w.paragraph()]),o.w.card([o.w.heading(),o.w.paragraph()])]),keywords:["heading","nested","card"]},titleWith3Toggles:{id:"titleWith3Toggles",createdBy:null,name:()=>a.Ru._({id:"Sf3ASu"}),description:()=>a.Ru._({id:"58JI2k"}),jsonContent:o.w.card([o.w.heading(),o.w.toggle([o.w.paragraph(e())]),o.w.toggle([o.w.paragraph(e())]),o.w.toggle([o.w.paragraph(e())])]),keywords:["heading","toggle"]},titleWithTimeline:{id:"titleWithTimeline",createdBy:null,name:()=>a.Ru._({id:"cklVjM"}),description:()=>a.Ru._({id:"Wdyt2J"}),jsonContent:o.w.card([o.w.heading(),o.w.smartLayout("timeline",[o.w.smartLayoutCell([o.w.h3(a.Ru._({id:"HX5SVx"})),o.w.paragraph(e())]),o.w.smartLayoutCell([o.w.h3(a.Ru._({id:"HX5SVx"})),o.w.paragraph(e())]),o.w.smartLayoutCell([o.w.h3(a.Ru._({id:"HX5SVx"})),o.w.paragraph(e())])],{options:{orientation:"vertical",twoSided:!1}})]),keywords:["heading","timeline"]},titleWithLargeBulletList:{id:"titleWithLargeBulletList",createdBy:null,name:()=>a.Ru._({id:"F5uDGO"}),description:()=>a.Ru._({id:"g1FTqD"}),jsonContent:o.w.card([o.w.heading(),o.w.smartLayout("bigBullets",[o.w.smartLayoutCell([o.w.h3(a.Ru._({id:"HX5SVx"})),o.w.paragraph(e())]),o.w.smartLayoutCell([o.w.h3(a.Ru._({id:"HX5SVx"})),o.w.paragraph(e())]),o.w.smartLayoutCell([o.w.h3(a.Ru._({id:"HX5SVx"})),o.w.paragraph(e())]),o.w.smartLayoutCell([o.w.h3(a.Ru._({id:"HX5SVx"})),o.w.paragraph(e())])],{options:{cellSize:20}})]),keywords:["heading","bullet","list"]},titleWithIconsWithText:{id:"titleWithIconsWithText",createdBy:null,name:()=>a.Ru._({id:"joUkNe"}),description:()=>a.Ru._({id:"DHZYRd"}),jsonContent:o.w.card([o.w.heading(),o.w.smartLayout("iconsText",[o.w.smartLayoutCell([o.w.h3(a.Ru._({id:"HX5SVx"})),o.w.paragraph(e())]),o.w.smartLayoutCell([o.w.h3(a.Ru._({id:"HX5SVx"})),o.w.paragraph(e())]),o.w.smartLayoutCell([o.w.h3(a.Ru._({id:"HX5SVx"})),o.w.paragraph(e())]),o.w.smartLayoutCell([o.w.h3(a.Ru._({id:"HX5SVx"})),o.w.paragraph(e())])],{options:{cellSize:10,shapeSize:"md",horizontalAlign:"center"}})]),keywords:["heading","icons"]},titleWithSmallIconsAndText:{id:"titleWithSmallIconsAndText",createdBy:null,name:()=>a.Ru._({id:"AhHG+7"}),description:()=>a.Ru._({id:"L8/5yN"}),jsonContent:o.w.card([o.w.heading(),o.w.smartLayout("iconsText",[o.w.smartLayoutCell([o.w.h3(a.Ru._({id:"HX5SVx"})),o.w.paragraph(e())]),o.w.smartLayoutCell([o.w.h3(a.Ru._({id:"HX5SVx"})),o.w.paragraph(e())]),o.w.smartLayoutCell([o.w.h3(a.Ru._({id:"HX5SVx"})),o.w.paragraph(e())]),o.w.smartLayoutCell([o.w.h3(a.Ru._({id:"HX5SVx"})),o.w.paragraph(e())])],{options:{cellSize:10,shapeSize:"sm",horizontalAlign:"left"}})]),keywords:["heading","icons"]},titleWithTextBoxes:{id:"titleWithTextBoxes",createdBy:null,name:()=>a.Ru._({id:"b7qbjN"}),description:()=>a.Ru._({id:"Cg0xBG"}),jsonContent:o.w.card([o.w.heading(),o.w.smartLayout("solidBoxes",[o.w.smartLayoutCell([o.w.h3(a.Ru._({id:"HX5SVx"})),o.w.paragraph(e())]),o.w.smartLayoutCell([o.w.h3(a.Ru._({id:"HX5SVx"})),o.w.paragraph(e())]),o.w.smartLayoutCell([o.w.h3(a.Ru._({id:"HX5SVx"})),o.w.paragraph(e())])],{options:{cellSize:15}})]),keywords:["heading","boxes"]},titleWithArrows:{id:"titleWithArrows",createdBy:null,name:()=>a.Ru._({id:"YUGjgn"}),description:()=>a.Ru._({id:"SnGUtD"}),jsonContent:o.w.card([o.w.heading(),o.w.smartLayout("arrows",[o.w.smartLayoutCell([o.w.h3(a.Ru._({id:"HX5SVx"})),o.w.paragraph(e())]),o.w.smartLayoutCell([o.w.h3(a.Ru._({id:"HX5SVx"})),o.w.paragraph(e())]),o.w.smartLayoutCell([o.w.h3(a.Ru._({id:"HX5SVx"})),o.w.paragraph(e())])],{options:{cellSize:10}})]),keywords:["arrows","process","sequence","flow"]},titleWithColumnChart:{id:"titleWithColumnChart",createdBy:null,name:()=>a.Ru._({id:"kaIve5"}),description:()=>a.Ru._({id:"EE/H36"}),jsonContent:o.w.card([o.w.heading(),o.w.columnChart()]),keywords:["heading","chart","column chart"],featureFlag:"enableCharts"},titleWithBarChart:{id:"titleWithBarChart",createdBy:null,name:()=>a.Ru._({id:"JXpNuP"}),description:()=>a.Ru._({id:"2s/J1+"}),jsonContent:o.w.card([o.w.heading(),o.w.barChart()]),keywords:["heading","chart","bar chart"],featureFlag:"enableCharts"},titleWithLineChart:{id:"titleWithLineChart",createdBy:null,name:()=>a.Ru._({id:"Kt/Lzz"}),description:()=>a.Ru._({id:"eRabUB"}),jsonContent:o.w.card([o.w.heading(),o.w.lineChart()]),keywords:["heading","chart","line chart"],featureFlag:"enableCharts"},titleWithPieChart:{id:"titleWithPieChart",createdBy:null,name:()=>a.Ru._({id:"5+y+OQ"}),description:()=>a.Ru._({id:"zIzb1A"}),jsonContent:o.w.card([o.w.heading(),o.w.pieChart()]),keywords:["heading","chart","pie chart"],featureFlag:"enableCharts"},titleWithDonutChart:{id:"titleWithDonutChart",createdBy:null,name:()=>a.Ru._({id:"DNipMm"}),description:()=>a.Ru._({id:"MWtClR"}),jsonContent:o.w.card([o.w.heading(),o.w.donutChart()]),keywords:["heading","chart","donut chart"],featureFlag:"enableCharts"},titleWithStats:{id:"titleWithStats",createdBy:null,name:()=>a.Ru._({id:"w0arAq"}),description:()=>a.Ru._({id:"YEhR/1"}),jsonContent:o.w.card([o.w.heading(),o.w.smartLayout("stats",[o.w.smartLayoutCell([o.w.h3(a.Ru._({id:"nH8BJ4"})),o.w.paragraph(e())],{label:"25%"}),o.w.smartLayoutCell([o.w.h3(a.Ru._({id:"nH8BJ4"})),o.w.paragraph(e())],{label:"3/4"}),o.w.smartLayoutCell([o.w.h3(a.Ru._({id:"nH8BJ4"})),o.w.paragraph(e())],{label:"50"})],{options:{cellSize:15,shapeSize:"lg"}})]),keywords:["heading","stats"]},barStatsWithText:{id:"barStatsWithText",createdBy:null,name:()=>a.Ru._({id:"LYRXtx"}),description:()=>a.Ru._({id:"DgfiYp"}),jsonContent:o.w.card([o.w.heading(),o.w.smartLayout("barStats",[o.w.smartLayoutCell([o.w.h3(a.Ru._({id:"nH8BJ4"})),o.w.paragraph(e())],{label:"25%"}),o.w.smartLayoutCell([o.w.h3(a.Ru._({id:"nH8BJ4"})),o.w.paragraph(e())],{label:"3/4"})],{options:{cellSize:20}})]),keywords:["heading","stats"]},titleWithCircleStats:{id:"titleWithCircleStats",createdBy:null,name:()=>a.Ru._({id:"mvpFPS"}),description:()=>a.Ru._({id:"9AzsRa"}),jsonContent:o.w.card([o.w.heading(),o.w.smartLayout("circleStats",[o.w.smartLayoutCell([o.w.h3(a.Ru._({id:"HX5SVx"})),o.w.paragraph(e())],{label:"25%"}),o.w.smartLayoutCell([o.w.h3(a.Ru._({id:"HX5SVx"})),o.w.paragraph(e())],{label:"1/3"}),o.w.smartLayoutCell([o.w.h3(a.Ru._({id:"HX5SVx"})),o.w.paragraph(e())],{label:"75"})],{options:{cellSize:10,horizontalAlign:"center"}})]),keywords:["arrows","process","sequence","flow"]},titleWith3RowTable:{id:"titleWith3RowTable",createdBy:null,name:()=>a.Ru._({id:"aDo58o"}),description:()=>a.Ru._({id:"2ZoOCu"}),jsonContent:o.w.card([o.w.heading(),o.w.table([o.w.tableRow([o.w.tableCell([o.w.paragraph()]),o.w.tableCell([o.w.paragraph()]),o.w.tableCell([o.w.paragraph()])]),o.w.tableRow([o.w.tableCell([o.w.paragraph()]),o.w.tableCell([o.w.paragraph()]),o.w.tableCell([o.w.paragraph()])]),o.w.tableRow([o.w.tableCell([o.w.paragraph()]),o.w.tableCell([o.w.paragraph()]),o.w.tableCell([o.w.paragraph()])])])]),keywords:["heading","table"]},funnelWithText:{id:"funnelWithText",createdBy:null,name:()=>a.Ru._({id:"ETqzyH"}),description:()=>a.Ru._({id:"GxaYRj"}),jsonContent:o.w.card([o.w.heading(),o.w.columns([[o.w.smartLayout("funnel",[o.w.smartLayoutCell([o.w.h3()]),o.w.smartLayoutCell([o.w.h3()]),o.w.smartLayoutCell([o.w.h3()]),o.w.smartLayoutCell([o.w.h3()])],{options:{numbered:!0,outsideText:!1}})],[o.w.h2(),o.w.paragraph(e())]],{cellAttrs:{verticalAlign:"center"}})]),keywords:["heading","funnel"]},steppedPyramidWithText:{id:"steppedPyramidWithText",createdBy:null,name:()=>a.Ru._({id:"6xmZsQ"}),description:()=>a.Ru._({id:"GqW7Xg"}),jsonContent:o.w.card([o.w.heading(),o.w.columns([[o.w.smartLayout("staircase",[o.w.smartLayoutCell([o.w.h3()]),o.w.smartLayoutCell([o.w.h3()]),o.w.smartLayoutCell([o.w.h3()]),o.w.smartLayoutCell([o.w.h3()])],{options:{outsideText:!1,horizontalAlign:"center"}})],[o.w.h2(),o.w.paragraph(e())]],{cellAttrs:{verticalAlign:"center"}})]),keywords:["heading","pyramid","stepped","staircase"]},leftSteppedPyramidWithTitleAndTextOutside:{id:"leftSteppedPyramidWithTitleAndTextOutside",createdBy:null,name:()=>a.Ru._({id:"6j13ZR"}),description:()=>a.Ru._({id:"JGF7vo"}),jsonContent:o.w.card([o.w.heading(),o.w.smartLayout("staircase",[o.w.smartLayoutCell([o.w.h3()]),o.w.smartLayoutCell([o.w.h3()]),o.w.smartLayoutCell([o.w.h3()])],{options:{outsideText:!1,horizontalAlign:"left"}})]),keywords:["heading","pyramid","stepped","staircase"]},pyramidWithTitleAndTextOutside:{id:"pyramidWithTitleAndTextOutside",createdBy:null,name:()=>a.Ru._({id:"l1mM+L"}),description:()=>a.Ru._({id:"L0QPEt"}),jsonContent:o.w.card([o.w.heading(),o.w.smartLayout("pyramid",[o.w.smartLayoutCell([o.w.h3()]),o.w.smartLayoutCell([o.w.h3()]),o.w.smartLayoutCell([o.w.h3()])],{options:{numbered:!0,outsideText:!0}})]),keywords:["heading","pyramid"]},titleWithContentAndButton:{id:"titleWithContentAndButton",name:()=>a.Ru._({id:"FJJPAA"}),createdBy:null,description:()=>a.Ru._({id:"itiMvE"}),jsonContent:o.w.card([o.w.heading(),o.w.paragraph(e()),o.w.buttons([o.w.button(a.Ru._({id:"uWe4QF"}),{variant:"solid"}),o.w.button(a.Ru._({id:"zwWKhA"}),{variant:"outline"})])]),keywords:["button","heading","paragraph"]},titleWithYouTubeEmbed:{id:"titleWithYouTubeEmbed",createdBy:null,name:()=>a.Ru._({id:"D1Tqqj"}),description:()=>a.Ru._({id:"s0st+i"}),jsonContent:o.w.card([o.w.heading(),o.w.mediaPlaceholder({source:"video.youtube"})]),keywords:["heading","embed","video"]},titleWithWebpageEmbed:{id:"titleWithWebpageEmbed",createdBy:null,name:()=>a.Ru._({id:"8FOKyw"}),description:()=>a.Ru._({id:"0ngLOJ"}),jsonContent:o.w.card([o.w.heading(),o.w.mediaPlaceholder({source:"embed.custom"})]),keywords:["heading","embed","webpage"]},titleCard:{id:"titleCard",createdBy:null,name:()=>a.Ru._({id:"5U/oBM"}),description:()=>a.Ru._({id:"rYur7N"}),jsonContent:o.w.card([o.w.title(),o.w.h2()]),keywords:["title"]},titleWithGif:{id:"titleWithGif",createdBy:null,name:()=>a.Ru._({id:"wRkP2d"}),description:()=>a.Ru._({id:"kHFDdm"}),jsonContent:o.w.card([o.w.heading(),o.w.mediaPlaceholder({source:"image.giphy"})]),keywords:["heading","embed","webpage"]},titleWithDiagram:{id:"titleWithDiagram",createdBy:null,name:()=>a.Ru._({id:"i+ShMB"}),description:()=>a.Ru._({id:"6i4/hD"}),jsonContent:o.w.card([o.w.heading(),o.w.diagram()]),keywords:["heading","diagram"],featureFlag:"tldraw2"}}},s=()=>Object.values(l()),d=()=>s().reduce((e,t)=>(e[t.id]=t.jsonContent,e),{}),c=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";return(0,r.g)(e).map(e=>{let{name:t,templateIds:n}=e,a=n.map(e=>l()[e]);return{subcategory:t(),items:a}})},u=(e,t,n)=>{try{if(t.featureFlag&&!i.of.get(t.featureFlag)||(null==n?void 0:n(t)))return!0;return!1}catch(e){return!0}}},50709:(e,t,n)=>{"use strict";n.d(t,{S:()=>m,_:()=>u});var a=n(74698),i=n(37243),r=n(94289),o=n(63867),l=n(38934),s=n(62040),d=n(64205),c=n(74677);let u=new o.hs("UniqueAttribute"),p=new Map,h=e=>{let{editor:t,tr:n,node:i,initialValue:r,pos:o,attributeName:l,syncWithFilmstrip:s,pluginKey:d}=e;(s="function"==typeof s?s():!!s)&&!d&&console.error("Cannot sync with filmstrip without plugin key");let c=(()=>{if(t.isThumbnail&&s&&d){var e,n;let t=null==(e=p.get(d))?void 0:e.shift();if(t&&(null==(n=t.type)?void 0:n.name)===i.type.name&&t.pos===o)return console.debug("%c [UniqueAttribute] Reused ".concat(l,' "').concat(t.val,'" for ').concat(i.type.name),"background-color: deeppink",{pos:o}),t.val;a.Cp({message:"Mismatch trying to reuse attribute",attributeName:l,nodeType:i.type,pos:o,existing:t})}return r()})();return!t.isThumbnail&&s&&d&&(p.has(d)||p.set(d,[]),p.get(d).push({type:i.type,val:c,pos:o}),console.debug("%c [UniqueAttribute] Should reuse ".concat(l,' "').concat(c,'" for ').concat(i.type.name),"background-color: deeppink",{pos:o})),n.setNodeMarkup(o,void 0,{...i.attrs,[l]:c}),{node:i,val:c,pos:o}},m=i.YY.create({name:"UniqueAttribute",priority:l.y.UniqueAttribute,addOptions(){return{attributeName:"",pluginKey:new o.hs(this.name),types:[],initialValue:()=>void 0,filterTransaction:null,syncWithFilmstrip:!1}},addGlobalAttributes(){return[{types:this.options.types,attributes:{[this.options.attributeName]:{default:null,parseHTML:e=>this.options.parseHTML?this.options.parseHTML(e):e.getAttribute("data-".concat(this.options.attributeName)),renderHTML:e=>this.options.renderHTML?this.options.renderHTML(e):e[this.options.attributeName]?{["data-".concat(this.options.attributeName)]:e[this.options.attributeName]}:{}}}}]},onCreate(){let{view:e,state:t}=this.editor;if(this.editor.isReadOnly)return;let{tr:n,doc:r}=t,{types:o,attributeName:l,pluginKey:s,initialValue:d,callback:c}=this.options,u=(0,i.xe)(r,e=>o.includes(e.type.name)&&null===e.attrs[l]).map(e=>{let{node:t,pos:a}=e;return h({editor:this.editor,pos:a,node:t,tr:n,syncWithFilmstrip:!1,initialValue:d,attributeName:l,pluginKey:s})});0!==u.length&&(a.wd("UniqueAttribute onCreate fixed missing ids",{extra:{results:u,tr:n,attributeName:l,types:o}}),e.dispatch(n),c&&c(this.editor,u,n.doc))},addProseMirrorPlugins(){let e=!1;return[new o.k_({key:this.options.pluginKey,appendTransaction:(e,t,n)=>{let a=e.some(e=>e.docChanged)&&!t.doc.eq(n.doc),r=this.options.filterTransaction&&e.some(e=>{var t,n;return!(null==(t=(n=this.options).filterTransaction)?void 0:t.call(n,e))});if(!a||r)return;let{tr:o}=n,{types:l,attributeName:p,syncWithFilmstrip:m,initialValue:g,callback:x,pluginKey:f}=this.options,b=function(e,t){let n=new s.dL(e);return t.forEach(e=>{e.steps.forEach(e=>{n.step(e)})}),n}(t.doc,e),{mapping:v}=b,y=(0,c.A)(b),w=[],C=e.some(e=>!0===e.getMeta(u));if(y.forEach(e=>{let t={from:e.newStart,to:e.newEnd},a=(0,i.Nx)(n.doc,t,e=>l.includes(e.type.name)),r=function(e){let t=e.filter((t,n)=>e.indexOf(t)!==n);return(0,d.A)(t)}(a.map(e=>{let{node:t}=e;return t.attrs[p]}).filter(e=>null!==e));a.forEach(e=>{var t;let{node:n,pos:a}=e,i=null==(t=o.doc.nodeAt(a))?void 0:t.attrs[p];if(!i)return void w.push(h({editor:this.editor,pos:a,node:n,tr:o,syncWithFilmstrip:m,initialValue:g,attributeName:p,pluginKey:f}));let{deleted:l}=v.invert().mapResult(a),s=l&&r.includes(i),d=l&&C;if(s||d){let e=h({editor:this.editor,pos:a,node:n,tr:o,syncWithFilmstrip:m,initialValue:g,attributeName:p,pluginKey:f});w.push(e),console.debug("%c [UniqueAttribute][".concat(this.options.types,"] Replaced ").concat(n.attrs[p]," with new val: ").concat(e.val),"background-color: deeppink",{override:d,newNode:s})}})}),x&&x(this.editor,w,o.doc),o.steps.length)return o},props:{handleDOMEvents:{drop:(t,n)=>{var a,i;return((null==(a=t.dragging)?void 0:a.move)!==!0||(null==(i=n.dataTransfer)?void 0:i.effectAllowed)==="copy")&&(e=!0),!1},paste:()=>(e=!0,!1)},transformPasted:t=>{var n;if(!e)return t;let{types:a,attributeName:i}=this.options,o=e=>{let t=[];return e.forEach(e=>{if(e.isText)return void t.push(e);if(!a.includes(e.type.name))return void t.push(e.copy(o(e.content)));let n=e.type.create({...e.attrs,[i]:null},o(e.content),e.marks);t.push(n)}),r.FK.from(t)},l=this.options.transformPasted?this.options.transformPasted(t,this.options,null===this||void 0===this||null==(n=this.editor)?void 0:n.gammaDocId):new r.Ji(o(t.content),t.openStart,t.openEnd);return e=!1,l}}})]}})},50729:(e,t,n)=>{"use strict";var a=Object.create?function(e,t,n,a){void 0===a&&(a=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,a,i)}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]};Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||a(t,e,n)}(n(10139),t)},50764:(e,t,n)=>{"use strict";n.d(t,{lF:()=>i,L3:()=>a,pl:()=>r,JL:()=>o}),n(5061),n(15607),n(29608),n(67864),n(61385),n(47665),n(16264),n(61964),new(n(63867)).hs("BlockHoverKey");let a=e=>{var t;return(null==(t=e.find(e=>e.spec.isTableHover))?void 0:t.spec)||{}},i=e=>{var t;return(null==(t=e.find(e=>e.spec.isTableFocus))?void 0:t.spec)||{}},r=e=>e.some(e=>e.spec.isAnnotatableHover),o=e=>e.some(e=>e.spec.isBlockHover)},50861:(e,t,n)=>{"use strict";n.d(t,{Bv:()=>s,Ez:()=>b,JY:()=>h,Kk:()=>f,Xs:()=>x,Zj:()=>p,_Y:()=>c,bi:()=>d,eb:()=>m,gk:()=>g,lQ:()=>u});var a=n(83740),i=n(45934),r=n(14389),o=n(67097);let l=["image","video","embed","mediaPlaceholder"],s=e=>d(e.type),d=e=>l.includes(e.name),c=e=>"video"===e.type.name||"embed"===e.type.name,u=e=>e.href||e.url||e.sourceUrl||e.embedUrl||void 0,p=e=>{var t;return(null==(t=e.embed)?void 0:t.url)?e.embed.url:"embedUrl"in e&&e.embedUrl?e.embedUrl:u(e)},h=e=>{var t,n;let a=e.attrs;return[null==(t=a.meta)?void 0:t.title,null==(n=a.meta)?void 0:n.site].filter(Boolean).join(" - ")},m=(e,t)=>{var n;return null!=(n=e.clickBehavior)?n:t?"newTab":"expand"},g=e=>null!=e?e:"expand",x=e=>(0,o.SV)((null==e?void 0:e.src)||(null==e?void 0:e.tempUrl))&&(e.source===a.f.key||e.source===i.u.key),f=(e,t)=>{if(!e)return e;try{let n=new URL(e);return n.searchParams.set("ctx",t||"inline-svg"),n.toString()}catch(t){return console.error("[getSrcUrlForInlineSvg] Error with src url for inline SVG",t),e}},b=e=>{let{width:t,height:n,resize:a}=e.meta||{};if(!t||!n||(null==a?void 0:a.isAuto)===!1)return e;let i=r.St,o=window.innerHeight*r.Mg;return n/t*i>o?{...e,resize:{width:Math.min(i,t/n*o),clipType:null,clipPath:null,clipAspectRatio:null,isAuto:!0}}:e}},51650:()=>{},51737:(e,t,n)=>{"use strict";n.d(t,{vd:()=>i,L6:()=>r});let a=new(n(83747)).b,i=e=>{let{theme:t}=e;a.emit("openThemeConfiguration",{baseTheme:t,view:"editor"})},r=e=>{let{theme:t}=e;a.emit("openThemeConfiguration",{baseTheme:t,view:"editor",isNewFork:!0})}},52055:(e,t,n)=>{"use strict";n.d(t,{G:()=>s});var a=n(77650),i=n(7957),r=n(81570),o=n(50507);let l=()=>a.Ru._({id:"9FTolD"}),s=()=>({title:{type:"title",attrs:{level:1}},h1:{type:"heading",attrs:{level:1}},normalText:{type:"paragraph"},h2:{type:"heading",attrs:{level:2}},h3:{type:"heading",attrs:{level:3}},h4:{type:"heading",attrs:{level:4}},bulletedList:{type:"bullet",attrs:{indent:0}},numberedList:{type:"numbered",attrs:{indent:0}},todoList:{type:"todo",attrs:{indent:0}},blockquote:{type:"blockquote",content:[{type:"paragraph"}]},codeBlock:{type:"codeBlock"},mathBlock:{type:"math_display"},button:{type:"button",content:[{type:"text",text:a.Ru._({id:"uWe4QF"})}]},buttonGroup:{type:"buttonGroup",content:[{type:"button",content:[{type:"text",text:a.Ru._({id:"uWe4QF"})}]}]},table2:{type:"table",content:[{type:"tableRow",content:[{type:"tableCell",attrs:{colspan:1,rowspan:1},content:[{type:"paragraph"}]},{type:"tableCell",attrs:{colspan:1,rowspan:1},content:[{type:"paragraph"}]}]},{type:"tableRow",content:[{type:"tableCell",attrs:{colspan:1,rowspan:1},content:[{type:"paragraph"}]},{type:"tableCell",attrs:{colspan:1,rowspan:1},content:[{type:"paragraph"}]}]}]},table3:{type:"table",content:[{type:"tableRow",content:[{type:"tableCell",attrs:{colspan:1,rowspan:1},content:[{type:"paragraph"}]},{type:"tableCell",attrs:{colspan:1,rowspan:1},content:[{type:"paragraph"}]},{type:"tableCell",attrs:{colspan:1,rowspan:1},content:[{type:"paragraph"}]}]},{type:"tableRow",content:[{type:"tableCell",attrs:{colspan:1,rowspan:1},content:[{type:"paragraph"}]},{type:"tableCell",attrs:{colspan:1,rowspan:1},content:[{type:"paragraph"}]},{type:"tableCell",attrs:{colspan:1,rowspan:1},content:[{type:"paragraph"}]}]},{type:"tableRow",content:[{type:"tableCell",attrs:{colspan:1,rowspan:1},content:[{type:"paragraph"}]},{type:"tableCell",attrs:{colspan:1,rowspan:1},content:[{type:"paragraph"}]},{type:"tableCell",attrs:{colspan:1,rowspan:1},content:[{type:"paragraph"}]}]}]},table4:{type:"table",content:[{type:"tableRow",content:[{type:"tableCell",attrs:{colspan:1,rowspan:1},content:[{type:"paragraph"}]},{type:"tableCell",attrs:{colspan:1,rowspan:1},content:[{type:"paragraph"}]},{type:"tableCell",attrs:{colspan:1,rowspan:1},content:[{type:"paragraph"}]},{type:"tableCell",attrs:{colspan:1,rowspan:1},content:[{type:"paragraph"}]}]},{type:"tableRow",content:[{type:"tableCell",attrs:{colspan:1,rowspan:1},content:[{type:"paragraph"}]},{type:"tableCell",attrs:{colspan:1,rowspan:1},content:[{type:"paragraph"}]},{type:"tableCell",attrs:{colspan:1,rowspan:1},content:[{type:"paragraph"}]},{type:"tableCell",attrs:{colspan:1,rowspan:1},content:[{type:"paragraph"}]}]},{type:"tableRow",content:[{type:"tableCell",attrs:{colspan:1,rowspan:1},content:[{type:"paragraph"}]},{type:"tableCell",attrs:{colspan:1,rowspan:1},content:[{type:"paragraph"}]},{type:"tableCell",attrs:{colspan:1,rowspan:1},content:[{type:"paragraph"}]},{type:"tableCell",attrs:{colspan:1,rowspan:1},content:[{type:"paragraph"}]}]},{type:"tableRow",content:[{type:"tableCell",attrs:{colspan:1,rowspan:1},content:[{type:"paragraph"}]},{type:"tableCell",attrs:{colspan:1,rowspan:1},content:[{type:"paragraph"}]},{type:"tableCell",attrs:{colspan:1,rowspan:1},content:[{type:"paragraph"}]},{type:"tableCell",attrs:{colspan:1,rowspan:1},content:[{type:"paragraph"}]}]}]},columns2:{type:"gridLayout",content:[{type:"gridCell",content:[{type:"paragraph"}]},{type:"gridCell",content:[{type:"paragraph"}]}]},columns3:{type:"gridLayout",content:[{type:"gridCell",content:[{type:"paragraph"}]},{type:"gridCell",content:[{type:"paragraph"}]},{type:"gridCell",content:[{type:"paragraph"}]}]},columns4:{type:"gridLayout",content:[{type:"gridCell",content:[{type:"paragraph"}]},{type:"gridCell",content:[{type:"paragraph"}]},{type:"gridCell",content:[{type:"paragraph"}]},{type:"gridCell",content:[{type:"paragraph"}]}]},insertCardInside:{type:"card",content:[{type:"cardLayoutItem",attrs:{itemId:"body",background:{}},content:[{type:"heading",attrs:{level:1}}]}]},aiCardAfter:{type:"card",attrs:{generatorInput:r.O},content:[{type:"paragraph"}]},imageCard:{type:"card",content:[{type:"cardImageItem"}]},codeCard:{type:"card",content:[{type:"cardCodeItem"}]},footnote:{type:"footnote",content:[{type:"paragraph"}]},contributors:{type:"contributors"},divider:{type:"divider"},tableOfContents:[{type:"heading",attrs:{level:3},content:[{type:"text",text:l()}]},{type:"tableOfContents"}],gallery:{type:"gallery",content:[]},logoGallery:{type:"gallery",attrs:{layout:"logo"},content:[]},...(0,o.s2)(),...(0,i.i)(),toggle:{type:"toggle",content:[{type:"toggleSummary"},{type:"paragraph"}]}})},52842:(e,t,n)=>{"use strict";n.d(t,{PN:()=>r,fJ:()=>i,lK:()=>o});var a=n(77650);let i="card-layout",r="25px",o={accentImage:()=>a.Ru._({id:"YXjp37"}),cardBackground:()=>a.Ru._({id:"VShVKA"})}},53103:(e,t,n)=>{"use strict";n.d(t,{K:()=>i});var a=n(37243);n(55729);class i extends a.KE{constructor(...e){super(...e),this.contentComponent=null}}},53138:(e,t,n)=>{"use strict";n.d(t,{TH:()=>u,YC:()=>m,kT:()=>p,nK:()=>h});var a=n(58495),i=n(87996),r=n(59230),o=n(52762),l=n(91242),s=n(46007),d=n(67097),c=n(16595);let u=(e,t,n,l)=>{var s;let u,p={type:o.h.IMAGE,source:i.mx.key,image:{uploadStatus:r.A.Uploading,source:i.mx.key}};(0,d.aI)(n.type)?(p.image.showPlaceholder=!0,u="HEIC_tempId_".concat((0,a.Ak)())):u=URL.createObjectURL(n),p.image.tempUrl=u;let h=(t,n)=>{if(!u&&!n)return;let a=u||n;(0,c.Ki)(e,a,t)};t.setNodeAttribute(l,"background",p).setMeta("imageUploadUpdateAttrs",!0),(0,i.QM)(n,null==(s=e.storage.mediaUpload)?void 0:s.orgId,{onOriginalFileUpload:h,onUploadComplete:h,onUploadFailed:t=>{(0,c.wt)(e,u,t),URL.revokeObjectURL(u)}})},p=(e,t)=>t.map(t=>(0,d.u3)(t.type)?m(t,e):(0,s.cZ)(t.type,(0,s.QC)(t))?g(t,e):null).filter(e=>null!==e),h=function(e,t,n){let a=p(e,t);if(0==a.length)return;let i=a.map(e=>e.content),r=e.state.doc.resolve(n),o=r.parent.inlineContent,s=n;o&&0===r.parentOffset?s=n-1:o&&null===r.nodeAfter&&(s=n+1),e.chain().insertContentAt(s,i,{updateSelection:!1}).command(e=>{var t;let{tr:n}=e,a=n.doc.resolve(n.mapping.map(s)),i=(0,l.s)(n.doc.resolve(a.pos-((null==(t=a.nodeBefore)?void 0:t.nodeSize)||1)));return i&&n.setSelection(i),!0}).run(),a.forEach(e=>{e.upload()}),setTimeout(()=>{e.commands.scrollIntoView()},200)},m=(e,t)=>{let n={uploadStatus:r.A.Uploading,source:i.mx.key};(0,d.aI)(e.type)?(n.showPlaceholder=!0,n.tempUrl="HEIC_tempId_".concat((0,a.Ak)())):n.tempUrl=URL.createObjectURL(e);let o=(e,a)=>{let i=n.tempUrl;(i||a)&&(0,c.Ki)(t,i||a,e)},l={onOriginalFileUpload:o,onUploadComplete:o,onUploadFailed:e=>{n.tempUrl&&((0,c.wt)(t,n.tempUrl,e),URL.revokeObjectURL(n.tempUrl))}};return{name:e.name,content:{type:"image",attrs:n},upload:()=>{var n;return(0,i.QM)(e,null==(n=t.storage.mediaUpload)?void 0:n.orgId,l)}}},g=(e,t)=>{let n=URL.createObjectURL(e),a={...(0,c.bY)(e),url:n},r=(e,a)=>{(n||a)&&(0,c.XJ)(t,n||a,e)},o={onOriginalFileUpload:r,onUploadComplete:r};return{name:e.name,content:{type:"embed",attrs:a},upload:()=>{var n;return(0,i.QM)(e,null==(n=t.storage.mediaUpload)?void 0:n.orgId,o,"node","doc")}}}},53756:(e,t,n)=>{"use strict";n.d(t,{L:()=>s,X:()=>l});var a=n(55729),i=n(6064),r=n(82960);let o=["GetSavedMedia","GetUserSavedMedia","GetWorkspaceSavedMedia"],l=e=>{var t;let{docId:n,themeId:r,interactionId:l,scope:d="legacy",count:c=18,savedMediaContext:u}=e,{data:p,loading:h,fetchMore:m}=s({scope:d,docId:n,themeId:r,interactionId:l,count:c,savedMediaContext:u}),g=(0,a.useMemo)(()=>{switch(d){case"user":return"userSavedMedia";case"doc":return"workspaceSavedMedia";default:return"savedMedia"}},[d]),x=(0,a.useMemo)(()=>{var e;return((null==p||null==(e=p[g])?void 0:e.edges)||[]).map(e=>e.node)},[p,g]),f=null==p||null==(t=p[g])?void 0:t.pageInfo,[b,v]=(0,a.useState)(!1),y=(0,a.useCallback)(async()=>{if((null==f?void 0:f.hasNextPage)&&(null==f?void 0:f.endCursor)){v(!0);try{await m({variables:{after:f.endCursor},updateQuery:(e,t)=>{var n,a;let{fetchMoreResult:i}=t;if(!i)return e;let r=(null==(n=i[g])?void 0:n.edges)||[],o=[...(null==(a=e[g])?void 0:a.edges)||[],...r];return{...e,[g]:{...i[g],edges:o}}}})}catch(e){console.error("Error loading more images:",e)}finally{v(!1)}}},[m,f,g]),[w,C]=(0,a.useState)(null),[j,A]=(0,a.useState)(!1),[k,S]=(0,a.useState)(!1),[I]=(0,i.GQw)(),[E]=(0,i.t77)(),[L]=(0,i.sIv)(),R=(0,a.useCallback)(async e=>{C(e),A(!0);try{await I({variables:{id:e},update:t=>{t.evict({id:t.identify({id:e,__typename:"SavedMedia"})}),t.gc()},refetchQueries:o})}catch(e){console.error("Error deleting image:",e)}finally{C(null),A(!1)}},[I]),D=(0,a.useCallback)(async e=>{try{await L({variables:{ids:e},refetchQueries:o})}catch(e){console.error("Error unarchiving images:",e)}},[L]),M=(0,a.useCallback)(async e=>{let t=!1;S(!0);try{await E({variables:{ids:e},update:t=>{e.forEach(e=>{t.evict({id:t.identify({id:e,__typename:"SavedMedia"})})}),t.gc()},refetchQueries:o})}catch(e){console.error("Error deleting images:",e),t=!0}finally{S(!1)}return t?{success:!1}:{success:!0,undo:()=>D(e)}},[E,D]);return{history:x,loadMore:y,isLoadingMore:b,canLoadMore:!!(null==f?void 0:f.hasNextPage),isLoading:h,deleteImage:R,deletingId:w,isDeleting:j,isDeletingMany:k,deleteMany:M}},s=e=>{let{scope:t,interactionId:n,docId:a,themeId:o,count:l=18,savedMediaContext:s}=e,d={workspaceId:(0,r.x)(s),types:[i.zut.Image],source:"image.ai-generated",first:l,...n?{interactionId:n}:{}},c={type:i.zut.Image,source:"image.ai-generated",first:l},u={...a?{docId:a}:{},...o?{themeId:o}:{}},p=(0,i.abJ)({variables:{...d},fetchPolicy:"cache-and-network",nextFetchPolicy:"cache-first",skip:"user"!==t}),h=(0,i.Gc5)({variables:{...d,...u},fetchPolicy:"cache-and-network",nextFetchPolicy:"cache-first",skip:"doc"!==t}),m=(0,i.N3Q)({variables:{...c,...u},fetchPolicy:"cache-and-network",nextFetchPolicy:"cache-first",skip:"legacy"!==t});return"user"===t?p:"doc"===t?h:m}},53885:(e,t,n)=>{"use strict";n.d(t,{q:()=>a});let a=new(n(63867)).hs("annotation")},53891:(e,t,n)=>{"use strict";n.d(t,{Rv:()=>s,bG:()=>o,p8:()=>l,vb:()=>r});var a=n(25839),i=n(43634);let r=e=>{let t=(0,a.KA)();return(0,i.q)(e)(t.getState())||!1},o=(e,t)=>{(0,a.KA)().dispatch((0,i.z1)({toggleIds:[e],isExpanded:t}))},l=e=>"toggle"===e.type.name,s=e=>"toggleSummary"===e.type.name},54229:(e,t,n)=>{"use strict";n.d(t,{b:()=>L});var a=n(6029),i=n(57405),r=n(96500),o=n(40452),l=n(49611),s=n(99492),d=n(48621),c=n(19564),u=n(55729),p=n(95889),h=n(77650),m=n(83550),g=n(58959),x=n(48810),f=n(29810),b=n(83743),v=n(82328),y=n(14300);let w=e=>{let{label:t,colors:n,setColor:i,currentColor:r,isDefault:o,handleAddColorButtonClick:s}=e,{isInOfflineMode:d}=(0,v.u)();return(0,a.jsx)(m.r,{children:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(g.z,{px:"2",fontSize:"sm",w:"100%",justifyContent:"space-between",alignItems:"center",mb:"2",mt:+!!s,children:[(0,a.jsx)(x.E,{children:t}),(0,a.jsx)(f.h,{}),s&&(0,a.jsx)(l.$,{variant:"link",fontSize:"sm",onClick:s,isDisabled:d,children:(0,a.jsx)(c.x6,{id:"ePK91l"})})]}),(0,a.jsx)(b.r,{gap:1.5,columns:6,p:2,pt:0,children:n.map((e,t)=>{let{hex:n,name:l}=e;return(0,a.jsx)(y.V,{name:l,color:n,setColor:i,isActive:o?null===r:r===n},t)})})]})})},C=()=>[{key:"black",hex:"#000000",name:h.Ru._({id:"THokF3"})},{key:"dark-gray",hex:"#4D4D4D",name:h.Ru._({id:"uUMrFZ"})},{key:"gray",hex:"#808080",name:h.Ru._({id:"qS5//Q"})},{key:"light-gray",hex:"#CCCCCC",name:h.Ru._({id:"xa/b9m"})},{key:"white-smoke",hex:"#F2F2F2",name:h.Ru._({id:"rGj3KB"})},{key:"white",hex:"#FFFFFF",name:h.Ru._({id:"5Ex+AP"})},{key:"light-sun",hex:"#FCEC99",name:h.Ru._({id:"nOXj3q"})},{key:"peach",hex:"#FFD1A7",name:h.Ru._({id:"68+2yw"})},{key:"salmon",hex:"#FAA1A1",name:h.Ru._({id:"TrGQaZ"})},{key:"lavender",hex:"#D8AFF8",name:h.Ru._({id:"gc4DdH"})},{key:"baby-blue",hex:"#AFCBF8",name:h.Ru._({id:"+bmpN5"})},{key:"pale-green",hex:"#AEE4BD",name:h.Ru._({id:"hUOhvE"})},{key:"gold",hex:"#F9D933",name:h.Ru._({id:"FYlHHU"})},{key:"orange",hex:"#FFA44F",name:h.Ru._({id:"4OE5Sf"})},{key:"red",hex:"#F44444",name:h.Ru._({id:"wRTiSD"})},{key:"purple",hex:"#B05EF1",name:h.Ru._({id:"mF9LxA"})},{key:"blue",hex:"#5E98F1",name:h.Ru._({id:"Zn5crm"})},{key:"green",hex:"#5CC97B",name:h.Ru._({id:"VmkjGB"})},{key:"dark-goldenrod",hex:"#957D00",name:h.Ru._({id:"vWWr+k"})},{key:"brown",hex:"#995515",name:h.Ru._({id:"JLxwQS"})},{key:"maroon",hex:"#910D0D",name:h.Ru._({id:"cg4yu3"})},{key:"dark-purple",hex:"#5E208E",name:h.Ru._({id:"oqSDkM"})},{key:"midnight-blue",hex:"#204C8E",name:h.Ru._({id:"QCyMdk"})},{key:"forest-green",hex:"#1F7135",name:h.Ru._({id:"HVCLqF"})}],j=e=>{let{setColor:t,currentColor:n}=e;return(0,a.jsx)(w,{label:h.Ru._({id:"Zp2USm"}),colors:C(),setColor:t,currentColor:n})};var A=n(25839),k=n(51737),S=n(62452),I=n(43634);let E=e=>{let{setColor:t,currentColor:n,showAddColorButton:i=!0}=e,r=(0,A.GV)(I.SJ),o=(0,S.ND)(r,!0).map(e=>{let t=(0,S.Ik)(e);return{hex:t,key:t}});return(0,a.jsx)(w,{label:h.Ru._({id:"J1XRO3"}),colors:o,setColor:t,currentColor:n,...i?{handleAddColorButtonClick:()=>{r.workspaceId?(0,k.vd)({theme:r}):(0,k.L6)({theme:r})}}:{},addColorLabel:null===r.workspaceId?h.Ru._({id:"0TWTg2"}):h.Ru._({id:"TExCtI"})})},L=e=>{let{currentColor:t,setColor:n,unsetColor:h=()=>n(null),source:m,showAddColorButton:g=!0}=e,x=(0,p.st)(),f=(0,u.useCallback)(e=>{null==x||x.track(p.VV.COLOR_PICKER_SET_COLOR,{color:e,source:m}),n(e)},[n,x,m]),b=(0,u.useCallback)(()=>{null==x||x.track(p.VV.COLOR_PICKER_RESET,{source:m}),h()},[h,x,m]);return(0,p.JQ)(e=>{e.track(p.VV.COLOR_PICKER_OPENED,{source:m})},[m]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(i.T,{divider:(0,a.jsx)(r.c,{}),p:0,align:"start",children:[(0,a.jsx)(E,{showAddColorButton:g,setColor:f,currentColor:t}),(0,a.jsx)(j,{setColor:f,currentColor:t})]}),(0,a.jsx)(o.s,{px:5,py:3,bg:"gray.50",alignItems:"center",justifyContent:"center",mx:-2,mb:-2,mt:2,children:(0,a.jsx)(l.$,{onClick:b,variant:"link",size:"sm",colorScheme:"gray",leftIcon:(0,a.jsx)(d.g,{icon:s.U23}),children:(0,a.jsx)(c.x6,{id:"L+rMC9"})})})]})}},54604:(e,t,n)=>{"use strict";n.d(t,{E:()=>c});var a=n(55729),i=n(39247),r=n(27002),o=n(25839),l=n(43634),s=n(85235),d=n(6845);n(61385);let c=e=>{let t=(0,a.useRef)("doc"),n=(0,o.CU)(),c=(0,o.GV)(i.NG),u=(0,o.GV)(n=>{let a=(0,l.$i)(n)||"",i=(0,l.Ev)(n),o=(0,l.bO)(n),d=(0,l.wC)(n),u=i.parents[a]||[],p=u.reduce((e,t)=>e[t],i.tree),h=o.includes(a),m=d===s.w.SLIDE_VIEW;if(m&&!h||!m&&h)return t.current;if(!m&&!h)return"doc";let g=o.filter(e=>p[e]&&!(null==c?void 0:c[e])),x=e=>p[e]?g.indexOf(e)-g.indexOf(a):1/0,f=x(e),b=u.indexOf(e)>-1,v=g.some(t=>p[t][e]&&1>=Math.abs(x(t))),y=a===e,w=r.of.get("presentModeFlat"),C=i.parents[e];if(!C)return t.current;let j=C.includes(a);return v||w&&j?"presentCollapsed":b?"presentParent":y?"presentCurrent":-1===f?"presentPrev":1===f?"presentNext":"doc"});return(0,a.useEffect)(()=>{t.current=u;let a=n.getState();if((0,l.e4)(a))return;let i=r.of.get("presentModeFlat");"presentCollapsed"!==u||i?["presentParent","presentCurrent","presentPrev","presentNext"].includes(u)&&(0,d.wE)(e,!1):(0,d.wE)(e,!0)},[n,u,e]),[u,t.current]}},54765:(e,t,n)=>{"use strict";n.d(t,{u:()=>nj});var a=n(6029),i=n(26420),r=n(21938),o=n(48342),l=n(58495),s=n(55729),d=n(82328),c=n(27002),u=n(25839),p=n(63902),h=n(43607),m=n(41896),g=n(43634),x=n(6830),f=n(29608),b=n(71595),v=n(50764);let y=e=>{let{editor:t,decorations:n}=e,a=n.filter(e=>!!e.spec.isMobileAnnotation),[i,r]=(0,s.useState)(null),o=(0,s.useRef)(null);return(0,s.useEffect)(()=>{if(0===a.length){null!==o.current&&(document.removeEventListener("touchstart",o.current),o.current=null,r(null));return}o.current||(r({left:a[0].spec.offsetX,top:a[0].spec.offsetY}),o.current=e=>{e.target.closest(".mobile-add-comment-widget")||t.commands.setMobileAddBlockComment(null)},document.addEventListener("touchstart",o.current))},[t,a]),i};var w=n(46898),C=n(74158),j=n(17928),A=n(92397),k=n(6181),S=n(77650),I=n(37243),E=n(13731),L=n.n(E),R=n(26194),D=n.n(R),M=n(35342),_=n.n(M),z=n(83817),T=n.n(z),N=n(6064),P=n(58809),O=n(73014),H=n(33201),F=n(56603),B=n(77639),V=n(831),W=n.n(V);let U=(e,t)=>{for(let n of e){if(n.id===t)return t;for(let e of n.replies||[])if(e.id===t)return n.id}return null},G=e=>{let{reactions:t,emoji:n,user:a}=e,i=t.find(e=>e.emoji===n);return i&&i.reactions.find(e=>{var t;return e.emoji===n&&(null==(t=e.users)?void 0:t.find(e=>e.id===(null==a?void 0:a.id)))})||null},K=e=>{let{reactions:t,emoji:n,user:a}=e;return!!G({reactions:t,emoji:n,user:a})},Q=e=>{let{reactions:t,emoji:n}=e,a=t.find(e=>e.emoji===n);return a&&a.reactions.find(e=>e.emoji===n)||null},Z=e=>W()(e.reactions.flatMap(e=>e.users),"id"),q=(0,f.Xb)()?"bottom":"top";function $(e){return e?e.reduce((e,t)=>(t.targetId&&(e[t.targetId]?e[t.targetId].push(t):e[t.targetId]=[t]),e),{}):null}let J=e=>e.filter(e=>!!e.spec.isAnnotation),Y=e=>(0,u.GV)(t=>{let n=(0,P.Jo)(t),a=$(((null==n?void 0:n.comments)||[]).filter(e=>e.status===N.EB6.Open));if(!a)return[];let i=J(e);return _()(i,e=>{let{spec:t}=e;return a[t.id]}).filter(Boolean)},T()),X=e=>e.filter(e=>!!e.spec.isDraftComment).map(e=>e.spec.comment),ee=e=>{let{draftComment:t,clearDraftComment:n,editor:a}=e,[i]=(0,N.eRM)(),r=(0,w.d)(),o=a.gammaDocId,{user:l}=(0,k.ur)();return e=>{var s;if(!t)return;let{relativePos:d,targetId:c}=t,u=(0,F.d_)(a.state,d);if(!u)throw Error("Could not save comment, null pos from relativePos");let p=(0,I.eL)(a.state.doc.resolve(u),H.jg),h=a.view.state.doc.nodeAt(u),m=t.targetHtml||(0,O.Lo)(h,["footnote","footnoteLabel","cardNotes"]),g=t.targetHtml||(0,O.V6)(h,["footnote","footnoteLabel","cardNotes"]);a.commands.addAnnotation({id:c,pos:u});let x={targetId:c,docId:o,cardId:null==p||null==(s=p.node)?void 0:s.attrs.id,content:e,targetHtml:m,targetText:g};i({variables:{input:x},update:(e,t)=>{let{data:n}=t;e.writeFragment({id:"Doc:".concat(o),fragment:B.Mi,fragmentName:"DocCommentsCreate",data:{comments:[null==n?void 0:n.createComment]}})},optimisticResponse:{createComment:{id:"temp-id",commentId:"",__typename:"Comment",...x,content:JSON.parse(JSON.stringify(e)),user:l,archived:!1,reactions:[],replies:[],status:N.EB6.Open,createdTime:new Date().toISOString(),updatedTime:new Date().toISOString()}}}),r({title:S.Ru._({id:"4kSebh"}),status:"success",duration:5e3,isClosable:!1,position:q}),n()}},et=(e,t)=>{(0,s.useEffect)(()=>{let n=!0,a=a=>{let{selectionPos:i,parentPos:r,text:o}=a;n&&e()===r&&t({targetHtml:o,getPos:()=>i})};return j.LF.on(j.DN.CREATE_COMMENT_FROM_SELECTION,a),()=>{j.LF.on(j.DN.CREATE_COMMENT_FROM_SELECTION,a),n=!1}},[e,t])},en=e=>{let{showComment:t,comments:n,blockAllowsCommenting:a,highlightDuration:i=4e3}=e,[r,o]=(0,s.useState)(null);return(0,s.useEffect)(()=>{let e=!0,r=r=>{let{commentId:l,highlightComment:s=!1}=r;if(!e||!a)return;let d=U(n,l);d&&(t(d),s&&(o(l),setTimeout(()=>{e&&o(null)},i)))};return j.LF.on(j.DN.OPEN_POPUP_COMMENT,r),()=>{j.LF.off(j.DN.OPEN_POPUP_COMMENT,r),e=!1}},[n,a,i,t]),r},ea=e=>{let t=(0,C.wA)(),n=(0,u.GV)((0,g.iZ)(e)),a=(0,s.useRef)(null),[i,r]=(0,s.useState)(!1),o=(0,s.useCallback)(e=>{a.current=e,r(!!e)},[]),l=(0,s.useCallback)(()=>{a.current=n,r(!!n)},[n]),d=(0,s.useCallback)(()=>{var n;if(!a.current||!(null==(n=a.current.text)?void 0:n.length))return void t((0,g.zq)({id:e}));t((0,g.rR)({id:e,reply:a.current}))},[e,t]),c=(0,s.useRef)(d);return(0,s.useEffect)(()=>{c.current=d},[d]),(0,s.useEffect)(()=>(l(),()=>{c.current()}),[]),{hasLocalDraftReply:i,initialDraftReply:a.current,updateLocalDraftReply:o}},ei=e=>(0,u.GV)(t=>{let n=(0,P.Jo)(t),a=$((null==n?void 0:n.reactions)||[]);if(!a)return[];let i=J(e),r=_()(i,e=>{let{spec:t}=e;return a[t.id]}).filter(Boolean),o=L()(r,"emoji"),l=[];for(let[e,t]of Object.entries(o)){let n=t.reduce((e,t)=>e+t.count,0);l.push({emoji:e,count:n,reactions:t})}return D()(l.filter(e=>e.count>0),"count").reverse()},T());var er=n(58959),eo=n(55597),el=n(40452),es=n(26385),ed=n(17496),ec=n(99492),eu=n(19564),ep=n(4014),eh=n(5061),em=n(80180),eg=n(49611),ex=n(74676),ef=n(48621);let eb=(0,s.memo)(e=>{let{isMobile:t,icon:n,badgeCount:i,tooltip:r,children:l,...s}=e;t&&delete s._hover;let d=(0,a.jsx)(er.z,{className:"block-comment-button-wrapper",children:(0,a.jsxs)(eg.$,{variant:"custom",borderRadius:"full",size:"sm",bgGradient:"none",color:"yellow.600",boxSize:t?10:8,border:t?"":"1px solid white",transitionProperty:"common",transitionDuration:"normal",_hover:t?{}:{bgGradient:"linear(to-b, yellow.300, yellow.400)",color:"yellow.700"},...s,children:[n&&(0,a.jsx)(ef.g,{size:t?"lg":"sm",icon:n}),l&&l,void 0!==i&&(0,a.jsx)(ex.E,{colorScheme:"yellow",borderRadius:"full",pos:"absolute",bottom:-1,right:-1,shadow:"base","data-testid":"badge-count",children:i})]})});return r?(0,a.jsx)(o.Tz,{placement:"left",label:r,children:d}):d});eb.displayName="GenericBlockCommentButton";var ev=n(89122);let ey="350px",ew="temp-id";var eC=n(65978);let ej=e=>{let{comments:t,reactions:n,draftComment:a}=e;if(a&&a.text.trim().length>0)return"draft";if(0===t.length)return 0===n.length?"fresh":"reactions-only";if(1===t.length)return"single-thread";if(t.length>1)return"multiple-threads";throw Error("Invalid button state")},eA=e=>{let{comments:t,reactions:n}=e,a={};return t.forEach(e=>{a[e.id]=[e.user],e.replies.forEach(t=>{a[e.id].push(t.user)})}),Object.entries(a).forEach(e=>{let[t,n]=e;a[t]=W()(n,"id")}),a},ek=e=>{let{reactions:t}=e,n={};return t.forEach(e=>{n[e.emoji]=W()(e.reactions.flatMap(e=>e.users),"id")}),n},eS=e=>{let{comments:t,reactions:n,draftComment:a}=e,i=ej({comments:t,reactions:n,draftComment:a});return{state:i,allCount:t.reduce((e,t)=>{var n;return e+((null==(n=t.replies)?void 0:n.length)||0)},0)+n.reduce((e,t)=>e+t.count,0)+t.length,overflowReactionCount:Math.max(0,n.length-7)}},eI=e=>{let{comments:t,reactions:n}=e,a=n.flatMap(e=>e.reactions.map(e=>e.users)).flat(),i=t.map(e=>e.user).concat(t.map(e=>e.replies.map(e=>e.user)).flat()).filter(Boolean),r=eA({comments:t,reactions:n}),o=W()([...i,...a],"id"),l=[],s=ek({reactions:n});return t.forEach(e=>{l.push(r[e.id])}),{allAvatars:o,reactionAvatars:s,commentAvatars:l}},eE=e=>{let{popup:t,isMobile:n,isHovered:a,comments:i,reactions:r,draftComment:o,enableReactions:l}=e,{state:d}=eS({comments:i,reactions:r,draftComment:o}),c=n||l&&a||!l&&a&&"fresh"!==d||null!==t;return(0,s.useEffect)(()=>{n||(c?document.body.classList.add("is-taking-action"):document.body.classList.remove("is-taking-action"))},[c,n]),{isExpanded:c}},eL=e=>{let{isOpen:t,popupRef:n,onClose:a}=e;(0,ev.j)({ref:n,handler:e=>{var n,i,r,o,l,s,d;(0,f.mG)()&&!(null==e||null==(n=e.target)?void 0:n.closest(".".concat(eC.V," [data-controls-toggle-button]")))||!t||(null==e||null==(i=e.target)?void 0:i.closest("[data-controls-toggle-button]"))||(null==e||null==(r=e.target)?void 0:r.closest('[data-target-name="emoji-list"]'))||(null==e||null==(o=e.target)?void 0:o.closest('[data-target-name="mention-list"]'))||(null==e||null==(l=e.target)?void 0:l.closest('[data-target-name="reaction-emoji-picker"]'))||(null==e||null==(s=e.target)?void 0:s.closest(".chakra-menu__menu-list"))||(null==e||null==(d=e.target)?void 0:d.closest('[data-target-name="doc-mention-popup"]'))||a()}})},eR=e=>{let{editor:t,getPos:n}=e,a=t.view.nodeDOM(n()),[i,r]=(0,s.useState)(null);return((0,s.useLayoutEffect)(()=>{r((null==a?void 0:a.offsetHeight)||100)},[]),null===i)?null:Math.min(i,128)};var eD=n(48810),eM=n(3276),e_=n(77850);let ez=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30;return e.length?1===e.length?e[0]:2===e.length?e.join(" and "):e.length<=t?"".concat([e.slice(0,e.length-1).join(", "),e[e.length-1]].join(", and ")):"".concat([e.slice(0,t).join(", "),"".concat(e.length-t," ").concat(e.length-t>1?"others":"other")].join(", and ")):null},eT=e=>{let{users:t,selfUserId:n}=e;return ez(t?[...t].sort(e=>(null==e?void 0:e.id)===n?-1:1).map(e=>(null==e?void 0:e.id)===n?"You":(null==e?void 0:e.displayName)||""):[])},eN=(0,e_.P)(i.a),eP=(0,s.memo)(e=>{let{emojis:t,rtlEnabled:n}=e;return(0,a.jsx)(a.Fragment,{children:null==t?void 0:t.map((e,i)=>0===i?(0,a.jsx)(eN,{initial:{x:n?"-6px":"6px",y:"5px"},textShadow:(null==t?void 0:t.length)>1?"0px 1px 3px rgba(0,0,0,.4)":"none",fontSize:"20px",position:"absolute",zIndex:1,children:(0,a.jsx)("em-emoji",{size:0,native:!0,id:e})},i):1===i?(0,a.jsx)(eN,{zIndex:0,initial:{x:n?"-10px":"10px",y:"6px",scale:.7},animate:{scale:.7,rotate:"10deg",x:n?"-18px":"18px",y:"-3px"},position:"absolute",children:(0,a.jsx)("em-emoji",{size:0,native:!0,id:e})},i):2===i?(0,a.jsx)(eN,{zIndex:0,initial:{x:n?"-10px":"10px",y:"6px",scale:.7},animate:{scale:.7,rotate:"-10deg",x:n?"3px":"-3px",y:"16px"},position:"absolute",children:(0,a.jsx)("em-emoji",{size:0,native:!0,id:e})},i):3===i?(0,a.jsx)(eN,{zIndex:0,initial:{x:n?"-10px":"10px",y:"6px",scale:.7},animate:{scale:.7,rotate:"-10deg",x:n?"3px":"-3px",y:"-3px"},position:"absolute",children:(0,a.jsx)("em-emoji",{size:0,native:!0,id:e})},i):null)})});eP.displayName="EmojiCluster";let eO=(0,e_.P)(i.a),eH=(0,s.memo)(e=>{let{emoji:t,emojiCluster:n,isMobile:r,user:l,canReact:d,reaction:c,badgeCount:u,onClick:p,...h}=e,m=(0,eh.fW)(),g=Z(c),x=!!g.find(e=>e.id===(null==l?void 0:l.id)),f=eT({users:g,selfUserId:(null==l?void 0:l.id)||""}),b=(0,a.jsxs)(i.a,{alignContent:"center",children:[(0,a.jsx)(eu.x6,{id:"mRnNF/",values:{usersLabel:f,emoji:t},components:{0:(0,a.jsx)(eD.E,{as:"span",color:"gray.300"})}}),d&&(0,a.jsx)(eD.E,{display:"block",color:"gray.500",children:x?(0,a.jsx)(eu.x6,{id:"fb/FjL"}):(0,a.jsx)(eu.x6,{id:"AG3H1y"})})]}),v=(0,a.jsx)(er.z,{className:"block-comment-button-wrapper",children:(0,a.jsxs)(eg.$,{variant:"ghost",borderRadius:"full",size:"sm",boxSize:r?10:8,transitionProperty:"common",transitionDuration:"normal",...x?{bg:"gray.50",borderColor:r?"blackAlpha.200":"gray.200"}:{},...h,onClick:e=>{d&&p&&p(e)},pos:"relative",children:[(0,a.jsx)(s.Suspense,{fallback:(0,a.jsx)(eM.y,{size:"sm"}),children:(0,a.jsxs)(eD.E,{pos:"absolute",inset:0,as:"span",sx:{".emoji-mart-emoji":{fontSize:"1em",span:{cursor:"inherit",fontSize:"1em !important"},":hover::before":r?{}:{backgroundColor:"transparent"}}},fontSize:r?"1.5em":"1.25em",children:[!n&&(0,a.jsx)(eO,{initial:{x:m?"-6px":"6px",y:"5px"},fontSize:"20px",position:"absolute",zIndex:1,children:(0,a.jsx)("em-emoji",{size:0,native:!0,id:t})}),(0,a.jsx)(ep.N,{children:(0,a.jsx)(eP,{emojis:n,rtlEnabled:m})})]})}),void 0!==u&&(0,a.jsx)(ex.E,{colorScheme:"yellow",borderRadius:"full",pos:"absolute",bottom:-1,insetEnd:-1,shadow:"base",zIndex:1,children:u})]})});return b?(0,a.jsx)(o.Tz,{placement:"left",label:b,children:v}):v});eH.displayName="ReactionButton";let eF={bg:"yellow.600",color:"yellow.100",_hover:{bg:"yellow.600",color:"yellow.100"}},eB={bg:"yellow.100",color:"yellow.800"},eV="linear(to-b, yellow.200, yellow.300)",eW=e=>{e.stopPropagation()},eU=(0,s.memo)(e=>{let{user:t,userCanComment:n,isExpanded:r,isMobile:o,comments:l,reactions:s,draftComment:d,onClickThread:c,onClickAddComment:u,onClickAddReaction:p,onClickReactionsOverflow:h,onClickExistingReaction:m,onClosePopup:g,hideAddCommentButton:x=!1,viewingCommentId:f,enableReactions:b,blockAllowsCommenting:v,...y}=e,w=(0,eh.fW)(),{state:C,allCount:j,overflowReactionCount:A}=eS({comments:l,reactions:s,draftComment:d}),k=[];if(!r)switch(C){case"draft":k.push((0,a.jsx)(eb,{isMobile:o,icon:ec.I$7,onClick:u,bg:r?"gray.50":"white",_hover:eB,color:"gray.600"},"draft"));break;case"fresh":k.push((0,a.jsx)(eb,{isMobile:o,icon:eo.vdI,bg:r?"gray.50":"white",_hover:eB,color:"gray.600",bgGradient:eV,tooltip:(0,a.jsx)(eu.x6,{id:"oFsfkI"}),"data-testid":"create-comment-button",onClick:u},"fresh"));break;case"reactions-only":if(s.length>0){let e=s[0],i=s.reduce((e,t)=>(e.push(t.emoji),e),[]);k.push((0,a.jsx)(eH,{isMobile:o,onClick:t=>{m(e),t.stopPropagation()},reaction:e,user:t,badgeCount:j,emoji:e.emoji,"data-testid":"reaction-".concat(e.emoji),emojiCluster:i,canReact:n&&v},e.emoji))}break;case"single-thread":k.push((0,a.jsx)(eb,{isMobile:o,icon:eo.DN2,bgGradient:eV,badgeCount:j,"data-testid":"single-thread"},"first-thread"));break;case"multiple-threads":k.push((0,a.jsx)(eb,{isMobile:o,bgGradient:eV,icon:eo.q9p,badgeCount:j,"data-testid":"multiple-threads"},"first-thread"))}return(r&&(l.forEach((e,t)=>{let n=null!==f&&e.id===f,i=n?()=>g():()=>c(e);k.push((0,a.jsx)(eb,{isMobile:o,icon:eo.DN2,badgeCount:e.replies.length+1,bgGradient:eV,onClick:i,"data-testid":"thread-".concat(t),...n?eF:{}},0===t?"first-thread":"thread-".concat(t)))}),b&&(s.slice(0,7).forEach(e=>{k.push((0,a.jsx)(eH,{isMobile:o,onClick:t=>{m(e),t.stopPropagation()},"data-testid":"reaction-".concat(e.emoji),reaction:e,user:t,badgeCount:e.count,emoji:e.emoji,canReact:n&&v},e.emoji))}),A>0&&k.push((0,a.jsxs)(eb,{isMobile:o,onClick:()=>{h()},bg:"gray.50",color:"yellow.800",_hover:eB,children:["+",A]},"reactions-overflow"))),"draft"===C?k.push((0,a.jsx)(eb,{isMobile:o,icon:ec.I$7,tooltip:(0,a.jsx)(eu.x6,{id:"x8Zuns"}),onClick:u,bg:r?"gray.50":"white",_hover:eB,"data-testid":"create-comment-button-draft",color:"gray.600"},"draft")):x||o||k.push((0,a.jsx)(eb,{isMobile:o,icon:eo.vdI,transform:w?"scaleX(-1)":"",bgGradient:eV,tooltip:(0,a.jsx)(eu.x6,{id:"oFsfkI"}),onClick:u,bg:r?"gray.50":"white",_hover:eB,"data-testid":"create-comment-button",color:"gray.600"},"fresh")),b&&n&&!x&&!o&&k.push((0,a.jsx)(eb,{isMobile:o,icon:eo.Q3O,transform:w?"scaleX(-1)":"",bgGradient:eV,onClick:()=>{p()},tooltip:(0,a.jsx)(eu.x6,{id:"9OEgyT"}),"data-testid":"add-reaction-button",bg:"gray.50",_hover:eB,color:"gray.600"},"add-reaction"))),o)?(0,a.jsx)(el.s,{className:"block-comments-inner-stack",userSelect:"none",transitionProperty:"all",transitionDuration:"fast",flexDir:"row",flexWrap:"wrap",onClick:eW,children:k}):(0,a.jsxs)(es.B,{className:"block-comments-inner-stack",userSelect:"none",spacing:0,width:"34px",transitionProperty:"all",transitionDuration:"fast",onClick:eW,borderRadius:"full",boxShadow:"0 0 0 2px rgba(0,0,0,.1)",bg:"white",border:"1px solid transparent",onMouseDown:em.Fw,"data-testid":"block-comments-buttons",...y,children:[(0,a.jsx)(i.a,{children:k[0]}),(0,a.jsx)(ed.S,{in:r,startingHeight:0,transitionEnd:{enter:{overflow:"initial"}},children:(0,a.jsx)(ep.N,{children:k.length>1&&(0,a.jsx)(es.B,{spacing:1,children:k.slice(1)})})})]})});eU.displayName="BlockCommentsButtons";let eG=(0,s.memo)(e=>{let{onClickAddComment:t,onClickAddReaction:n,...r}=e;return(0,a.jsx)(i.a,{className:"mobile-add-comment-widget",pos:"absolute",transform:"translate(-50%,-50%) scale(1)",mt:-6,background:"white",p:"4px",borderRadius:"full",shadow:"lg",transitionProperty:"common",transitionDuration:"normal",transitionTimingFunction:"cubic-bezier(0.34, 1.56, 0.64, 1);",zIndex:9,...r,children:(0,a.jsxs)(er.z,{spacing:1,children:[(0,a.jsx)(eb,{isMobile:!0,icon:eo.vdI,bg:"white",_hover:eB,color:"gray.600",bgGradient:eV,onClick:()=>{t()}},"fresh"),(0,a.jsx)(eb,{isMobile:!0,icon:eo.Q3O,bgGradient:eV,onClick:()=>{n()},bg:"white",_hover:eB,color:"gray.600"},"add-reaction")]})})});eG.displayName="MobileAddCommentWidget";var eK=n(16842),eQ=n(96990);let eZ=(0,s.memo)(e=>{let{comments:t,reactions:n,isExpanded:i,avatarMax:r=4}=e,{allAvatars:o,reactionAvatars:l,commentAvatars:s}=eI({comments:t,reactions:n});return(0,a.jsxs)(es.B,{className:"avatar-group-popup",spacing:1,transitionProperty:"common",transitionDuration:"fast",onClick:e=>{e.stopPropagation()},p:"1px",ps:3,userSelect:"none",children:[!i&&(0,a.jsx)(eK.Z,{max:r,style:{fontSize:"var(--chakra-fontSizes-sm)"},size:"sm",justifyContent:"start",opacity:[0,0,0,1],transitionProperty:"common",transitionDuration:"normal",position:"relative",children:o.map((e,t)=>(0,a.jsx)(eQ.e,{zIndex:o.length-t,me:-3,name:null==e?void 0:e.displayName,src:null==e?void 0:e.profileImageUrl,shadow:"base",ignoreFallback:!0},"unexpanded-".concat(null==e?void 0:e.id)))}),i&&(0,a.jsxs)(a.Fragment,{children:[s.map((e,t)=>(0,a.jsx)(eK.Z,{max:r,style:{fontSize:"var(--chakra-fontSizes-sm)"},size:"sm",justifyContent:"start",opacity:[0,0,0,1],transitionProperty:"common",transitionDuration:"normal",position:"relative",children:e.map((e,t)=>(0,a.jsx)(eQ.e,{zIndex:o.length-t,me:-3,name:null==e?void 0:e.displayName,src:null==e?void 0:e.profileImageUrl,shadow:"base",ignoreFallback:!0},"comment-".concat(null==e?void 0:e.id)))},"comment-".concat(t))),n.slice(0,7).map((e,t)=>(0,a.jsx)(eK.Z,{max:r,style:{fontSize:"var(--chakra-fontSizes-sm)"},size:"sm",justifyContent:"start",opacity:[0,0,0,1],transitionProperty:"common",transitionDuration:"normal",position:"relative",children:l[e.emoji].map((e,t)=>(0,a.jsx)(eQ.e,{zIndex:o.length-t,me:-3,name:null==e?void 0:e.displayName,src:null==e?void 0:e.profileImageUrl,shadow:"base",ignoreFallback:!0},"reaction-".concat(null==e?void 0:e.id)))},"reaction-".concat(t)))]})]})});eZ.displayName="AvatarGroupPopup";let eq=e=>{let{isMobile:t,emoji:n}=e,i=S.Ru._({id:"r2ONxg"});return(0,a.jsx)(s.Suspense,{fallback:(0,a.jsx)(eM.y,{size:"sm"}),children:(0,a.jsxs)(eD.E,{as:"span",sx:{".emoji-mart-emoji":{fontSize:"1em",span:{cursor:"inherit",fontSize:"1em !important"}}},children:[(0,a.jsx)("em-emoji",{size:0,native:!0,id:n})," ",i,"."]})})};var e$=n(57405),eJ=n(23293),eY=n(80314),eX=n(58297),e0=n(81107),e1=n(37219),e2=n(91938),e4=n(82169),e5=n(8205);let e6=null,e3=null,e9=e=>{var t,n,a,i;let{event:r,errorCallback:o,redirectTo:l,doneCallback:s}=e,{data:d}=r;if("loginComplete"===d.type&&(0,e4.v)({data:null==d||null==(t=d.payload)?void 0:t.data,redirectTo:l,doneCallback:s,shouldClientSideRedirect:!0,googleMethod:"POPUP"}),"signupComplete"===d.type&&(0,e4.W)({data:null==d||null==(n=d.payload)?void 0:n.data,redirectTo:l,doneCallback:s,shouldClientSideRedirect:!0,googleMethod:"POPUP"}),"loginFailure"===d.type){let e=null==r||null==(i=r.data)||null==(a=i.payload)?void 0:a.code;if(!o)return void console.error("No error callback defined");if(!e)return void console.error("No code defined");o(e)}};var e7=function(e){return e.ACCEPT_DOC_INVITATION="accept-doc-invitation",e.ACCEPT_WORKSPACE_INVITATION="accept-workspace-invitation",e.DOC_ACCESS_LINK="doc-access-link",e.JOIN_WITH_CODE="join-with-code",e.DEFAULT_LOGIN="login",e.SIGNUP="signup",e}({});let e8=(e,t)=>{switch(e){case"join-with-code":{let{workspaceId:e,inviteCode:n,referredByUserId:a}=t,i=new URL("".concat(e2.$.API_HOST||"https://gamma.app","/organizations/").concat(e,"/join/").concat(n));return a&&i.searchParams.set("referredByUserId",a),i.toString()}case"accept-doc-invitation":{let{docId:e,email:n,inviteCode:a}=t;return"".concat(e2.$.API_HOST,"/invitations/docs/").concat(e,"/?inviteCode=").concat(a,"&email=").concat(n)}case"accept-workspace-invitation":{let{workspaceId:e,email:n,inviteCode:a}=t;return"".concat(e2.$.API_HOST,"/invitations/workspaces/").concat(e,"?inviteCode=").concat(a,"&email=").concat(n)}case"doc-access-link":{let{docId:e,shareToken:n}=t;return"".concat(e2.$.API_HOST,"/access-links/docs/").concat(e,"/?token=").concat(n)}case"signup":{let{inviteCode:e,referredByUserId:n,partnerStackClickId:a,partnerStackPartnerId:i}=t,r=new URL("".concat(e2.$.API_HOST||"https://gamma.app","/signup"));return e&&r.searchParams.set("inviteCode",e),n&&r.searchParams.set("referredByUserId",n),a&&r.searchParams.set("partnerStackClickId",a),i&&r.searchParams.set("partnerStackPartnerId",i),r.toString()}default:return"".concat(e2.$.API_HOST,"/login")}},te=e=>{let{type:t,params:n,errorCallback:a,redirectTo:i,doneCallback:r}=e,o=e8(t,n),l="toolbar=no, menubar=no, width=600, height=700, top=100, left=100";null===e6||e6.closed?e6=window.open(o,t,l):e3!==o?null!==(e6=window.open(o,t,l))&&e6.focus():e6.focus(),(0,e5.EM)().addEventListener("message",e=>{e9({event:e,errorCallback:a,redirectTo:i,doneCallback:r})}),e3=o};var tt=n(99038);let tn={invalid_signup_code:{title:(0,a.jsx)(eu.x6,{id:"F6yt1L",values:{GAMMA_PROPER_NOUN:tt.On}}),description:(0,a.jsx)(eu.x6,{id:"hVNvhu"})},invalid_reset_code:{title:(0,a.jsx)(eu.x6,{id:"SvShcH"}),description:(0,a.jsx)(eu.x6,{id:"Vm3y4h"})},invalid_user:{title:(0,a.jsx)(eu.x6,{id:"a2AYF6"}),description:(0,a.jsx)(eu.x6,{id:"x9CdxW",values:{GAMMA_PROPER_NOUN:tt.On}})},other_workspace_member:{title:(0,a.jsx)(eu.x6,{id:"J5F9Vo"}),description:(0,a.jsx)(eu.x6,{id:"PX8jn2",values:{GAMMA_PROPER_NOUN:tt.On,GAMMA_SUPPORT_EMAIL_ADDRESS:tt.uz}})}};var ta=n(44637);let ti=e=>{var t,n,i;let{accessLink:r,doc:o,refetchFn:l,...s}=e,d=!(0,f._y)(),c=(0,w.d)(),{refetch:u}=(0,k.ur)(),p=l||u,h=e=>{let{title:t,description:n}=tn[e]||{title:(0,a.jsx)(eu.x6,{id:"U7nnQt"}),description:e};c.isActive(e)||c({title:t,description:n,position:"top",id:e,status:"error",isClosable:!0,duration:null})},m=null!=(n=null==r?void 0:r.permission)?n:"view",g={manage:(0,a.jsx)(eu.x6,{id:"C11Xkl",values:{GAMMA_ARTIFACT_PROPER_NOUN:tt.TP}}),edit:(0,a.jsx)(eu.x6,{id:"C11Xkl",values:{GAMMA_ARTIFACT_PROPER_NOUN:tt.TP}}),comment:(0,a.jsx)(eu.x6,{id:"gu6c+c",values:{GAMMA_ARTIFACT_PROPER_NOUN:tt.TP}}),view:(0,a.jsx)(eu.x6,{id:"LoR9yH",values:{GAMMA_ARTIFACT_PROPER_NOUN:tt.TP}})}[m],x={manage:(0,a.jsx)(eu.x6,{id:"MEeXaP"}),edit:(0,a.jsx)(eu.x6,{id:"MEeXaP"}),comment:(0,a.jsx)(eu.x6,{id:"dx3Kfr"}),view:(0,a.jsx)(eu.x6,{id:"R2ZEYO"})}[m],b={manage:{icon:eo.zLW,colorScheme:"sky"},edit:{icon:eo.zLW,colorScheme:"sky"},comment:{icon:eo.DN2,colorScheme:"yellow"},view:{icon:eo.ao0,colorScheme:"green"}},v=null!=(i=null==o||null==(t=o.editors)?void 0:t.map(e=>e.user.displayName))?i:[],y=(()=>{switch(m){case"manage":case"edit":switch(v.length){case 0:return(0,a.jsx)(eu.x6,{id:"bspMVx",values:{GAMMA_ARTIFACT_PROPER_NOUN:tt.TP},components:{0:(0,a.jsx)("span",{role:"img","aria-label":S.Ru._({id:"JGFG6q"})}),1:(0,a.jsx)("strong",{})}});case 1:return(0,a.jsx)(eu.x6,{id:"w49thS",values:{GAMMA_ARTIFACT_PROPER_NOUN:tt.TP,0:v[0]},components:{0:(0,a.jsx)("span",{role:"img","aria-label":S.Ru._({id:"JGFG6q"})}),1:(0,a.jsx)("strong",{})}});case 2:return(0,a.jsx)(eu.x6,{id:"Tz4Wi7",values:{0:v[0],1:v[1]},components:{0:(0,a.jsx)("span",{role:"img","aria-label":S.Ru._({id:"7Lrnj6"})}),1:(0,a.jsx)("strong",{}),2:(0,a.jsx)("strong",{})}});default:return(0,a.jsx)(eu.x6,{id:"VhIJ/j",values:{0:v[0],1:v.length-1},components:{0:(0,a.jsx)("span",{role:"img","aria-label":S.Ru._({id:"7Lrnj6"})}),1:(0,a.jsx)("strong",{})}})}case"comment":return(0,a.jsx)(eu.x6,{id:"vIOI7i",components:{0:(0,a.jsx)("span",{role:"img","aria-label":S.Ru._({id:"OoNfwA"})}),1:(0,a.jsx)("strong",{}),2:(0,a.jsx)("strong",{})}});default:return(0,a.jsx)(eu.x6,{id:"k/HcwJ",values:{GAMMA_ARTIFACT_PROPER_NOUN:tt.TP},components:{0:(0,a.jsx)("strong",{})}})}})(),C=async()=>{p&&(await p(),(0,ta.Us)()),c.isActive("login-complete")||c({title:(0,a.jsx)(eu.x6,{id:"yFvQAN"}),description:g,position:"top",id:"login-complete",status:"success",isClosable:!0,duration:5e3})};return(0,a.jsxs)(e$.T,{align:"stretch",...s,children:[(0,a.jsxs)(er.z,{spacing:4,me:6,children:[(0,a.jsx)(tr,{icon:(0,a.jsx)(ef.g,{icon:b[m].icon}),colorScheme:b[m].colorScheme}),(0,a.jsx)(eJ.D,{as:"p",size:"sm",children:x})]}),(0,a.jsx)(eD.E,{fontSize:"sm",children:y}),(0,a.jsxs)(es.B,{children:[d&&(0,a.jsx)(eg.$,{variant:"solid",leftIcon:(0,a.jsx)(ef.g,{icon:e0.FjH}),size:"md",onClick:()=>{te({type:e7.DOC_ACCESS_LINK,params:{docId:null==o?void 0:o.id,shareToken:r.token},errorCallback:h,doneCallback:C})},children:(0,a.jsx)(eu.x6,{id:"oZyG4C"})}),(0,a.jsx)(eg.$,{variant:"plain",as:eY.N,target:"_blank",leftIcon:(0,a.jsx)(ef.g,{icon:ec.y_8}),href:"/signup",children:(0,a.jsx)(eu.x6,{id:"yrlCvg"})}),(0,a.jsx)(eD.E,{fontSize:"xs",color:"gray.600",children:(0,a.jsx)(eu.x6,{id:"oXChp6",values:{GAMMA_PROPER_NOUN:tt.On},components:{0:(0,a.jsx)(eY.N,{href:e1.er,isExternal:!0,fontWeight:"bold"}),1:(0,a.jsx)(eY.N,{href:e1.WO,isExternal:!0,fontWeight:"bold"})}})})]})]})},tr=e=>{let{icon:t,colorScheme:n}=e;return(0,a.jsxs)(eX.j,{size:10,bg:"linear-gradient(to bottom, var(--chakra-colors-".concat(n,"-200), var(--chakra-colors-").concat(n,"-300))"),position:"relative",children:[(0,a.jsx)(i.a,{color:"".concat(n,".600"),display:"block",mt:"0.5",textAlign:"center",children:t}),(0,a.jsx)(eX.j,{size:5,position:"absolute",bottom:-1,right:-1,color:"".concat(n,".800"),bg:"".concat(n,".100"),boxShadow:"base",fontSize:"xs",children:(0,a.jsx)(ef.g,{icon:eo.QLR})})]})};var to=n(96500);let tl=e=>{let{accessLink:t,doc:n,className:i,showDivider:r=!0}=e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(ti,{accessLink:t,doc:n,p:6,spacing:4,className:i}),r&&(0,a.jsx)(to.c,{})]})};var ts=n(24302),td=n(29810),tc=n(70315),tu=n(15607),tp=n(70787),th=n(11037),tm=n(87140),tg=n(32973),tx=n(1739),tf=n(58617),tb=n(45574),tv=n(8224),ty=n(2320),tw=n(25600);let tC=n(83902).A.extend({parseHTML:()=>[{tag:"p"}],renderHTML(e){let{HTMLAttributes:t}=e;return["p",(0,I.KV)(t,{dir:"auto"}),0]}}),tj=()=>[th.A.configure({horizontalRule:!1,codeBlock:!1,paragraph:!1}),tC,ty.c,tp.Ay.configure({openOnClick:!1}),tg.N,tf.c,tv.M9,tv.lw,tv.BF,tx.Hf,tm.a,tx.mk,tb.Q8,tw.bU],tA=(0,tc.v_)("mod+Enter"),tk=(0,tc.v_)("mod+a"),tS=s.memo(e=>{let{clearContentOnSave:t=!1,editable:n=!0,saveButtonText:r=(0,a.jsx)(eu.x6,{id:"tfDRzk"}),saveButtonIcon:l=(0,a.jsx)(ef.g,{icon:ec.isI}),initialContent:d="",placeholder:c="Reply",showBorder:u=!0,onCancelEditingClick:p,onCommentSave:h,onCreate:x=()=>{},onUpdate:f=()=>{},shouldFocus:v=!0,alwaysShowButtons:y=!1,...w}=e,j=(0,s.useMemo)(()=>tj(),[]),A=(0,C.d4)(g.sX),k=(0,C.d4)(g.aQ),S=(0,m.hG)({extensions:j,content:d,onCreate:e=>{let{editor:t}=e;x({editor:t}),t.gammaDocId=A,t.gammaOrgId=k},onUpdate:e=>{let{editor:t,transaction:n}=e;f({editor:t,transaction:n})}});(0,s.useEffect)(()=>{S&&S.setOptions({editable:n})},[S,n]),(0,b.Vg)(()=>{S&&v&&S.isEditable&&S.commands.focus("end")},[S,v],[S]),(0,s.useEffect)(()=>{S&&!n&&(null==S||S.commands.setContent(d))},[S,d,n]);let{colorMode:I}=(0,ts.G6)(),E="light"===I,L=e=>{tk(e)&&(e.preventDefault(),null==S||S.commands.selectAll()),tA(e)&&(e.preventDefault(),e.stopPropagation(),R())},R=()=>{!(!h||!S||(0,tu.mf)(S.state.doc)||(0,tu.nC)(S.state.doc))&&(h(S.getJSON()),t&&S.commands.clearContent(!0))};return n?(0,a.jsxs)(el.s,{"data-gamma-child-tiptap-editor":"comment-editor",direction:"column",...w,children:[(0,a.jsx)(i.a,{tabIndex:0,w:"100%",onKeyDownCapture:L,onKeyPressCapture:L,className:"comment-editor",color:E?"gray.700":"gray.200",bg:E?"white":"gray.700",...u?{border:"1px solid",borderColor:E?"gray.200":"gray.600",borderRadius:"md"}:{},sx:{"p:first-of-type::before":(null==S?void 0:S.isEmpty)?{content:'"'.concat(c,'"'),float:"left",color:E?"gray.400":"gray.500",pointerEvents:"none",height:"0"}:""},fontSize:"sm",children:(0,a.jsx)(m.$Z,{editor:S,className:"comment-editor",style:{wordBreak:"break-word",width:"100%"}})}),(0,a.jsxs)(ed.S,{in:!!(y||S&&!S.isEmpty),children:[(0,a.jsx)(i.a,{h:3,children:(0,a.jsx)(a.Fragment,{})}),(0,a.jsxs)(er.z,{children:[(0,a.jsx)(td.h,{}),!!p&&(0,a.jsx)(o.Tz,{label:(0,a.jsx)(eu.x6,{id:"zeQdHz"}),placement:"top",children:(0,a.jsx)(eg.$,{size:"sm",variant:"hazardous",onClick:()=>{p&&p(),null==S||S.commands.clearContent(!0)},children:(0,a.jsx)(eu.x6,{id:"dEgA5A"})})}),(0,a.jsx)(eg.$,{size:"sm",variant:"solid",leftIcon:l,isDisabled:(null==S?void 0:S.isEmpty)||(0,tu.nC)(null==S?void 0:S.state.doc),onClick:R,"data-testid":"post-comment",children:r})]})]})]}):(0,a.jsx)(i.a,{fontSize:"sm",children:(0,a.jsx)(m.$Z,{editor:S})})});var tI=n(16936),tE=n(97139),tL=n.n(tE),tR=n(56288);let tD=e=>{let{targetHtml:t,onTargetClick:n,isSourceContentAvailable:r,instanceType:l}=e,[d,c]=(0,s.useState)(!1),[u,p]=(0,s.useState)(!1),h=(0,s.useRef)(null),m=(0,tR.EC)(),g=d?ec.AeV:ec.DqM,x=d?S.Ru._({id:"vLyv1R"}):S.Ru._({id:"fMPkxb"});return(0,s.useEffect)(()=>{var e;h.current&&p(!(!d&&h.current.scrollHeight<=(null==(e=h.current)?void 0:e.clientHeight)))},[d]),(0,a.jsxs)(el.s,{className:"block-target-html",ps:3,mb:2,borderInlineStartWidth:"4px",borderInlineStartStyle:"solid",borderInlineStartColor:"yellow.200",direction:"row",alignItems:"flex-end",cursor:r&&"feed"===l?"pointer":"auto",onClick:n,children:[(0,a.jsx)(o.Tz,{label:(0,a.jsx)(eu.x6,{id:"/oHV5h"}),isDisabled:!("feed"===l&&!r),portalProps:{containerRef:m},children:(0,a.jsx)(i.a,{flex:1,ms:-3,ps:3,w:"100%",fontSize:"sm",noOfLines:d?void 0:3,dangerouslySetInnerHTML:{__html:t?tL().sanitize(t):""},ref:h,_hover:{bgColor:"feed"===l?r?"yellow.100":"gray.50":void 0}})}),u&&(0,a.jsx)(o.Tz,{label:x,portalProps:{containerRef:m},children:(0,a.jsx)(tI.K,{variant:"ghost",size:"xs","aria-label":x,icon:(0,a.jsx)(ef.g,{icon:g}),onClick:()=>{c(e=>!e)},"data-target-name":"comment-target-expand-button",isRound:!0})})]})},tM=e=>{let{draftComment:t,showUser:n=!0,showBorder:i=!0,user:r,onCommentDraftUpdate:o,onCommentSave:l,commentIdToHighlight:s,alwaysShowButtons:d=!1,...c}=e;return(0,a.jsxs)(el.s,{direction:"column",...c,children:[n&&(0,a.jsxs)(er.z,{mb:3,pt:3,children:[(0,a.jsx)(eQ.e,{src:null==r?void 0:r.profileImageUrl,size:"sm"}),(0,a.jsx)(es.B,{children:(0,a.jsx)(eD.E,{fontWeight:"bold",fontSize:"sm",children:(0,a.jsx)(eu.x6,{id:"866PMb",values:{0:null==r?void 0:r.displayName}})})})]}),t&&(null==t?void 0:t.targetHtml)&&(0,a.jsx)(tD,{targetHtml:t.targetHtml}),(0,a.jsx)(tS,{onUpdate:o,initialContent:(null==t?void 0:t.json)||null,clearContentOnSave:!0,editable:!0,saveButtonText:(0,a.jsx)(eu.x6,{id:"26iNma"}),placeholder:S.Ru._({id:"UkDQUD"}),onCommentSave:l,showBorder:i,shouldFocus:!!(!(0,f.mG)()&&!s),alwaysShowButtons:d})]})};var t_=n(21290),tz=n(84431);let tT="block-comments-container",tN=e=>{let{offsetFromTop:t,children:n}=e,i=(0,eh.fW)();return(0,a.jsx)(el.s,{contentEditable:!1,suppressContentEditableWarning:!0,color:"gray.800",className:tT,direction:"column",bg:"white",borderRadius:"xl",shadow:"xl",overflowY:"auto",transitionProperty:"common",transitionDuration:"normal",zIndex:tz.$.commentsPopup,bottom:{top:"0px","2xl":"auto"},top:{top:"0px","2xl":"auto"},insetEnd:{base:"44px","2xl":0},width:{base:ey,"2xl":ey},maxW:{base:"90vw",md:"80vw","2xl":ey},transform:{base:"translate(0, ".concat(t,"px)"),"2xl":"translate(calc(".concat(i?"-100% - 10px":"100% + 10px","), 0)")},wordBreak:"break-word",height:"fit-content",maxHeight:"calc(".concat(t_.bc," - 8em)"),position:"absolute",children:n})},tP=e=>{let{onCancel:t,editor:n,commentIdToHighlight:i,userCanComment:r,blockAllowsCommenting:o,getPos:l,draftComment:s,onCommentDraftUpdate:d,onCommentSave:c,isMobile:p}=e,{user:h}=(0,k.ur)(),m=(0,u.GV)(P.Jo),g=(0,ta.h6)(m,h),x=eR({editor:n,getPos:l}),f=g&&!h&&o;if(null===x)return null;let b=(0,a.jsxs)(el.s,{overflowY:"auto",direction:"column",className:"comments-list",p:p||f?0:4,children:[f&&m&&(0,a.jsx)(tl,{accessLink:g,doc:m,className:"comments-sign-up",showDivider:!1}),r&&(0,a.jsx)(tM,{draftComment:s,user:h,showUser:p,showBorder:p,onCommentDraftUpdate:d,onCommentSave:c,commentIdToHighlight:i,alwaysShowButtons:p})]});return p?b:(0,a.jsx)(tN,{offsetFromTop:x,children:b})};var tO=n(47317);let tH=e=>{let{isMobile:t,editor:n,onReactionClick:i,getPos:r}=e,o=eR({editor:n,getPos:r});if(null===o)return null;let l=(0,a.jsx)(el.s,{bg:"white",p:"0",zIndex:"tooltip","data-testid":"add-reaction-popup","data-target-name":"reaction-emoji-picker",boxShadow:"none",sx:{".emoji-mart":{border:"none"}},overflow:"hidden",justify:"center",children:(0,a.jsx)(tO.pP,{perLine:9,handlePick:i,shouldFocusSearch:!t})});return t?l:(0,a.jsx)(tN,{offsetFromTop:o,children:l})};var tF=n(68068),tB=n(36071),tV=n(60628),tW=n(40691),tU=n(3674);let tG=(0,s.forwardRef)(function(e,t){let{isMobile:n,children:r,closePopup:o,drawerMinHeight:l}=e;if(n){let e=l||"calc(calc(100vh - calc(100vh - 100%)) - 1rem)";return(0,a.jsxs)(tF._s,{placement:"bottom",isOpen:!0,onClose:o,children:[(0,a.jsx)(tB.m,{}),(0,a.jsxs)(tV.z,{minH:e,maxH:e,borderTopRadius:"xl",className:"comments-wrapper","data-block-comments-popup":!0,children:[(0,a.jsx)(tW.c,{p:6,pb:2,className:tT,children:r}),(0,a.jsx)(tU.s,{})]})]})}return(0,a.jsx)(i.a,{ref:t,children:r})}),tK=e=>{let{onCancel:t,reactions:n,onClickExistingReaction:i,editor:r,getPos:o,user:l,userCanComment:d,blockAllowsCommenting:c,isMobile:u}=e,p=eR({editor:r,getPos:o}),h=n.slice(7*!u),m=h.map(e=>(0,a.jsx)(eH,{isMobile:!0,onClick:t=>{i(e),t.stopPropagation()},mr:2,mb:4,reaction:e,user:l,canReact:d&&c,badgeCount:e.count,emoji:e.emoji},e.emoji));if((0,s.useEffect)(()=>{0===h.length&&t()},[t,h]),null===p)return null;let g=(0,a.jsxs)(es.B,{spacing:4,children:[(0,a.jsx)(eJ.D,{size:"md",children:(0,a.jsx)(eu.x6,{id:"7ZMg79"})}),(0,a.jsx)(el.s,{flexWrap:"wrap",children:m})]});return u?g:(0,a.jsx)(tN,{offsetFromTop:p,children:(0,a.jsx)(el.s,{p:4,px:2,pb:0,flexWrap:"wrap",children:m})})};var tQ=n(27865),tZ=n(61385),tq=n(47665),t$=n(75570),tJ=n(70006),tY=n(85235),tX=n(53885),t0=n(40162);let t1=e=>{let{docId:t,cardId:n,commentId:a,parentCommentId:i,targetType:r}=e,[o]=(0,N.nkJ)(),[l]=(0,N.eaJ)();function s(e,o,l,s){let d={targetId:r===N.yKx.Comment?a:n,docId:t,emoji:o,cardId:n};return("addReaction"===e&&(d={...d,targetType:r}),r===N.yKx.Comment)?{variables:{reactionInput:d},update:(n,r)=>{let{data:o}=r;n.writeFragment({id:"Doc:".concat(t),fragment:N.U$g,fragmentName:"DocCommentsUpdate",data:{comments:[i?{id:i,replies:[{id:a,reactions:[o[e]],__typename:"Comment"}],reactions:[],__typename:"Comment"}:{id:a,replies:[],reactions:[o[e]],__typename:"Comment"}]}})},optimisticResponse:{[e]:{commentId:a,count:l,emoji:o,users:s,cardId:n,__typename:"Reaction"}}}:void console.error("[useReactionUpdate] Invalid targetType: ".concat(r))}return{addReactionFn:(e,t,n)=>{o(s("addReaction",e,t,n))},removeReactionFn:(e,t,n)=>{l(s("removeReaction",e,t,n))}}};var t2=n(12514),t4=n(26886),t5=n(27229),t6=n(72316);let t3=(e,t)=>e===t||null!=e.parentElement&&t3(e.parentElement,t),t9=e=>{let{setPopperElement:t,onPopoverClose:n,handleReactionClick:r,popperElement:o,openerElement:l,usePortal:s,isMobile:d,placement:c,...u}=e;(0,ev.j)({ref:{current:o},handler(e){l&&t3(e.target,l)||n()}});let p=(0,a.jsx)(i.a,{mx:3*!d,mt:d?0:"-110px",shadow:"lg",bg:"white",p:"0",w:"auto",minW:"0px",zIndex:"tooltip","data-target-name":"reaction-emoji-picker",ref:t,...u,children:(0,a.jsx)(tO.pP,{perLine:d?9:12,handlePick:e=>{r(e.id),n()},shouldFocusSearch:!(0,f.Xb)()})});return s?(0,a.jsx)(t2.Z,{children:p}):p},t7=e=>{let{size:t,colorScheme:n,handleReactionClick:r,placement:l,usePortal:d=!0}=e,[c]=(0,t4.U)(["(max-width: 840px)","(min-width: 841px)"]),{isOpen:u,onToggle:p,onClose:h}=(0,t5.j)(),[m,g]=(0,s.useState)(!1),[x,f]=(0,s.useState)(null),[b,v]=(0,s.useState)(null),{styles:y,attributes:w,forceUpdate:C}=(0,t6.E)(x,b,{placement:c?"auto":"".concat(l,"-start"),strategy:"fixed"});return(0,s.useEffect)(()=>{C&&setTimeout(()=>{C()},0)},[C]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.Tz,{placement:ne,label:(0,a.jsx)(eu.x6,{id:"9OEgyT"}),isOpen:m,children:(0,a.jsx)(i.a,{display:"flex",onMouseEnter:()=>{g(!0)},onMouseLeave:()=>g(!1),children:(0,a.jsx)(tI.K,{colorScheme:n,float:"inline-start","aria-label":S.Ru._({id:"9OEgyT"}),variant:"ghost",onClick:e=>{p(),e.stopPropagation()},size:t||"sm",ref:f,isRound:!0,icon:(0,a.jsx)(ef.g,{icon:ec.Q3O})})})}),u&&(0,a.jsx)(t9,{usePortal:d,setPopperElement:v,onPopoverClose:h,handleReactionClick:r,popperElement:b,isPopoverOpen:u,openerElement:x,style:y.popper,isMobile:c,placement:l,...w.popper})]})},t8=e=>{let{colorScheme:t,size:n,emoji:r,label:l,count:d,hasSelfReacted:c,handleReactionClick:u,readOnly:p}=e,{colorMode:h}=(0,ts.G6)(),m="light"===h,g=(0,s.useCallback)(e=>{p||u(r,e)},[r,u,p]);return(0,a.jsx)(o.Tz,{placement:ne,label:(0,a.jsxs)(i.a,{alignContent:"center",children:[l,!p&&(0,a.jsx)(eD.E,{display:"block",color:m?"gray.500":"gray.600",children:c?(0,a.jsx)(eu.x6,{id:"fb/FjL"}):(0,a.jsx)(eu.x6,{id:"AG3H1y"})})]}),children:(0,a.jsxs)(eg.$,{cursor:p?"default":"cursor","data-testid":"reaction-button-".concat(r),size:n||"sm",color:m?"gray.500":"gray.300",bg:c?m?"gray.50":"gray.600":"none",borderWidth:"1px",borderStyle:"solid",colorScheme:t,borderColor:c?m?"gray.200":"gray.500":"transparent",_hover:{bg:m?"gray.200":"gray.600"},variant:"ghost",borderRadius:"full",px:2,onClick:g,children:[(0,a.jsx)(tO.mY,{emojiId:r,fontSize:"sm"===n?"lg":"sm"}),(0,a.jsx)(eD.E,{as:"span",fontSize:n,ms:1.5,children:d})]})})},ne="bottom",nt=e=>{let{size:t,colorScheme:n,placement:i="right",usePortal:r,reactions:l,docId:s,cardId:d,commentId:c,parentCommentId:u,targetType:p,readOnly:h,innerPaddingY:m,...g}=e,{addReactionFn:x,removeReactionFn:f}=t1({docId:s,commentId:c,parentCommentId:u,cardId:d,targetType:p}),{user:b}=(0,k.ur)(),v=(null==l?void 0:l.reduce((e,t)=>(t.count&&(e[t.emoji]=t),e),{}))||{},y=!h&&p===N.yKx.Card&&!v.heart,w=Object.keys(v).length>0,C=(e,t)=>{var n,a,i,r,o,l;if(!(p===N.yKx.Comment&&c||p===N.yKx.Card&&d))throw Error("[Reactions.handleReactionClick] Invalid targetType. Args: targetType: ".concat(p,", commentId: ").concat(c,", cardId: ").concat(d));if(null==(a=v[e])||null==(n=a.users.find(e=>e.id===(null==b?void 0:b.id)))?void 0:n.id){let t=(null==v||null==(i=v[e])?void 0:i.count)-1,n=(null==v||null==(r=v[e])?void 0:r.users)?v[e].users.filter(e=>e.id!==(null==b?void 0:b.id)):[];f(e,t,n)}else{let t=(null==v||null==(o=v[e])?void 0:o.count)?v[e].count+1:1,n=(null==v||null==(l=v[e])?void 0:l.users)?v[e].users.concat(b):[b];x(e,t,n)}null==t||t.stopPropagation()};return(0,a.jsxs)(el.s,{direction:"row",cursor:"default",contentEditable:!1,onMouseDown:em.Fw,mb:m?"-".concat(m/1.5,"rem"):void 0,...g,children:[y&&(0,a.jsx)(o.Tz,{label:(0,a.jsx)(eu.x6,{id:"W9FRBT"}),placement:ne,children:(0,a.jsx)(tI.K,{colorScheme:n,float:"inline-start","aria-label":"",variant:"ghost",onClick:e=>{C("heart",e)},size:t,isRound:!0,mr:2,icon:(0,a.jsx)(ef.g,{icon:ec.qcK})})}),!h&&(0,a.jsx)(t7,{size:t,colorScheme:n,handleReactionClick:C,usePortal:r,placement:i}),w&&(0,a.jsx)(t0.B,{spacing:"sm"===t?2:1,mr:2,className:"reactions-row",children:w&&Object.entries(v).map(e=>{let[i,r]=e,o=null==r?void 0:r.users,l=!!(null==o?void 0:o.find(e=>(null==e?void 0:e.id)===(null==b?void 0:b.id))),s=eT({users:o,selfUserId:null==b?void 0:b.id});return(0,a.jsx)(t8,{colorScheme:n,size:t,emoji:i,readOnly:h,label:(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(eu.x6,{id:"mRnNF/",values:{usersLabel:s,emoji:i},components:{0:(0,a.jsx)(eD.E,{as:"span",color:"gray.300"})}})}),count:null==o?void 0:o.length,hasSelfReacted:l,handleReactionClick:C},i)})})]})},nn=s.memo(e=>{let{docId:t,reactions:n,cardId:i,commentId:r,size:o,parentCommentId:l,placement:s="right",usePortal:d=!0,userCanComment:c,...u}=e;return(0,a.jsx)(nt,{size:o,cardId:i,usePortal:d,placement:s,reactions:n,parentCommentId:l,docId:t,commentId:r,targetType:N.yKx.Comment,readOnly:!c,...u})});var na=n(90394),ni=n(78140),nr=n(36999),no=n(41283),nl=n(85595),ns=n(6760),nd=n(21157),nc=n.n(nd),nu=n(23201);let np=()=>({[N.EB6.Open]:{label:S.Ru._({id:"9ggh96"}),icon:ec.SGM,successMessage:S.Ru._({id:"1INZuT"})},[N.EB6.Closed]:{label:S.Ru._({id:"pL38RI"}),icon:ec.RVf,successMessage:S.Ru._({id:"gieGvY"})}}),nh=e=>{let{status:t,handleCommentStatusUpdate:n}=e;return(0,a.jsx)(o.Tz,{label:np()[t].label,"aria-label":np()[t].label,children:(0,a.jsx)(tI.K,{variant:"ghost",size:"sm",borderRadius:"full",isDisabled:!1,"aria-label":np()[t].label,icon:(0,a.jsx)(ef.g,{icon:np()[t].icon}),onClick:()=>n(t)})})},nm=e=>{let{comment:t,selfUser:n,isInPanel:r,isSourceContentAvailable:l,showCopyCommentLink:s,showLinkToTargetContent:d,hasCommentBeenUpdated:c,onTargetClick:u,commentUrl:p,isReply:h,userCanComment:m,handleCommentStatusUpdate:g,toastPosition:x,isEditing:f,handleEditCommentClick:b,handleDeleteCommentClick:v}=e,{user:y,createdTime:C,updatedTime:j,status:A=N.EB6.Open}=t,{email:k,displayName:I,profileImageUrl:E}=y,L=(null==n?void 0:n.id)===(null==y?void 0:y.id),{onCopy:R}=(0,na.i)(p),D=(0,ts.dU)("red.500","red.300"),M=(0,w.d)();return(0,a.jsxs)(er.z,{spacing:2,align:"top",mb:3,_before:r?{content:"''",position:"absolute",w:"9px",h:"9px",mt:"15px",insetStart:h?"12px":"36px",bg:"gray.50",borderRadius:"full"}:{},children:[(0,a.jsx)(o.Tz,{label:k,"aria-label":k,children:(0,a.jsx)(eQ.e,{mt:1,size:"sm",name:I,src:E,ignoreFallback:!0})}),(0,a.jsxs)(es.B,{align:"center",alignItems:"flex-start",spacing:0,mb:1,children:[(0,a.jsxs)(eD.E,{fontWeight:"600",mb:0,fontSize:"sm",children:[I," ",L?(0,a.jsx)(eu.x6,{id:"dDUgzP"}):null]}),(0,a.jsx)(el.s,{direction:"row",w:"100%",alignItems:"flex-start",children:(0,a.jsx)(i.a,{flex:"1",children:(0,a.jsx)(o.Tz,{isDisabled:!c,label:"Updated ".concat((0,nu.OG)(j)),placement:"top",children:(0,a.jsxs)(er.z,{children:[(0,a.jsx)(eD.E,{my:"0 !important",className:"comment-date",fontSize:"xs",color:"gray.500",children:nc()((0,nu.OG)(C))}),c&&(0,a.jsx)(i.a,{color:"gray.500",children:(0,a.jsx)(ef.g,{size:"xs",icon:ec.ml2})})]})})})})]}),(0,a.jsx)(td.h,{}),(0,a.jsxs)(er.z,{spacing:1,children:[d&&(0,a.jsx)(o.Tz,{label:l?(0,a.jsx)(eu.x6,{id:"LmLruJ"}):(0,a.jsx)(eu.x6,{id:"/oHV5h"}),shouldWrapChildren:!0,children:(0,a.jsx)(tI.K,{size:"sm",borderRadius:"full",variant:"ghost",isDisabled:!l,"aria-label":l?S.Ru._({id:"LmLruJ"}):S.Ru._({id:"/oHV5h"}),onClick:u,icon:(0,a.jsx)(ef.g,{icon:ec.vh1})})}),!h&&m&&(0,a.jsx)(nh,{status:A,handleCommentStatusUpdate:()=>g(t.status)}),(0,a.jsxs)(ni.W,{isLazy:!0,children:[(0,a.jsx)(nr.I,{as:tI.K,size:"sm",variant:"ghost",borderRadius:"full","data-testid":"comment-header-menu",icon:(0,a.jsx)(ef.g,{fixedWidth:!0,icon:ec.vHW}),children:(0,a.jsx)(eu.x6,{id:"7L01XJ"})}),(0,a.jsx)(t2.Z,{children:(0,a.jsxs)(no.c,{zIndex:"modal","data-testid":"comment-header-menulist",children:[s&&(0,a.jsx)(nl.D,{icon:(0,a.jsx)(ef.g,{icon:ec.CQO}),onClick:()=>{R(),M({title:S.Ru._({id:"h5GS+N"}),status:"success",duration:3e3,position:x})},children:(0,a.jsx)(eu.x6,{id:"qhJCCi"})}),m&&!f&&L&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(ns.N,{}),(0,a.jsx)(nl.D,{icon:(0,a.jsx)(ef.g,{icon:ec.MT7}),onClick:b,children:(0,a.jsx)(eu.x6,{id:"ePK91l"})}),(0,a.jsx)(nl.D,{icon:(0,a.jsx)(ef.g,{icon:ec.yLS}),color:D,onClick:()=>{v()},"data-testid":"delete-thread",children:h?(0,a.jsx)(eu.x6,{id:"FjzXBu"}):(0,a.jsx)(eu.x6,{id:"xOviNB"})})]})]})})]})]})]})},ng=(0,s.memo)(e=>{let{comment:t,editor:n,selfUser:r,docId:o,commentIdToHighlight:l,userCanComment:d,instanceType:c,editorMode:u,isRootComment:p=!1,onClose:h,closePopup:m,...x}=e,b="feed"===c,v="drawer"===c,y=(0,f.Xb)()?"bottom":"top",{content:k,targetHtml:I,targetId:E,createdTime:L,updatedTime:R,id:D,replies:M,reactions:_}=t,z=(0,C.wA)(),{initialDraftReply:T,updateLocalDraftReply:P,hasLocalDraftReply:O}=ea(D),H=(0,s.useRef)(new t$.c),F=l===D,V=(0,tJ.yO)({docId:o,id:D}),W=(0,s.useRef)(null),[U,G]=(0,s.useState)(!1),[K,Q]=(0,s.useState)(p);(0,s.useEffect)(()=>{O&&!K&&Q(!0)},[O,K]);let[Z]=(0,N.eRM)(),[q]=(0,N.DNM)(),[$]=(0,N.roT)(),[J]=(0,N.Ekg)(),Y=(0,w.d)(),X=(0,tQ.O2)("editor"),ee=(0,s.useCallback)(()=>{G(!0)},[]),et=(0,s.useCallback)(()=>{P(null)},[P]),en=[.25,.1,.25,1];(0,s.useLayoutEffect)(()=>{F&&W.current&&X.scrollElementIntoView({element:W.current})},[X,F]);let ei=e=>{let t=e===N.EB6.Open?N.EB6.Closed:N.EB6.Open,n={id:D,docId:o,status:t};$({variables:{input:n},update:(e,t)=>{let{data:n}=t,a={id:"Doc:".concat(o),fragment:B.Mi,fragmentName:"DocCommentsUpdate",data:{comments:[null==n?void 0:n.updateCommentStatus]}};e.writeFragment(a)},optimisticResponse:{updateCommentStatus:{...n,__typename:"Comment",updatedTime:new Date().toISOString()}}}).then(()=>{Y({title:(0,a.jsxs)(eD.E,{children:[np()[e].successMessage,"."," ",(0,a.jsx)(eY.N,{textDecoration:"underline",onClick:()=>ei(t),children:S.Ru._({id:"9uI/rE"})})]}),status:"success",duration:5e3,isClosable:!1,position:y})}).catch(e=>{console.error("[CommentComponent]: Error changing comment status",e),Y({title:S.Ru._({id:"+Q5eww",values:{0:e.message}}),status:"error",isClosable:!0,position:y})}).finally(()=>{"popup"===c&&m&&m(!0)})},eo=(0,ts.dU)("yellow.100","yellow.800"),ep=tX.q.getState(n.state),eh=(0,s.useMemo)(()=>null==ep?void 0:ep.annotations.find(e=>e.id===E),[null==ep?void 0:ep.annotations,E]),{pos:em}=eh||{},eg=!!(null==eh?void 0:eh.pos),ex="notification"!==c&&t.id!==ew,eb=("notification"===c||"feed"===c)&&1!==em,ev=(0,s.useCallback)(e=>{var t;if(!(!E||!eh||!em||(null==e||null==(t=e.target)?void 0:t.closest('[data-target-name="comment-target-expand-button"]')))){if("notification"===c)j.LF.emit(j.DN.OPEN_POPUP_COMMENT,{commentId:D,highlightComment:!0});else if("feed"===c){let e=tZ.M2,t=(0,tu.jB)(n,em);if(u===tY.w.DOC_VIEW)(0,A.Ib)({pos:em,editor:n});else if(u===tY.w.SLIDE_VIEW){let[t]=(0,tu.TK)(n.state.doc.resolve(em),tq.jg);n.commands.spotlightCardById(t.node.attrs.id),z((0,g.mF)({attached:!1})),e=tZ.y0}(0,f.Xb)()&&h&&setTimeout(h,300),X.scrollElementIntoView({element:t,delay:e})}}},[n,X,E,c,D,eh,em,u,z,h]),ey=(0,s.useMemo)(()=>new Date(R).getTime()-new Date(L).getTime()>100,[R,L]),eC=!!t.commentId,ej=!!M&&M.length>0;return(0,a.jsxs)(el.s,{flexDir:"column",ref:W,id:"comment-".concat(D),className:"comment highlight-mask","data-target-id":"comment-".concat(D),borderRadius:F?"md":"0px",position:"relative",borderBottomWidth:p?"1px":"0px",borderBottomColor:"gray.200",_after:b&&ej?{content:"''",position:"absolute",w:"9px",h:"9px",insetStart:"36px",bottom:9,bg:"gray.50",borderRadius:"full",transitionProperty:"common",transitionDuration:"normal"}:{},_before:ej&&b?{content:"''",position:"absolute",w:"3px",top:7,bottom:9,insetStart:"39px",bg:"gray.50",borderRadius:"full"}:{},...x,overflowY:"hidden",children:[(0,a.jsxs)(es.B,{backgroundColor:F?eo:"auto",transitionProperty:"border, background",transitionDuration:"normal",transitionTimingFunction:"ease",role:"group",spacing:8,children:[(0,a.jsxs)(i.a,{ps:eC&&b?10:0,children:[(0,a.jsx)(nm,{isInPanel:b,comment:t,selfUser:r,isSourceContentAvailable:eg,showCopyCommentLink:ex,showLinkToTargetContent:eb,hasCommentBeenUpdated:ey,onTargetClick:ev,commentUrl:V,isReply:eC,userCanComment:d,handleCommentStatusUpdate:ei,toastPosition:y,isEditing:U,handleEditCommentClick:ee,handleDeleteCommentClick:()=>{let e=!!t.commentId;J({variables:{id:D},update:(n,a)=>{let{data:i}=a;n.writeFragment({id:"Doc:".concat(o),fragment:B.Mi,fragmentName:e?"DocRepliesRemove":"DocCommentsRemove",data:{comments:[e?{id:t.commentId,replies:[null==i?void 0:i.archiveComment],__typename:"Comment"}:null==i?void 0:i.archiveComment]}})},optimisticResponse:{archiveComment:{id:D,__typename:"Comment",archived:!0}}}),!e&&t.targetId&&n.commands.deleteAnnotation(t.targetId),"popup"===c&&m&&m(!0),Y({title:S.Ru._({id:"Ho/Jvc"}),status:"success",duration:5e3,isClosable:!1,position:y})}}),(0,a.jsxs)(i.a,{ps:ej&&b?10:0,overflowY:"hidden",children:[I&&I.length&&(0,a.jsx)(tD,{targetHtml:I,onTargetClick:ev,isSourceContentAvailable:eg,instanceType:c}),(0,a.jsx)(tS,{initialContent:k,editable:U,onCancelEditingClick:()=>G(!1),saveButtonText:(0,a.jsx)(eu.x6,{id:"yY7Bil"}),saveButtonIcon:(0,a.jsx)(ef.g,{icon:ec.e68}),onCommentSave:e=>{let n=!!t.commentId,a={id:D,docId:o,content:e};q({variables:{input:a},update:(e,a)=>{let{data:i}=a,r={id:"Doc:".concat(o),fragment:B.Mi,fragmentName:n?"DocRepliesUpdate":"DocCommentsUpdate",data:{comments:[n?{id:t.commentId,replies:[null==i?void 0:i.updateComment],__typename:"Comment"}:null==i?void 0:i.updateComment]}};e.writeFragment(r)},optimisticResponse:{updateComment:{...a,__typename:"Comment",updatedTime:new Date().toISOString()}}}),Y({title:S.Ru._({id:"kibWwZ"}),status:"success",duration:5e3,isClosable:!1,position:y}),G(!1)}}),!U&&(0,a.jsx)(nn,{mt:2,docId:o,cardId:t.cardId,commentId:t.id,parentCommentId:t.commentId,reactions:_,size:"sm",placement:"right",usePortal:!0,userCanComment:d})]})]}),M&&M.length>0&&M.map(e=>(0,a.jsx)(ng,{instanceType:c,userCanComment:d,commentIdToHighlight:l,comment:e,docId:o,selfUser:r,editor:n,editorMode:u,ps:0,p:0,pb:0},null==e?void 0:e.id))]}),d&&(0,a.jsxs)(ed.S,{in:K&&!U,unmountOnExit:!0,transition:{enter:{when:"afterChildren",height:{duration:.3,ease:en},opacity:{duration:.4,ease:en}},exit:{when:"beforeChildren",height:{duration:.2,ease:en},opacity:{duration:.3,ease:en}}},children:[v&&(0,a.jsxs)(er.z,{align:"center",mb:3,pt:6,children:[(0,a.jsx)(eQ.e,{mt:1,size:"sm",name:null==r?void 0:r.displayName,src:null==r?void 0:r.profileImageUrl,ignoreFallback:!0}),(0,a.jsx)(es.B,{align:"center",alignItems:"flex-start",spacing:0,mb:1,children:(0,a.jsx)(eD.E,{fontWeight:"600",mb:0,fontSize:"sm",children:(0,a.jsx)(eu.x6,{id:"866PMb",values:{0:null==r?void 0:r.displayName}})})})]}),(0,a.jsx)(tS,{ps:b&&ej?8:0,pt:6*!v,initialContent:(null==T?void 0:T.json)||"",clearContentOnSave:!0,editable:!0,saveButtonText:(0,a.jsx)(eu.x6,{id:"ImOQa9"}),saveButtonIcon:(0,a.jsx)(ef.g,{icon:ec.Eze}),placeholder:S.Ru._({id:"ImOQa9"}),onCommentSave:e=>{let n={targetId:t.targetId,commentId:D,docId:o,content:e,cardId:t.cardId};Z({variables:{input:n},update:(e,t)=>{let{data:n}=t;e.writeFragment({id:"Doc:".concat(o),fragment:B.Mi,fragmentName:"DocRepliesCreate",data:{comments:[{id:D,replies:[null==n?void 0:n.createComment],__typename:"Comment"}]}})},optimisticResponse:{createComment:{id:ew,__typename:"Comment",...n,user:r,archived:!1,reactions:[],createdTime:new Date().toISOString(),updatedTime:new Date().toISOString()}}}),Q(!1),P(null),z((0,g.zq)({id:D})),Y({title:S.Ru._({id:"yPok8v"}),status:"success",duration:5e3,isClosable:!1,position:y})},onCancelEditingClick:et,onUpdate:e=>{let{editor:t}=e;P({commentId:D,json:t.view.state.doc.toJSON(),text:t.view.state.doc.textContent})},onCreate:e=>{H.current.resolve(e)},alwaysShowButtons:v,shouldFocus:"popup"===c&&!(0,f.Xb)()})]})]})}),nx=e=>{let{comment:t,editor:n,commentIdToHighlight:i,userCanComment:r,blockAllowsCommenting:o,getPos:l,isMobile:s,closePopup:d}=e,c=n.gammaDocId,{user:p}=(0,k.ur)(),h=(0,C.d4)(g.wC),m=(0,u.GV)(P.Jo),x=(0,ta.h6)(m,p),f=eR({editor:n,getPos:l});if(null===f||!t)return null;let b=(0,a.jsxs)(el.s,{direction:"column",className:"comments-list","data-testid":"thread-view-popup",children:[x&&!p&&m&&o&&(0,a.jsx)(tl,{accessLink:x,doc:m,className:"comments-sign-up"}),(0,a.jsx)(ng,{instanceType:s?"drawer":"popup",userCanComment:r,commentIdToHighlight:i,editor:n,comment:t,selfUser:p,docId:c,editorMode:h,isRootComment:!0,borderBottomWidth:"none",closePopup:d,p:4*!s,pb:4},t.id)]});return s?b:(0,a.jsx)(tN,{offsetFromTop:f,children:b})},nf={generate:(0,l.d_)("0123456789abcdefghijklmnopqrstuvwxyz",15)},nb=e=>{let{getPos:t,editor:n,reactions:a}=e,{user:i}=(0,k.ur)(),[r]=(0,N.nkJ)(),[o]=(0,N.eaJ)(),l=(0,s.useCallback)(e=>{let{reaction:t}=e;if(!i)return;let a=t.docId;1===t.count&&n.commands.deleteAnnotation(t.targetId);let r=t.count-1,l=t.users.filter(e=>(null==e?void 0:e.id)!==(null==i?void 0:i.id));o({variables:{reactionInput:{docId:a,targetId:t.targetId,emoji:t.emoji}},update:(e,t)=>{let{data:n}=t;e.writeFragment({id:"Doc:".concat(a),fragment:N.JhL,fragmentName:"DocReactionsCreate",data:{reactions:[null==n?void 0:n.removeReaction]}})},optimisticResponse:{removeReaction:{docId:a,targetId:t.targetId,targetType:N.yKx.Decoration,count:r,emoji:t.emoji,users:l,__typename:"Reaction"}}})},[n,o,i]);return{addReactionFn:(0,s.useCallback)(e=>{let{emoji:o}=e;if(K({emoji:o,user:i,reactions:a})||!i)return;let l=n.gammaDocId,s=Q({reactions:a,emoji:o}),d=nf.generate(),c=((null==s?void 0:s.count)||0)+1,u=[];s?(d=s.targetId,u=[...s.users]):n.commands.addAnnotation({id:d,pos:t()}),u.unshift(i),u.sort((e,t)=>e.id>t.id?1:-1),r({variables:{reactionInput:{docId:l,targetId:d,targetType:N.yKx.Decoration,emoji:o}},update:(e,t)=>{let{data:n}=t;e.writeFragment({id:"Doc:".concat(l),fragment:N.JhL,fragmentName:"DocReactionsCreate",data:{reactions:[null==n?void 0:n.addReaction]}})},optimisticResponse:{addReaction:{docId:l,targetId:d,targetType:N.yKx.Decoration,count:c,emoji:o,users:u,__typename:"Reaction"}}})},[r,n,t,a,i]),removeReactionFn:l}},nv={"add-comment":"350px","add-reaction":"350px","reactions-overflow":"350px"},ny=e=>{let{nodeName:t,isVisible:n,editor:i,getPos:o,comments:l,reactions:d,createDraftComment:c,cleanupDraftComment:p,onCommentDraftUpdate:h,draftComment:m,onCommentSave:x,userCanComment:v,blockAllowsCommenting:y,blockCommentId:S,enableReactions:I,mobileAddCommentPos:E,setIsButtonStackHovered:L}=e,R=(0,w.d)(),D=(0,f.Xb)(),M=(0,C.wA)(),{user:_,isUserLoading:z}=(0,k.ur)(),{isHovering:T,delayedClose:N,...P}=(0,b.ou)({enterDelay:30,leaveDelay:100}),O=!!T,H=(0,s.useRef)(null),F=(0,s.useRef)(),B=(0,C.d4)((0,g.tT)(S)),V=(0,s.useRef)(null),[W,U]=(0,s.useState)(null),G=null!==W,K=(0,u.GV)(g.Ml),Q=l.find(e=>e.id===K)||null,Z=(0,s.useCallback)(e=>{U("thread"),M((0,g.fw)({isOpen:!0,blockCommentId:S,viewingCommentId:e.id}))},[S,M]),q=(0,s.useCallback)(e=>{U("add-comment"),M((0,g.fw)({isOpen:!0,blockCommentId:S,viewingCommentId:null})),c(e)},[S,M,c]),$=(0,s.useCallback)(()=>{U("add-reaction"),M((0,g.fw)({isOpen:!0,blockCommentId:S,viewingCommentId:null}))},[S,M]),J=(0,s.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];U(null),p(),M((0,g.fw)({isOpen:!1,blockCommentId:S,viewingCommentId:null})),e&&N(1e3)},[S,p,N,M]),{addReactionFn:Y,removeReactionFn:X}=nb({editor:i,getPos:o,reactions:d}),ee=(0,s.useCallback)(e=>{v&&(Y({emoji:e.id}),R({title:(0,a.jsx)(eq,{emoji:e.id,isMobile:D}),status:"success",duration:5e3,isClosable:!1,position:D?"bottom":"top"}),J(!0))},[Y,J,D,R,v]),ea=(0,s.useCallback)(e=>{x(e),J(!0)},[x,J]),ei=(0,s.useCallback)(e=>{if(!v)return;let t=e.reactions.find(e=>{var t;return null==(t=e.users)?void 0:t.find(e=>e.id===(null==_?void 0:_.id))});t?X({reaction:t}):Y({emoji:e.emoji})},[Y,X,_,v]),er=(0,s.useCallback)(()=>{U("reactions-overflow"),M((0,g.fw)({isOpen:!0,blockCommentId:S,viewingCommentId:null}))},[S,M]);eL({isOpen:G,popupRef:V,onClose:J});let{isExpanded:eo}=eE({popup:W,isMobile:D,isHovered:O,comments:l,reactions:d,draftComment:m,enableReactions:I});(0,s.useEffect)(()=>{D||L(O)},[O,D,L]),et(o,q);let el=en({comments:l,blockAllowsCommenting:y,showComment:(0,s.useCallback)(e=>{(0,A.Ib)({pos:o(),editor:i}),Z({id:e})},[i,o,Z])});(0,s.useEffect)(()=>{j.LF.emit(j.DN.POPUP_COMMENT_TOGGLED,{open:G})},[G]);let es=(0,s.useCallback)(e=>{"Escape"===e.key&&J()},[J]);if(!n||z)return null;let ed=!!_&&!v,ec=0===l.length&&0===d.length;if((ed||!y)&&ec)return null;let eu=ed||!y;return(0,a.jsxs)(a.Fragment,{children:[D&&E&&(0,a.jsx)(eG,{onClickAddComment:q,onClickAddReaction:$,top:E.top,left:E.left}),(0,a.jsxs)(eC.p,{nodeName:t,className:(0,r.cx)("block-comments-stack",eo&&"is-expanded",eo&&"is-taking-action",ec&&"is-empty",!D&&B&&"other-comment-open"),isMobile:D,isEmpty:ec,isPopupOpen:G,...P,buttonRef:H,onKeyDown:es,hasCommentsOrReactions:!ec,children:[(0,a.jsx)(eU,{isExpanded:eo,isMobile:D,user:_,userCanComment:v,blockAllowsCommenting:y,draftComment:m,reactions:d,comments:l,onClickThread:Z,onClickAddComment:q,onClickAddReaction:$,onClickExistingReaction:ei,onClickReactionsOverflow:er,hideAddCommentButton:eu,onClosePopup:J,viewingCommentId:K,enableReactions:I}),!G&&!D&&(0,a.jsx)(eZ,{isExpanded:eo,comments:l,reactions:d}),G&&(0,a.jsxs)(tG,{isMobile:D,ref:V,closePopup:J,drawerMinHeight:nv[W],children:["thread"===W&&(0,a.jsx)(nx,{isMobile:D,comment:Q,closePopup:J,editor:i,getPos:o,commentIdToHighlight:el,commentsPanelRef:F,userCanComment:v,blockAllowsCommenting:y}),"add-comment"===W&&(0,a.jsx)(tP,{isMobile:D,onCancel:()=>{J()},editor:i,getPos:o,commentIdToHighlight:el,userCanComment:v,blockAllowsCommenting:y,onCommentSave:ea,draftComment:m,onCommentDraftUpdate:h}),"add-reaction"===W&&(0,a.jsx)(tH,{isMobile:D,onReactionClick:ee,editor:i,getPos:o}),"reactions-overflow"===W&&(0,a.jsx)(tK,{isMobile:D,onCancel:()=>{J()},onClickExistingReaction:ei,editor:i,getPos:o,user:_,userCanComment:v,blockAllowsCommenting:y,reactions:d})]})]})]})};new(n(63867)).hs("draftComments");let nw=(e,t,n)=>({targetId:nf.generate(),targetHtml:n,json:null,text:"",relativePos:(0,F.JO)(t.state,e())}),nC=(e,t,n,a)=>({...e,targetHtml:n,relativePos:(0,F.JO)(a.state,t())}),nj=e=>{let{children:t,as:n,className:i,dir:r,style:o,hideComments:l=!1,readOnly:s=!1,...d}=e,{decorations:c,editor:u}=d,h=(0,p.oR)();return!c.some(e=>e.spec.isAnnotatable)||u.isThumbnail||h||"ai-card-editor"===u.editorId?(0,a.jsx)(m.VR,{as:n,className:i,dir:r,style:o,children:t}):(0,a.jsx)(nA,{as:n,className:i,dir:r,style:o,hideComments:l,readOnly:s,...d,children:t})},nA=e=>{var t;let{children:n,decorations:p,editor:w,getPos:C,as:j,className:A,dir:k,style:S,hideComments:I,readOnly:E,node:L}=e,{isConnected:R}=(0,d.u)(),D=(0,v.pl)(p),M=y({editor:w,decorations:p}),_=(0,c.u)("blockReactions"),z=(0,h.UT)("comment"),T=(0,u.GV)(g.mi),N=(0,s.useMemo)(()=>(0,l.Ak)(5),[]),P=(0,u.GV)((0,g.ng)(N)),[O,H]=(0,s.useState)(!1),F=(0,c.u)("debugComments"),B=X(p),V=B[0]||null,[W,U]=(0,s.useState)(null),G=(0,u.jL)(),K=(0,s.useCallback)(e=>{let t=(null==e?void 0:e.getPos)||C,n=null==e?void 0:e.targetHtml,a=V;if(a)e&&(a=nC(a,t,n,w));else{var i,r;a=nw(t,w,n),null==(i=(r=w.commands).createDraftComment)||i.call(r,a)}U(a),G((0,g.mF)({attached:!1}))},[G,w,C,V]),Q=(0,s.useCallback)(()=>{var e,t,n,a,i,r;W&&(null==W||null==(t=W.text)||null==(e=t.trim())?void 0:e.length)>0?null==(n=(a=w.commands).createDraftComment)||n.call(a,W):null==(i=(r=w.commands).removeDraftComments)||i.call(r,B),U(null)},[B,w,W]),Z=(0,s.useRef)(P);Z.current=P,(0,s.useEffect)(()=>()=>{Z.current&&G((0,g.fw)({isOpen:!1,blockCommentId:N,viewingCommentId:null}))},[N,G]);let q=ee({draftComment:W,clearDraftComment(){var e,t,n,a;W&&(null==(n=(a=w.commands).removeDraftComments)||n.call(a,[W,...B]));let i=nw(C,w);null==(e=(t=w.commands).createDraftComment)||e.call(t,i),U(i)},editor:w}),$=Y(p),J=$.length>0&&!I,et=W||V,en=(null==et||null==(t=et.text)?void 0:t.length)>0,[ea,er]=(0,b.Mk)(),eo=ei(p);_||(eo=[]);let el=eo.length>0,es=T&&!I&&z,ed=(0,f.Xb)()&&(P||J||el||!!M)||!(0,f.Xb)()&&(er||D||P||J||el||en),ec=z&&R,eu=P||M||O?(0,x.$3)(o.t1.colors.yellow[200],.25):void 0;return(0,a.jsxs)(m.VR,{as:j,style:{...S,position:"relative",backgroundColor:(0,f.Xb)()?void 0:eu},className:(0,r.cx)(A,"annotatable-node-view-wrapper",(0,f.Xb)()&&"is-mobile",F?"debug-comments":""),dir:k,ref:ea,children:[es&&(0,a.jsx)(ny,{nodeName:L.type.name,isVisible:ed,reactions:eo,blockCommentId:N,userCanComment:ec,blockAllowsCommenting:!I&&!E,onCommentDraftUpdate:e=>{let{editor:t}=e;U(e=>e?{...e,json:t.view.state.doc.toJSON(),text:t.view.state.doc.textContent}:e)},cleanupDraftComment:Q,createDraftComment:K,editor:w,getPos:C,comments:$,draftComment:et,onCommentSave:q,enableReactions:_,mobileAddCommentPos:M,setIsButtonStackHovered:H}),(0,f.Xb)()&&eu?(0,a.jsx)(i.a,{bgColor:eu,children:n}):n]})}},54958:(e,t,n)=>{"use strict";n.d(t,{n:()=>l});var a=n(60449),i=n.n(a),r=n(94289),o=n(63867);class l extends o.LN{parseKeyPath(e){let t=e.split(".");if(t.length>=2&&("step"===t[0]||"general"===t[0])){let n,a=t[0],i=parseInt(t[1]),r=t[2];if(isNaN(i))return{keyPath:e,selectionType:"property",propertyName:e};switch(r){case"text":n="text";break;case"image":n="image";break;case"icon":n="icon";break;default:n="step"}return{keyPath:e,selectionType:n,..."step"===a?{stepIndex:i}:{generalIndex:i},elementType:r||"selection"}}return{keyPath:e,selectionType:"property",propertyName:e}}map(e,t){let{deleted:n,pos:a}=t.mapResult(this.anchor),i=e.resolve(a);return n?o.LN.near(i):new l(i,this.keyPath)}content(){let e=this.getItemData();switch(this.context.selectionType){case"text":case"property":if("string"==typeof e){let t=this.node.type.schema.text(e);return new r.Ji(r.FK.from(t),0,0)}break;case"icon":case"image":case"step":if(e&&"object"==typeof e)return new r.Ji(r.FK.empty,0,0)}return new r.Ji(r.FK.from(this.node),0,0)}getItemData(){var e,t,n,a,r,o,l,s,d,c,u,p,h,m,g,x,f,b;if(!this.node.attrs.data)return null;let v=this.node.attrs.data;switch(this.context.selectionType){case"step":if(void 0!==this.context.stepIndex)return null==(e=v.step)?void 0:e[this.context.stepIndex];if(void 0!==this.context.generalIndex)return null==(t=v.general)?void 0:t[this.context.generalIndex];break;case"text":if(void 0!==this.context.stepIndex)return null==(a=v.step)||null==(n=a[this.context.stepIndex])?void 0:n.text;if(void 0!==this.context.generalIndex)return null==(o=v.general)||null==(r=o[this.context.generalIndex])?void 0:r.text;break;case"image":if(void 0!==this.context.stepIndex)return null==(s=v.step)||null==(l=s[this.context.stepIndex])?void 0:l.image;if(void 0!==this.context.generalIndex)return null==(c=v.general)||null==(d=c[this.context.generalIndex])?void 0:d.image;break;case"icon":if(void 0!==this.context.stepIndex)return(null==(p=v.step)||null==(u=p[this.context.stepIndex])?void 0:u.icon)||(null==(m=v.step)||null==(h=m[this.context.stepIndex])?void 0:h.image);if(void 0!==this.context.generalIndex)return(null==(x=v.general)||null==(g=x[this.context.generalIndex])?void 0:g.icon)||(null==(b=v.general)||null==(f=b[this.context.generalIndex])?void 0:f.image)}return i()(v,this.keyPath)}getSelectionBounds(){return{type:this.context.selectionType,keyPath:this.keyPath,isTextSelection:"text"===this.context.selectionType,isImageSelection:"image"===this.context.selectionType,isIconSelection:"icon"===this.context.selectionType,isStepSelection:"step"===this.context.selectionType,isPropertySelection:"property"===this.context.selectionType}}isInlineEditable(){return"text"===this.context.selectionType||"property"===this.context.selectionType}getSelectionDescription(){switch(this.context.selectionType){case"text":if(void 0!==this.context.stepIndex)return"Step ".concat(this.context.stepIndex+1," text");if(void 0!==this.context.generalIndex)return"General element ".concat(this.context.generalIndex+1," text");return"Text element";case"image":if(void 0!==this.context.stepIndex)return"Step ".concat(this.context.stepIndex+1," image");if(void 0!==this.context.generalIndex)return"General element ".concat(this.context.generalIndex+1," image");return"Image element";case"icon":if(void 0!==this.context.stepIndex)return"Step ".concat(this.context.stepIndex+1," icon");if(void 0!==this.context.generalIndex)return"General element ".concat(this.context.generalIndex+1," icon");return"Icon element";case"step":if(void 0!==this.context.stepIndex)return"Step ".concat(this.context.stepIndex+1);if(void 0!==this.context.generalIndex)return"General element ".concat(this.context.generalIndex+1);return"Step element";case"property":return"Property: ".concat(this.context.propertyName||this.keyPath);default:return"Selection: ".concat(this.keyPath)}}eq(e){return e instanceof l&&e.anchor==this.anchor&&e.keyPath==this.keyPath}toJSON(){return{type:"diagramItem",anchor:this.anchor,key:this.keyPath,selectionType:this.context.selectionType}}replace(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new r.Ji(r.FK.empty,0,0);if(0===t.size&&"step"===this.context.selectionType){let t=JSON.parse(JSON.stringify(this.node.attrs.data));void 0!==this.context.stepIndex&&t.step&&(t.step.splice(this.context.stepIndex,1),e.setNodeMarkup(this.anchor,void 0,{...this.node.attrs,data:t}))}}static fromJSON(e,t){if("number"!=typeof t.anchor||"string"!=typeof t.key)throw RangeError("Invalid input for DiagramItemSelection.fromJSON");return new l(e.resolve(t.anchor),t.key)}static create(e,t,n){return new this(e.resolve(t),n)}static isSelectable(e){return"smartDiagram"===e.type.name&&e.attrs.data}static createStepSelection(e,t,n){return new this(e.resolve(t),"step.".concat(n,".selection"))}static createTextSelection(e,t,n){return new this(e.resolve(t),"step.".concat(n,".text"))}static createImageSelection(e,t,n){return new this(e.resolve(t),"step.".concat(n,".image"))}static createIconSelection(e,t,n){return new this(e.resolve(t),"step.".concat(n,".icon"))}static createPropertySelection(e,t,n){return new this(e.resolve(t),n)}constructor(e,t){let n=e.nodeAfter;super(e,e.node(0).resolve(e.pos+n.nodeSize)),this.keyPath=t,this.node=n,this.context=this.parseKeyPath(t)}}if(l.prototype.visible=!1,!l.prototype.jsonID)try{o.LN.jsonID("diagramItem",l)}catch(e){}},55424:(e,t,n)=>{"use strict";n.d(t,{M:()=>i,q:()=>a});let a=e=>"smartLayoutCell"===e.type.name,i=e=>"smartLayout"===e.type.name},55616:(e,t,n)=>{"use strict";n.d(t,{S:()=>m});var a=n(68247),i=n(17006),r=n(62452);let o=e=>{let t="linear-gradient"===(0,r.Lz)(e).type?a.XA:a.N5;return{".card-code-item":{h1:(0,i.bh)("h1",e),h2:(0,i.bh)("h2",e),h3:(0,i.bh)("h3",e),h4:(0,i.bh)("h4",e),"h1, h2, h3, h4, h5, h6":{...t,width:"100%"},"img:not([src])":{width:"100%",backgroundColor:"gray.200",borderRadius:"var(--box-border-radius)",aspectRatio:"16/9"},"> *":{borderRadius:"var(--card-border-radius)"}}}};var l=n(61385),s=n(28615);let d=e=>{if(s.rS)return{};let{accentCut:t}=e.config;if(!t)return{};let{maskStyles:n,fgStyles:a}=c[t]||{};return{"[data-layout-cut=left]":n.left,"[data-layout-cut=right]":n.right,"video[data-layout-cut=right]":{width:"100%",marginLeft:0,marginRight:0},"[data-layout-cut=top]":n.top,"[data-layout-cut-fg=left]":a.left,"[data-layout-cut-fg=right]":a.right,"[data-layout-cut-fg=top]":a.top}},c={default:{name:()=>"Default",maskStyles:{left:void 0,right:void 0,top:void 0},fgStyles:{left:void 0,right:void 0,top:void 0}},fade:{name:()=>"Fade",maskStyles:{left:{maskImage:'url("'.concat("https://assets.gammahosted.com/j1bla5j5f/_next/static/media/gradient-left.5e1ae259.svg",'")'),maskSize:"cover",maskRepeat:"no-repeat",maskPosition:"right",width:"110%",marginRight:"-10%"},right:{maskImage:'url("'.concat("https://assets.gammahosted.com/j1bla5j5f/_next/static/media/gradient-right.81936f6b.svg",'")'),maskSize:"cover",maskRepeat:"no-repeat",maskPosition:"left",width:"110%",marginLeft:"-10%"},top:{maskImage:'url("'.concat("https://assets.gammahosted.com/j1bla5j5f/_next/static/media/gradient-top.9cbcc51e.svg",'")'),maskSize:"cover",maskRepeat:"no-repeat",maskPosition:"bottom",height:"110%"}},fgStyles:{left:{maxWidth:"90%",marginRight:"10%"},right:{maxWidth:"90%",marginLeft:"10%"},top:void 0}},diagonal:{name:()=>"Diagonal",maskStyles:{left:{maskImage:'url("'.concat("https://assets.gammahosted.com/j1bla5j5f/_next/static/media/diagonal-left.c66da52d.svg",'")'),maskSize:"cover",maskRepeat:"no-repeat",maskPosition:"right",width:"105%",marginRight:"-5%"},right:{maskImage:'url("'.concat("https://assets.gammahosted.com/j1bla5j5f/_next/static/media/diagonal-right.c56ea47c.svg",'")'),maskSize:"cover",maskRepeat:"no-repeat",maskPosition:"left",width:"105%",marginLeft:"-5%"},top:{maskImage:'url("'.concat("https://assets.gammahosted.com/j1bla5j5f/_next/static/media/diagonal-top.f5cfbd00.svg",'")'),maskSize:"cover",maskRepeat:"no-repeat",maskPosition:"bottom",height:"105%"}},fgStyles:{left:{maxWidth:"80%",marginRight:"20%"},right:{maxWidth:"80%",marginLeft:"20%"},top:{maxHeight:"85%",marginBottom:"auto"}}},round:{name:()=>"Round",maskStyles:{left:{maskImage:'url("'.concat("https://assets.gammahosted.com/j1bla5j5f/_next/static/media/circle-left.b2ca2ce2.svg",'")'),maskSize:"cover",maskRepeat:"no-repeat",maskPosition:"right",width:"105%",marginRight:"-5%"},right:{maskImage:'url("'.concat("https://assets.gammahosted.com/j1bla5j5f/_next/static/media/circle-right.9a77e2f4.svg",'")'),maskSize:"cover",maskRepeat:"no-repeat",maskPosition:"left",width:"105%",marginLeft:"-5%"},top:{maskImage:'url("'.concat("https://assets.gammahosted.com/j1bla5j5f/_next/static/media/circle-top.49150ee5.svg",'")'),maskSize:"cover",maskRepeat:"no-repeat",maskPosition:"bottom",height:"105%"}},fgStyles:{left:{maxWidth:"80%",marginRight:"20%"},right:{maxWidth:"80%",marginLeft:"20%"},top:void 0}},roundInverse:{name:()=>"Round Inverse",maskStyles:{left:{maskImage:'url("'.concat("https://assets.gammahosted.com/j1bla5j5f/_next/static/media/circle-inverted-left.dbc8a93f.svg",'")'),maskSize:"cover",maskRepeat:"no-repeat",maskPosition:"right",width:"110%",marginRight:"-10%"},right:{maskImage:'url("'.concat("https://assets.gammahosted.com/j1bla5j5f/_next/static/media/circle-inverted-right.de2dd517.svg",'")'),maskSize:"cover",maskRepeat:"no-repeat",maskPosition:"left",width:"110%",marginLeft:"-10%"},top:{maskImage:'url("'.concat("https://assets.gammahosted.com/j1bla5j5f/_next/static/media/circle-inverted-top.07d69c71.svg",'")'),maskSize:"cover",maskRepeat:"no-repeat",maskPosition:"bottom",height:"112%"}},fgStyles:{left:{maxWidth:"90%",marginRight:"10%"},right:{maxWidth:"90%",marginLeft:"10%"},top:{maxHeight:"90%",marginBottom:"auto"}}},wiggle:{name:()=>"Wiggle",maskStyles:{left:{maskImage:'url("'.concat("https://assets.gammahosted.com/j1bla5j5f/_next/static/media/wiggle-left.578c81e9.svg",'")'),maskSize:"cover",maskRepeat:"no-repeat",maskPosition:"right",width:"105%",marginRight:"-5%"},right:{maskImage:'url("'.concat("https://assets.gammahosted.com/j1bla5j5f/_next/static/media/wiggle-right.8ee6fc0f.svg",'")'),maskSize:"cover",maskRepeat:"no-repeat",maskPosition:"left",width:"105%",marginLeft:"-5%"},top:{maskImage:'url("'.concat("https://assets.gammahosted.com/j1bla5j5f/_next/static/media/wiggle-top.41b099b7.svg",'")'),maskSize:"cover",maskRepeat:"no-repeat",maskPosition:"bottom",height:"105%"}},fgStyles:{left:{maxWidth:"94%",marginRight:"6%"},right:{maxWidth:"94%",marginLeft:"6%"},top:{maxHeight:"95%",marginBottom:"auto"}}}};var u=n(23746),p=n(45214),h=n(58251);let m=(e,t)=>({...(0,a.dd)(e),...(0,u.EB)(e,t),...(0,i.tX)(e),...d(e),...(0,p.py)(),...(0,p.L$)(),...(0,h.zz)(),...o(e),[".".concat(l.QJ," .").concat(l._P)]:e.config.contentStyles})},55786:(e,t,n)=>{"use strict";n.d(t,{J:()=>o,f:()=>r});var a=n(94289),i=n(95889);let r=(e,t)=>{let n=Array.isArray(t)?t:[t],i=a.Ji.fromJSON(e.schema,{content:n});e.view.dragging={slice:i,move:!0},e.commands.setTextSelection(e.state.selection.from)},o=(e,t)=>{i.zS.track(i.VV.NODE_INSERTED,{node_name:e.nodeName,command:e.key,method:t}),"card"===e.nodeName&&i.zS.track(i.VV.CARD_CREATED,{method:t,command:e.key})}},55847:(e,t,n)=>{"use strict";n.d(t,{JD:()=>v,Rv:()=>f,fw:()=>b,r$:()=>x});var a=n(38867),i=n.n(a),r=n(63867),o=n(97255),l=n(41427),s=n(5061),d=n(15607),c=n(15597),u=n(36512),p=n(90108),h=n(66082),m=n(1636),g=n(79018);let x=e=>{let{doc:t}=e,n=[];return t.descendants((a,c)=>{let u;if(a.type.name!==m.o.name)return;let x=i()((0,d.F2)(a.content).map(e=>(0,g.x9)(e.attrs.label))),f=v(t.resolve(c)),b=(0,h.er)(e,c,c+a.nodeSize),y=(0,l.KQ)(a)||b||(0,s.C)(),w=e.selection instanceof r.nh&&e.selection.node===a||e.selection.from>c&&e.selection.to<c+a.nodeSize;a.forEach((e,t,n)=>{e.attrs.options.isEmphasized&&(u=n)});let C=(0,p.i4)(t,"scaleContentToFit"),j={isSmartLayoutDecoration:!0,direction:y,numCells:a.childCount,containerSize:f,scaleContentToFit:!!C};return n.push(o.NZ.node(c,c+a.nodeSize,{},j)),a.forEach((e,t,i)=>{let r=c+1+t,l={isSmartLayoutCellDecoration:!0,direction:y,index:i,numCells:a.childCount,maxLabelValue:x,smartLayoutAttrs:a.attrs,layoutContainerSize:f,isContentEmpty:(0,d.mf)(e),isLayoutFocused:w,emphasizedIndex:u,scaleContentToFit:!!C};n.push(o.NZ.node(r,r+e.nodeSize,{},l))}),!1}),o.zF.create(t,n)},f=e=>{let t=e.find(e=>e.spec.isSmartLayoutDecoration);return t?t.spec:(console.error("[SmartLayout] Decoration not found. This should never happen!",e),{isSmartLayoutDecoration:!0,direction:"ltr",numCells:0,containerSize:1})},b=e=>{let t=e.find(e=>e.spec.isSmartLayoutCellDecoration);return t?t.spec:(console.error("[SmartLayoutCell] Decoration not found. This should never happen!",e),{isSmartLayoutCellDecoration:!0,direction:"ltr",numCells:0,index:0,smartLayoutAttrs:{options:{},fullWidthBlock:!1},layoutContainerSize:1,isContentEmpty:!1,isLayoutFocused:!1})},v=e=>{let t=1;try{for(let a=e.depth;a>0;a--){let i=e.node(a),r=e.index(a-1);if("gridCell"===i.type.name){let n=e.node(a-1).attrs.colWidths;n&&n[r]&&(t*=parseInt(n[r])/100)}if("card"===i.type.name){var n;let{layout:a,layoutTemplateColumns:r,container:o}=i.attrs;if("left"===a){let e=r?parseInt(r.split(" ")[1])/100:c.Ib;t*=e}if("right"===a){let e=r?parseInt(r.split(" ")[0])/100:c.Ib;t*=e}let l=e.doc.firstChild.attrs,s=null!=(n=o.width)?n:l.settings.defaultContentWidth;"lg"===s?t*=u.br/u.Vy:"sm"===s&&(t*=u.lA/u.Vy);break}}}catch(e){console.error("[SmartLayout] Error getting container size decoration",e)}return t}},55860:(e,t,n)=>{"use strict";n.d(t,{D:()=>s,n:()=>l});var a=n(58495),i=n(63867),r=n(67200),o=n(50709);let l=()=>(0,a.Ak)(5),s=o.S.extend({name:"UniqueToggleId"}).configure({attributeName:"id",types:["toggle"],initialValue:l,filterTransaction:r.kz,pluginKey:new i.hs("UniqueToggleId")})},55978:(e,t,n)=>{"use strict";n.d(t,{e:()=>a});let a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"id";return{default:null,parseHTML:n=>{let a=n.getAttribute("data-".concat(t));if(a)return a;let i=e();return console.debug("[configureIdAttribute] generating id in parseHTML",i),i}}}},56124:(e,t,n)=>{"use strict";n.d(t,{VM:()=>o,dM:()=>r,hj:()=>i});var a=n(61964);let i=e=>"table"===e.type.name,r=500,o=e=>{let t=a.J3.get(e);return t.height*t.width>r}},57860:(e,t,n)=>{"use strict";n.d(t,{h:()=>o});var a=n(55729),i=n(53103);let r=()=>{},o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,a.useMemo)(()=>(r(),new i.K(e)),[]),n=function(){let[,e]=(0,a.useState)(0);return()=>e(e=>e+1)}();return(0,a.useEffect)(()=>{let e=!0;return t.on("transaction",()=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{e&&n()})})}),()=>{t.destroy(),e=!1}},[t]),t}},57963:(e,t,n)=>{"use strict";n.d(t,{_:()=>l});var a=n(6029),i=n(36218),r=n(55729),o=n(71595);let l=(0,r.forwardRef)((e,t)=>{let{initialHeight:n="1em",bottomSpacing:l=0,onChange:s,resizeOnMount:d=!0,onKeyDown:c,...u}=e,p=(0,r.useRef)(null),h=null!=t?t:p,[m,g]=(0,r.useState)(!1),x=(0,r.useCallback)(()=>{"function"!=typeof h&&(null==h?void 0:h.current)&&(h.current.style.height=n,h.current.style.height="".concat(h.current.scrollHeight+l,"px"))},[n,h,l]),[f,b]=(0,r.useState)(!1);(0,o.Vg)(()=>{if(!f&&!d)return void b(!0);x()},[x,u.value,f,d],[u.value]);let v=(0,o.jm)(100);return(0,r.useEffect)(()=>{v&&x()},[v,x]),(0,a.jsx)(i.T,{h:n,minH:n,ref:h,resize:"none",overflow:"hidden",...u,onCompositionStart:()=>g(!0),onCompositionEnd:()=>g(!1),onChange:e=>{x(),null==s||s(e)},onKeyDown:e=>{m||null==c||c(e)}})});l.displayName="ResizingTextarea"},58082:(e,t,n)=>{"use strict";n.d(t,{a:()=>l,x:()=>s});var a=n(25839),i=n(95714),r=n(43634),o=n(16309);let l=e=>{let t=(0,a.GV)(r.SJ),{cardColorSolid:n,bodyColorSolid:i,primaryColorSolid:o,isCardDark:l}=s(e,t);return{theme:t,isDark:l,cardColor:n,bodyColor:i,primaryColor:o}},s=(e,t)=>{let{cardColorOverride:n}=(0,o.tg)(e);return(0,i.Dh)(t,n)}},58251:(e,t,n)=>{"use strict";n.d(t,{a0:()=>a,zz:()=>i});let a="themed-table",i=()=>({[".".concat(a)]:r}),r={border:"0.0625em solid var(--neutral-border-color)",borderRadius:"var(--box-border-radius)","tbody tr":{_even:{backgroundColor:"blackAlpha.50"},_odd:{backgroundColor:"whiteAlpha.50"},_first:{td:{_first:{borderTopLeftRadius:"var(--box-border-radius)"},_last:{borderTopRightRadius:"var(--box-border-radius)"}}},_last:{td:{_first:{borderBottomLeftRadius:"var(--box-border-radius)"},_last:{borderBottomRightRadius:"var(--box-border-radius)"}}}},td:{borderInlineStart:"0.0625em solid var(--shape-border-color)",_first:{borderInlineStartWidth:"0"}}}},58568:(e,t,n)=>{"use strict";n.d(t,{Lf:()=>c,Lh:()=>d});var a=n(55765),i=n.n(a),r=n(55729);class o{observe(e,t){this.observer?(this.observer.observe(e),this.observedElements.set(e,t)):t(s)}unobserve(e){this.observer&&(this.observer.unobserve(e),this.observedElements.delete(e),this.nextTickCallbacks.delete(e))}handleResize(e){let t=!1;for(let n of e){let e=this.observedElements.get(n.target);e&&(t=!0,this.nextTickCallbacks.set(n.target,()=>{e(n.contentRect)}))}t&&this.queueProcess()}queueProcess(){this.frameId&&(cancelAnimationFrame(this.frameId),this.frameId=null),this.frameId=requestAnimationFrame(()=>{for(let e of this.nextTickCallbacks.values())e();this.frameId=null})}constructor(){this.observedElements=new Map,this.nextTickCallbacks=new Map,this.frameId=null,this.observer=null,"undefined"!=typeof ResizeObserver&&(this.observer=new ResizeObserver(e=>this.handleResize(e)))}}let l=i()(()=>new o),s={width:1,height:1,top:0,left:0,fontSize:0};function d(e){let t=(0,r.useRef)(null),[{height:n,width:a},i]=(0,r.useState)(s);return(0,r.useEffect)(()=>{let e=t.current;return e&&l().observe(e,i),()=>{e&&l().unobserve(e)}},[e]),{ref:t,width:a,height:n}}function c(e){let t=(0,r.useRef)(null),[{height:n,width:a,top:i,left:o,fontSize:d},c]=(0,r.useState)(s);return(0,r.useEffect)(()=>{let e=t.current;return e&&l().observe(e,t=>{var n;c({width:t.width,height:t.height,top:e.offsetTop,left:e.offsetLeft,fontSize:null!=(n=parseFloat(window.getComputedStyle(e).fontSize))?n:16})}),()=>{e&&l().unobserve(e)}},[e]),{ref:t,width:a,height:n,top:i,left:o,fontSize:d}}},58617:(e,t,n)=>{"use strict";n.d(t,{c:()=>d});var a=n(37243),i=n(59275),r=n(41896),o=n(38934),l=n(46957),s=n(58638);let d=i.Ay.extend({selectable:!0,draggable:!0,group:"block media",priority:o.y.Image,addOptions(){var e;return{...null==(e=this.parent)?void 0:e.call(this),placeholders:{}}},addNodeView:()=>(0,r.gu)(s.v,{update:l.z0}),parseHTML:()=>[{tag:"img[src], img[tempUrl]"}],renderHTML(e){let{HTMLAttributes:t}=e;return["img",(0,a.KV)(t,{class:"gamma-simple-image"})]},addAttributes:()=>({src:{},tempUrl:{},uploadStatus:{},source:{},showPlaceholder:{}})})},58638:(e,t,n)=>{"use strict";n.d(t,{v:()=>c});var a=n(6029),i=n(26420),r=n(80314),o=n(33787),l=n(59230),s=n(41896),d=n(4522);let c=e=>{let{node:t}=e,{src:n,tempUrl:c,uploadStatus:u,showPlaceholder:p,id:h}=t.attrs;return(0,a.jsxs)(s.VR,{as:"div",children:[p&&(0,a.jsx)(d.VM,{...e}),!p&&(n||c)&&(0,a.jsxs)(i.a,{position:"relative",w:"100%",children:[(0,a.jsx)(r.N,{className:"image-link",href:n||c||"",target:"_blank",children:(0,a.jsx)(o._,{src:n||c||""})}),u==l.A.Uploading&&(0,a.jsx)(d.Td,{}),u==l.A.Error&&(0,a.jsx)(d.Hy,{})]})]})};c.displayName="simple-image-view"},58929:(e,t,n)=>{"use strict";n.d(t,{P:()=>l,f:()=>o});var a=n(77650),i=n(42673),r=n(27002);class o extends Error{static errorLogLevel(e){return"rate_limited"===e.type||"aborted"===e.type?"info":"network"===e.type||"timeout"===e.type?"warning":"error"}static async fromResponse(e){let t,n=e.clone();try{t=await e.json()}catch(e){t=await n.text()}let a=o.getTypeFromStatus(e.status);return new o({name:"fetch returned ".concat(e.status),type:a,body:t,message:(null==t?void 0:t.message)||e.statusText})}static getTypeFromStatus(e){switch(e){case 400:return"bad_request";case 401:return"unauthorized";case 403:return"forbidden";case 404:return"not_found";case 409:return"conflict";case 429:return"rate_limited";default:return e>=500?"server":"network"}}static fromError(e,t){let n=new o({type:e,name:t.name,message:t.message});return n.stack=t.stack,n}static fromUserAbort(e){return new o({name:"User aborted fetch request",type:"aborted",message:e,body:{reason:e}})}static userFacingErrorDescription(e){if(e instanceof o)return e.userFacingErrorDescription()}logLevel(){return o.errorLogLevel(this)}logToErrorTracker(){if(r.of.get("disableAiErrorLogging"))return;let e=this.logLevel();("error"===e||"warning"===e)&&(0,i.EJ)(this,{customErrorType:"fetch"})}userFacingErrorDescription(){switch(this.type){case"rate_limited":return a.Ru._({id:"M68C8m"});case"network":return a.Ru._({id:"ZLU2WX"});default:return}}constructor(e){super(e.message),this.name=e.name,this.body=e.body,this.type=e.type}}async function l(e){var t,n;let a,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},l=null!=(t=r.parseResponse)?t:e=>e;a=!1===r.captureException?()=>{}:"function"==typeof r.captureException?r.captureException:e=>e.logToErrorTracker();let s=void 0!==r.maxDuration?AbortSignal.timeout(r.maxDuration):void 0,d=i.signal?AbortSignal.any([i.signal,s].filter(e=>!!e)):s;try{let t=await fetch(e,{...i,signal:d});if(!t.ok)throw await o.fromResponse(t);try{return await l(t)}catch(e){throw o.fromError("parse",e)}}catch(t){let e;throw a(e=(null==(n=i.signal)?void 0:n.aborted)?o.fromUserAbort(i.signal.reason):(null==s?void 0:s.aborted)?o.fromError("timeout",t):t instanceof o?t:o.fromError("network",t)),e}}},59080:(e,t,n)=>{"use strict";n.d(t,{e:()=>i});let a={cardLayoutsEnabled:!1},i=e=>{if(!e)return{...a};let t=null;return("doc"===e.type.name?t=e.nodeAt(0):"document"===e.type.name&&(t=e),t)?{...a,...t.attrs.docFlags}:(console.debug("[getDocFlags] could not find document node, returning defaults"),{...a})}},59230:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var a=function(e){return e[e.Done=0]="Done",e[e.Uploading=1]="Uploading",e[e.Error=2]="Error",e[e.Queued=3]="Queued",e}({})},59712:(e,t,n)=>{"use strict";n.d(t,{e$:()=>g,Rj:()=>m});var a=n(63867),i=n(97255),r=n(37243);let o=new a.hs("suggestion"),l={from:0,to:0};var s=n(48342),d=n(33750),c=n.n(d),u=n(55729),p=n(67733),h=n(23624);let m=e=>{let{ref:t,selectItem:n,options:a}=e,[i,r]=(0,u.useState)(0),o=(0,u.useRef)(null),l=(0,u.useRef)({selectedIndex:i,options:a,selectItem:n});return l.current={selectedIndex:i,options:a,selectItem:n},(0,u.useImperativeHandle)(t,()=>{let e=e=>{let{key:t}=e,n=l.current;return"ArrowUp"===t?(e.preventDefault(),n.selectedIndex<=0?r(a.length-1):r(c()(n.selectedIndex-1,0,n.options.length-1))):"ArrowDown"===t?(e.preventDefault(),n.selectedIndex>=n.options.length-1?r(0):r(c()(n.selectedIndex+1,0,n.options.length-1))):("Enter"===t||"Tab"===t)&&(e.preventDefault(),n.options.length>0&&n.selectItem(i)),e.stopPropagation(),e.preventDefault(),!0};return{onKeyDown:t=>{let{event:n}=t;return!!["ArrowUp","ArrowDown","Enter","Tab"].includes(n.key)&&e(n)}}}),(0,u.useEffect)(()=>{if(o.current){var e;null==o||null==(e=o.current)||e.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})}},[i]),{selectedIndex:i,selectedItemEl:o}},g=e=>{let{char:t,MenuComponent:n,pluginKey:d,command:c,allowSpaces:u=!1,...m}=e;return r.YY.create({...m,addOptions:()=>({HTMLAttributes:{},suggestion:{char:t,pluginKey:d,allowSpaces:u,startOfLine:!1,command:c,render:()=>{let e=null,t=null;return{onStart:a=>{if(t&&e){e.updateProps(a),t.setProps({getReferenceClientRect:a.clientRect}),t.show();return}e=new h.N(n,{props:a,editor:a.editor});let i=a.editor.view.dom.parentElement;t=(0,p.Ay)(i,{getReferenceClientRect:a.clientRect,appendTo:()=>document.body,content:e.element,showOnCreate:!0,interactive:!0,trigger:"manual",placement:"bottom-start",zIndex:s.t1.zIndices.dropdown,popperOptions:{modifiers:[{name:"preventOverflow",options:{padding:{bottom:8}}},{name:"flip",options:{fallbackPlacements:["auto-start"]}}]}})},onUpdate(n){null==e||e.updateProps(n),null==t||t.setProps({getReferenceClientRect:n.clientRect})},onKeyDown(n){var a;return"Escape"===n.event.key?(null==t||t.destroy(),null==e||e.destroy(),t=null,e=null,!0):null==e||null==(a=e.ref)?void 0:a.onKeyDown(n)},onExit(n){!0!==d.getState(n.editor.view.state).active&&(null==t||t.destroy(),null==e||e.destroy(),t=null,e=null)}}}}}),addProseMirrorPlugins(){return[function(e){let t,{pluginKey:n=o,editor:s,char:d="@",allowSpaces:c=!1,prefixSpace:u=!0,startOfLine:p=!1,decorationTag:h="span",decorationClass:m="suggestion",command:g=()=>null,items:x=()=>[],render:f=()=>({}),allow:b=()=>!0}=e,v=null==f?void 0:f(),y=e=>{e.dispatch(e.state.tr.setMeta(n,{active:!1,decorationId:"",key:null,range:l,query:null,text:null,composing:!1}))};return new a.k_({key:n,view(){return{update:async(e,n)=>{var a,i,r,o,l;let d=null==(a=this.key)?void 0:a.getState(n),c=null==(i=this.key)?void 0:i.getState(e.state),u=d.active&&c.active&&d.range.from!==c.range.from,p=!d.active&&c.active,h=d.active&&!c.active,m=!p&&!h&&d.query!==c.query,f=p||u,b=m&&!u,y=h||u;if(!f&&!b&&!y)return;let w=y&&!f?d:c,C=document.querySelector('[data-decoration-id="'.concat(w.decorationId,'"]'));t={editor:s,range:w.range,query:w.query,text:w.text,items:b||f?await x({editor:s,query:w.query}):[],command:e=>{g({editor:s,range:w.range,props:e})},decorationNode:C,clientRect:C?()=>{var e;let{decorationId:t}=null==(e=this.key)?void 0:e.getState(s.state);return document.querySelector('[data-decoration-id="'.concat(t,'"]')).getBoundingClientRect()}:null},y&&(null==v||null==(r=v.onExit)||r.call(v,t)),b&&(null==v||null==(o=v.onUpdate)||o.call(v,t)),f&&(null==v||null==(l=v.onStart)||l.call(v,t))},destroy:()=>{var e;t&&(null==v||null==(e=v.onExit)||e.call(v,t))}}},state:{init:()=>({active:!1,decorationId:"",range:l,key:null,query:null,text:null,composing:!1}),apply(e,t,a,i){let o;o=e.getMeta(n)?{...e.getMeta(n)}:{...t};let{isEditable:h}=s,{composing:m}=s.view,{selection:g}=e,{empty:x,from:f}=g;if(o.composing=m,!o.active&&o.key!==d)return o;if(o.active&&o.key===d)return o.key=null,o;if(h&&(x||s.view.composing)){t.range&&(f<t.range.from||f>t.range.to)&&!m&&!t.composing&&(o.active=!1);let e=function(e){var t;let{char:n,allowSpaces:a,prefixSpace:i,startOfLine:o,$position:l}=e,s=(0,r.GG)(n),d=new RegExp("\\s".concat(s,"$")),c=o?"^":"",u=a?RegExp("".concat(c).concat(s,".*?(?=\\s").concat(s,"|$)"),"gm"):RegExp("".concat(c,"(?:^)?").concat(s,"[^\\s").concat(s,"]*"),"gm"),p=null==(t=l.nodeBefore)?void 0:t.text;if(!p)return null;let h=l.pos-p.length,m=Array.from(p.matchAll(u)).pop();if(!m||void 0===m.input||void 0===m.index)return null;let g=m.input.slice(Math.max(0,m.index-1),m.index),x=/^[\s\0]?$/.test(g);if(i&&!x)return null;let f=h+m.index,b=f+m[0].length;return(a&&d.test(p.slice(b-1,b+1))&&(m[0]+=" ",b+=1),f<l.pos&&b>=l.pos)?{range:{from:f,to:b},query:m[0].slice(n.length),text:m[0]}:null}({char:d,allowSpaces:c,prefixSpace:u,startOfLine:p,$position:g.$from}),n="id_".concat(Math.floor(0xffffffff*Math.random()));e&&b({editor:s,state:i,range:e.range})?(o.active=!0,o.decorationId=t.decorationId?t.decorationId:n,o.range=e.range,o.query=e.query,o.text=e.text):o.active=!1}else o.active=!1;return o.active||(o.decorationId=null,o.range=l,o.query=null,o.text=null),o}},props:{handleKeyDown(e,t){var a;let i=e.state.tr,r=this.getState(e.state);if(!r)return!1;let{active:o,range:l}=r;if(!l)return!1;if(o||t.key!==d||t.metaKey){if(!o)return!1;"Escape"===t.key&&y(e)}else{let a={...r};a.active=!0,a.key=t.key,a.query="",e.dispatch(i.setMeta(n,a))}return(null==v||null==(a=v.onKeyDown)?void 0:a.call(v,{view:e,event:t,range:l}))||!1},decorations(e){let t=this.getState(e);if(!t)return null;let{active:n,range:a,decorationId:r}=t;return n&&a?i.zF.create(e.doc,[i.NZ.inline(a.from,a.to,{nodeName:h,class:m,"data-decoration-id":r||""})]):null}}})}({editor:this.editor,...this.options.suggestion})]}})}},60300:(e,t,n)=>{"use strict";n.d(t,{I2:()=>E,Rj:()=>I,UE:()=>w,vi:()=>D});var a=n(37243),i=n(27002),r=n(32395),o=n(25839),l=n(27865),s=n(43634),d=n(33201),c=n(80911),u=n(53957),p=n(23460),h=n(15607),m=n(6845),g=n(92397),x=n(61385),f=n(47665),b=n(53891),v=n(4967);let y=()=>i.of.get("presentModeFlat"),w=(e,t)=>{let n=t.pos?e.state.doc.nodeAt(t.pos):null;return n&&I(n,t.cardId)},C=e=>{let{tr:t,editor:n,spotlight:a,bias:i=0,method:r="replace"}=e;t.setMeta(v.n,a);let o=v.n.getState(n.state);if(a.cardId||(0,u.o)({cardId:null,method:r,emitChange:!1}),o.cardId!==a.cardId&&a.cardId){(0,u.o)({cardId:a.cardId,method:r,emitChange:!1});let e=(0,f.W0)(n,a.cardId);e&&t.setSelection(c.J.create(t.doc,e.pos,i))}n.commands.user({spotlight:a})},j=(e,t)=>{if(!t)return;let n=document.querySelector("".concat(e," ").concat((0,x.OB)(t)));n&&(null==n||n.classList.add("cardWiggle"),setTimeout(()=>{null==n||n.classList.remove("cardWiggle")},750))},A=(e,t)=>{let n=w(e,t),a=n&&t.cardId&&t.pos&&D(e,t.cardId,t.pos,e=>I(e,t.cardId),!0).cardId!==t.cardId;return{isSpotlightingBlock:n,isSpotlightingFirstBlock:a}},k=e=>{switch(e.type.name){case"card":return!(0,m.Wq)(e);case"toggle":return(0,b.vb)(e.attrs.id);default:return!1}},S=e=>{switch(e.type.name){case"card":return(0,m.wE)(e.attrs.id,!0),!0;case"toggle":return(0,b.bG)(e.attrs.id,!1),!0;default:return!1}},I=(e,t)=>{switch(e.type.name){case"paragraph":case"heading":case"title":case"math_display":case"codeBlock":return e.textContent.trim().length>0||e.content.content.some(e=>"text"!==e.type.name);case"calloutBox":case"blockquote":case"bullet":case"numbered":case"todo":case"embed":case"video":case"image":case"mediaPlaceholder":case"gallery":case"drawing":case"diagram":case"smartDiagram":case"chart":case"contributors":case"tableOfContents":case"toggleSummary":case"table":case"buttonGroup":case"gridCell":case"smartLayoutCell":return!0;case"toggle":return!(0,b.vb)(e.attrs.id);case"card":{let n=(0,s.Ev)((0,o.KA)().getState()).parents[e.attrs.id].slice(-1)[0];if(y())return!0===(0,m.Wq)(e)&&!1===(0,m.Wq)(n);return n===t}default:return!1}},E=e=>{switch(e.type.name){case"toggle":return(0,b.vb)(e.attrs.id);case"card":return!(0,m.Wq)(e);case"footnote":case"gallery":case"gridCell":case"smartLayoutCell":case"table":case"cardNotes":case"blockquote":case"calloutBox":return!1;default:return!0}};a.YY.create({name:"spotlight",addOptions:()=>({scrollerSelector:"body"}),addCommands(){var e=this;return{syncSpotlightAndScroll:e=>{let{spotlight:t,scroll:n,scrollOffset:a,isFollowing:i=!1}=e;return e=>{let{editor:o,view:l,tr:s}=e,{pos:c,cardId:u}=t,p=v.n.getState(o.state).cardId!==u;if(c){let e=l.state.doc.nodeAt(c),t=l.nodeDOM(c);if(e&&t instanceof HTMLElement){console.debug("[Spotlight.syncSpotlight] Scrolling to specific card at pos: ".concat(c),t);let n=(0,d.jg)(e)&&e.attrs.id===u;setTimeout(()=>requestAnimationFrame(()=>{n?z({}):_({element:t})}),p?x.y0:0)}}else if(null==n?void 0:n.pos){let{pos:e,pct:t}=n;setTimeout(()=>requestAnimationFrame(()=>{o.commands.scrollToPositionInCard(e,t||void 0,a)}),p?x.y0:0)}return(0,r.up)({following:i}),(0,r.ki)({cardId:u}),C({editor:o,tr:s,spotlight:{pos:c,cardId:u}}),!0}},spotlightCardById:function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return n=>{let{editor:a,view:i}=n,r=v.n.getState(a.state),o=(0,f.W0)(a,e);if(!o)return!0;let l=a.state.doc.resolve(o.pos),s=l.depth>1&&y(),d=s?(0,g.hT)(a.state.doc,o.pos):o;if(d){let n=r.cardId!==e;if(s){(0,m.wE)(e,!1),(0,g.Ib)({pos:l.pos,editor:a});let t=i.nodeDOM(o.pos);t instanceof HTMLElement&&setTimeout(()=>requestAnimationFrame(()=>{_({element:t,behavior:"smooth"})}),n?x.y0:0)}return t&&y()?a.commands.spotlightNextBlock(!1,{pos:o.pos,cardId:e}):a.commands.syncSpotlightAndScroll({spotlight:{pos:null,cardId:d.node.attrs.id}})}return!0}},spotlightCurrentCard:()=>e=>{var t,n,a,i,r,o;let l,{editor:s,tr:c}=e,u=()=>{console.warn("[Spotlight.spotlightCurrentCard] Couldnt find a card to spotlight, so using first card.");let e=s.view.state.doc.nodeAt(1);return e&&(0,d.jg)(e)?C({editor:s,tr:c,spotlight:{pos:null,cardId:e.attrs.id}}):console.error("[Spotlight.spotlightCurrentCard] nodeAt(1) is unexpectedly not a card. Cannot spotlight"),!0};if(!document.querySelector(this.options.scrollerSelector))return u();let p=s.state.selection.from,m=p&&s.view.coordsAtPos(p);if(m&&m.top<window.innerHeight&&m.bottom>0)console.debug("%c [Spotlight.spotlightCurrentCard] Using cursor pos","background-color: deeppink",{posToUse:l=p});else{let e=(0,h.ls)(s,this.options.scrollerSelector,135).pos;console.debug("%c [Spotlight.spotlightCurrentCard] Using top center pos","background-color: deeppink",{posToUse:l=null==e?void 0:e.pos})}(!l||l<2)&&console.warn("%c [Spotlight.spotlightCurrentCard] Using fallback pos","background-color: deeppink",{posToUse:l=2});let x=y()?(0,g.hT)(s.state.doc,l):(0,g.Tv)(s,l,!1);if(null==x||null==(n=x.node)||null==(t=n.attrs)?void 0:t.hidden){let e=x;for(;x&&(null==x||null==(i=x.node)||null==(a=i.attrs)?void 0:a.hidden);)x=L(s,x.pos);if(!x)for(x=e;x&&(null==x||null==(o=x.node)||null==(r=o.attrs)?void 0:r.hidden);)x=L(s,x.pos,!0)}return x&&x.pos?(y()&&(0,g.Ib)({editor:s,pos:l}),C({editor:s,tr:c,spotlight:{pos:null,cardId:x.node.attrs.id}}),!0):u()},ascendUpToParentCard:function(){let t=!(arguments.length>0)||void 0===arguments[0]||arguments[0];return n=>{let{editor:i,view:o,tr:l}=n,s=v.n.getState(i.state),c=s.pos;if(!c){let t=(0,h.ls)(i,e.options.scrollerSelector,window.innerHeight/2).pos;c=null==t?void 0:t.pos}if(!c)return!1;let u=i.view.state.doc.nodeAt(c),p=(0,g.Tv)(i,c,!1);if(y())return!!p&&!!t&&(j(e.options.scrollerSelector,s.cardId),!0);if(!p)return!1;let m=(0,a.eL)(i.state.doc.resolve(p.pos),d.jg);if(!m)return p&&t&&j(e.options.scrollerSelector,p.node.attrs.id),!1;{let e=o.nodeDOM(p.pos);if(!e)return console.warn("[Spotlight.ascendUpToParentCard] Cant find dom node",{domNode:e,presentingCard:p,parentOfPresentingCard:m,node:u,lastSpotlight:s}),!1;let t=m.node.attrs.id,{isSpotlightingBlock:n}=A(i,s);if(n)return i.commands.spotlightNextBlock(!1,{pos:m.pos,cardId:t});(0,r.ki)({cardId:t}),C({editor:i,tr:l,spotlight:{pos:null,cardId:t}}),M(_,x.M2)({element:e})}return!0}},descendIntoCurrentCard:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"replace";return n=>{let{editor:a,tr:i}=n,r=v.n.getState(a.state),o=e||r.pos;if(y())return a.commands.spotlightExpandCard(o);if(!o)return!0;let l=a.view.state.doc.nodeAt(o);if(!(l&&(0,d.jg)(l)&&l.attrs.id!==r.cardId))return!0;let s=l.attrs.id,{isSpotlightingBlock:c}=A(a,r);return(console.debug("[Spotlight.descendIntoCurrentCard]",{node:l,isSpotlightingBlock:c}),c)?a.commands.spotlightNextBlock(!1,{pos:o,cardId:s}):(C({editor:a,tr:i,spotlight:{pos:null,cardId:s},method:t}),setTimeout(()=>{requestAnimationFrame(()=>{z({})})},x.y0),!0)}},spotlightCollapseCard:e=>t=>{let{editor:n,tr:a}=t;if(!y())return n.commands.ascendUpToParentCard();let i=n.view.state.doc.nodeAt(e);if(!i||!(0,d.jg)(i))return console.warn("[Spotlight.spotlightCollapseCard] pos does not resolve to a card node. This is a noop",e),!0;let r=v.n.getState(n.state),o=i.attrs.id;return(0,m.wE)(o,!0),C({editor:n,tr:a,spotlight:r}),(0,l.H1)("editor").scrollElementIntoView({element:n.view.nodeDOM(e),attempts:0,offsetFromTop:null}),!0},spotlightCollapseNearestExpandableNode:e=>t=>{let{editor:n,tr:i}=t,r=v.n.getState(n.state),o=e||n.state.selection.from,s={pos:o,node:n.view.state.doc.nodeAt(o)};if(!s.node||!k(s.node)){let e=(0,a.eL)(n.state.doc.resolve(o),k);s.node=(null==e?void 0:e.node)||null,s.pos=(null==e?void 0:e.pos)||0}let d=s.pos&&(0,g.hT)(n.state.doc,s.pos);if(!s.node||!s.pos||!d||d.node.attrs.id===s.node.attrs.id)return console.warn("[Spotlight.spotlightCollapseNearestExpandableNode] pos does not resolve to a valid collapsible node. This is a noop",s.pos),!1;if(!(d.pos<=s.pos&&d.pos+d.node.nodeSize>=s.pos))return console.warn("[Spotlight.spotlightCollapseNearestExpandableNode] posToUse is outside of the presenting card. This is a noop",s.pos),!1;console.debug("[Spotlight.spotlightCollapseNearestExpandableNode]",{result:s});let u=S(s.node);return u&&((0,l.H1)("editor").scrollElementIntoView({element:n.view.nodeDOM(s.pos),attempts:0,offsetFromTop:null}),s.pos===n.state.selection.from?n.commands.reHighlightExpandableNode():i.setSelection(c.J.create(n.state.doc,s.pos)),w(n,r)&&C({editor:n,tr:i,spotlight:{pos:s.pos,cardId:d.node.attrs.id}})),u},spotlightExpandCard:e=>t=>{let{editor:n}=t,a=v.n.getState(n.state),i=e&&n.view.state.doc.nodeAt(e);if(!i||!(0,d.jg)(i))return console.warn("[Spotlight.spotlightExpandCard] pos does not resolve to a card node. This is a noop",e),!0;let r=i.attrs.id,{isSpotlightingBlock:o}=A(n,a);return(0,m.wE)(r,!1),console.debug("[Spotlight.spotlightExpandCard]",{node:i,isSpotlightingBlock:o}),setTimeout(()=>{o?n.commands.spotlightNextBlock(!1,{pos:e,cardId:r},"smooth"):n.commands.scrollToPositionInCard(e,0,50)},x.M2),!0},spotlightNextExpandedCard:e=>t=>{let{editor:n,commands:a}=t,i=v.n.getState(n.state);if(!i.pos||!i.cardId)return!0;let r=(0,g.hT)(n.state.doc,i.pos),o=(0,f.Oq)(n,i.pos);if(!r||!o)return!0;let l={node:null,pos:null,cardId:null},s=i.pos;return(n.state.doc.descendants((t,a,i)=>{if(!e&&l.pos)return!1;let r=!(0,m.Wq)(t);if(!((0,d.jg)(t)&&r&&(e?a<s:a>s)))return r;let c=t!==o.node||!e;if(!c){let{isSpotlightingFirstBlock:e}=A(n,{pos:s,cardId:t.attrs.id});c=!e}return c&&(l.node=t,l.pos=a,l.cardId=t.attrs.id),r}),l.pos&&l.cardId)?a.spotlightNextBlock(!1,{pos:l.pos,cardId:l.cardId}):(j(this.options.scrollerSelector,r.node.attrs.id),!0)},spotlightNextCard:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top";return n=>{let{editor:i,commands:o,tr:l}=n,s=v.n.getState(i.state),c=s.pos,{isSpotlightingBlock:u,isSpotlightingFirstBlock:p}=A(i,s);if(u&&y())return o.spotlightNextExpandedCard(e);if(!c){let e=(0,f.W0)(i,s.cardId);c=null==e?void 0:e.pos}if(!c)return console.warn("[Spotlight.spotlightNextCard] Could not find posToUse",{lastSpotlight:s}),!1;let h=i.view.state.doc.nodeAt(c),m=!!(h&&e&&u&&!p&&h.attrs.id!==s.cardId),g=h&&s.cardId&&h.attrs.id===s.cardId?{node:h,pos:c}:(0,a.eL)(i.state.doc.resolve(c),d.jg),b=m?g:(null==g?void 0:g.pos)?L(i,g.pos,e):null;if(b&&null!==b.pos){console.debug("[Spotlight.spotlightNextCard] Found next card:",{next:b,posToUse:c,isSpotlightingBlock:u});let n=b.node.attrs.id,a=b.pos;if(u)return i.commands.spotlightNextBlock(!1,{pos:a,cardId:n});(0,r.ki)({cardId:n}),C({editor:i,tr:l,bias:e?1:-1,spotlight:{pos:null,cardId:n}});let o=s.cardId!==n,d="top"==t?z:T;null!==t&&setTimeout(()=>{d({sync:!0,behavior:"auto"})},o?x.y0:0)}else console.debug("[Spotlight.spotlightNextCard] No next node. Will attempt to ascendUp",{lastSpotlight:s,posToUse:c,node:h}),i.commands.ascendUpToParentCard();return!0}},spotlightNextBlock:(e,t,n)=>a=>{let{editor:i,tr:o}=a,l=v.n.getState(i.state);if(!l.cardId)return!0;let s=i.state.selection,u=s instanceof c.J,p=u&&(-1===s.side&&e||1===s.side&&!e)?-1:0,h=u?e?s.to+p:s.from+p:void 0,m=(null==t?void 0:t.cardId)||l.cardId,f=(null==t?void 0:t.pos)||l.pos||h,b=u&&null===l.pos&&(0,d.jg)(s.node)&&1===s.$from.depth,{pos:w,cardId:j,domNode:A}=f&&!b?D(i,m,f,I,e):R(i,l.cardId,this.options.scrollerSelector,e);if(null!==w&&A instanceof HTMLElement){var k;let t=y()?null==(k=(0,g.hT)(i.state.doc,w))?void 0:k.node.attrs.id:j;if(!t)return!0;(0,r.ki)({cardId:t}),console.debug("%c [Spotlight.spotlightNextBlock]","background-color: deeppink",{prevCardId:l.cardId,cardId:t,pos:w}),setTimeout(()=>{_({element:A,behavior:n})},l.cardId===t?0:x.y0),C({editor:i,tr:o,bias:e?1:-1,spotlight:{pos:w,cardId:t}})}else i.commands.ascendUpToParentCard();return!0},spotlightNodeAtPos:e=>t=>{let{editor:n,tr:a}=t,i=v.n.getState(n.state);if(!i.cardId)return!1;let r=i.cardId,o=(0,h.TK)(n.state.doc.resolve(e),e=>I(e)),l=o.reverse().find((e,t)=>!(t!==o.length-1&&E(e.node)));return!!l&&(l.pos!==i.pos?(C({editor:n,tr:a,spotlight:{pos:l.pos,cardId:r}}),!0):n.commands.turnOffSpotlight())},turnOffSpotlight:function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return t=>{let{editor:n,tr:a}=t,i=v.n.getState(n.state);return C({editor:n,tr:a,spotlight:{pos:null,cardId:e?null:i.cardId}}),!0}},scrollToPositionInCard:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return a=>{let{editor:i}=a,r=(0,p.Oc)((0,h.NR)(i,e)),o=null==r?void 0:r.getBoundingClientRect();if(!r||!o)return!0;let l=(t||0)*o.height;return console.debug("%c [Spotlight.scrollToPositionInCard]","background-color: deeppink",JSON.stringify({pos:e,offset:n-l}),r),(0,p.BX)({element:r,color:"deeppink",requiredCookie:"spotlightScrollDebug=true"}),_({element:r,offset:n-l}),!0}},scrollToNodeWithPin:(e,t)=>()=>(console.debug("%c [Spotlight.scrollToNodeWithPin] WITH NODE","background-color: deeppink",{scrollToNode:e}),M(_,x.M2,0)({element:e,offset:t}),!0)}},addProseMirrorPlugins(){return[(0,v._)((e,t)=>I(e,t),this.editor)]}});let L=function(e,t){var n;let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e.view.state.doc.nodeAt(t),o=r&&(0,d.jg)(r)?{node:r,pos:t}:(0,a.eL)(e.state.doc.resolve(t),d.jg);if(!o)return;let l=e.state.doc.resolve(i?o.pos:o.pos+(null==(n=o.node)?void 0:n.nodeSize)),s=i?l.nodeBefore:l.nodeAfter;if(!s)return;let c=i?l.pos-s.nodeSize:l.pos;if((0,d.jg)(s))return(console.debug("[Spotlight.findNextDirectSiblingCard]",{nextNode:s,nextPos:c}),s.attrs.hidden)?L(e,c,i):{node:s,pos:c}},R=function(e,t,n){var a;let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r={node:null,pos:null,cardId:null,domNode:null},o=(null==(a=(0,h.ls)(e,n,135).pos)?void 0:a.inside)||null,l=o?e.state.doc.nodeAt(o):null;if(!o||!l)return r;if(l.attrs.id===t)return D(e,t,o,e=>I(e,t),i);let s=e.state.doc.resolve(o),d=(0,f.Oq)(e,s.before());if(!d)return r;let c=s.before(d.depth+2),u=e.state.doc.nodeAt(c);return u&&I(u,t)?(r.pos=e.state.doc.resolve(c).pos,r.node=u,r.cardId=null==d?void 0:d.node.attrs.id,r.domNode=e.view.nodeDOM(r.pos),r):D(e,t,c,e=>I(e,t),i)},D=function(e,t,n,i){let r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o={node:null,pos:null,cardId:null,domNode:null},l=e.state.doc.resolve(n),s=e.view.state.doc.nodeAt(n),c=(0,a.eL)(l,e=>(0,d.jg)(e)&&e.attrs.id===t),u=s&&(0,d.jg)(s)&&(null==s?void 0:s.attrs.id)===t?{node:s,pos:n}:c;if(!u)return console.debug("[Spotlight.findNextNode] - No card found:",{cardId:t,from:n,node:s}),o;let p=(e,t)=>{let a=e.attrs.id;e.descendants((l,s)=>{let d=t+s+1,c=i(l,a)&&(r?d<n:d>n);return(!!r||!o.node)&&(c&&(o.node=l,o.pos=d,o.cardId=e.attrs.id),E(l))})};p(u.node,u.pos);let h=u.pos;for(;null===o.pos;){let t=L(e,h,r);if(t)p(t.node,t.pos),h=t.pos;else break}return null!==o.pos&&(o.domNode=e.view.nodeDOM(o.pos)),console.debug("[Spotlight.findNextNode]",{result:o}),o},M=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return a=>{let i,r={...a,sync:!0,behavior:"auto"};e(r);let o=!1;Promise.race([new Promise(e=>setTimeout(()=>e(!1),n+t+300)),new Promise(e=>{i=()=>e(!0),a.element.addEventListener("transitionend",i)})]).then(e=>{console.debug("[scrollTo withDurationPin] transitionend race result",e),o=!0}).finally(()=>{a.element.removeEventListener("transitionend",i)});let l=+new Date,s=()=>requestAnimationFrame(()=>{e(r),(new Date-l<t+n||!o)&&s()});setTimeout(s,n)}},_=e=>{var t;let{element:n,sync:a=!1,behavior:i="smooth",offset:r}=e;if(!(0,p.IK)(n)){let e=n.querySelector("[data-content-reference]");if(!e||!(0,p.IK)(e))return;n=e}let o=(0,l.H1)("editor");if(!(null==(t=o.scroller)?void 0:t.clientHeight))return;let s=(0,p.sR)(n,o.scrollSelector),d=n.clientHeight/2,c=.45*o.scroller.clientHeight-d,u=s-Math.max(void 0!==r?r:c,125);o.scrollTo({top:u,sync:a,behavior:i})},z=e=>{let{sync:t=!1,behavior:n="smooth"}=e;(0,l.H1)("editor").scrollTo({top:0,behavior:n,sync:t})},T=e=>{let{sync:t=!1,behavior:n="smooth"}=e,a=(0,l.H1)("editor"),i=a.scroller;i&&a.scrollTo({top:i.scrollHeight,behavior:n,sync:t})}},61292:(e,t,n)=>{"use strict";function a(e){let t=e.cached.tableNodeTypes;if(!t)for(let n in t=e.cached.tableNodeTypes={},e.nodes){let a=e.nodes[n],i=a.spec.tableRole;i&&(t[i]=a)}return t}n.d(t,{e:()=>a})},61651:(e,t,n)=>{"use strict";n.d(t,{N:()=>a});let a={LIGHT_BG:"gray.200",LIGHT_COLOR:"gray.300",LIGHT_ICON_COLOR:"gray.400",LIGHT_BTN_HOVER_BG:"gray.50",LIGHT_BTN_HOVER_COLOR:"gray.500",LIGHT_AI_BTN_HOVER_BG:"trueblue.100",LIGHT_AI_BTN_HOVER_COLOR:"trueblue.300",DARK_BG:"gray.700",DARK_COLOR:"gray.600",DARK_ICON_COLOR:"gray.600",DARK_BTN_HOVER_BG:"gray.600",DARK_BTN_HOVER_COLOR:"gray.400",DARK_AI_BTN_HOVER_BG:"trueblue.800",DARK_AI_BTN_HOVER_COLOR:"trueblue.300",LIGHT_GALLERY_BG:"gray.50",DARK_GALLERY_BG:"gray.800"}},61679:(e,t,n)=>{"use strict";n.d(t,{D:()=>i});let a={IMAGE_ICON:"image.icon",IMAGE_PICTOGRAPHIC_ICON:"image.pictographic.icon"},i=e=>!!e&&(e===a.IMAGE_ICON||e===a.IMAGE_PICTOGRAPHIC_ICON)},61964:(e,t,n)=>{"use strict";n.d(t,{rn:()=>i.HT,J3:()=>l.J,cq:()=>K.cq,gC:()=>K.gC,JD:()=>K.JD,AL:()=>H,Tn:()=>K.Tn,Kl:()=>K.Kl,QN:()=>K.QN,rO:()=>K.rO,CG:()=>K.CG,lD:()=>K.lD,rP:()=>c,D8:()=>K.D8,aH:()=>s.aH,w7:()=>K.w7,_t:()=>K._t,i4:()=>K.i4,L0:()=>K.L0,LF:()=>Q,_G:()=>K._G,Qg:()=>K.Qg,uC:()=>K.uC});var a=n(63867),i=n(46675),r=n(56124),o=n(61292),l=n(48413),s=n(14503);let d=new a.hs("fix-tables");function c(e,t){let n,a=(t,a)=>{"table"!=t.type.spec.tableRole||(0,r.VM)(t)||(n=function(e,t,n,a){let i,r,c=l.J.get(t);if(!c.problems)return a;a||(a=e.tr);let u=[];for(let e=0;e<c.height;e++)u.push(0);for(let e=0;e<c.problems.length;e++){let i=c.problems[e];if("collision"==i.type){let e=t.nodeAt(i.pos);for(let t=0;t<e.attrs.rowspan;t++)u[i.row+t]+=i.n;a.setNodeMarkup(a.mapping.map(n+1+i.pos),void 0,(0,s.Pn)(e.attrs,e.attrs.colspan-i.n,i.n))}else if("missing"==i.type)u[i.row]+=i.n;else if("overlong_rowspan"==i.type){let e=t.nodeAt(i.pos);a.setNodeMarkup(a.mapping.map(n+1+i.pos),void 0,(0,s.ob)(e.attrs,"rowspan",e.attrs.rowspan-i.n))}else if("colwidth mismatch"==i.type){let e=t.nodeAt(i.pos);a.setNodeMarkup(a.mapping.map(n+1+i.pos),void 0,(0,s.ob)(e.attrs,"colwidth",i.colwidth))}}for(let e=0;e<u.length;e++)u[e]&&(null==i&&(i=e),r=e);for(let l=0,s=n+1;l<c.height;l++){let n=t.child(l),d=s+n.nodeSize,c=u[l];if(c>0){let t="cell";n.firstChild&&(t=n.firstChild.type.spec.tableRole);let u=[];for(let n=0;n<c;n++)u.push((0,o.e)(e.schema)[t].createAndFill());let p=(0==l||i==l-1)&&r==l?s+1:d-1;a.insert(a.mapping.map(p),u)}s=d}return a.setMeta(d,{fixTables:!0})}(e,t,a,n))};return t?t.doc!=e.doc&&function e(t,n,a,i){let r=t.childCount,o=n.childCount;e:for(let l=0,s=0;l<o;l++){let o=n.child(l);for(let e=s,n=Math.min(r,l+3);e<n;e++)if(t.child(e)==o){s=e+1,a+=o.nodeSize;continue e}i(o,a),s<r&&t.child(s).sameMarkup(o)?e(t.child(s),o,a+1,i):o.nodesBetween(0,o.content.size,i,a+1),a+=o.nodeSize}}(t.doc,e.doc,0,a):e.doc.descendants(a),n}var u=n(74937),p=n(94289),h=n(62040);function m(e,t){let n=e.createAndFill();return new h.dL(n).replace(0,n.content.size,t).doc}function g(e,t,n,a,i,r,o,l){if(0==o||o==t.height)return!1;let d=!1;for(let c=i;c<r;c++){let i=o*t.width+c,r=t.map[i];if(t.map[i-t.width]==r){d=!0;let i=n.nodeAt(r),{top:u,left:p}=t.findCell(r);e.setNodeMarkup(e.mapping.slice(l).map(r+a),void 0,(0,s.ob)(i.attrs,"rowspan",o-u)),e.insert(e.mapping.slice(l).map(t.positionAt(o,p,n)),i.type.createAndFill((0,s.ob)(i.attrs,"rowspan",u+i.attrs.rowspan-o))),c+=i.attrs.colspan-1}}return d}function x(e,t,n,a,i,r,o,l){if(0==o||o==t.width)return!1;let d=!1;for(let c=i;c<r;c++){let i=c*t.width+o,r=t.map[i];if(t.map[i-1]==r){d=!0;let i=n.nodeAt(r),u=t.colCount(r),p=e.mapping.slice(l).map(r+a);e.setNodeMarkup(p,void 0,(0,s.Pn)(i.attrs,o-u,i.attrs.colspan-(o-u))),e.insert(p+i.nodeSize,i.type.createAndFill((0,s.Pn)(i.attrs,0,o-u))),c+=i.attrs.rowspan-1}}return d}function f(e,t,n,a,r){let s=n?e.doc.nodeAt(n-1):e.doc,d=l.J.get(s),{top:c,left:u}=a,h=u+r.width,m=c+r.height,f=e.tr,b=0;function v(){s=n?f.doc.nodeAt(n-1):f.doc,d=l.J.get(s),b=f.mapping.maps.length}(function(e,t,n,a,i,r,l){let s,d,c=e.doc.type.schema,u=(0,o.e)(c);if(i>t.width)for(let r=0,o=0;r<t.height;r++){let l=n.child(r);o+=l.nodeSize;let c=[],p=null==l.lastChild||l.lastChild.type==u.cell?s||(s=u.cell.createAndFill()):d||(d=u.header_cell.createAndFill());for(let e=t.width;e<i;e++)c.push(p);e.insert(e.mapping.slice(0).map(o-1+a),c)}if(r>t.height){let o=[];for(let e=0,a=(t.height-1)*t.width;e<Math.max(t.width,i);e++){let i=!(e>=t.width)&&n.nodeAt(t.map[a+e]).type==u.header_cell;o.push(i?d||(d=u.header_cell.createAndFill()):s||(s=u.cell.createAndFill()))}let c=u.row.create(null,p.FK.from(o)),h=[];for(let e=t.height;e<r;e++)h.push(c);e.insert(e.mapping.slice(l).map(a+n.nodeSize-2),h)}return!!(s||d)})(f,d,s,n,h,m,0)&&v(),g(f,d,s,n,u,h,c,b)&&v(),g(f,d,s,n,u,h,m,b)&&v(),x(f,d,s,n,c,m,u,b)&&v(),x(f,d,s,n,c,m,h,b)&&v();for(let e=c;e<m;e++){let t=d.positionAt(e,u,s),a=d.positionAt(e,h,s);f.replace(f.mapping.slice(b).map(t+n),f.mapping.slice(b).map(a+n),new p.Ji(r.rows[e-c],0,0))}v(),f.setSelection(new i.HT(f.doc.resolve(n+d.positionAt(c,u,s)),f.doc.resolve(n+d.positionAt(m-1,h-1,s)))),t(f)}let b=(0,u.K)({ArrowLeft:y("horiz",-1),ArrowRight:y("horiz",1),ArrowUp:y("vert",-1),ArrowDown:y("vert",1),"Shift-ArrowLeft":w("horiz",-1),"Shift-ArrowRight":w("horiz",1),"Shift-ArrowUp":w("vert",-1),"Shift-ArrowDown":w("vert",1),Backspace:C,"Mod-Backspace":C,Delete:C,"Mod-Delete":C});function v(e,t,n){return!n.eq(e.selection)&&(t&&t(e.tr.setSelection(n).scrollIntoView()),!0)}function y(e,t){return(n,r,o)=>{let l=n.selection;if(l instanceof i.HT)return v(n,r,a.LN.near(l.$headCell,t));if("horiz"!=e&&!l.empty)return!1;let d=k(o,e,t);if(null==d)return!1;if("horiz"==e)return v(n,r,a.LN.near(n.doc.resolve(l.head+t),t));{let i=n.doc.resolve(d),o=(0,s.oD)(i,e,t),l;return l=o?a.LN.near(o,1):t<0?a.LN.near(n.doc.resolve(i.before(-1)),-1):a.LN.near(n.doc.resolve(i.after(-1)),1),v(n,r,l)}}}function w(e,t){return(n,a,r)=>{let o=n.selection;if(!(o instanceof i.HT)){let a=k(r,e,t);if(null==a)return!1;o=new i.HT(n.doc.resolve(a))}let l=(0,s.oD)(o.$headCell,e,t);return!!l&&v(n,a,new i.HT(o.$anchorCell,l))}}function C(e,t){let n=e.selection;if(!(n instanceof i.HT))return!1;if(t){let a=e.tr,i=(0,o.e)(e.schema).cell.createAndFill().content;n.forEachCell((e,t)=>{e.content.eq(i)||a.replace(a.mapping.map(t+1),a.mapping.map(t+e.nodeSize-1),new p.Ji(i,0,0))}),a.docChanged&&t(a)}return!0}function j(e,t,n){if(!(0,s.aH)(e.state.selection))return!1;let a=function(e){if(!e.size)return null;let{content:t,openStart:n,openEnd:a}=e;for(;1==t.childCount&&(n>0&&a>0||"table"==t.firstChild.type.spec.tableRole);)n--,a--,t=t.firstChild.content;let i=t.firstChild,r=i.type.spec.tableRole,l=i.type.schema,s=[];if("row"==r)for(let e=0;e<t.childCount;e++){let i=t.child(e).content,r=e?0:Math.max(0,n-1),d=e<t.childCount-1?0:Math.max(0,a-1);(r||d)&&(i=m((0,o.e)(l).row,new p.Ji(i,r,d)).content),s.push(i)}else{if("cell"!=r&&"header_cell"!=r)return null;s.push(n||a?m((0,o.e)(l).row,new p.Ji(t,n,a)).content:t)}return function(e,t){let n=[];for(let e=0;e<t.length;e++){let a=t[e];for(let t=a.childCount-1;t>=0;t--){let{rowspan:i,colspan:r}=a.child(t).attrs;for(let t=e;t<e+i;t++)n[t]=(n[t]||0)+r}}let a=0;for(let e=0;e<n.length;e++)a=Math.max(a,n[e]);for(let i=0;i<n.length;i++)if(i>=t.length&&t.push(p.FK.empty),n[i]<a){let r=(0,o.e)(e).cell.createAndFill(),l=[];for(let e=n[i];e<a;e++)l.push(r);t[i]=t[i].append(p.FK.from(l))}return{height:t.length,width:a,rows:t}}(l,s)}(n),r=e.state.selection;if(r instanceof i.HT){a||(a={width:1,height:1,rows:[p.FK.from(m((0,o.e)(e.state.schema).cell,n))]});let t=r.$anchorCell.node(-1),i=r.$anchorCell.start(-1),d=l.J.get(t).rectBetween(r.$anchorCell.pos-i,r.$headCell.pos-i);return a=function(e,t,n){let{width:a,height:i,rows:r}=e;if(a!=t){let e=[],n=[];for(let a=0;a<r.length;a++){let i=r[a],o=[];for(let n=e[a]||0,r=0;n<t;r++){let l=i.child(r%i.childCount);n+l.attrs.colspan>t&&(l=l.type.create((0,s.Pn)(l.attrs,l.attrs.colspan,n+l.attrs.colspan-t),l.content)),o.push(l),n+=l.attrs.colspan;for(let t=1;t<l.attrs.rowspan;t++)e[a+t]=(e[a+t]||0)+l.attrs.colspan}n.push(p.FK.from(o))}r=n,a=t}if(i!=n){let e=[];for(let t=0,a=0;t<n;t++,a++){let o=[],l=r[a%i];for(let e=0;e<l.childCount;e++){let a=l.child(e);t+a.attrs.rowspan>n&&(a=a.type.create((0,s.ob)(a.attrs,"rowspan",Math.max(1,n-a.attrs.rowspan)),a.content)),o.push(a)}e.push(p.FK.from(o))}r=e,i=n}return{width:a,height:i,rows:r}}(a,d.right-d.left,d.bottom-d.top),f(e.state,e.dispatch,i,d,a),!0}if(!a)return!1;{let t=(0,s.t6)(e.state.selection),n=t.start(-1);return f(e.state,e.dispatch,n,l.J.get(t.node(-1)).findCell(t.pos-n),a),!0}}function A(e,t){var n;let a;if(t.ctrlKey||t.metaKey)return!1;let r=S(e,t.target);if(t.shiftKey&&e.state.selection instanceof i.HT)o(e.state.selection.$anchorCell,t),t.preventDefault();else if(t.shiftKey&&r&&null!=(a=(0,s.KW)(e.state.selection.$anchor))&&(null==(n=I(e,t))?void 0:n.pos)!=a.pos)o(a,t),t.preventDefault();else if(!r)return!1;function o(t,n){let a=I(e,n),r=null==s.dX.getState(e.state);if(!a||!(0,s.kV)(t,a))if(!r)return!1;else a=t;let o=new i.HT(t,a);if(r||!e.state.selection.eq(o)){let n=e.state.tr.setSelection(o);r&&n.setMeta(s.dX,t.pos),e.dispatch(n)}}function l(){e.root.removeEventListener("mouseup",l),e.root.removeEventListener("dragstart",l),e.root.removeEventListener("mousemove",d),null!=s.dX.getState(e.state)&&e.dispatch(e.state.tr.setMeta(s.dX,-1))}function d(n){let a=s.dX.getState(e.state),i;if(null!=a)i=e.state.doc.resolve(a);else if(S(e,n.target)!=r&&!(i=I(e,t)))return l();i&&o(i,n)}return e.root.addEventListener("mouseup",l),e.root.addEventListener("dragstart",l),e.root.addEventListener("mousemove",d),!1}function k(e,t,n){if(!(e.state.selection instanceof a.U3))return null;let{$head:i}=e.state.selection;for(let a=i.depth-1;a>=0;a--){let r=i.node(a);if((n<0?i.index(a):i.indexAfter(a))!=(n<0?0:r.childCount))break;if("cell"==r.type.spec.tableRole||"header_cell"==r.type.spec.tableRole){let r=i.before(a),o="vert"==t?n>0?"down":"up":n>0?"right":"left";return e.endOfTextblock(o)?r:null}}return null}function S(e,t){for(;t&&t!=e.dom;t=t.parentNode)if("TD"==t.nodeName||"TH"==t.nodeName)return t}function I(e,t){let n=e.posAtCoords({left:t.clientX,top:t.clientY});return n&&n?(0,s.KW)(e.state.doc.resolve(n.pos)):null}var E=n(50333),L=n.n(E),R=n(97255),D=n(5061),M=n(38537),_=n(60122),z=n(2009),T=n(56603);let N=new a.hs("tableColumnResizing");class P{getActiveHandleAbs(e){return null===this.activeHandle?null:(0,T.d_)(e,this.activeHandle)}reset(){return this.activeHandle=null,this.dragging=null,this}setHandle(e,t){if(null===t.setHandle)return this.activeHandle=null,this;let n=_.pJ.getState(e);if(!n)return this;let{type:a,binding:i}=n;return this.activeHandle=(0,z.Bw)(t.setHandle,a,i.mapping),this}setDragging(e){return this.dragging=e.setDragging,this}apply(e,t){let n=e.getMeta(N);return n&&"setHandle"in n?this.setHandle(t,n):n&&"setDragging"in n?this.setDragging(n):n&&"reset"in n?this.reset():this}constructor(e=null,t=null){this.activeHandle=e,this.dragging=t}}var O=n(39078);function H(){let{handleWidth:e=5,colMinPercent:t=10,lastColumnResizable:n=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new a.k_({key:N,state:{init:()=>new P,apply:(e,t,n,a)=>t.apply(e,a)},props:{attributes:e=>null!==N.getState(e).getActiveHandleAbs(e)?{class:"resize-cursor"}:{class:""},handleDOMEvents:{mousemove:(t,a)=>((function(e,t,n,a){if(!e.editable)return;let i=N.getState(e.state);if(i.dragging)return;let r=function(e){for(;e&&"TD"!=e.nodeName&&"TH"!=e.nodeName;)e=e.classList.contains("ProseMirror")?null:e.parentNode;return e}(t.target),o=null;if(r){let a=(0,D.ix)(),{left:i,right:l}=r.getBoundingClientRect();a?l-t.clientX<=n?o=F(e,t,"left"):t.clientX-i<=n&&(o=F(e,t,"right")):t.clientX-i<=n?o=F(e,t,"left"):l-t.clientX<=n&&(o=F(e,t,"right"))}if(o!==i.getActiveHandleAbs(e.state)){if(!a&&null!==o&&W(e.state.doc.resolve(o)))return;B(e,o)}})(t,a,e,n),!1),mouseleave:e=>((function(e){let t=N.getState(e.state);null===t.getActiveHandleAbs(e.state)||t.dragging||B(e,null)})(e),!1),mousedown:(e,n)=>((function(e,t,n){if(!e.editable)return;let i=N.getState(e.state),r=i.getActiveHandleAbs(e.state);if(null===r||i.dragging)return;let o=e.state.doc.resolve(r),l=o.node(-1),s=o.start(-1),d=[...l.attrs.colWidths],c=V(o),u=function(e,t){let n=e.domAtPos(t),a=e.domAtPos(t).node;for(;"TABLE"!=a.nodeName;)a=a.parentNode;return n.node.childNodes[n.offset].scrollWidth}(e,r),p=U(e,o),h=G(e,o),m=e.state.doc.resolve(r+2);e.state.selection.from>s&&e.state.selection.from<s+l.nodeSize||e.dispatch(e.state.tr.setSelection(a.LN.findFrom(m,1)));let g={setDragging:{startX:t.clientX,startWidth:u,colWidths:d,tableWidth:h,colIndex:c}};e.dispatch(e.state.tr.setMeta(N,g));let x=null;function f(t){window.removeEventListener("mouseup",f),window.removeEventListener("mousemove",b);let n=N.getState(e.state);if(n.dragging){if(null===x)return void e.dispatch(e.state.tr.setMeta(N,{setDragging:null}));if(n.dragging)try{let t=n.getActiveHandleAbs(e.state);(function(e,t,n){let a=e.state.doc.resolve(t).before(-1),i=e.state.tr;e.dispatch(i.setNodeMarkup(a,void 0,{colWidths:[...n]}).setMeta("annotationEvent",{type:"update-node-attrs",pos:a}))})(e,t,x),e.dispatch(e.state.tr.setMeta(N,{setDragging:null}))}catch(t){e.dispatch(e.state.tr.setMeta(N,{reset:!0}))}x=null}}function b(t){if(!t.which)return f(t);let a=N.getState(e.state),i=a.getActiveHandleAbs(e.state);if(!a.dragging||null===i)return;let{colIndex:r,colWidths:o}=a.dragging,l=function(e,t){let{tableWidth:n}=e,a=t.clientX-e.startX,i=(0,D.ix)()?-a:a;return L()(100*i/n,2)}(a.dragging,t);(function(e,t,n){let a=e.state.doc.resolve(t),i=U(e,a).querySelectorAll("colgroup > col.col-width-control");n.forEach((e,t)=>{i.item(t).style.width="".concat(e,"%")})})(e,i,x=(0,O.H0)(o,r,l,n)),(0,M.i$)(p)}window.addEventListener("mouseup",f),window.addEventListener("mousemove",b),t.preventDefault()})(e,n,t),!1)},decorations(e){let t=N.getState(e).getActiveHandleAbs(e);if(null!==t)return function(e,t){let n=[];try{let a=e.doc.resolve(t),i=a.node(-1),r=l.J.get(i),o=a.start(-1),s=r.colCount(a.pos-o)+a.nodeAfter.attrs.colspan;for(let e=0;e<r.height;e++){let t=s+e*r.width-1;if((s==r.width||r.map[t]!=r.map[t+1])&&(0==e||r.map[t-1]!=r.map[t-1-r.width])){let e=r.map[t],a=o+e+i.nodeAt(e).nodeSize-1,l=document.createElement("div");l.className="column-resize-handle",n.push(R.NZ.widget(a,l))}}return R.zF.create(e.doc,n)}catch(e){return console.error("(caught) columnResizing error: ".concat(e.message)),R.zF.empty}}(e,t)},nodeViews:{}}})}function F(e,t,n){let a=e.posAtCoords({left:t.clientX,top:t.clientY});if(!a)return null;let{inside:i}=a,r=(0,s.KW)(e.state.doc.resolve(i+1));if(!r)return null;if("right"===n)return r.pos;let o=l.J.get(r.node(-1)),d=r.start(-1),c=o.map.indexOf(r.pos-d);return c%o.width==0?null:d+o.map[c-1]}function B(e,t){e.dispatch(e.state.tr.setMeta(N,{setHandle:t}))}let V=e=>{let t=e.node(-1),n=l.J.get(t),a=e.start(-1);return n.colCount(e.pos-a)},W=e=>{let t=e.node(-1),n=l.J.get(t);return V(e)===n.width-1},U=(e,t)=>{let n=e.domAtPos(t.start(-1)).node;for(;"TABLE"!=n.nodeName;)n=n.parentNode;return n},G=(e,t)=>U(e,t).scrollWidth;var K=n(96197);function Q(){let{allowTableNodeSelection:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new a.k_({key:s.dX,state:{init:()=>null,apply(e,t){let n=e.getMeta(s.dX);if(null!=n)return -1==n?null:n;if(null==t||!e.docChanged)return t;let{deleted:a,pos:i}=e.mapping.mapResult(t);return a?null:i}},props:{decorations:i.lz,handleDOMEvents:{mousedown:A},createSelectionBetween:e=>null!=s.dX.getState(e.state)?e.state.selection:null,handleKeyDown:b,handlePaste:j},appendTransaction:(t,n,a)=>(0,i.Wz)(a,c(a,n),e)})}},62e3:(e,t,n)=>{"use strict";n.d(t,{J:()=>c}),n(81278),n(55729);var a=n(99767),i=n(77650);(()=>{let e=null;return async t=>{let r=t;t||(console.warn("[i18n] Unexpected empty locale"),r=a.jA),e=r;try{let t=await n(76478)("./".concat(r,"/messages"));r===e&&(i.Ru.load(r,t.messages),i.Ru.activate(r))}catch(e){console.error("[i18n] Error loading locale messages:",e.message)}}})();var r=n(25839),o=n(22529);n(30286);var l=n(91405),s=n(82297);n(73110),n(6807),n(65148);let d=(e,t)=>{let n=(0,s.H)(),i=(0,s._Y)();return e||t||(i?n:a.jA)},c=()=>{let e=(0,r.KA)();return d((0,o.uy)(e.getState()),(0,l._)())}},62695:(e,t,n)=>{"use strict";n.d(t,{B:()=>s,j:()=>l});var a=n(55729),i=n(25839),r=n(15350),o=n(9119);let l=(e,t)=>(0,a.useCallback)(()=>{e.chain().focus().selectNodeAtPos(t(),!1).run(),setTimeout(()=>{e.view.focus()})},[e,t]),s=()=>{let e=(0,i.jL)(),t=(0,i.GV)(r.Pj),n=(0,i.GV)(r.kW),l=(0,i.GV)(o.HF);return{currentMediaDrawerSourceKey:t,isQuickAction:n,setMediaDrawerSourceKeyAction:(0,a.useCallback)(function(t){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e((0,r.st)({sourceKey:t,overrideDefault:n}))},[e]),currentEditBackgroundDrawerSourceKey:l,setBackgroundDrawerSourceKeyAction:(0,a.useCallback)(t=>{e((0,o.mR)({sourceKey:t}))},[e])}}},62917:(e,t,n)=>{"use strict";n.d(t,{Ub:()=>r,Bz:()=>a.B,j8:()=>a.j}),n(84343);var a=n(62695);let i=["image.custom","image.web","image.ai-generated","accent.theme"],r=e=>i.includes(e)},62964:(e,t,n)=>{"use strict";n.d(t,{VG:()=>L,Yq:()=>E,Sf:()=>k});var a=n(6029),i=n(57405),r=n(23293),o=n(58959),l=n(38036),s=n(49611),d=n(64268),c=n(51504),u=n(19564),p=n(77650),h=n(55729),m=n(25839),g=n(43634),x=n(67097),f=n(15577);let b={thumbnail:void 0,embed:void 0,meta:void 0,sourceUrl:void 0},v=e=>{let{links:{icon:t},meta:{title:n,description:a,duration:i,site:r,medium:o}={}}=e;return{...Object.entries({title:null==n?void 0:n.slice(0,200),description:null==a?void 0:a.slice(0,500),duration:i,site:r,medium:o}).reduce((e,t)=>{let[n,a]=t;return a?{...e,[n]:a}:e},{}),icon:t&&t[0]?t[0].href:void 0}},y=async e=>{var t,n,a,i,r,o;let l=await fetch("https://cdn.iframe.ly/api/iframely/?url=".concat(encodeURIComponent(e),"&key=").concat("a68bac8b6624d46b6d0ba46e5b3f8971","&iframe=1&omit_script=1")),s=await l.json();if(console.debug("[Iframely]",s),s.error)return Promise.reject(s);let{html:d,links:c,meta:u}=s,{player:p,reader:h,app:m,thumbnail:g}=c,x=p||h||m,f=x?x.filter(e=>"text/html"===e.type&&e.href)[0]||x[0]:null,b=u&&!u.xframe&&(!u.csp||!u.csp.includes("frame-ancestors"));return{sourceUrl:(null==u?void 0:u.canonical)||e,embed:f?{url:f.href,html:d,height:null==(t=f.media)?void 0:t.height,width:(null==(n=f.media)?void 0:n.width)||(null==(a=f.media)?void 0:a["max-width"]),aspectRatio:null==(i=f.media)?void 0:i["aspect-ratio"]}:b?{url:e}:void 0,meta:v(s),thumbnail:g&&g[0]?{src:g[0].href,height:null==(r=g[0].media)?void 0:r.height,width:null==(o=g[0].media)?void 0:o.width}:void 0}};var w=n(29917),C=n(77569),j=n(17798),A=n(83488);let k=e=>{try{var t,n;let a=new DOMParser().parseFromString(e,"text/html");return(null==(t=a.querySelector("iframe"))?void 0:t.src)||(null==(n=a.querySelector("blockquote"))?void 0:n.cite)||!1}catch(e){return!1}},S=e=>{let t=e.match(/^https?:\/\/www\.tiktok\.com/),n=e.match(/^https?:\/\/(www\.|staging\.)?gamma.app/);return t||n},I=async e=>{var t,n,a,i,r;let o,l;try{if(S(e)){let t=e.split("?")[0];o=await y(t)}else o=await y(e)}catch(t){if(403===t.status||404===t.status||415===t.status){for(let{key:t,urlRegex:n,canEmbedPrivate:a,defaultDisplayStyle:i}of j.NR)if(n&&e.match(n)&&a)return{...b,source:t,proxy:!1,url:e,meta:{title:p.Ru._({id:"SuoEIZ"})},sourceUrl:e,displayStyle:i||"inline"}}throw Error("Code: ".concat(t.status,". Message: ").concat(t.error))}if(!o)throw Error("No link metadata found");for(let{key:e,urlRegex:t}of j.NR)if(t&&(null==(i=o.sourceUrl)?void 0:i.match(t))){l=e;break}if(l){let e=j.Dc[l];return{...b,...o,source:l,proxy:!1,url:(null==(r=o.embed)?void 0:r.url)||o.sourceUrl,displayStyle:e.defaultDisplayStyle}}return(null==(t=o.meta)?void 0:t.medium)=="audio"||(null==(n=o.meta)?void 0:n.medium)==="video"?{...b,...o,source:C.G.key}:(null==(a=o.embed)?void 0:a.url)?{...b,...o,source:A.J.key,proxy:!1,url:o.embed.url}:{...b,...o,source:A.J.key,proxy:!0,url:e}},E=async(e,t)=>await I(e).then(e=>(t(e),e)).then(e=>R(e,t)),L=e=>{let{currentUrl:t="",updateAttributes:n,handleSubmit:m,handleDataSubmit:g,placeholder:b,noHeader:v}=e,[y,w]=(0,h.useState)(t||""),[C,j]=(0,h.useState)(),A=y!==t;(0,h.useEffect)(()=>{t&&w(t)},[t]),(0,h.useEffect)(()=>{j(void 0)},[y]);let S=(0,h.useCallback)(e=>{if(0===e.indexOf("data:")){if(g){try{(0,x.Xz)(e)}catch(e){j(p.Ru._({id:"YqH0TR"}));return}return g(e)}return void j(p.Ru._({id:"YqH0TR"}))}let t=k(e);return(t&&(e=t),(0,f.Se)(e)||(e="https://"+e,(0,f.AY)(e)))?m?m(e):n?E(e,n).catch(e=>{console.error("Error fetching URL",e),j(p.Ru._({id:"dZyJFB"}))}):void console.error("No submit handler provided"):void j(p.Ru._({id:"YqH0TR"}))},[g,m,n]),I=(0,h.useCallback)(()=>{S(y.trim())},[S,y]),L=(0,h.useCallback)(e=>{t||S(e.clipboardData.getData("text/plain").trim())},[t,S]);return(0,a.jsxs)(i.T,{align:"flex-start",spacing:4,w:"100%",children:[!v&&(0,a.jsx)(r.D,{size:"md",children:(0,a.jsx)(u.x6,{id:"D89ve+"})}),(0,a.jsxs)(o.z,{align:"flex-start",spacing:2,w:"100%",children:[(0,a.jsx)(l.p,{placeholder:b,onKeyDown:e=>{"Enter"===e.key&&I()},onPaste:L,value:y,onChange:e=>w(e.target.value),flex:1,"data-testid":"url-input"}),(0,a.jsx)(s.$,{onClick:I,isDisabled:!A,children:(0,a.jsx)(u.x6,{id:"4pSxwB"})})]}),C&&(0,a.jsxs)(d.F,{status:"error",children:[(0,a.jsx)(c._,{}),C]})]})},R=async(e,t)=>{let n=(0,m.KA)().getState(),a=(0,g.aQ)(n);if(!a)return void console.error("[uploadIframelyThumbnail] No orgId specified, bailing");let i={...e.thumbnail},r=i.src;if(r&&void 0!==i)try{await (0,w.j_)(r,a,{onUploadComplete:e=>(i&&(i.src=e.src,i.width=e.meta.width,i.height=e.meta.height,t({thumbnail:i})),Promise.resolve()),onOriginalFileUpload:e=>(i&&(i.src=e.src,i.width=e.meta.width,i.height=e.meta.height,t({thumbnail:i})),Promise.resolve()),onUploadFailed:e=>(console.error("[iframely] Thumbnail upload error: ",e),Promise.reject())},"iframelyThumbnail")}catch(e){console.error("[iframely] Thumbnail upload error: ",e)}}},63255:(e,t,n)=>{"use strict";n.d(t,{WI:()=>s,X0:()=>d});var a=n(43944),i=n(8266);let r=[...Array(a.uw+1).keys()],o="1.6em",l=["disc","circle","square"],s=e=>({listStyle:l[e%l.length],paddingStart:"0.4em",_after:{ps:"0.4em"},marginStart:"calc(".concat(e+1," * ").concat(o," - 0.4em)")}),d={[i.UX]:{margin:"0",marginBottom:i.X8,textAlign:"start","&.first-block":{marginTop:i.jz}},"ol.block-numbered":{listStyle:"none"},".block-todo":{listStyle:"none","label.chakra-checkbox":{pointerEvents:"none",".chakra-checkbox__control":{pointerEvents:"auto",width:"1em",height:"1em",top:"calc(0.5lh - 0.5em)",position:"relative",borderRadius:"var(--box-border-radius)",borderColor:"var(--link-color)",borderWidth:"0.125em","&[data-checked]":{backgroundColor:"var(--link-color)",color:"var(--body-color-inverted)"},svg:{fontSize:"0.5em"}}}},".block-bullet, .block-todo":{li:{position:"relative"}}};r.forEach(e=>{d['ol.block-numbered[indent="'.concat(e,'"]')]={"li[data-node-view-content]":{ms:"calc(".concat(e+1," * ").concat(o,")"),position:"relative",_before:{position:"absolute","inset-inline-start":"-".concat(o),content:'attr(data-list-counter) "."'}}}}),r.forEach(e=>{d['ul.block-bullet[indent="'.concat(e,'"]')]={"li[data-node-view-content]":s(e)},d['ul.block-todo[indent="'.concat(e,'"]')]={"li.todo":{ms:"calc(".concat(e+1," * ").concat(o,")"),listStyle:"none"},".chakra-checkbox__control":{"inset-inline-start":"-".concat(o)}}})},63674:(e,t,n)=>{"use strict";n.d(t,{us:()=>c,Z7:()=>l,jt:()=>d,Vr:()=>m,OP:()=>h,xV:()=>s,yw:()=>u,jp:()=>p});var a=n(84462),i=n.n(a),r=n(50998),o=n.n(r);let l=i()((e,t,n)=>{let a="__react_svg_text_measurement_id_gamma";n=null!=n?n:document.body;try{let i=document.getElementById(a);if(!i){let e=document.createElementNS("http://www.w3.org/2000/svg","svg");e.style.width="0",e.style.height="0",e.style.position="absolute",e.style.top="-100%",e.style.left="-100%",(i=document.createElementNS("http://www.w3.org/2000/svg","text")).setAttribute("id",a),e.appendChild(i),n.appendChild(e)}let r=i.ownerSVGElement;r&&r.parentNode&&r.parentNode!==n&&(r.parentNode.removeChild(r),n.appendChild(r)),Object.assign(i.style,t),i.textContent=e;let o=i.getBoundingClientRect();return{width:i.getComputedTextLength(),height:o.height}}catch(e){return null}}),s=(e,t)=>{let n=e.length,a=Array(n);return e.forEach((e,i)=>{a[(i+t)%n]=e}),a},d=e=>e?1:16;function c(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,n=window.getComputedStyle(e).fontSize;if(!n)return t;let[a,i]=(()=>{let e=n.split(""),a=e.findIndex(e=>e.match(/[a-z]/i));return -1===a?["".concat(t),"px"]:[e.splice(0,a).join(""),e.join("")]})();return"px"!==i.toLowerCase()?t:Number.parseFloat(a)}function u(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=Math.abs(e),i=a%t,r=a-i;return 0===i?e:n*(e<0?-1:1)==-1||0===n&&i<t/2?r*(e<0?-1:1):(r+t)*(e<0?-1:1)}let p=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{exact:a}=n,r=e.length,l=new Map,s=/\W/,d=-1,c=e,u=0,p=r,h=i()(t);for(;0!==d;){l.set(p,d);let t=Math.floor(Math.abs(p-u)/2);if(0===t){if(a)return!1;if(1===d)return c;if(1===l.get(p-1))return o()(e,{length:p-1,separator:s});return!1}if(u=p,(p+=t*d)>r)return!1;d=h(c=o()(e,{length:p,separator:s}))}return c};function h(e){let t=e.target,n={x:e.clientX,y:e.clientY};if(t instanceof SVGElement){var a,i;t=null!=(i=null==(a=t.ownerSVGElement)?void 0:a.parentElement)?i:null}let r=null==t?void 0:t.offsetParent;if(r){let e=r.getBoundingClientRect();n.x-=e.left,n.y-=e.top}return n}let m=i()((e,t)=>{let{fontFamily:n,fontSize:a,fontWeight:i}=t,r={widths:[],heights:[],maxWidth:0,maxHeight:0};return e.length&&e.forEach(e=>{let{width:t,height:o}=l("".concat(e),{fontFamily:n,fontSize:a,fontWeight:i})||{width:0,height:0};r.widths.push(t),r.heights.push(o),t>r.maxWidth&&(r.maxWidth=t),o>r.maxHeight&&(r.maxHeight=o)}),r})},63794:(e,t,n)=>{"use strict";n.d(t,{h:()=>ap,e:()=>au});var a=n(6029),i=n(10945),r=n(57405),o=n(64268),l=n(51504),s=n(99745),d=n(58959),c=n(48810),u=n(26420),p=n(36218),h=n(61491),m=n(25223),g=n(80314),x=n(49611),f=n(99492),b=n(48621),v=n(48342),y=n(19564),w=n(77650),C=n(55729),j=n(57963),A=n(10500),k=n(83743),S=n(33787),I=n(12364),E=n.n(I),L=n(24171),R=n(13080);let D=(0,C.memo)(e=>{let{selectedPreset:t,onSelectPreset:n,columns:i}=e,r=(0,C.useRef)(function(e){return[[e,R.ll[e]],...Object.entries(R.ll).filter(t=>{let[n]=t;return n!==e})]}((0,L.b)()));return(0,a.jsx)(k.r,{columns:null!=i?i:{base:3,md:5},spacing:1,children:r.current.map(e=>{let[i,{label:r,imageUrl:o}]=e;return(0,a.jsx)(M,{stylePreset:i,label:r,imageUrl:o,isSelected:i===t,onSelectPreset:n},i)})})});D.displayName="ImageArtStyleGrid";let M=e=>{let{stylePreset:t,label:n,imageUrl:i,isSelected:r,onSelectPreset:o}=e,[l,s]=(0,C.useState)(!0),p=(0,C.useRef)(null);return(0,C.useEffect)(()=>{let e=E()(()=>{p.current&&s(p.current.scrollWidth>p.current.clientWidth)},200,{leading:!1,trailing:!0});return e(),window.addEventListener("resize",e),()=>{e.cancel(),window.removeEventListener("resize",e)}},[]),(0,a.jsx)(v.Tz,{label:n(),hasArrow:!0,placement:"bottom",isDisabled:!l,children:(0,a.jsx)(u.a,{position:"relative",cursor:"pointer",onClick:()=>o(t),borderRadius:"md",borderColor:r?"deepocean.600":"transparent",borderWidth:2,overflow:"hidden",aspectRatio:"1/1",_hover:{"& img":{filter:"brightness(60%)",transition:"filter 0.3s ease-in-out"}},children:(0,a.jsxs)(u.a,{children:[(0,a.jsxs)(u.a,{position:"relative",children:[(0,a.jsx)(S._,{src:i,alt:n(),width:"100%",height:"100%",objectFit:"cover",draggable:!1}),(0,a.jsx)(u.a,{position:"absolute",top:0,insetStart:0,insetEnd:0,bottom:0,background:"linear-gradient(to bottom, transparent 60%, rgba(0, 0, 0, 0.2) 70%, rgba(0, 0, 0, 0.55) 80%, rgba(0, 0, 0, 0.6) 100%)",pointerEvents:"none"})]}),(0,a.jsxs)(d.z,{position:"absolute",bottom:1,insetStart:2,insetEnd:2,spacing:1,children:[r&&(0,a.jsx)(A.S,{w:2,color:"white"}),(0,a.jsx)(c.E,{fontSize:"2xs",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",color:"white",ref:p,children:n()})]})]})},t)})};var _=n(17859),z=n(6064),T=n(640),N=n(90184),P=n(26814),O=n(27002),H=n(58809),F=n(83638),B=n(78140),V=n(36999),W=n(40452),U=n(41283),G=n(37930),K=n(48478),Q=n(28630);let Z={square:f.Nfw,portrait:f.b0A,landscape:f.Cpz},q={square:()=>w.Ru._({id:"1DA6ap"}),portrait:()=>w.Ru._({id:"3bV9gD"}),landscape:()=>w.Ru._({id:"XxIeKn"})},$=(0,C.memo)(e=>{let{value:t,setValue:n,isDisabled:i,model:r}=e,o=(0,Q.pH)(r);return(0,a.jsx)(F.MJ,{children:(0,a.jsxs)(B.W,{isLazy:!0,children:[(0,a.jsx)(V.I,{as:x.$,variant:"plain",isDisabled:i,w:"100%",textAlign:"start",justifyContent:"space-between",rightIcon:(0,a.jsx)(b.g,{icon:f.Jt$}),boxShadow:"none",size:"sm",children:(0,a.jsxs)(d.z,{spacing:2,children:[(0,a.jsx)(W.s,{width:"24px",height:"24px",align:"center",justify:"center",children:(0,a.jsx)(b.g,{icon:Z[t],fixedWidth:!0})}),(0,a.jsx)(c.E,{as:"span",flex:1,children:q[t]()})]})}),(0,a.jsx)(U.c,{minWidth:"240px",maxH:"290px",overflowY:"auto",overflowX:"hidden",children:(0,a.jsx)(G.i,{value:t,type:"radio",onChange:e=>{n(e)},children:Object.values(o).map(e=>(0,a.jsx)(K.k,{value:e,children:(0,a.jsxs)(d.z,{spacing:2,children:[(0,a.jsx)(W.s,{width:"24px",height:"24px",align:"center",justify:"center",children:(0,a.jsx)(b.g,{icon:Z[e],fixedWidth:!0})}),(0,a.jsx)(c.E,{as:"span",flex:1,children:q[e]()})]})},e))})})]})})});$.displayName="AspectRatioSelect";var J=n(44798),Y=n(25839),X=n(7554),ee=n(6181);let et=()=>{let e=(0,ee.gx)(),t=(0,Y.jL)(),{data:n,loading:a}=(0,z.Snx)({variables:{workspaceId:e,archived:!1},skip:!e,fetchPolicy:"cache-first",nextFetchPolicy:"cache-only"}),{data:i,loading:r}=(0,z.Snx)({variables:{workspaceId:null,archived:!1},fetchPolicy:"cache-first",nextFetchPolicy:"cache-only"}),o=(0,C.useMemo)(()=>(null==i?void 0:i.themes)||[],[null==i?void 0:i.themes]),l=(0,C.useMemo)(()=>(null==n?void 0:n.themes)||[],[null==n?void 0:n.themes]);return(0,C.useEffect)(()=>{o.length>0&&t((0,X.cA)({globalThemes:o}))},[t,o]),(0,C.useEffect)(()=>{l.length>0&&t((0,X._N)({workspaceThemes:l}))},[t,l]),{isLoadingThemes:a||r,globalThemes:o}};var en=n(43634);let ea=e=>{var t;let{contextualTheme:n}=e;et();let a=(0,Y.GV)(X.ST),i=(0,Y.GV)(en.SJ),r=n||i,o=!!(0,Y.GV)(H.Jo),l=(0,C.useMemo)(()=>Object.values(R.bz).map(e=>({title:e,presets:R.xi.filter(t=>t.category===e&&!t.hidden&&(o||t.stylePreset!==R.nv.Custom))})),[o]),s=(0,C.useCallback)(e=>Object.values(R.nv).includes(e),[]),d=(0,C.useCallback)(e=>{if(!s(e))return"";if(s(e)){var t;return(null==(t=R.xi.find(t=>t.stylePreset===e))?void 0:t.stylePrompt)||""}return""},[s]),c=(0,C.useCallback)((e,t)=>{if(!s(e))return"";if(e===R.nv.Theme){var n;return(null==r||null==(n=r.config)?void 0:n.stylePrompt)||""}return e===R.nv.Custom?t:d(e)},[s,d,null==r||null==(t=r.config)?void 0:t.stylePrompt]),u=(0,C.useCallback)(e=>R.xi.find(t=>t.stylePreset===e),[]);return{stylePresetOptions:l,getStylePromptFromPreset:c,getThemeNameFromStylePrompt:(0,C.useCallback)(e=>{var t;return(null==(t=a.find(t=>t.config.stylePrompt===e))?void 0:t.name)||""},[a]),getPresetDisplayMetadata:u,getPredefinedStylePrompt:d}};var ei=n(20775),er=n(8327),eo=n(34394);let el=e=>{var t,n,a,i,r,o,l,s;let{contextualTheme:d,lastUsedImageGenerationSettingsInDoc:c,aiParams:u,savedMediaContext:p,visualsMenuEnabled:h=!1}=e,[m,g]=(0,eo.ZQ)(),[x,f]=(0,C.useState)(!0),b=(0,Y.GV)(en.SJ),v=(0,Y.GV)(en.K),y=null==b||null==(t=b.config)?void 0:t.stylePrompt,{stylePresetOptions:w,getStylePromptFromPreset:j,getThemeNameFromStylePrompt:A,getPresetDisplayMetadata:k}=ea({contextualTheme:d}),{prompt:S,addPrompt:I,promptPageInfo:E,nextPrompt:D,prevPrompt:M}=(0,J.ab)(),[_,z]=(0,C.useState)(()=>{var e,t;return!!h&&(u?null!=(e=u.modelAutoselect)&&e:null!=(t=null==v?void 0:v.modelAutoselect)&&t)}),T=(0,C.useCallback)(()=>{z(!0)},[]),[N,P]=(0,C.useState)(null!=(a=null!=(n=null==u?void 0:u.model)?n:null==c?void 0:c.model)?a:m),O=(0,C.useCallback)(e=>{z(!1),P(e)},[]),H=(0,C.useCallback)(e=>{O(e),g(e)},[O,g]),[F,B]=(0,C.useState)(null!=(r=null!=(i=null==u?void 0:u.stylePreset)?i:null==c?void 0:c.stylePreset)?r:R.nv.None),[V,W]=(0,C.useState)(j(F,null==c?void 0:c.stylePrompt)),[U,G]=(0,C.useState)(null!=(s=null!=(l=null!=(o=null==u?void 0:u.aspectRatio)?o:(null==u?void 0:u.height)&&(null==u?void 0:u.width)?(0,er.KD)({height:u.height,width:u.width}):void 0)?l:null==c?void 0:c.aspectRatio)?s:ei.X),[K,Z]=(0,C.useState)(()=>(null==u?void 0:u.visualsMenuEnabled)||(null==u?void 0:u.stylePreset)!==R.nv.Custom?(null==u?void 0:u.artStylePreset)&&u.artStylePreset in R.ll?u.artStylePreset:(null==c?void 0:c.artStylePreset)&&c.artStylePreset in R.ll?c.artStylePreset:(0,L.b)():"custom"),[q,$]=(0,C.useState)(()=>"custom"===K?(null==u?void 0:u.visualsMenuEnabled)?(null==u?void 0:u.artStylePrompt)||"":(null==u?void 0:u.stylePrompt)||"":R.ll[K].prompt),X=(0,C.useCallback)(e=>{Z(e),$(R.ll[e].prompt)},[Z,$]),ee=(0,C.useMemo)(()=>{let e={stylePreset:F,stylePrompt:V};return h&&(e=x?{stylePreset:"Theme",stylePrompt:y}:{stylePreset:"None",stylePrompt:""}),{prompt:S,model:N,aspectRatio:U,count:3,context:p,artStylePreset:K,artStylePrompt:q,modelAutoselect:_,visualsMenuEnabled:h,...e}},[S,N,F,V,U,p,K,q,h,x,y,_]),et=(0,J.U9)();(0,C.useEffect)(()=>{_||et(N)||O(m)},[N,m,et,O,_]);let el=(0,C.useCallback)((e,t)=>{if(G((0,er.P6)(e)),!e.aiParams)return;let{prompt:n,stylePreset:a,stylePrompt:i}=e.aiParams,r=e.aiParams.model;n&&I(n,t),i&&W(i),a&&B(a),r&&r in Q.Xz&&(r=Q.Xz[r]),r&&et(r)&&P(r)},[I,et]),es=(0,C.useCallback)(e=>{var t;let{aiParams:n}=e,{model:a,stylePrompt:i,stylePreset:r,prompt:o}=null!=n?n:{};G((0,er.P6)(e)),O(null!=(t=null!=a?a:null==c?void 0:c.model)?t:m),W(null!=i?i:""),B(null!=r?r:R.nv.None),I(null!=o?o:"","load")},[I,O,null==c?void 0:c.model,m]),ed=(0,C.useMemo)(()=>e=>!!e&&!!e.aiParams&&(S!==e.aiParams.prompt||N!==e.aiParams.model||U!==(0,er.P6)(e)||F!==e.aiParams.stylePreset),[U,N,F,S]);return{model:N,setModel:H,modelAutoselect:_,enableModelAutoselect:T,prompt:S,addPrompt:I,promptPageInfo:E,nextPrompt:D,prevPrompt:M,stylePrompt:V,setStylePrompt:W,stylePreset:F,setStylePreset:B,stylePresetOptions:w,getPresetDisplayMetadata:k,getThemeNameFromStylePrompt:A,getStylePromptFromPreset:j,aspectRatio:U,setAspectRatio:G,imageGenerateConfig:ee,loadImageAiParams:el,resetImageAiParams:es,isPromptDirty:ed,artStylePreset:K,setArtStylePreset:X,artStylePrompt:q,setCustomArtStylePrompt:$,shouldUseThemeColors:x,setShouldUseThemeColors:f}};var es=n(16936);let ed=e=>{let{promptPageInfo:t,nextPrompt:n,prevPrompt:i,isDisabled:r,...o}=e;return(0,a.jsxs)(d.z,{spacing:1,...o,children:[(0,a.jsx)(es.K,{variant:"ghost",icon:(0,a.jsx)(b.g,{icon:f.Wzs}),isDisabled:r||!t.canGoPrev,onClick:()=>i(),"aria-label":"left",color:"gray.700",size:"xs"}),(0,a.jsxs)(u.a,{as:"span",color:"gray.700",fontSize:"sm",children:[t.curr," / ",t.total]}),(0,a.jsx)(es.K,{variant:"ghost",icon:(0,a.jsx)(b.g,{icon:f.XkK}),color:"gray.700",isDisabled:r||!t.canGoNext,onClick:()=>n(),"aria-label":"left",size:"xs"})]})};var ec=n(27229),eu=n(94740),ep=n(66199),eh=n(18078),em=n(25311),eg=n(23293);let ex=(0,C.memo)(e=>{var t;let{stylePreset:n,setStylePreset:i,stylePrompt:o,setStylePrompt:l,presetOptions:s,isDisabled:c,contextualTheme:h,getStylePromptFromPreset:m,getThemeNameFromStylePrompt:g,getPresetDisplayMetadata:v,onKeyDown:y}=e,{isOpen:w,onToggle:j,onClose:A}=(0,ec.j)(),I=(0,C.useMemo)(()=>R.xi.find(e=>e.stylePreset===n),[n]),[E,L]=(0,C.useState)(I);(0,C.useEffect)(()=>{L(I)},[I]);let D=(0,Y.GV)(en.SJ),M=h||D,_=null==M||null==(t=M.config)?void 0:t.stylePrompt,z=(0,C.useCallback)(e=>{l(e.target.value),n!==R.nv.Custom&&(i(R.nv.Custom),L(R.xi.find(e=>e.stylePreset===R.nv.Custom)))},[l,i,n]),T=(0,C.useCallback)(e=>{let t=v(e);t&&(l(m(e)),i(e),L(t),A())},[v,m,A,i,l]),N=(0,C.useMemo)(()=>{if(n===R.nv.Theme)return g(o)},[g,n,o]),{scrollContainerRef:P}=(0,J.ms)(n||"",w);return(0,a.jsx)(F.MJ,{children:(0,a.jsxs)(W.s,{direction:"column",gap:2,children:[(0,a.jsxs)(eu.A,{placement:"bottom-start",matchWidth:!0,isOpen:w,onClose:A,closeOnBlur:!0,isLazy:!0,children:[(0,a.jsx)(ep.W,{children:(0,a.jsx)(x.$,{width:"100%",type:"button",boxShadow:"none",onClick:j,rightIcon:(0,a.jsx)(b.g,{icon:f.Jt$}),isDisabled:c,justifyContent:"space-between",size:"sm",children:(0,a.jsxs)(d.z,{spacing:2,children:[(null==E?void 0:E.icon)?(0,a.jsx)(b.g,{icon:E.icon}):(0,a.jsx)(S._,{width:"24px",height:"24px",src:null==E?void 0:E.imageUrl,borderRadius:"md"}),(0,a.jsx)(u.a,{flex:1,children:"".concat(null==E?void 0:E.name()).concat(N?" (".concat(N,")"):"")})]})})}),(0,a.jsx)(eh.h,{width:"auto",maxHeight:"max(350px, 40vh)",overflowY:"auto",ref:P,children:(0,a.jsx)(em.e,{children:(0,a.jsx)(r.T,{spacing:4,children:s.map(e=>(0,a.jsxs)(r.T,{alignItems:"start",width:"100%",spacing:0,children:[(0,a.jsx)(eg.D,{size:"sm",mb:2,children:e.title()}),(0,a.jsx)(k.r,{columns:{base:3,"2xl":4},spacing:2,children:e.presets.filter(e=>!("Theme"===e.stylePreset&&!_)).map(e=>(0,a.jsx)(u.a,{"data-popover-scroll-id":e.stylePreset,children:(0,a.jsx)(ef,{preset:e,onClick:()=>T(e.stylePreset),isSelected:e.stylePreset===n},e.stylePreset)},e.stylePreset))})]},e.title()))})})})]}),n!==R.nv.None&&(0,a.jsx)(p.T,{onKeyDown:y,isDisabled:c,height:"80px",value:o,onChange:z,resize:"none"})]})})});ex.displayName="StylePresetMenu";let ef=e=>{let{preset:t,onClick:n,isSelected:i}=e;return(0,a.jsxs)(r.T,{_hover:{cursor:i?"default":"pointer",borderColor:i?"trueblue.200":"gray.200",backgroundColor:i?"trueblue.50":"gray.50"},onClick:n,borderRadius:"md",spacing:1,p:2,border:"1px",width:"100%",color:i?"trueblue.500":"gray.800",bgColor:i?"trueblue.50":"transparent",borderColor:i?"trueblue.200":"transparent",children:[t.icon?(0,a.jsx)(u.a,{width:{base:"120px","2xl":"123.5px"},height:"35px",display:"flex",justifyContent:"center",alignItems:"center",children:(0,a.jsx)(u.a,{width:"100%",height:"100%",bgColor:"transparent",rounded:"md",display:"flex",alignItems:"center",justifyContent:"center",children:(0,a.jsx)(b.g,{icon:t.icon})})}):(0,a.jsx)(S._,{src:t.imageUrl,width:"100%",height:"auto",borderRadius:"md"}),(0,a.jsx)(c.E,{color:i?"trueblue.500":"gray.800",fontSize:"sm",children:t.name()})]})};var eb=n(37605),ev=n(99552),ey=n(17928),ew=n(26006),eC=n(22529),ej=n(71595),eA=n(67097),ek=n(41781);let eS={src:"https://assets.gammahosted.com/j1bla5j5f/_next/static/media/polar-bear.fcdec9ca.webp"},eI=()=>{let e=document.createElement("div");e.style.visibility="hidden",e.style.overflow="scroll",e.style.msOverflowStyle="scrollbar",document.body.appendChild(e);let t=document.createElement("div");e.appendChild(t);let n=e.offsetWidth-t.offsetWidth;return e.parentNode.removeChild(e),n};var eE=n(58568),eL=n(72104),eR=n(46898),eD=n(61204),eM=n(67909),e_=n(36071),ez=n(68728),eT=n(83143),eN=n(80180);let eP=e=>{var t;let{currentAttributes:n,deleteImage:i,showDelete:r=!0,...o}=e;(0,eR.d)();let l=w.Ru._({id:"cnGeoo"}),{isOpen:s,onOpen:d,onClose:c}=(0,ec.j)();return(0,a.jsxs)(eD.e,{size:"sm",...o,children:[(0,a.jsx)(v.Tz,{label:(0,a.jsx)(y.x6,{id:"niRN2H"}),placement:"top",children:(0,a.jsx)(es.K,{"aria-label":"download image",borderWidth:"1px",icon:(0,a.jsx)(b.g,{icon:f.a_I}),onClick:()=>{var e;return(0,eT.lE)(null!=(e=n.src)?e:"")}})}),(0,a.jsx)(v.Tz,{label:(0,a.jsx)(y.x6,{id:"GpbSs9"}),placement:"top",children:(0,a.jsx)(es.K,{"aria-label":"zoom in",borderWidth:"1px",icon:(0,a.jsx)(b.g,{icon:f.bMI}),onClick:e=>{e.stopPropagation(),d()}})}),s&&(0,a.jsxs)(eM.aF,{isOpen:s,size:"6xl",onClose:c,isCentered:!0,children:[(0,a.jsx)(e_.m,{bg:"blackAlpha.900"}),(0,a.jsxs)(ez.$,{width:"fit-content",children:[(0,a.jsx)(u.a,{position:"absolute",right:2,top:2,zIndex:"toast",contentEditable:!1,suppressContentEditableWarning:!0,children:(0,a.jsx)(es.K,{"aria-label":w.Ru._({id:"8qZ5De"}),colorScheme:"gray",size:"md",onClick:c,onMouseDown:eN.Fw,icon:(0,a.jsx)(eL.U,{})})}),(0,a.jsx)(S._,{src:null!=(t=n.src)?t:"",objectFit:"contain",rounded:"lg",maxH:"90vh",maxW:"90vw"})]})]}),r&&i&&(0,a.jsx)(v.Tz,{label:l,placement:"top",children:(0,a.jsx)(es.K,{"aria-label":l,color:"red.500",borderWidth:"1px",icon:(0,a.jsx)(b.g,{icon:f.yLS}),onClick:async e=>{var t;e.stopPropagation(),await i(null!=(t=n.savedMediaId)?t:"")}})})]})};var eO=n(69388),eH=n(1139),eF=n(53996),eB=n(96990);let eV=(0,C.memo)(e=>{let{image:t,currentAttributes:n,onImageClick:i,resizeThumbnail:r,h:o,deleteImage:l,isDeleting:s,showQuickActions:d=!0,showAvatar:c=!0}=e,[p,h]=(0,C.useState)(!0),{user:m}=(0,ee.ur)(),g=(0,Y.GV)(en.zB),w=null==g?void 0:g.find(e=>e.user.id===t.userId),j=(0,C.useMemo)(()=>(null==m?void 0:m.id)===t.userId,[null==m?void 0:m.id,t.userId]),A=(0,C.useMemo)(()=>(null==n?void 0:n.savedMediaId)===t.id,[null==n?void 0:n.savedMediaId,t.id]),k=r?(0,eA.Ub)(t.attrs.src,eA.p7,t.attrs.meta):t.attrs.src,{ref:I,width:E}=(0,eE.Lh)(),L=w&&g&&g.length>1&&c;return(0,a.jsx)(eO.E,{children:(0,a.jsxs)(x.$,{borderRadius:"base",display:"block",variant:"ghost",opacity:1,width:"100%",ref:I,height:"100%",minHeight:"0",textAlign:"left",pos:"relative",overflow:"hidden",p:0,_hover:{shadow:"outline"},_active:{shadow:"outline"},transition:"box-shadow .2s ease",cursor:"pointer",onClick:()=>i(t),sx:{_focusVisible:{".attribution-container":{opacity:1}},_hover:{".attribution-container":{opacity:1}}},isDisabled:s,"data-testid":"image-search-grid-item",role:"group",children:[(0,a.jsx)(S._,{w:"100%",h:o||"100%",src:k,borderRadius:"base",objectFit:"cover",onLoad:()=>h(!1)}),!p&&(0,a.jsx)(eH.z,{in:A,children:(0,a.jsx)(u.a,{pointerEvents:"none",color:"white",pos:"absolute",inset:0,bg:"rgba(0,0,0,.5)",borderRadius:"base",children:(0,a.jsx)(eF.o,{h:"100%",w:"100%",children:(0,a.jsx)(b.g,{icon:f.e68})})})}),E>=125&&d&&(0,a.jsx)(u.a,{position:"absolute",bottom:-2,left:"50%",transform:"translate(-50%, -50%)",display:"none",_groupHover:{display:"block"},children:(0,a.jsx)(eP,{showDelete:j,currentAttributes:t.attrs,deleteImage:l})}),L&&(0,a.jsx)(v.Tz,{label:(0,a.jsx)(y.x6,{id:"RMBnNX",values:{0:w.user.displayName,1:j?"(You)":""}}),placement:"top",children:(0,a.jsx)(eB.e,{size:"sm",src:w.user.profileImageUrl,name:w.user.displayName,position:"absolute",top:2.5,right:2.5,borderWidth:"2px",borderColor:"gray.200",_hover:{cursor:"pointer"}})}),!t.attrs.src&&(0,a.jsx)(eO.E,{width:"100%",children:(0,a.jsx)(ek.E,{height:"80px",borderRadius:"base"})})]})},t.id)});eV.displayName="AIImageHistoryItem";var eW=n(65230);let eU=(0,C.memo)(e=>{var t;let{attrs:n,onRateImage:i}=e,r=null==(t=n.aiParams)?void 0:t.interactionId,[o,l]=(0,C.useState)(null);(0,C.useEffect)(()=>{n.savedMediaId&&l(null)},[n.savedMediaId]);let s=(0,C.useCallback)((e,t,a)=>{var i;(null==(i=n.aiParams)?void 0:i.interactionId)&&(0,_.XD)({feedback:t,rating:e,tags:a,aiParams:n.aiParams,imageUrl:n.src,interactionId:n.aiParams.interactionId})},[n]),d=(0,C.useCallback)(e=>{l(e),i(e)},[i]);return r?(0,a.jsx)(u.a,{position:"absolute",bottom:2,zIndex:"sticky",right:2,children:(0,a.jsx)(eW.f3,{trackFeedback:s,rating:o||void 0,setRating:d,RatingButtons:eW.Ep,feedbackTags:eG},n.savedMediaId)}):null});eU.displayName="AIImageRating";let eG=[{key:"bad-people",label:(0,a.jsx)(y.x6,{id:"eft1Pc"})},{key:"bad-text",label:(0,a.jsx)(y.x6,{id:"BNmAIN"})},{key:"didnt-follow-prompt",label:(0,a.jsx)(y.x6,{id:"Tq32Jp"})},{key:"wrong-colors",label:(0,a.jsx)(y.x6,{id:"Lx0mWG"})},{key:"wrong-style",label:(0,a.jsx)(y.x6,{id:"HG712W"})},{key:"low-res",label:(0,a.jsx)(y.x6,{id:"i6Gj9B"})},{key:"inappropriate",label:(0,a.jsx)(y.x6,{id:"i/9pR4"})}],eK=e=>{let t,{imagesMatchingInteractionId:n,currentAttributes:i,isGenerating:r,isDeleting:o,selectedSavedMediaId:l,selectImage:s,onRateImage:d,deleteImage:c,canShowEmptyState:u}=e,{user:p}=(0,ee.ur)(),[h,m]=(0,C.useState)({wA:0,hA:0,wBCD:0,hBCD:0}),g=(0,C.useMemo)(()=>eI(),[]),{ref:x,width:f}=(0,eE.Lh)(),b=(0,C.useMemo)(()=>!!r||!!n&&!(n.length<=1)&&!eZ([...n.map(e=>e.attrs),i]),[r,n,i]),v=(0,C.useMemo)(()=>{let e=(null==n?void 0:n.length)>0,t=e?n.find(e=>e.id===l):null,a=(null==t?void 0:t.userId)===(null==p?void 0:p.id);return e&&a},[n,l,p]),y=b?100/3:0;(0,ej.Vg)(()=>{var e,t,a,o;if(r||u||(null==i||null==(e=i.meta)?void 0:e.width)&&(null==i||null==(t=i.meta)?void 0:t.height)){let e=eQ({vpWidth:f||624,gap:8,ratioW:(null==i||null==(a=i.meta)?void 0:a.width)||1024,ratioH:(null==i||null==(o=i.meta)?void 0:o.height)||1024,thumbCount:(null==n?void 0:n.length)||3});(Math.abs(e.wA-h.wA)>=g||Math.abs(e.hA-h.hA)>=g||Math.abs(e.wBCD-h.wBCD)>=g||Math.abs(e.hBCD-h.hBCD)>=g)&&m(e)}},[i,n,f,h,g,r,u],[i,n,f,r]);let w=r||!!i.src||u;return r?t=(0,a.jsx)(ek.E,{w:"100%",h:h.hA}):i.src&&"image.ai-generated"===i.source?t=(0,a.jsx)(S._,{h:h.hA,w:"100%",objectFit:b?"cover":"contain",src:i.src||void 0,fallbackSrc:i.tempUrl||void 0,alt:"",borderRadius:"md"}):u&&(t=(0,a.jsx)(e$,{height:h.hA})),(0,a.jsx)(W.s,{dir:"row",w:"100%",ref:x,overflow:"hidden",alignItems:"center",justifyContent:"center",gap:"".concat(8,"px"),children:w&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(W.s,{justifyContent:"center",position:"relative",overflow:"hidden",h:h.hA,w:"".concat(100-y,"%"),children:[t,!r&&i.src&&(0,a.jsx)(eP,{currentAttributes:i,position:"absolute",bottom:2,zIndex:"sticky",left:2,deleteImage:c,showDelete:v}),!r&&i.src&&(0,a.jsx)(eU,{attrs:i,onRateImage:d})]}),b&&(0,a.jsx)(W.s,{alignItems:"center",justifyContent:"center",direction:"column",overflow:"hidden",gap:"".concat(8,"px"),h:h.hA,borderRadius:"base",children:r?Array.from({length:3},(e,t)=>(0,a.jsx)(ek.E,{w:h.wBCD,h:h.hBCD},t)):(0,a.jsx)(a.Fragment,{children:n.slice(0,3).map(e=>(0,a.jsx)(eV,{image:e,currentAttributes:i,onImageClick:s,resizeThumbnail:!0,deleteImage:c,isDeleting:o,h:"".concat(h.hBCD,"px"),showQuickActions:!1,showAvatar:!1},e.id))})})]})})},eQ=e=>{let{vpWidth:t,gap:n,ratioW:a,ratioH:i,thumbCount:r}=e,o=a/i,l=o>R.C1.square?R.C1.landscape:o<R.C1.square?R.C1.portrait:R.C1.square,s=t*(l===R.C1.portrait?.6:.7),d=s/l;return{wA:Math.floor(s),hA:Math.floor(d),wBCD:Math.floor(t-s-n),hBCD:Math.floor((d-n*(r-1))/r)}},eZ=e=>{if(e.length<=1)return!1;let t=eq(e[0]);return e.some(e=>eq(e)!==t)},eq=e=>{var t,n,a,i;let r=null!=(a=null==e||null==(t=e.meta)?void 0:t.width)?a:1,o=null!=(i=null==e||null==(n=e.meta)?void 0:n.height)?i:1;return r>o?"landscape":o>r?"portrait":"square"},e$=(0,C.memo)(e=>{let{height:t}=e;return(0,a.jsx)(u.a,{bg:"gray.50",w:"100%",h:t,borderRadius:"md",display:"flex",alignItems:"center",justifyContent:"center",children:(0,a.jsxs)(W.s,{alignItems:"center",justifyContent:"center",w:"50%",direction:"column",textAlign:"center",children:[(0,a.jsx)(S._,{alt:"",src:eS.src,height:"160px",mb:4}),(0,a.jsx)(c.E,{fontSize:"2xl",fontWeight:"bold",mb:2,color:"deepocean.950",children:(0,a.jsx)(y.x6,{id:"MK/c3O"})}),(0,a.jsx)(c.E,{fontSize:"md",color:"gray.600",children:(0,a.jsx)(y.x6,{id:"ztxdaf"})})]})})});e$.displayName="EmptyState";var eJ=n(3276),eY=n(99038);let eX=e=>{let{isEnhancingPrompt:t,isGenerating:n,runEnhancePrompt:i}=e;return(0,a.jsx)(d.z,{position:"absolute",bottom:2,right:2,children:(0,a.jsx)(v.Tz,{placement:"top",label:(0,a.jsx)(y.x6,{id:"LwcIt2",values:{GAMMA_PROPER_NOUN:eY.On}}),children:(0,a.jsx)(x.$,{variant:"ghost",rightIcon:(0,a.jsx)(b.g,{icon:f.uts}),isLoading:t,isDisabled:n,"aria-label":w.Ru._({id:"eoAiXB"}),onClick:i,zIndex:"sticky",size:"sm",loadingText:w.Ru._({id:"6xU0OU"}),spinner:(0,a.jsx)(eJ.y,{size:"sm",right:2,alignSelf:"flex-end"}),spinnerPlacement:"end",children:(0,a.jsx)(y.x6,{id:"Uehxdq"})})})})};var e0=n(38420);let e1=e=>{let{onSelectImage:t,currentAttributes:n,resizeThumbnails:i,history:r,canLoadMore:o,loadMore:l,isLoadingMore:s,isDeleting:d,deleteImage:p,helpText:h}=e,m=C.useMemo(()=>r.map(e=>e.attrs?(0,a.jsx)(u.a,{position:"relative",children:(0,a.jsx)(eV,{image:e,deleteImage:p,isDeleting:d,currentAttributes:n,onImageClick:t,resizeThumbnail:i,showQuickActions:!0})},e.id):(console.log("Image is missing attrs",e),null)),[r,p,d,n,t,i]);return(0,a.jsxs)(W.s,{direction:"column",align:"stretch",children:[h&&(0,a.jsx)(c.E,{fontSize:"xs",color:"gray.500",mb:4,children:h}),(0,a.jsx)(e0.A,{columnsCount:3,gutter:"0.5rem",children:m}),o&&(0,a.jsx)(x.$,{variant:"plain",onClick:l,mt:4,isLoading:s,children:(0,a.jsx)(y.x6,{id:"yQ2kGp"})})]})};var e2=n(49146),e4=n(23908),e5=n(36693),e6=n(20061),e3=n(3448),e9=n(9329),e7=n(34807),e8=n(83004);let te={src:"https://assets.gammahosted.com/j1bla5j5f/_next/static/media/balloon.0f0058ec.png"},tt={src:"https://assets.gammahosted.com/j1bla5j5f/_next/static/media/cloud.bb46cfda.png"};function tn(){let e=(0,e9._)(["\n  0% { transform: translateY(0); }\n  50% { transform: translateY(-5%); }\n  100% { transform: translateY(0); }\n"]);return tn=function(){return e},e}function ta(){let e=(0,e9._)(["\n  0% { transform: translateY(0%) translateX(0%); }\n  25% { transform: translateY(-7%) translateX(5%); }\n  50% { transform: translateY(-3%) translateX(-5%); }\n  75% { transform: translateY(5%) translateX(-3%); }\n  100% { transform: translateY(0%) translateX(0%); }\n"]);return ta=function(){return e},e}let ti=(0,e8.i7)(tn()),tr=(0,e8.i7)(ta()),to=e=>{let{containerSize:t}=e;return(0,a.jsxs)(u.a,{position:"relative",overflow:"visible",w:t,h:t,isolation:"isolate",children:[(0,a.jsx)(S._,{position:"absolute",top:"22%",left:0,width:"50%",src:tt.src,alt:"Upper cloud",animation:"".concat(tr," 12s ease-in-out infinite"),pointerEvents:"none",zIndex:2}),(0,a.jsx)(S._,{position:"absolute",inset:0,margin:"auto",height:"80%",src:te.src,alt:"Balloon",animation:"".concat(ti," 5s ease-in-out infinite"),pointerEvents:"none",zIndex:1}),(0,a.jsx)(S._,{position:"absolute",bottom:0,right:0,width:"80%",src:tt.src,alt:"Lower cloud",animation:"".concat(tr," 16s ease-in-out 1s infinite"),pointerEvents:"none",zIndex:0})]})},tl={xs:{imageWidth:"100px",headingSize:"sm",textSize:"sm",buttonSize:"sm",spacing:2},sm:{imageWidth:"140px",headingSize:"md",textSize:"sm",buttonSize:"sm",spacing:2},md:{imageWidth:"180px",headingSize:"lg",textSize:"md",buttonSize:"md",spacing:4},lg:{imageWidth:"256px",headingSize:"xl",textSize:"md",buttonSize:"md",spacing:6}},ts=(0,C.memo)(e=>{let{children:t,title:n=(0,a.jsx)(y.x6,{id:"WkU8TI"}),description:i,size:o,primaryActionLabel:l,onPrimaryAction:s,secondaryActionLabel:u,onSecondaryAction:p,primaryButtonProps:h,secondaryButtonProps:m}=e,g=(0,e7.A)({base:"md",lg:"lg"})||"lg",f=tl[o||g];return(0,a.jsxs)(r.T,{spacing:f.spacing,children:[(0,a.jsx)(to,{containerSize:f.imageWidth}),(0,a.jsxs)(r.T,{spacing:2,children:[(0,a.jsx)(eg.D,{variant:"brand",textAlign:"center",size:f.headingSize,css:{textWrap:"balance"},children:n}),(0,a.jsx)(c.E,{fontSize:f.textSize,textAlign:"center",children:i})]}),t,(0,a.jsxs)(d.z,{wrap:"wrap",justifyContent:"center",children:[l&&(0,a.jsx)(x.$,{onClick:s,size:f.buttonSize,variant:u?"solid":"plain",...h,children:l}),u&&(0,a.jsx)(x.$,{onClick:p,size:f.buttonSize,...m,children:u})]})]})}),td={originalTitle:(0,a.jsx)(y.x6,{id:"0oUc2U"}),title:(0,a.jsx)(y.x6,{id:"0MyRmc"}),description:(0,a.jsx)(y.x6,{id:"s3XYLh"}),image:"https://cdn.gamma.app/zc87vhr30n8uf3n/9f0b4d71d10f4d388e50febe89bb1853/optimized/Sal-Chill-Cloud.svg"},tc=e=>{let{onSelectImage:t,savedMediaId:n,currentAttributes:i,scope:r,setScope:o,canLoadMore:l,loadMore:s,isLoading:d,isLoadingMore:p,history:h,deleteImage:m,isDeleting:g}=e,x=()=>d?(0,a.jsx)(tp,{}):0===h.length?(0,a.jsx)(u.a,{mt:10,children:(0,a.jsx)(tu,{})}):(0,a.jsx)(e1,{onSelectImage:t,currentAttributes:i,savedMediaId:n,canLoadMore:l,loadMore:s,isLoadingMore:p,history:h,deleteImage:m,isDeleting:g,helpText:"doc"===r?(0,a.jsx)(y.x6,{id:"uNPCE+",values:{GAMMA_ARTIFACT_PROPER_NOUN:eY.TP}}):(0,a.jsx)(y.x6,{id:"+MrfBb"}),resizeThumbnails:!0});return(0,a.jsxs)(e2.t,{size:"sm",variant:"soft-rounded",onChange:e=>{o&&o(1===e?"user":"doc")},isFitted:!0,children:[(0,a.jsxs)(e4.w,{children:[(0,a.jsx)(e5.o,{children:(0,a.jsx)(c.E,{children:(0,a.jsx)(y.x6,{id:"emHsgB",values:{GAMMA_ARTIFACT_PROPER_NOUN:eY.TP}})})}),(0,a.jsx)(e5.o,{children:(0,a.jsx)(c.E,{children:(0,a.jsx)(y.x6,{id:"4FBm2s"})})})]}),(0,a.jsxs)(e6.T,{children:[(0,a.jsx)(e3.K,{children:x()}),(0,a.jsx)(e3.K,{children:x()})]})]})},tu=()=>(0,a.jsx)(r.T,{spacing:6,children:(0,a.jsx)(ts,{size:"md",title:td.title,description:td.description})}),tp=C.memo(()=>(0,a.jsx)(d.z,{spacing:"4",children:(0,a.jsx)(e0.A,{columnsCount:3,gutter:"0.5rem",children:[void 0,void 0,void 0].map((e,t)=>(0,a.jsx)(ek.E,{height:{base:"125px",lg:"200px"},width:"100%"},t))})}));tp.displayName="AIImageHistorySkeleton";var th=n(53756),tm=n(6018),tg=n(91264),tx=n(82960);let tf=e=>{let t,{selectImage:n,savedMediaContext:a}=e,i=(0,Y.GV)(en.sX),r=(0,Y.GV)(tg.TJ),o=(0,tx.x)(a);"new"===r&&(r=void 0,t=z.rWX.Theme);let[l,s]=(0,C.useState)(""),[d,c]=(0,C.useState)(!1),[u,p]=(0,C.useState)(!1),[h,m]=(0,C.useState)("");return{generate:(0,C.useCallback)(async e=>{let a=(0,_.$F)();s(e.prompt),c(!0),p(!1),m("");let l={...e,stylePreset:e.stylePreset||R.nv.Theme,stylePrompt:e.stylePrompt||"",docId:e.docId||i,themeId:e.themeId||r,context:e.context||t};try{let e=await (0,Q.hU)({interactionId:a,workspaceId:o,...l});if(c(!1),0===e.length)throw Error("No images generated");e.length>0&&n(e[0]),(0,tm.w)("generateImage",void 0,a)}catch(e){p(!0),m((0,Q.yC)(e)),c(!1)}c(!1)},[i,r,t,o,n]),isGenerating:d,hasError:u,errorMessage:h,searchQuery:l}};var tb=n(45460),tv=n(74676),ty=n(8527),tw=n(12514),tC=n(59272),tj=n(6760),tA=n(55597),tk=n(39892),tS=n(49894),tI=n(84287),tE=n(21329),tL=n(95889),tR=n(29608),tD=n(55775),tM=n(6830);let t_=e=>{let{numSegments:t,numFilledSegments:n,startColor:i,endColor:r}=e,[o,l]=(0,tD.rd)("colors",[i,r||i]);return(0,a.jsx)(W.s,{gap:1,w:"full",alignItems:"center",children:Array.from({length:t}).map((e,i)=>{let r=i<n?(0,tM.tV)(o,l,t>1?i/(t-1):0):"gray.200";return(0,a.jsx)(u.a,{h:1.5,borderRadius:"sm",flex:1,bg:r,transition:"background 0.2s ease-in-out"},i)})})},tz=(0,C.memo)(e=>{let{label:t,description:n,image:i,popoverImage:o,bestStyle:l,bestType:s,speed:p}=e;return(0,a.jsxs)(r.T,{align:"stretch",p:4,spacing:4,children:[(0,a.jsxs)(u.a,{position:"relative",children:[o&&(0,a.jsx)(S._,{src:o.src,alt:t(),borderRadius:"lg",objectFit:"cover",height:"140px",width:"250px"}),(0,a.jsx)(u.a,{position:"absolute",backgroundColor:(0,tM.$3)("black",.4),bottom:2,left:2,p:1,borderRadius:"sm",children:(0,a.jsx)(c.E,{color:"gray.50",fontSize:"xs",fontWeight:"medium",lineHeight:"normal",children:w.Ru._({id:"HmI5oK"})})})]}),(0,a.jsxs)(r.T,{align:"stretch",spacing:3,children:[(0,a.jsxs)(d.z,{spacing:2,children:[(0,a.jsx)(S._,{src:i.src,w:"20px",h:"20px",objectFit:"contain"}),(0,a.jsx)(c.E,{fontWeight:"semibold",fontSize:"md",color:"gray.700",children:t()})]}),(0,a.jsx)(c.E,{fontSize:"xs",color:"gray.500",fontWeight:"medium",children:n()}),(0,a.jsxs)(u.a,{children:[(0,a.jsx)(c.E,{fontSize:"xs",color:"gray.400",fontWeight:"semibold",mb:2,children:(0,a.jsx)(y.x6,{id:"l9wI00"})}),(0,a.jsx)(t_,{numSegments:4,numFilledSegments:p,startColor:"deepocean.300",endColor:"deepocean.600"})]}),(0,a.jsxs)(u.a,{children:[(0,a.jsx)(c.E,{fontSize:"xs",color:"gray.400",fontWeight:"semibold",mb:1,children:(0,a.jsx)(y.x6,{id:"uvPTBJ"})}),(0,a.jsxs)(r.T,{align:"stretch",spacing:1,children:[(0,a.jsxs)(d.z,{spacing:2,children:[(0,a.jsx)(b.g,{icon:f.ffg,color:(0,tM.Lm)("deepocean.400"),size:"xs",width:"0.625rem",height:"0.625rem"}),(0,a.jsx)(c.E,{fontSize:"xs",color:"gray.600",fontWeight:"medium",children:l()})]}),(0,a.jsxs)(d.z,{spacing:2,children:[(0,a.jsx)(b.g,{icon:f.kLe,color:(0,tM.Lm)("deepocean.400"),size:"xs",width:"0.625rem",height:"0.625rem"}),(0,a.jsx)(c.E,{fontSize:"xs",color:"gray.600",fontWeight:"medium",fontFamily:"body",children:s()})]})]})]})]})]})});tz.displayName="AIImageModelPopover";let tT={None:{"dall-e-3":{src:"https://assets.gammahosted.com/j1bla5j5f/_next/static/media/dall-e-3.e0424b3d.jpg",height:500,width:616,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/2wBDAQoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/wgARCAAGAAgDASIAAhEBAxEB/8QAFAABAAAAAAAAAAAAAAAAAAAAAP/EABUBAQEAAAAAAAAAAAAAAAAAAAQF/9oADAMBAAIQAxAAAAAJKP/EABsQAAMAAgMAAAAAAAAAAAAAAAEDEgIEABEh/9oACAEBAAE/ANDdXIyYnFkmjYHonvn/xAAaEQACAgMAAAAAAAAAAAAAAAACAwABBDOR/9oACAECAQE/AMh7qPYXZ//EABoRAAEFAQAAAAAAAAAAAAAAAAIABBIxMlH/2gAIAQMBAT8AbgEMDfF//9k=",blurWidth:8,blurHeight:6},"flux-1-pro":{src:"https://assets.gammahosted.com/j1bla5j5f/_next/static/media/flux-1-pro.fcce6522.jpg",height:500,width:616,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/2wBDAQoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/wgARCAAGAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAX/xAAVAQEBAAAAAAAAAAAAAAAAAAADBf/aAAwDAQACEAMQAAAAgiQ3/8QAGxAAAgIDAQAAAAAAAAAAAAAAAQIDEQASUSH/2gAIAQEAAT8AVFiTaR2Y3RND3XnM/8QAGBEAAgMAAAAAAAAAAAAAAAAAAAECESH/2gAIAQIBAT8AtyWn/8QAGREAAQUAAAAAAAAAAAAAAAAAAQADEiJR/9oACAEDAQE/AHKERxf/2Q==",blurWidth:8,blurHeight:6},"flux-1-schnell":{src:"https://assets.gammahosted.com/j1bla5j5f/_next/static/media/flux-1-schnell.a4d70ddb.jpg",height:500,width:616,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/2wBDAQoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/wgARCAAGAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAX/xAAVAQEBAAAAAAAAAAAAAAAAAAADBf/aAAwDAQACEAMQAAAAmCU3/8QAHRAAAAUFAAAAAAAAAAAAAAAAAAECBBIDESEiMv/aAAgBAQABPwBbBuaSzU5KW15D/8QAGhEAAgIDAAAAAAAAAAAAAAAAAQIAESFRsf/aAAgBAgEBPwAOxvOuT//EABkRAAIDAQAAAAAAAAAAAAAAAAECABEikf/aAAgBAwEBPwAogrC8n//Z",blurWidth:8,blurHeight:6},"flux-1-ultra":{src:"https://assets.gammahosted.com/j1bla5j5f/_next/static/media/flux-1-ultra.3fdf59fa.jpg",height:500,width:616,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/2wBDAQoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/wgARCAAGAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAT/xAAVAQEBAAAAAAAAAAAAAAAAAAABBf/aAAwDAQACEAMQAAAAkEN//8QAGhAAAgIDAAAAAAAAAAAAAAAAAREAEgIDE//aAAgBAQABPwDLeOdUbBluf//EABYRAQEBAAAAAAAAAAAAAAAAAAEAIf/aAAgBAgEBPwA0v//EABYRAAMAAAAAAAAAAAAAAAAAAAABEf/aAAgBAwEBPwCs/9k=",blurWidth:8,blurHeight:6},"flux-1-quick":{src:"https://assets.gammahosted.com/j1bla5j5f/_next/static/media/flux-1-quick.01258a07.jpg",height:500,width:616,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/2wBDAQoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/wgARCAAGAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAb/xAAVAQEBAAAAAAAAAAAAAAAAAAADBP/aAAwDAQACEAMQAAAAmhCn/8QAHBAAAgEFAQAAAAAAAAAAAAAAAQIDAAQFERJh/9oACAEBAAE/AIsNZxRPp3ZJByelGx6K/8QAGREAAQUAAAAAAAAAAAAAAAAAAQACAwRC/9oACAECAQE/AG2Jjsr/xAAYEQACAwAAAAAAAAAAAAAAAAAAAhETMf/aAAgBAwEBPwCpJw//2Q==",blurWidth:8,blurHeight:6},"flux-kontext-pro":{src:"https://assets.gammahosted.com/j1bla5j5f/_next/static/media/flux-kontext-pro.99f84493.jpg",height:270,width:500,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/2wBDAQoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/wgARCAAEAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAT/xAAVAQEBAAAAAAAAAAAAAAAAAAADBf/aAAwDAQACEAMQAAAAiEV//8QAGxAAAgIDAQAAAAAAAAAAAAAAAQMCEQASEzH/2gAIAQEAAT8ARFcmSBUuuJNaCvLz/8QAFxEAAwEAAAAAAAAAAAAAAAAAAANCcf/aAAgBAgEBPwBkYf/EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQMBAT8Af//Z",blurWidth:8,blurHeight:4},"flux-kontext-max":{src:"https://assets.gammahosted.com/j1bla5j5f/_next/static/media/flux-kontext-max.cf46edd7.jpg",height:270,width:500,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/2wBDAQoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/wgARCAAEAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAX/xAAVAQEBAAAAAAAAAAAAAAAAAAADBP/aAAwDAQACEAMQAAAAmiE//8QAGhAAAgIDAAAAAAAAAAAAAAAAAhEEFAATMf/aAAgBAQABPwCvEIDCnH63rF5//8QAFhEAAwAAAAAAAAAAAAAAAAAAAAER/9oACAECAQE/AKz/xAAWEQADAAAAAAAAAAAAAAAAAAAAARH/2gAIAQMBAT8ArP/Z",blurWidth:8,blurHeight:4},"flux-kontext-fast":{src:"https://assets.gammahosted.com/j1bla5j5f/_next/static/media/flux-kontext-fast.22d3b15a.jpg",height:270,width:500,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/2wBDAQoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/wgARCAAEAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAP/xAAVAQEBAAAAAAAAAAAAAAAAAAAEBf/aAAwDAQACEAMQAAAAqIr/AP/EABwQAAIABwAAAAAAAAAAAAAAAAECAAMEBRITYf/aAAgBAQABPwBLrW6GczSXU4g8Mf/EABoRAAICAwAAAAAAAAAAAAAAAAECAAMjMlH/2gAIAQIBAT8ANtoCZG17P//EABsRAAIBBQAAAAAAAAAAAAAAAAIDAAESIjJR/9oACAEDAQE/ABWut2A7cn//2Q==",blurWidth:8,blurHeight:4},"imagen-3-flash":{src:"https://assets.gammahosted.com/j1bla5j5f/_next/static/media/imagen-3-flash.3b553c3d.jpg",height:500,width:616,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/2wBDAQoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/wgARCAAGAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAb/xAAUAQEAAAAAAAAAAAAAAAAAAAAC/9oADAMBAAIQAxAAAACbBf8A/8QAGxAAAQQDAAAAAAAAAAAAAAAABQABERICExT/2gAIAQEAAT8AYoK49TCcZrM2X//EABkRAAIDAQAAAAAAAAAAAAAAAAEDACEiMf/aAAgBAgEBPwAPdez2f//EABgRAAIDAAAAAAAAAAAAAAAAAAADAQJS/9oACAEDAQE/AKoViD//2Q==",blurWidth:8,blurHeight:6},"imagen-3-pro":{src:"https://assets.gammahosted.com/j1bla5j5f/_next/static/media/imagen-3-pro.4a7e6241.jpg",height:500,width:616,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/2wBDAQoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/wgARCAAGAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAb/xAAUAQEAAAAAAAAAAAAAAAAAAAAD/9oADAMBAAIQAxAAAACaAP8A/8QAHBAAAgAHAAAAAAAAAAAAAAAAAQIAAwQFExRC/9oACAEBAAE/AKa5pq4klks47CmP/8QAGBEAAgMAAAAAAAAAAAAAAAAAAQMABDL/2gAIAQIBAT8AZYcDsz//xAAZEQACAwEAAAAAAAAAAAAAAAABAwACIRL/2gAIAQMBAT8AqpengbP/2Q==",blurWidth:8,blurHeight:6},"imagen-4-pro":{src:"https://assets.gammahosted.com/j1bla5j5f/_next/static/media/imagen-4-pro.0623d0cb.jpg",height:273,width:500,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/2wBDAQoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/wgARCAAEAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAL/xAAVAQEBAAAAAAAAAAAAAAAAAAADBf/aAAwDAQACEAMQAAAAgSX/AP/EABwQAAEDBQAAAAAAAAAAAAAAAAECERIABAUTFP/aAAgBAQABPwA5K84UK2qkTF5F2r//xAAZEQEAAgMAAAAAAAAAAAAAAAABAAIhIjL/2gAIAQIBAT8AsumXgn//xAAXEQADAQAAAAAAAAAAAAAAAAAAAkJy/9oACAEDAQE/AFrR/9k=",blurWidth:8,blurHeight:4},"imagen-4-ultra":{src:"https://assets.gammahosted.com/j1bla5j5f/_next/static/media/imagen-4-ultra.da78a0c4.jpg",height:273,width:500,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/2wBDAQoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/wgARCAAEAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAT/xAAUAQEAAAAAAAAAAAAAAAAAAAAE/9oADAMBAAIQAxAAAACQBf8A/8QAHBAAAQMFAAAAAAAAAAAAAAAAAgEDBAAFBhIy/9oACAEBAAE/AImT3VqKrgG2iiGnFf/EABgRAQEAAwAAAAAAAAAAAAAAAAECACIx/9oACAECAQE/ACqWtnuf/8QAGREAAgMBAAAAAAAAAAAAAAAAAQIAETKR/9oACAEDAQE/AAiVkcn/2Q==",blurWidth:8,blurHeight:4},"leonardo-phoenix":{src:"https://assets.gammahosted.com/j1bla5j5f/_next/static/media/leonardo-phoenix.5a9b148e.jpg",height:500,width:616,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/2wBDAQoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/wgARCAAGAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAb/xAAUAQEAAAAAAAAAAAAAAAAAAAAD/9oADAMBAAIQAxAAAACQBL//xAAdEAACAQQDAAAAAAAAAAAAAAABAgQAEiEiAxRR/9oACAEBAAE/AElR+u6rHXTlW4WjYtgHHlf/xAAYEQACAwAAAAAAAAAAAAAAAAAAAQIxcv/aAAgBAgEBPwB1HJ//xAAYEQEAAwEAAAAAAAAAAAAAAAABAAMScv/aAAgBAwEBPwAXdnbP/9k=",blurWidth:8,blurHeight:6},"luma-photon-1":{src:"https://assets.gammahosted.com/j1bla5j5f/_next/static/media/luma-photon-1.1649ca4f.jpg",height:500,width:616,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/2wBDAQoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/wgARCAAGAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAb/xAAVAQEBAAAAAAAAAAAAAAAAAAAFBv/aAAwDAQACEAMQAAAAoRNt/wD/xAAaEAABBQEAAAAAAAAAAAAAAAACAAQGITFR/9oACAEBAAE/ACkbztDeav/EABoRAAEFAQAAAAAAAAAAAAAAAAMAAQIhI5H/2gAIAQIBAT8Acxa0l1f/xAAaEQACAgMAAAAAAAAAAAAAAAACAwARATFR/9oACAEDAQE/ABSnN2sN8n//2Q==",blurWidth:8,blurHeight:6},"luma-photon-flash-1":{src:"https://assets.gammahosted.com/j1bla5j5f/_next/static/media/luma-photon-flash-1.d9455e5d.jpg",height:500,width:616,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/2wBDAQoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/wgARCAAGAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAX/xAAUAQEAAAAAAAAAAAAAAAAAAAAF/9oADAMBAAIQAxAAAACSAlv/xAAZEAEAAgMAAAAAAAAAAAAAAAACACEEExb/2gAIAQEAAT8A6jPa1puzVz//xAAaEQACAgMAAAAAAAAAAAAAAAABAgADMUFR/9oACAECAQE/AHrQHeOmf//EABgRAQADAQAAAAAAAAAAAAAAAAEAAlGR/9oACAEDAQE/ACzhwn//2Q==",blurWidth:8,blurHeight:6},"recraft-v3":{src:"https://assets.gammahosted.com/j1bla5j5f/_next/static/media/recraft-v3.2bd50396.jpg",height:500,width:616,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/2wBDAQoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/wgARCAAGAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAP/xAAVAQEBAAAAAAAAAAAAAAAAAAABBP/aAAwDAQACEAMQAAAAkJH/xAAbEAACAQUAAAAAAAAAAAAAAAACAwABBQYRE//aAAgBAQABPwBmXXhVFn12JT//xAAZEQADAAMAAAAAAAAAAAAAAAABAiEAMUH/2gAIAQIBAT8ASrSdnuf/xAAWEQEBAQAAAAAAAAAAAAAAAAABAAL/2gAIAQMBAT8AdIt//9k=",blurWidth:8,blurHeight:6},"recraft-v3-svg":{src:"https://assets.gammahosted.com/j1bla5j5f/_next/static/media/recraft-v3-svg.98cb7b01.svg",height:1024,width:1820,blurWidth:0,blurHeight:0},"gpt-image-1-low":{src:"https://assets.gammahosted.com/j1bla5j5f/_next/static/media/gpt-image-1-low.485e4cbe.jpg",height:274,width:400,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/2wBDAQoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/wgARCAAFAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAT/xAAUAQEAAAAAAAAAAAAAAAAAAAAF/9oADAMBAAIQAxAAAAC8Gp//xAAaEAACAgMAAAAAAAAAAAAAAAABAxESABNB/9oACAEBAAE/AFUQllS2Gc2ERn//xAAWEQEBAQAAAAAAAAAAAAAAAAABAMH/2gAIAQIBAT8AML//xAAYEQACAwAAAAAAAAAAAAAAAAAAAgERMf/aAAgBAwEBPwBVWsg//9k=",blurWidth:8,blurHeight:5},"gpt-image-1-medium":{src:"https://assets.gammahosted.com/j1bla5j5f/_next/static/media/gpt-image-1-medium.aeeb5175.jpg",height:333,width:500,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/2wBDAQoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/wgARCAAFAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAX/xAAVAQEBAAAAAAAAAAAAAAAAAAADBf/aAAwDAQACEAMQAAAAgCcn/8QAGxAAAgEFAAAAAAAAAAAAAAAAAQMABAUSEyL/2gAIAQEAAT8AbeKvNbSetZXP/8QAGBEBAQADAAAAAAAAAAAAAAAAASIAMlH/2gAIAQIBAT8AVmnXuf/EABURAQEAAAAAAAAAAAAAAAAAAACR/9oACAEDAQE/AI//2Q==",blurWidth:8,blurHeight:5},"gpt-image-1-high":{src:"https://assets.gammahosted.com/j1bla5j5f/_next/static/media/gpt-image-1-high.02cc2ec4.jpg",height:267,width:400,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/2wBDAQoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/wgARCAAFAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAX/xAAVAQEBAAAAAAAAAAAAAAAAAAACBP/aAAwDAQACEAMQAAAAiCJf/8QAHhAAAgEDBQAAAAAAAAAAAAAAAgMEAAERBRITMUH/2gAIAQEAAT8Abqbgipk7Q5LkSs487r//xAAYEQEBAAMAAAAAAAAAAAAAAAACAQAzkv/aAAgBAgEBPwAt2bH1c//EABgRAQADAQAAAAAAAAAAAAAAAAIAAVKS/9oACAEDAQE/AETg81P/2Q==",blurWidth:8,blurHeight:5},"ideogram-v3-turbo":{src:"https://assets.gammahosted.com/j1bla5j5f/_next/static/media/ideogram-v3-turbo.b4fc9a1d.jpg",height:240,width:400,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/2wBDAQoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/wgARCAAFAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAH/xAAVAQEBAAAAAAAAAAAAAAAAAAADBP/aAAwDAQACEAMQAAAAonX/xAAcEAABAwUAAAAAAAAAAAAAAAACAAMTBRIyQXH/2gAIAQEAAT8AKuvyi7CGcduur//EABgRAAMBAQAAAAAAAAAAAAAAAAECAxEA/9oACAECAQE/AGrQZjnv/8QAGhEAAgIDAAAAAAAAAAAAAAAAAQMAEQIxUf/aAAgBAwEBPwAJUbteO+T/2Q==",blurWidth:8,blurHeight:5},"ideogram-v3":{src:"https://assets.gammahosted.com/j1bla5j5f/_next/static/media/ideogram-v3.4a7dfce3.jpg",height:240,width:400,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/2wBDAQoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/wgARCAAFAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAT/xAAUAQEAAAAAAAAAAAAAAAAAAAAE/9oADAMBAAIQAxAAAACgFb//xAAdEAABAgcAAAAAAAAAAAAAAAACAxMAERIVMkFR/9oACAEBAAE/AL6sRgswnk3Trs4//8QAGhEAAgIDAAAAAAAAAAAAAAAAAgMAARESMf/aAAgBAgEBPwBjmjrg75P/xAAaEQACAgMAAAAAAAAAAAAAAAACBAADERIy/9oACAEDAQE/AAVXLbNQ9T//2Q==",blurWidth:8,blurHeight:5}}},tN=(0,tb.R)((e,t)=>{let{model:n,...i}=e;return(0,a.jsx)(ep.W,{children:(0,C.createElement)(K.k,{...i,ref:t,key:n.model},(0,a.jsxs)(W.s,{justify:"space-between",align:"center",width:"100%",children:[(0,a.jsxs)(d.z,{children:[(0,a.jsx)(S._,{src:n.image.src,w:"1.5em",h:"1.5em",objectFit:"contain"}),(0,a.jsx)(c.E,{ps:2,fontSize:"sm",children:n.label()}),"beta"===n.badge&&(0,a.jsx)(tv.E,{colorScheme:"purple",size:"xs",children:(0,a.jsx)(y.x6,{id:"YBt9YP"})}),"new"===n.badge&&(0,a.jsx)(tv.E,{colorScheme:"green",size:"xs",children:(0,a.jsx)(y.x6,{id:"isRobC"})})]}),(0,a.jsx)(c.E,{color:"gray.400",fontSize:"xs",children:n.creatorLabel()})]}))})});tN.id="MenuItemOption";let tP=e=>{let{productKey:t,productFeature:n,canUseTier:i,styles:r}=e;return(0,a.jsxs)(W.s,{justify:"start",align:"center",width:"100%",children:[(0,a.jsx)(c.E,{sx:{...r.groupTitle,marginInlineEnd:2},children:(0,tE.kf)(t).header}),n&&(0,a.jsx)(tS.Ch,{canUseFeature:i,productFeature:n})]})},tO=e=>{let{availableModels:t,handleModelSelect:n,canUsePlusModels:i,canUseProModels:r,selectedModel:o,isDisabled:l,autoselect:s}=e,[u,p]=(0,C.useState)(null),h=(0,ty.o)("Menu",{}),m=e=>{let{tier:i}=e;return t.filter(e=>(0,Q.kO)(e.model)===i).map(e=>(0,a.jsx)(tN,{model:e,value:e.model,onClick:()=>n(e.model,i),onMouseEnter:()=>p(e)},e.model))};return(0,a.jsx)(F.MJ,{children:(0,a.jsxs)(B.W,{isLazy:!0,children:[(0,a.jsx)(V.I,{as:x.$,variant:"plain",isDisabled:l,w:"100%",textAlign:"start",justifyContent:"space-between",rightIcon:(0,a.jsx)(b.g,{icon:f.Jt$}),boxShadow:"sm",size:"sm",children:(0,a.jsxs)(d.z,{spacing:2,children:[(0,a.jsx)(W.s,{width:"24px",height:"24px",align:"center",justify:"center",children:(null==s?void 0:s.isActive)?(0,a.jsx)(b.g,{icon:tA.Ys0,size:"sm"}):(0,a.jsx)(S._,{src:o.image.src,w:"1.25em",h:"1.25em",objectFit:"contain"})}),(0,a.jsx)(c.E,{as:"span",flex:1,children:(null==s?void 0:s.isActive)?(0,a.jsx)(y.x6,{id:"/iCiQU"}):null==o?void 0:o.label()})]})}),(0,a.jsx)(tw.Z,{children:(0,a.jsxs)(eu.A,{isLazy:!0,variant:"modal",placement:"start-start",matchWidth:!1,offset:[0,0],trigger:"hover",children:[(0,a.jsx)(tC.d,{children:(0,a.jsx)(U.c,{minWidth:"250px",w:"400px",maxH:"350px",overflowY:"auto",overflowX:"hidden",zIndex:"modalPopover",border:"1px solid",borderColor:"gray.200",onMouseLeave:()=>p(null),children:(0,a.jsxs)(G.i,{type:"radio",value:(null==s?void 0:s.isActive)?"auto-select":o.model,children:[s&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(K.k,{value:"auto-select",onClick:s.onChooseAutoselect,children:(0,a.jsxs)(d.z,{children:[(0,a.jsx)(b.g,{icon:tA.Ys0,size:"sm"}),(0,a.jsx)(c.E,{ps:2,fontSize:"sm",children:(0,a.jsx)(y.x6,{id:"/iCiQU"})})]})}),(0,a.jsx)(tj.N,{})]}),(0,a.jsx)(tP,{productKey:"free",canUseTier:!0,styles:h}),m({tier:"free"}),(0,a.jsx)(tj.N,{}),(0,a.jsx)(tP,{productKey:"plus",productFeature:"ai_models_plus",canUseTier:i,styles:h}),m({tier:"plus"}),(0,a.jsx)(tj.N,{}),(0,a.jsx)(tP,{productKey:"pro",productFeature:"ai_premium_models",canUseTier:r,styles:h}),m({tier:"pro"})]})})}),!(0,tR.Xb)()&&u&&(0,a.jsx)(eh.h,{width:"282px",children:(0,a.jsx)(tz,{label:u.label,description:u.description,image:u.image,popoverImage:tT.None[u.model],bestStyle:u.bestStyle,bestType:u.bestType,speed:u.speed})})]})})]})})},tH=e=>{let{value:t,setValue:n,isDisabled:i,autoselect:r}=e,o=(0,Q.pE)(t),l=(0,Y.GV)(H.Jo),s=(0,tk.ez)("ai_models_plus",null==l?void 0:l.organization),d=(0,tk.ez)("ai_premium_models",null==l?void 0:l.organization),{openUpsellModal:c}=(0,tI.I)(),u=(0,C.useCallback)((e,t)=>("plus"!==t||s)&&("pro"!==t||d)?void n(e):void c({segmentEvent:tL.VV.GAMMA_UPSELL_CALLOUT_AI_IMAGE_MODELS,eventProperties:{model:e}}),[s,d,c,n]);return(0,a.jsx)(tO,{handleModelSelect:u,canUsePlusModels:s,canUseProModels:d,availableModels:(0,Q.vp)().filter(e=>(0,Q.CX)(e.model)),selectedModel:{...o,model:t},isDisabled:i,autoselect:r})},tF=e=>(0,a.jsx)(tB,{...e}),tB=e=>{var t,n,A,k;let{currentAttributes:S,updateAttributes:I,editor:E,contextualTheme:L,savedMediaContext:M,closeDrawer:F,canShowEmptyState:B=!1}=e,V=(0,C.useRef)(null),W=(0,Y.GV)(ev.Gd),U=(0,Y.GV)(H.Jo),G=null==U?void 0:U.id,{isInOfflineMode:K}=(0,z.utY)(),Q=(0,Y.GV)((0,eC.A1)(null==U||null==(t=U.organization)?void 0:t.id)),Z=(0,O.u)("visualsMenuEnabled"),q=(0,C.useMemo)(()=>E?"doc":"user",[E]),[X,ee]=(0,C.useState)(q),{prompt:et,addPrompt:en,promptPageInfo:ea,nextPrompt:ei,prevPrompt:er,model:eo,setModel:es,stylePreset:ec,setStylePreset:eu,stylePrompt:ep,setStylePrompt:eh,aspectRatio:em,setAspectRatio:eg,getStylePromptFromPreset:ef,stylePresetOptions:ek,getPresetDisplayMetadata:eS,getThemeNameFromStylePrompt:eI,imageGenerateConfig:eE,loadImageAiParams:eL,resetImageAiParams:eR,isPromptDirty:eD,artStylePreset:eM,setArtStylePreset:e_,artStylePrompt:ez,setCustomArtStylePrompt:eT,shouldUseThemeColors:eN,setShouldUseThemeColors:eP,modelAutoselect:eO,enableModelAutoselect:eH}=el({contextualTheme:L,lastUsedImageGenerationSettingsInDoc:null==E||null==(A=E.getAttributes("document"))||null==(n=A.aiOptions)?void 0:n.imageOptions,aiParams:null==S?void 0:S.aiParams,savedMediaContext:M,visualsMenuEnabled:Z}),eF=eD(S),eB=(0,ew.M)(E),{isEnhancing:eV,setIsEnhancing:eW,runEnhanceImagePrompt:eU}=(0,J.Z8)({editor:(null==E?void 0:E.parentEditor)||E,prompt:(null==E?void 0:E.isSiteNavbarEditor)?"Logo for ".concat(null==W?void 0:W.name):et,stylePrompt:ep,addPrompt:en}),{history:eG,loadMore:eQ,canLoadMore:eZ,isLoading:eq,isLoadingMore:e$,deleteImage:eJ,isDeleting:eY}=(0,th.X)({docId:G,scope:X,savedMediaContext:M}),e0=(0,C.useCallback)(e=>{e.attrs.src&&(0,_.Sf)({imageUrl:e.attrs.src,interactionId:e.interactionId,image:e.attrs})},[]),e2=(0,ej.lW)(e0,2e3),e4=(0,C.useCallback)(e=>{eL(e.attrs,"select"),I({tempUrl:(0,eA.Ub)(e.attrs.src,eA.p7,e.attrs.meta),showPlaceholder:!1,...e.attrs}),E&&eB(E.state.selection.from),e2(e)},[E,eL,eB,I,e2]),{generate:e5,isGenerating:e6,hasError:e3,errorMessage:e9}=tf({selectImage:e4,savedMediaContext:M}),e7=(0,i.m)(),e8=(null==S?void 0:S.source)==="image.ai-generated"&&!!(null==S?void 0:S.src),te=null==S?void 0:S.savedMediaId;(0,ej.Vg)(()=>{var e;!e6&&(e8&&(null==S||null==(e=S.aiParams)?void 0:e.prompt)?eL(S,"load"):!e8&&(null==S?void 0:S.query)&&en(S.query,"load"))},[en,S,e8,eL,e6],[S]),(0,C.useEffect)(()=>{setTimeout(()=>{var e;K||null==(e=V.current)||e.focus()},200)},[]);let tt=(0,C.useMemo)(()=>{var e;return(null==S||null==(e=S.aiParams)?void 0:e.interactionId)||""},[S]),{savedMedia:tn}=(0,J.B7)(tt,(null==S||null==(k=S.aiParams)?void 0:k.prompt)||""),ta=(0,C.useCallback)(()=>{var e,t,n;if(!E)return null;let{stylePreset:a,model:i,stylePrompt:r,modelAutoselect:o,artStylePreset:l,artStylePrompt:s}=eE,d=E.getAttributes("document"),c={stylePreset:a,model:i,stylePrompt:a===R.nv.Custom?r:null!=(n=null==(t=d.aiOptions)||null==(e=t.imageOptions)?void 0:e.stylePrompt)?n:"",artStylePreset:l,artStylePrompt:s,modelAutoselect:o};E.commands.updateNestedAttributesAtPos(0,{aiOptions:{imageOptions:c}})},[E,eE]);(0,C.useEffect)(()=>{e6&&!(null==S?void 0:S.showPlaceholder)&&(null==S?void 0:S.src)?I({showPlaceholder:!0,loadImageStatus:"queued",loadImageParams:{provider:"aiGenerated",query:et,options:eE}}):!e6&&(null==S?void 0:S.loadImageStatus)==="queued"&&(null==S?void 0:S.src)&&I({...S,loadImageStatus:"done"})},[e6]);let ti=(0,C.useCallback)(async()=>{if(!eV&&!e6)try{let e={...eE,prompt:et};if(eO&&(e.model=O.of.get("aiGeneratedImagesDefaultModel")),0===et.trim().length){let t=await eU();t&&(e.prompt=t)}await e5(e),ta()}catch(e){console.error("Error generating AI image",e)}finally{e7.refetchQueries({include:["GetSavedMedia","GetWorkspaceSavedMedia","GetUserSavedMedia"]}),eW(!1)}},[eV,e6,et,ta,eU,e5,eE,e7,eW,eO]);(0,C.useEffect)(()=>{(null==S?void 0:S.query)||eV||eU()},[]);let tr=(0,P.tO)(ti,"generateImage",eb.VV.GAMMA_UPSELL_CALLOUT_AI_CREDITS_IMAGES),to=(0,C.useCallback)(e=>{"Enter"===e.key&&e.metaKey&&(e.preventDefault(),tr()),e.stopPropagation()},[tr]),{saveImageRating:tl}=(0,J.RM)(),ts=(0,C.useCallback)(e=>{var t;(null==S||null==(t=S.aiParams)?void 0:t.interactionId)&&((0,_.WN)({rating:e,aiParams:S.aiParams,imageUrl:S.src,interactionId:S.aiParams.interactionId}),tl(S,e))},[S,tl]),td=(0,C.useCallback)(async e=>{if(await eJ(e),e===te){let t=tn.filter(t=>t.id!==e);t.length>0?e4(t[0]):I({...S,savedMediaId:"",src:"",tempUrl:""})}},[eJ,S,tn,e4,te,I]),tu=(null==S?void 0:S.source)==="image.ai-generated";return(0,a.jsxs)(r.T,{spacing:4,align:"stretch",translate:"no",children:[(tu||e6||B)&&(0,a.jsx)(eK,{imagesMatchingInteractionId:tt?tn:[],currentAttributes:S,isGenerating:e6,isDeleting:eY,selectedSavedMediaId:null!=te?te:"",selectImage:e4,onRateImage:ts,deleteImage:td,canShowEmptyState:B}),e3&&(0,a.jsxs)(o.F,{status:"error",flexDirection:"row",alignItems:"start",justifyContent:"start",borderRadius:"md",children:[(0,a.jsx)(l._,{}),(0,a.jsx)(s.T,{children:e9})]}),(0,a.jsxs)(r.T,{align:"stretch",spacing:4,children:[(0,a.jsxs)(r.T,{align:"stretch",spacing:1,children:[(0,a.jsx)(d.z,{position:"relative",align:"center",justify:"space-between",children:(0,a.jsx)(c.E,{fontSize:"sm",fontWeight:"semibold",color:e6?"gray.500":"",children:(0,a.jsx)(y.x6,{id:"sU1/3l"})})}),(0,a.jsxs)(u.a,{position:"relative",children:[(0,a.jsx)(j._,{ref:V,isDisabled:e6,placeholder:eV||M===z.rWX.Theme?"":M===z.rWX.Dashboard?w.Ru._({id:"+VHqP0"}):w.Ru._({id:"6RfNWb"}),onKeyDown:to,value:et,onChange:e=>en(e.target.value,"update"),"data-testid":"image-search-input",rows:5,initialHeight:"65px",bottomSpacing:35}),E&&(0,a.jsx)(eX,{isEnhancingPrompt:eV,isGenerating:e6,runEnhancePrompt:eU})]}),ea.total>1&&(0,a.jsx)(ed,{alignSelf:"end",promptPageInfo:ea,nextPrompt:ei,prevPrompt:er,isDisabled:e6||eV})]}),(0,a.jsxs)(r.T,{align:"stretch",gap:4,children:[(0,a.jsx)(r.T,{align:"stretch",children:Z?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(c.E,{fontSize:"sm",fontWeight:"semibold",color:e6?"gray.500":"",children:(0,a.jsx)(y.x6,{id:"WpXFiB"})}),(0,a.jsx)(D,{selectedPreset:eM,onSelectPreset:e_}),"custom"===eM&&(0,a.jsx)(p.T,{value:ez,onChange:e=>eT(e.target.value),placeholder:w.Ru._({id:"zPao75"}),fontSize:"sm",rows:2,resize:"none"}),E&&(0,a.jsxs)(d.z,{spacing:2,align:"start",alignItems:"center",gap:2,children:[(0,a.jsx)(h.S,{id:"use-theme-colors",isChecked:eN,onChange:e=>eP(e.target.checked)}),(0,a.jsx)(m.l,{htmlFor:"use-theme-colors",mb:0,me:0,children:(0,a.jsx)(c.E,{fontSize:"xs",children:(0,a.jsx)(y.x6,{id:"ge5rTg"})})}),(0,a.jsx)(v.Tz,{label:w.Ru._({id:"DOIHaY"}),children:(0,a.jsx)(b.g,{size:"xs",icon:f.mEO})}),(0,a.jsx)(c.E,{fontSize:"xs",children:(0,a.jsx)(g.N,{color:"deepocean.600",onClick:()=>{null==F||F(),ey.LF.emit(ey.DN.OPEN_THEME_DRAWER,{})},children:(0,a.jsx)(y.x6,{id:"dIM+cw"})})})]})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(c.E,{fontSize:"sm",fontWeight:"semibold",color:e6?"gray.500":"",children:(0,a.jsx)(y.x6,{id:"0P2jsg"})}),(0,a.jsx)(ex,{stylePreset:ec,stylePrompt:ep,setStylePrompt:eh,setStylePreset:eu,presetOptions:ek,isDisabled:e6,contextualTheme:L,getThemeNameFromStylePrompt:eI,getPresetDisplayMetadata:eS,onKeyDown:to,getStylePromptFromPreset:ef})]})}),(0,a.jsxs)(d.z,{w:"100%",children:[(0,a.jsxs)(r.T,{w:"100%",align:"stretch",children:[(0,a.jsx)(c.E,{fontSize:"sm",fontWeight:"semibold",color:e6?"gray.500":"",children:(0,a.jsx)(y.x6,{id:"iKM2jY"})}),(0,a.jsx)($,{value:em,setValue:eg,model:eo,isDisabled:e6})]}),(0,a.jsxs)(r.T,{w:"100%",align:"stretch",children:[(0,a.jsx)(c.E,{fontSize:"sm",fontWeight:"semibold",color:e6?"gray.500":"",children:(0,a.jsx)(y.x6,{id:"scu3wk"})}),eo&&(0,a.jsx)(tH,{value:eo,setValue:es,isDisabled:e6,autoselect:Z?{isActive:eO,onChooseAutoselect:eH}:void 0})]})]})]}),(0,a.jsxs)(r.T,{spacing:1,align:"stretch",children:[(0,a.jsxs)(x.$,{variant:"solid",isLoading:e6,isDisabled:eV,onClick:tr,px:12,children:[(0,a.jsx)(y.x6,{id:"OSaxlZ"}),(0,a.jsx)(N.G,{type:"generateImage",position:"absolute",insetEnd:4})]}),E&&(0,a.jsx)(x.$,{onClick:()=>eR(S),leftIcon:(0,a.jsx)(b.g,{icon:f.ub2}),isDisabled:!eF||e6,sx:{opacity:eF?1:.5,transition:"opacity 0.2s ease-in-out",_hover:{color:eF?"trueblue.500":""}},children:(0,a.jsx)(y.x6,{id:"L+rMC9"})}),(0,a.jsx)(T.f,{modalId:"ai-credits-modal-message-list",variant:"ghost",justify:"flex-end",segmentEvent:eb.VV.GAMMA_UPSELL_CALLOUT_AI_CREDITS_IMAGES})]})]}),E&&(Q?(0,a.jsx)(tc,{onSelectImage:e4,savedMediaId:te,currentAttributes:S,scope:X,setScope:ee,canLoadMore:eZ,loadMore:eQ,isLoading:eq,isLoadingMore:e$,history:eG,deleteImage:td,isDeleting:eY,resizeThumbnails:!0}):(0,a.jsx)(e1,{onSelectImage:e4,savedMediaId:te,currentAttributes:S,scope:X,setScope:ee,canLoadMore:eZ,loadMore:eQ,isLoading:eq,isLoadingMore:e$,history:eG,deleteImage:td,isDeleting:eY,resizeThumbnails:!0}))]})};tF.key="image.ai-generated";var tV=n(50861),tW=n(35289),tU=n(62964);let tG=e=>{let{editor:t,updateAttributes:n,currentAttributes:i,urlPlaceholder:o,embedTip:l}=e,s=(0,tV.Zj)(i);return(0,a.jsxs)(r.T,{align:"flex-start",spacing:4,children:[(0,a.jsx)(tU.VG,{currentUrl:s,updateAttributes:n,placeholder:o||"https://..."}),l,s&&(0,a.jsx)(tW.p,{editor:t,updateAttributes:n,currentAttributes:i})]})};var tK=n(74771);let tQ=e=>{let{guideLink:t,extraMessage:n,providerName:i}=e;return(0,a.jsxs)(o.F,{status:"info",children:[(0,a.jsx)(l._,{}),(0,a.jsx)(s.T,{children:(0,a.jsx)(y.x6,{id:"qBttXb",values:{providerName:i,extraMessage:n},components:{0:(0,a.jsx)(g.N,{href:t,textDecoration:"underline",isExternal:!0}),1:(0,a.jsx)(tK.p,{mx:"2px"})}})})]})},tZ=e=>(0,a.jsx)(tG,{...e,urlPlaceholder:"https://airtable.com/...",embedTip:(0,a.jsx)(tQ,{guideLink:"https://support.airtable.com/docs/embedding-airtable-views",providerName:"Airtable",extraMessage:(0,a.jsx)(y.x6,{id:"gsZDsS"})})});tZ.key="embed.airtable";let tq=e=>{let{editor:t,updateAttributes:n,currentAttributes:i}=e,o=(0,tV.Zj)(i);return(0,a.jsxs)(r.T,{align:"flex-start",spacing:4,children:[(0,a.jsx)(tU.VG,{currentUrl:o,updateAttributes:n,placeholder:"<iframe..."}),(0,a.jsx)(tQ,{guideLink:"https://help.amplitude.com/hc/en-us/articles/235717108-Share-charts-dashboards-and-notebooks-with-stakeholders-outside-your-company#generate-embed-code-for-your-content",extraMessage:(0,a.jsx)(y.x6,{id:"NDM+Av"}),providerName:"Amplitude"}),o&&(0,a.jsx)(tW.p,{editor:t,updateAttributes:n,currentAttributes:i})]})};tq.key="embed.amplitude";var t$=n(20196),tJ=n(92377);let tY=e=>{let{updateAttributes:t,currentAttributes:n,mediaSearchQuery:i,setMediaSearchQuery:r}=e;return(0,a.jsx)(tJ.O,{updateAttributes:t,currentImageUrl:n.src,defaultQuery:n.query||"",enableSearch:!0,enablePagination:!1,provider:"bing",resultsPerPage:t$.s.count,mediaSearchQuery:i,setMediaSearchQuery:r})};tY.key="image.bing";let tX=e=>(0,a.jsx)(tG,{...e,urlPlaceholder:"https://calendly.com/..."});tX.key="embed.calendly";var t0=n(2241),t1=n(82328),t2=n(91792),t4=n(21982),t5=n(48950),t6=n(58495),t3=n(45574),t9=n(29917),t7=n(59230);let t8=e=>{let{updateAttributes:t,editType:n,editor:a,source:i}=e,r=(0,Y.GV)(en.aQ),{currentWorkspace:o}=(0,ee.ur)(),{orgId:l,templateId:s}=(0,t2.PJ)(r||(null==o?void 0:o.id),n),d=(0,C.useRef)(null),c=(0,C.useCallback)(e=>{let{tempUrl:n,attributes:a}=e;t({uploadStatus:t7.A.Uploading,showPlaceholder:!1,tempUrl:n,src:null,...a}),d.current=n},[t]),u=(0,C.useCallback)((e,r)=>{let o=d.current||r;if(o){if("node"!==n||!a)return void t({...(0,t3.yK)({result:e,isError:!1}),source:i});(0,t3.Ki)(a,o,e),d.current=null}},[a,n,t,i]),p=(0,C.useCallback)(e=>{if(!d.current||!a)return void t((0,t3.yK)({isError:!0}));(0,t3.wt)(a,d.current,e)},[a,t]),h=(0,C.useCallback)(e=>{if(!l)return void console.error("[CustomImagePanel] saveImageFromDataURL - No orgId!");c({tempUrl:e});try{let t=(0,eA.Xz)(e,"image");if(!t)return void p();(0,t9.QM)(t,l,{onUploadComplete:u,onOriginalFileUpload:u,onUploadFailed:p},n,void 0,s)}catch(e){p()}},[n,l,p,c,u,s]),m=(0,C.useCallback)(e=>{if(!l)return void console.error("[CustomImagePanel] saveImageFromUrl - No orgId!");c({tempUrl:e});try{(0,t9.j_)(e,l,{onUploadComplete:u,onOriginalFileUpload:u,onUploadFailed:p},n,s)}catch(e){p()}},[n,l,p,c,u,s]),g=(0,C.useCallback)(async e=>{let{blob:t,attributes:a}=e;if(!l)return void console.error("[QRCodePanel] saveImageFromDataBlob - No orgId!");c({tempUrl:window.URL.createObjectURL(t),attributes:a});try{let e=(0,eA.Xl)({blob:t,filename:"image",ext:"svg"});return await (0,t9.QM)(e,l,{onUploadComplete:u,onOriginalFileUpload:u,onUploadFailed:p},n)}catch(e){p()}},[n,l,p,c,u]),x=(0,C.useCallback)(e=>{let{file:t,tempUrl:n}=e;t.type&&(0,eA.aI)(t.type)?c({tempUrl:"HEIC_tempId_".concat((0,t6.Ak)()),attributes:{showPlaceholder:!0}}):c({tempUrl:n})},[c]);return{setTempUrl:c,setUploadedImage:u,saveImageFromDataURL:h,saveImageFromUrl:m,saveImageFromDataBlob:g,onUploadStart:x,setUploadFailed:(0,C.useCallback)(()=>{t((0,t3.yK)({isError:!0}))},[t])}},ne=e=>{let{editor:t,editType:n,updateAttributes:i,currentAttributes:d,resetToPlaceholder:u}=e,{onUploadStart:p,setUploadedImage:h,saveImageFromUrl:m,saveImageFromDataURL:g,setUploadFailed:f}=t8({updateAttributes:i,editor:t,editType:n,source:"image.custom"}),b=(0,Y.GV)(en.aQ),{currentWorkspace:v}=(0,ee.ur)(),{isInOfflineMode:C}=(0,t1.u)(),{orgId:j,templateId:A,useStandardThemeBucket:k}=(0,t2.PJ)(b||(null==v?void 0:v.id),n),{src:I,tempUrl:E,meta:L,name:R,showPlaceholder:D,uploadStatus:M}=d,_=I?(0,eA.bI)(I,{width:500}):void 0;return(I||E||D)&&((null==d?void 0:d.source)==="image.custom"||M===t7.A.Uploading)?(0,a.jsxs)(r.T,{align:"flex-start",spacing:4,children:[M===t7.A.Uploading&&(0,a.jsxs)(o.F,{status:"info",size:"sm",children:[(0,a.jsx)(l._,{as:eJ.y,w:5,h:5}),(0,a.jsx)(s.T,{children:(0,a.jsx)(y.x6,{id:"MEDU34"})})]}),D?(0,a.jsx)(t4.Pf,{isUploading:M===t7.A.Uploading,hasUploadError:M===t7.A.Error,width:"100%",height:"200px",borderRadius:"md"}):(0,eA.v7)(I)?(0,a.jsx)(t0.B.video,{src:I,poster:null==L?void 0:L.poster,autoPlay:!0,muted:!0,loop:!0,width:"100%",height:"200px",borderRadius:"md"}):(0,a.jsx)(S._,{src:_||E,alt:"",ignoreFallback:!0,borderRadius:"md"}),L&&L.width&&L.height&&(0,a.jsxs)(c.E,{children:[L.width,"\xd7",L.height,"px"]}),R&&(0,a.jsx)(c.E,{children:R}),(0,a.jsx)(x.$,{onClick:u,mt:2,w:"100%",children:(0,a.jsx)(y.x6,{id:"HUPV+K"})})]}):(0,a.jsxs)(r.T,{align:"stretch",spacing:4,children:[k&&(0,a.jsxs)(o.F,{status:"warning",size:"sm",children:[(0,a.jsx)(l._,{}),(0,a.jsx)(s.T,{children:"[Admin] Theme images will be uploaded to production theme_images bucket"})]}),M===t7.A.Error&&(0,a.jsxs)(o.F,{status:"error",size:"sm",children:[(0,a.jsx)(l._,{}),(0,a.jsx)(s.T,{children:(0,a.jsx)(y.x6,{id:"GymiXM"})})]}),(0,a.jsx)(eg.D,{size:"md",children:(0,a.jsx)(y.x6,{id:"IagCbF"})}),(0,a.jsx)(tU.VG,{currentUrl:"",placeholder:w.Ru._({id:"jurEzE"}),handleSubmit:m,handleDataSubmit:g,noHeader:!0}),!C&&(0,a.jsx)(eg.D,{size:"md",children:(0,a.jsx)(y.x6,{id:"ONWvwQ"})}),j&&(0,a.jsx)(t5.Z,{onUploadSuccess:h,onUploadStart:p,onUploadFailed:f,orgId:j,uploadType:"image",editType:n,templateId:A,tipText:w.Ru._({id:"x4Ts51"})})]})};ne.key="image.custom";let nt=e=>{let{editor:t,updateAttributes:n,currentAttributes:i}=e,o=(0,tV.Zj)(i);return(0,a.jsxs)(r.T,{align:"flex-start",spacing:4,children:[(0,a.jsx)(tU.VG,{currentUrl:o,updateAttributes:n,placeholder:w.Ru._({id:"gzZk6e"})}),o&&(0,a.jsx)(tW.p,{editor:t,updateAttributes:n,currentAttributes:i})]})};nt.key="video.custom";let nn=e=>{let{editor:t,updateAttributes:n,currentAttributes:i}=e,o=(0,tV.Zj)(i);return(0,a.jsxs)(r.T,{align:"flex-start",spacing:4,children:[(0,a.jsx)(tU.VG,{currentUrl:o,updateAttributes:n,placeholder:"https://www.figma.com/file/..."}),(0,a.jsx)(tQ,{guideLink:"https://help.figma.com/hc/en-us/articles/360039827134-Embed-files-and-prototypes",providerName:"Figma/FigJam"}),o&&(0,a.jsx)(tW.p,{editor:t,updateAttributes:n,currentAttributes:i})]})};nn.key="embed.figma";var na=n(80074),ni=n(72470),nr=n(77979),no=n(38036),nl=n(77850),ns=n(29452),nd=n.n(ns),nc=n(30361),nu=n.n(nc);let np="60px",nh=(0,C.memo)(e=>{let{icon:t,isSelected:n,onIconClick:i}=e;return(0,a.jsx)(eO.E,{height:np,width:np,children:(0,a.jsx)(x.$,{borderRadius:"base",bgColor:n?"trueblue.100":void 0,color:"gray.800",display:"block",width:"100%",height:"100%",maxH:"100%",pos:"relative",_hover:{bgColor:n?"trueblue.100":"trueblue.50"},_active:{bgColor:"trueblue.100"},transition:"box-shadow .2s ease",variant:"ghost",cursor:"pointer",onClick:()=>i(t),"data-testid":"icon-search-grid-item",children:(0,a.jsx)(u.a,{height:"100%",maxH:"100%",sx:{svg:{width:"100%",height:"100%"}},dangerouslySetInnerHTML:{__html:t.html}})})},t.id)});nh.displayName="ImageSearchGridItem";let nm=e=>{let{searchQuery:t,currentAttributes:n,updateAttributes:i}=e,{isInOfflineMode:r}=(0,t1.u)(),[s,d]=(0,C.useState)([]),[p,h]=(0,C.useState)(!0),[m,g]=(0,C.useState)(!1),[x,f]=(0,C.useState)(1),b=(0,C.useCallback)(async e=>{if(r)return;let n="/api/icons/search?count=".concat(100,"&query=").concat(t,"&page=").concat(e);h(!0),g(!1);try{var a;let e=await fetch(n,{credentials:"include"}),t=await e.json();if(h(!1),!((null==t||null==(a=t.data)?void 0:a.length)>=0))throw Error(t);d(t.data)}catch(e){g(!0),h(!1),console.error("(caught) [ImageSearchGrid] fetchResults:",e)}},[r,t]);(0,C.useEffect)(()=>{d([]),f(1),b(1)},[t,b]),(0,C.useCallback)(()=>{b(x+1),f(x+1)},[b,x]);let v=null==n?void 0:n.src,w=(0,C.useCallback)(async e=>{i({src:e.src,tempUrl:v,meta:{height:e.height,width:e.width},providerMeta:{name:e.provider,id:e.id},query:t})},[t,i,v]),j=s.map((e,t)=>{var i,r;let o=e.id===(null==n||null==(i=n.providerMeta)?void 0:i.id)&&e.provider===(null==n||null==(r=n.providerMeta)?void 0:r.name);return(0,a.jsx)(nh,{provider:e.provider,icon:e,isSelected:o,onIconClick:w},t)});return(0,a.jsxs)(W.s,{direction:"column",align:"stretch",children:[(0,a.jsxs)(k.r,{gap:2,columns:{base:4,"2xl":6},children:[j,p&&!r&&(0,a.jsx)(ng,{})]}),!1,0===s.length&&!p&&(0,a.jsx)(u.a,{width:"100%",textAlign:"center",padding:"10px",children:(0,a.jsx)(c.E,{style:{color:"gray"},children:(0,a.jsx)(y.x6,{id:"2AY48J",values:{searchQuery:t}})})}),m&&(0,a.jsxs)(o.F,{status:"error",children:[(0,a.jsx)(l._,{}),(0,a.jsx)(y.x6,{id:"5hlcZg"})]})]})},ng=()=>(0,a.jsx)(a.Fragment,{children:nd()(100).map((e,t)=>(0,a.jsx)(eO.E,{height:np,children:(0,a.jsx)(na.g,{ratio:1,children:(0,a.jsx)(ek.E,{borderRadius:"base"})})},t))}),nx=(0,nl.P)(es.K),nf=e=>{let{currentAttributes:t,updateAttributes:n,defaultQuery:i="",randomQueries:o,mediaSearchQuery:l,setMediaSearchQuery:s}=e,[d,c]=(0,C.useState)(i),[p,h]=(0,C.useState)("");(0,C.useEffect)(()=>{s&&d!==l&&s(d)},[d,s,l]),(0,C.useEffect)(()=>{h(i),c(i)},[i]);let m=(0,C.useCallback)(()=>{let e=nu()(o);for(;e===d;)e=nu()(o);e&&(c(e),h(""))},[o,d]),g=(0,ej.lW)(c,500);return(0,a.jsxs)(r.T,{spacing:4,align:"stretch",translate:"no",children:[(0,a.jsxs)(ni.M,{size:"md",children:[(0,a.jsx)(nr.W,{pointerEvents:"none",children:(0,a.jsx)(u.a,{color:"gray.400",children:(0,a.jsx)(b.g,{icon:f.MjD})})}),(0,a.jsx)(no.p,{placeholder:d||w.Ru._({id:"oMAM3/"}),value:p,onChange:e=>{h(e.target.value),g(e.target.value)},"data-testid":"image-search-input"}),o&&(0,a.jsx)(nr.t,{children:(0,a.jsx)(v.Tz,{placement:"top",label:(0,a.jsx)(y.x6,{id:"OVjfHO"}),children:(0,a.jsx)(nx,{icon:(0,a.jsx)(b.g,{icon:f.xNJ}),"aria-label":w.Ru._({id:"OVjfHO"}),variant:"ghost",onClick:m,size:"sm",whileTap:{y:"-5px"},onMouseDown:eN.Fw})})})]}),(0,a.jsx)(nm,{currentAttributes:t,updateAttributes:n,searchQuery:d||""})]})},nb=["animals","arrows","business","party","nature","food"],nv=e=>{let{updateAttributes:t,currentAttributes:n,mediaSearchQuery:i,setMediaSearchQuery:r}=e;return(0,a.jsx)(nf,{updateAttributes:t,currentAttributes:n,currentIconUrl:n.src,defaultQuery:n.query||"",randomQueries:nb,mediaSearchQuery:i,setMediaSearchQuery:r})};nv.key="image.icon";let ny=e=>{let{editor:t,updateAttributes:n,currentAttributes:i}=e,o=(0,tV.Zj)(i);return(0,a.jsxs)(r.T,{align:"flex-start",spacing:4,children:[(0,a.jsx)(tU.VG,{currentUrl:o,updateAttributes:n,placeholder:"https://gamma.app/docs/..."}),o&&(0,a.jsx)(tW.p,{editor:t,updateAttributes:n,currentAttributes:i})]})};ny.key="embed.gamma";var nw=n(24170),nC=n.n(nw);let nj=["funny","surprise","hooray","welcome","excited","nope","fail","sad","cry","angry","teamwork","cats","dogs","high five"],nA=e=>{let{updateAttributes:t,currentAttributes:n,mediaSearchQuery:i,setMediaSearchQuery:r}=e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(tJ.O,{updateAttributes:t,currentImageUrl:n.src,defaultQuery:n.query||"",randomQueries:nj,provider:"giphy",mediaSearchQuery:i,setMediaSearchQuery:r}),(0,a.jsx)(W.s,{width:"100%",justify:"center",padding:"10px",paddingTop:"30px",children:(0,a.jsx)(u.a,{maxW:"150px",children:(0,a.jsx)(nC(),{src:"/images/powered-by-giphy.png",width:"150",height:"17",alt:"Powered by GIPHY"})})})]})};nA.key="image.giphy";let nk=e=>(0,a.jsx)(tG,{...e,urlPlaceholder:"https://docs.google.com/...",embedTip:(0,a.jsx)(tQ,{guideLink:"https://support.google.com/docs/answer/183965?hl=en&co=GENIE.Platform%3DDesktop#zippy=%2Cedit-embedded-spreadsheets%2Cembed-a-document-spreadsheet-or-presentation",extraMessage:(0,a.jsx)(y.x6,{id:"G6PCHK",values:{GAMMA_ARTIFACT_PROPER_NOUN:eY.TP}}),providerName:"Google Sheets, Docs, or Slides"})});nk.key="embed.gdrive";let nS=e=>(0,a.jsx)(tG,{...e,urlPlaceholder:"https://docs.google.com/forms/..."});nS.key="embed.google.form";let nI=e=>{let{updateAttributes:t,currentAttributes:n,mediaSearchQuery:i,setMediaSearchQuery:r}=e;return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(tJ.O,{updateAttributes:t,currentImageUrl:n.src,defaultQuery:n.query||"",provider:"google",mediaSearchQuery:i,setMediaSearchQuery:r})})};nI.key="image.google";var nE=n(26385),nL=n(22348),nR=n.n(nL),nD=n(33612),nM=n.n(nD),n_=n(33750),nz=n.n(n_);let nT={soft:{name:"Soft",spin:[0,-40,40],lighten:[0,0,0]},duo:{name:"Duo",spin:[0,180],lighten:[0,0]},crescent:{name:"Crescent",spin:[0,-45,45,-90,90],lighten:[0,0,0,0,0]},wisp:{name:"Wisp",spin:[0,72,216],lighten:[0,0,0]},mono:{name:"Mono",spin:[0,0,0],lighten:[0,20,40]},cosmos:{name:"Cosmos",spin:[0,72,144,216,288],lighten:[0,0,0,0,0]}},nN=e=>{let t="",n=[];e.forEach((e,t)=>{let a=e.setAlpha(1),i=a.toHsl().h*t,r="radial-gradient(circle at ".concat(2*i%360/360*50,"% ").concat(3*i%360/360*50,"%, ").concat(a.setAlpha(.5).toHex8String()," 0, ").concat(a.setAlpha(0).toHex8String()," ").concat(i%360/360*50+50,"%)");n.push(r)});let a=e[0].setAlpha(.5).toHex8String();return n.push("linear-gradient(0deg, ".concat(a," 0%, ").concat(a," 100%)")),{backgroundImage:n.join(",")}},nP=(e,t)=>{let n=nT[e],a=[];return n.spin.forEach(e=>{let n=nM()(t.toHsv()).spin(e);a.push(n)}),n.lighten.forEach((e,t)=>{a[t].lighten(e)}),a},nO=(e,t)=>{let n=nP(e,t),a=nN(n);return{colors:n,gradient:a}},nH=(e,t,n)=>{t.forEach(e=>{e&&(e.style.opacity="0")}),e.forEach((e,a)=>{let i=t[a];if(!i||!n)return;let r=function(e,t){let n=e.offsetWidth,a=nM()(t),i=Math.PI/180*a.toHsl().h,r=-(a.toHsl().l*n)+n;return{x:n/2-r*Math.cos(i),y:n/2-r*Math.sin(i)}}(n,e);i.style.transform="translate(calc(".concat(r.x,"px - 50%),calc(").concat(r.y,"px - 50%))"),i.style.backgroundColor=e.toHexString(),i.style.opacity="1"})},nF=(0,C.forwardRef)(function(e,t){let{isPrimary:n=!1,noTransition:i=!1}=e;return(0,a.jsx)(u.a,{ref:t,borderRadius:"full",boxSize:n?7:5,pos:"absolute",zIndex:n?2:1,shadow:"base",border:"2px solid white",pointerEvents:"none",transitionProperty:i?"none":"transform",transitionDuration:"normal"})}),nB=(0,C.memo)(e=>{let{updateColor:t,colors:n}=e,i=(0,C.useRef)(null),r=(0,C.useRef)(null),o=(0,C.useRef)(null),l=(0,C.useRef)(null),s=(0,C.useRef)(null),d=(0,C.useRef)(null),c=(0,C.useMemo)(()=>[r,o,l,s,d],[]);(0,C.useEffect)(()=>{nH(n,c.map(e=>e.current),i.current)},[n,c]);let p=(0,C.useCallback)(e=>{if(!i.current)return;let n=i.current.getBoundingClientRect();(e.clientX||e.clientY)&&t(function(e,t,n){let a=e.current.offsetWidth,i=e.current.offsetHeight,r=a/2,o=i/2,l=function(e,t,n,a,i){let r=n-e,o=a-t,l=Math.sqrt(o*o+r*r);return nz()(l,0,i)}(t,n,r,o,a/2),s=180/Math.PI*Math.atan2(o-n,r-t),d=s+360*Math.ceil(-s/360)+1,c=Math.abs(-l/a+1);return nM().fromRatio({h:d,s:1,l:c})}(i,e.clientX-n.left,e.clientY-n.top))},[t]),h=(0,C.useCallback)(()=>{document.removeEventListener("mousemove",p)},[p]),m=(0,C.useCallback)(e=>{document.addEventListener("mousemove",p),document.addEventListener("mouseup",h,{once:!0}),p(e)},[p,h]);return(0,a.jsxs)(u.a,{onMouseDown:m,p:4,m:-4,position:"relative",children:[(0,a.jsx)(nF,{ref:r,noTransition:!0,isPrimary:!0}),(0,a.jsx)(nF,{ref:o}),(0,a.jsx)(nF,{ref:l}),(0,a.jsx)(nF,{ref:s}),(0,a.jsx)(nF,{ref:d}),(0,a.jsx)(na.g,{ratio:1,children:(0,a.jsxs)(W.s,{ref:i,position:"relative",borderRadius:"full",shadow:"lg",children:[(0,a.jsx)(W.s,{pos:"absolute",borderRadius:"full",bg:"radial-gradient(circle closest-side, rgb(255, 255, 255), transparent)",inset:0,zIndex:1}),(0,a.jsx)(W.s,{pos:"absolute",inset:0,bg:"conic-gradient(red, yellow, lime, aqua, blue, magenta, red)",transform:"rotateZ(270deg)",borderRadius:"full"})]})})]})}),nV={vibe:"mono",primaryColor:"#75d8ff",css:{}},nW=e=>{let{value:t,updateValue:n,isDark:i}=e,{vibe:r,primaryColor:o}={...nV,...t},[l,s]=(0,C.useState)(nM()(o)),{colors:c,gradient:p}=(0,C.useMemo)(()=>nO(r,l),[r,l]),h=(0,C.useCallback)(e=>{let{gradient:t}=nO(r,e);n({vibe:r,primaryColor:e.toHexString(),css:t})},[r,n]),m=(0,ej.wb)(h,100),g=(0,C.useCallback)(e=>{s(e),m(e)},[m]);return(0,a.jsxs)(d.z,{spacing:4,alignItems:"stretch",wrap:"wrap",children:[(0,a.jsx)(u.a,{flex:"1",minW:"120px",children:(0,a.jsx)(nB,{vibe:nT[r],color:l,updateColor:g,colors:c})}),(0,a.jsxs)(nE.B,{flex:"2",spacing:4,minW:"180px",children:[(0,a.jsx)(W.s,{backgroundColor:i?"black":"white",...p,opacity:1,flex:"1",borderRadius:"md",shadow:"md",minH:"80px",mt:2}),(0,a.jsxs)(d.z,{children:[(0,a.jsxs)(B.W,{children:[(0,a.jsx)(V.I,{w:"100%",as:x.$,size:"sm",variant:"plain",textAlign:"start",rightIcon:(0,a.jsx)(b.g,{icon:f.Jt$}),children:nT[r].name}),(0,a.jsx)(U.c,{minWidth:"240px",zIndex:"dropdown",children:(0,a.jsx)(G.i,{onChange:e=>{let{gradient:t}=nO(e,l);n({vibe:e,primaryColor:l.toHexString(),css:t})},value:r,title:w.Ru._({id:"4lXZ8R"}),type:"radio",children:Object.entries(nT).map(e=>{let[t,{name:n}]=e;return(0,a.jsx)(K.k,{value:t,children:n},t)})})})]}),(0,a.jsx)(eD.e,{size:"sm",variant:"plain",children:(0,a.jsx)(v.Tz,{placement:"top",label:(0,a.jsx)(y.x6,{id:"OVjfHO"}),children:(0,a.jsx)(es.K,{icon:(0,a.jsx)(b.g,{icon:f.xNJ}),"aria-label":w.Ru._({id:"OVjfHO"}),onClick:()=>{g(nM().fromRatio({h:nR()(0,360),s:1,l:nR()(.5,.8)}))}})})})]})]})]})},nU=e=>{let{updateAttributes:t,currentAttributes:n,isDark:i}=e;return(0,a.jsx)(nW,{value:n,updateValue:t,isDark:i})};nU.key="color.gradient";let nG=e=>{let{editor:t,updateAttributes:n,currentAttributes:i}=e,o=(0,tV.Zj)(i);return(0,a.jsxs)(r.T,{align:"flex-start",spacing:4,children:[(0,a.jsx)(tU.VG,{currentUrl:o,updateAttributes:n,placeholder:"https://www.instagram.com/..."}),o&&(0,a.jsx)(tW.p,{editor:t,updateAttributes:n,currentAttributes:i})]})};nG.key="embed.instagram";let nK=e=>(0,a.jsx)(tG,{...e,urlPlaceholder:"https://form.jotform.com/..."});nK.key="embed.jotform";let nQ=["wallpaper","textures","background","nature","gradient","relax","sky","water","pattern","abstract"],nZ=e=>{let{updateAttributes:t,currentAttributes:n,mediaSearchQuery:i,setMediaSearchQuery:r}=e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(tJ.O,{updateAttributes:t,currentImageUrl:n.src,defaultQuery:n.query||"",randomQueries:nQ,provider:"lexica",enablePagination:!0,mediaSearchQuery:i,setMediaSearchQuery:r}),(0,a.jsx)(u.a,{width:"100%",textAlign:"center",padding:"10px",paddingTop:"30px",children:(0,a.jsx)(c.E,{fontSize:"sm",color:"gray.500",children:(0,a.jsx)(y.x6,{id:"rbDrRg",components:{0:(0,a.jsx)(g.N,{href:"https://lexica.art",target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"underline"}})}})})})]})};nZ.key="image.lexica";let nq=C.lazy(()=>Promise.all([n.e(1078),n.e(7582)]).then(n.bind(n,97582)).then(e=>({default:e.LoomPanel}))),n$=e=>(0,a.jsx)(C.Suspense,{fallback:(0,a.jsx)(eJ.y,{size:"md"}),children:(0,a.jsx)(nq,{...e})});n$.key="video.loom";let nJ=e=>{let{editor:t,updateAttributes:n,currentAttributes:i}=e,o=(0,tV.Zj)(i);return(0,a.jsxs)(r.T,{align:"flex-start",spacing:4,children:[(0,a.jsx)(tU.VG,{currentUrl:o,updateAttributes:n,placeholder:w.Ru._({id:"ORLSr4"})}),(0,a.jsx)(tQ,{guideLink:"https://support.microsoft.com/en-us/office/embed-a-word-document-in-your-blog-0faa0253-2751-44bf-8486-ea7837fe7db1",extraMessage:(0,a.jsx)(y.x6,{id:"2csAkv"}),providerName:"Word, Excel, or PowerPoint"}),o&&(0,a.jsx)(tW.p,{editor:t,updateAttributes:n,currentAttributes:i})]})};nJ.key="embed.microsoft.office";let nY=e=>{let{editor:t,updateAttributes:n,currentAttributes:i}=e,o=(0,tV.Zj)(i);return(0,a.jsxs)(r.T,{align:"flex-start",spacing:4,children:[(0,a.jsx)(tU.VG,{currentUrl:o,updateAttributes:n,placeholder:"https://www.miro.com/..."}),(0,a.jsx)(tQ,{guideLink:"https://help.miro.com/hc/en-us/articles/360016335640-How-to-embed-editable-boards-into-websites",providerName:"Miro"}),o&&(0,a.jsx)(tW.p,{editor:t,updateAttributes:n,currentAttributes:i})]})};nY.key="embed.miro";let nX=e=>{let{editor:t,updateAttributes:n,currentAttributes:i}=e,o=(0,Y.GV)(en.aQ),l=(0,tV.Zj)(i),{isInOfflineMode:s}=(0,t1.u)(),d=(0,C.useRef)(null),c=(0,C.useCallback)(e=>{let{tempUrl:t,file:a}=e,i=(0,t3.bY)(a);d.current=t,n({...i,url:t})},[n]),u=(0,C.useCallback)((e,n)=>{if(!t)return;let a=d.current;(0,t3.XJ)(t,a||n,e),d.current=null},[t]);return(0,a.jsxs)(r.T,{align:"flex-start",spacing:4,children:[(0,a.jsx)(tU.VG,{currentUrl:l,updateAttributes:n,placeholder:w.Ru._({id:"gzZk6e"})}),l&&(0,a.jsx)(tW.p,{editor:t,updateAttributes:n,currentAttributes:i}),!s&&(0,a.jsx)(eg.D,{size:"md",children:(0,a.jsx)(y.x6,{id:"ONWvwQ"})}),o&&(0,a.jsx)(t5.Z,{onUploadSuccess:u,onUploadStart:c,orgId:o,uploadType:"doc",dropHereText:w.Ru._({id:"ByKyau",values:{0:"%{browse}"}}),editType:"node"})]})};nX.key="embed.pdf";let n0=["business","rocket","graphs","build","gradient","sky","water"],n1=e=>{let{updateAttributes:t,currentAttributes:n,mediaSearchQuery:i,setMediaSearchQuery:r}=e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(tJ.O,{updateAttributes:t,currentImageUrl:n.src,defaultQuery:n.query||"",randomQueries:n0,provider:"pictographic",enablePagination:!0,mediaSearchQuery:i,setMediaSearchQuery:r}),(0,a.jsx)(u.a,{width:"100%",textAlign:"center",padding:"10px",paddingTop:"30px",children:(0,a.jsx)(c.E,{fontSize:"sm",color:"gray.500",children:(0,a.jsx)(y.x6,{id:"wOdKZR",components:{0:(0,a.jsx)(g.N,{href:"https://pictographic.io",target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"underline"}})}})})})]})};n1.key="image.pictographic";let n2=["teamwork","presentation","growth","education","learning","goal","innovation","training","success","planning"],n4=e=>{let{updateAttributes:t,currentAttributes:n,mediaSearchQuery:i,setMediaSearchQuery:r}=e;return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(tJ.O,{updateAttributes:t,currentImageUrl:n.src,defaultQuery:n.query||"",randomQueries:n2,provider:"pictographicIcons",enablePagination:!0,resultsPerPage:100,resultEntityType:"icon",mediaSearchQuery:i,setMediaSearchQuery:r,displayAsGrid:!0})})};n4.key="image.pictographic.icon";let n5=e=>{let{editor:t,updateAttributes:n,currentAttributes:i}=e,o=(0,tV.Zj)(i);return(0,a.jsxs)(r.T,{align:"flex-start",spacing:4,children:[(0,a.jsx)(tU.VG,{currentUrl:o,updateAttributes:n,placeholder:w.Ru._({id:"ORLSr4"})}),o&&(0,a.jsx)(tW.p,{editor:t,updateAttributes:n,currentAttributes:i})]})};n5.key="embed.microsoft.powerbi";let n6=e=>n3(e),n3=async e=>{let t=(await n.e(5894).then(n.t.bind(n,75894,23))).default,{text:a,foregroundColor:i,backgroundColor:r,logoUrl:o,dotOption:l}=e;return new t({width:300,height:300,type:"svg",data:a,image:o,margin:10,dotsOptions:{color:i||"#000",type:l},backgroundOptions:{color:r||"#fff"},imageOptions:{crossOrigin:"anonymous",imageSize:.4,margin:0}}).getRawData("svg")},n9=e=>{var t;let{editor:n,editType:i,updateAttributes:d,currentAttributes:p}=e,{saveImageFromDataBlob:h}=t8({updateAttributes:d,editor:n,editType:i,source:"image.qrCode"}),[g,f]=(0,C.useState)(!1),b="#000000",j="#FFFFFF",A="square",[k,I]=(0,C.useState)(null==p||null==(t=p.meta)?void 0:t.title),[E,L]=(0,C.useState)(null==p?void 0:p.src),R=(0,C.useRef)(),D=(0,C.useCallback)(()=>{f(!0)},[]),M=(0,C.useCallback)(async()=>{if(!k)return;let e=await n6({text:k,foregroundColor:b,backgroundColor:j,dotOption:A});e&&(L(window.URL.createObjectURL(e)),R.current=e)},[k,b,j,A]);(0,C.useEffect)(()=>{M()},[A,j,b,k,k,M]);let{src:_,tempUrl:z,meta:T,showPlaceholder:N,uploadStatus:P}=p,O=_?(0,eA.bI)(_,{width:500}):void 0,H=!g&&!!(_||z||N),B=(0,C.useCallback)(async()=>{R.current&&(f(!0),await h({blob:R.current,attributes:{meta:{title:k,foregroundColor:b,backgroundColor:j,dotOption:A}}}),f(!1))},[h,k,b,j,A]);return H?(0,a.jsxs)(r.T,{align:"center",spacing:4,children:[P===t7.A.Uploading&&(0,a.jsxs)(o.F,{status:"info",size:"sm",children:[(0,a.jsx)(l._,{as:eJ.y,w:5,h:5}),(0,a.jsx)(s.T,{children:(0,a.jsx)(y.x6,{id:"MEDU34"})})]}),N?(0,a.jsx)(t4.Pf,{isUploading:P===t7.A.Uploading,hasUploadError:P===t7.A.Error,width:"100%",height:"200px",borderRadius:"md"}):(0,a.jsx)(S._,{src:O||z,alt:"",ignoreFallback:!0,borderRadius:"md"}),(null==T?void 0:T.title)&&(0,a.jsx)(c.E,{textAlign:"left",w:"100%",children:T.title}),P!==t7.A.Uploading&&(0,a.jsx)(x.$,{onClick:D,mt:2,w:"100%",children:(0,a.jsx)(y.x6,{id:"4uW88M"})})]}):(0,a.jsxs)(r.T,{align:"stretch",spacing:4,children:[P===t7.A.Error&&(0,a.jsxs)(o.F,{status:"error",size:"sm",children:[(0,a.jsx)(l._,{}),(0,a.jsx)(s.T,{children:(0,a.jsx)(y.x6,{id:"GymiXM"})})]}),(0,a.jsxs)(F.MJ,{id:"qr-url",children:[(0,a.jsx)(m.l,{children:(0,a.jsx)(y.x6,{id:"IagCbF"})}),(0,a.jsx)(ni.M,{size:"lg",children:(0,a.jsx)(no.p,{id:"qr-url",value:k,placeholder:w.Ru._({id:"qf63PF"}),type:"url",onChange:e=>{I(e.target.value)}})})]}),n&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(u.a,{p:4,py:2,bg:"gray.50",borderRadius:"md",children:(0,a.jsxs)(nE.B,{spacing:2,children:[(0,a.jsx)(c.E,{children:(0,a.jsx)(y.x6,{id:"a37vfH"})}),(0,a.jsx)(W.s,{align:"center",justify:"center",h:"200px",p:1,border:"1px solid",borderColor:"gray.200",borderRadius:"md",overflow:"hidden",bg:"white",children:E?(0,a.jsx)(nE.B,{h:"100%",children:(0,a.jsx)(S._,{src:E,maxH:"100%"})}):(0,a.jsx)(u.a,{p:2,children:(0,a.jsx)(c.E,{size:"xs",color:"gray.500",textAlign:"center",children:(0,a.jsx)(y.x6,{id:"eu7KCb"})})})}),(0,a.jsx)(c.E,{fontSize:"sm",color:"gray.600",children:(0,a.jsx)(y.x6,{id:"wjRHQb"})})]})}),(0,a.jsx)(v.Tz,{isDisabled:!!E,shouldWrapChildren:!0,label:(0,a.jsx)(y.x6,{id:"Y1WnIF"}),children:(0,a.jsx)(x.$,{onClick:B,w:"100%",variant:"solid",tabIndex:0,isDisabled:!E,children:(0,a.jsx)(y.x6,{id:"IChvxB"})})})]})]})};n9.key="image.qrCode";let n7=e=>{let{editor:t,updateAttributes:n,currentAttributes:i}=e,o=(0,tV.Zj)(i);return(0,a.jsxs)(r.T,{align:"flex-start",spacing:4,children:[(0,a.jsx)(tU.VG,{currentUrl:o||"",updateAttributes:n,placeholder:"https://open.spotify.com/..."}),(0,a.jsx)(tQ,{guideLink:"https://artists.spotify.com/en/help/article/embedded-players-follow-buttons",providerName:"Spotify",extraMessage:(0,a.jsx)(y.x6,{id:"ItAUcI"})}),o&&(0,a.jsx)(tW.p,{editor:t,updateAttributes:n,currentAttributes:i})]})};n7.key="video.spotify";let n8=e=>(0,a.jsx)(tG,{...e,urlPlaceholder:"https://tally.so/..."});n8.key="embed.tally";let ae=e=>{let{editor:t,updateAttributes:n,currentAttributes:i}=e,o=(0,tV.Zj)(i);return(0,a.jsxs)(r.T,{align:"flex-start",spacing:4,children:[(0,a.jsx)(tU.VG,{currentUrl:o,updateAttributes:n,placeholder:"https://www.tiktok.com/..."}),(0,a.jsx)(tQ,{guideLink:"https://developers.tiktok.com/doc/embed-videos/",providerName:"TikTok"}),o&&(0,a.jsx)(tW.p,{editor:t,updateAttributes:n,currentAttributes:i})]})};ae.key="video.tiktok";let at=e=>{let{editor:t,updateAttributes:n,currentAttributes:i}=e,o=(0,tV.Zj)(i);return(0,a.jsxs)(r.T,{align:"flex-start",spacing:4,children:[(0,a.jsx)(tU.VG,{currentUrl:o,updateAttributes:n,placeholder:"https://twitter.com/..."}),o&&(0,a.jsx)(tW.p,{editor:t,updateAttributes:n,currentAttributes:i})]})};at.key="embed.twitter";let an=e=>(0,a.jsx)(tG,{...e,urlPlaceholder:"https://typeform.com/..."});an.key="embed.typeform";let aa=["wallpaper","textures","architecture","background","nature","gradient","experimental","animals","california","flowers","relax","sky","water","pattern","abstract"],ai=e=>{let{updateAttributes:t,currentAttributes:n,mediaSearchQuery:i,setMediaSearchQuery:r}=e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(tJ.O,{updateAttributes:t,currentImageUrl:n.src,defaultQuery:n.query,randomQueries:aa,provider:"unsplash",mediaSearchQuery:i,setMediaSearchQuery:r}),(0,a.jsx)(u.a,{width:"100%",textAlign:"center",padding:"10px",paddingTop:"30px",children:(0,a.jsx)(c.E,{fontSize:"sm",color:"gray.500",children:(0,a.jsx)(y.x6,{id:"k16iQH",values:{UNSPLASH_PROPER_NOUN:"Unsplash"},components:{0:(0,a.jsx)(g.N,{href:"https://unsplash.com",target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"underline"}})}})})})]})};ai.key="image.unsplash";let ar=e=>{let{editor:t,updateAttributes:n,currentAttributes:i}=e,o=(0,tV.Zj)(i);return(0,a.jsxs)(r.T,{align:"flex-start",spacing:4,children:[(0,a.jsx)(tU.VG,{currentUrl:o,updateAttributes:n,placeholder:"https://vimeo.com/..."}),o&&(0,a.jsx)(tW.p,{editor:t,updateAttributes:n,currentAttributes:i})]})};ar.key="video.vimeo";let ao=["modern office workspace","sustainable energy landscape","vintage automobile collection","future technology concept","tropical beach paradise","urban street art","classical music instruments","mountain hiking adventure","wildlife safari","space exploration visuals","ancient ruins aerial view","deep sea marine life","high fashion runway event","robotics in manufacturing","gourmet food presentation","winter sports scene","abstract art paintings","traditional village festival","modern architecture landmarks","digital art fantasy worlds"],al=e=>{let{updateAttributes:t,currentAttributes:n,mediaSearchQuery:i,setMediaSearchQuery:r}=e;return(0,a.jsx)(tJ.O,{updateAttributes:t,currentImageUrl:n.src,defaultQuery:n.query||"",enablePagination:!0,enableLicenseFilter:!0,provider:"web",resultsPerPage:48,randomQueries:ao,resizeThumbnails:!0,mediaSearchQuery:i,setMediaSearchQuery:r})};al.key="image.web";let as=e=>{let{editor:t,updateAttributes:n,currentAttributes:i}=e,{proxy:o,displayStyle:l}=i,s=(0,tV.Zj)(i);return(0,a.jsxs)(r.T,{align:"flex-start",spacing:4,children:[(0,a.jsx)(tU.VG,{currentUrl:s||"",updateAttributes:n,placeholder:w.Ru._({id:"gzZk6e"})}),s&&l&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(h.S,{isChecked:o,onChange:e=>n({proxy:e.target.checked}),children:(0,a.jsx)(y.x6,{id:"Fl9cgp"})}),(0,a.jsx)(c.E,{fontSize:"sm",color:"gray.500",mt:-2,children:(0,a.jsx)(y.x6,{id:"J87/8N"})})]}),s&&(0,a.jsx)(tW.p,{editor:t,updateAttributes:n,currentAttributes:i})]})};as.key="embed.custom";let ad=e=>{let{editor:t,updateAttributes:n,currentAttributes:i}=e,o=(0,tV.Zj)(i);return(0,a.jsxs)(r.T,{align:"flex-start",spacing:4,children:[(0,a.jsx)(tU.VG,{currentUrl:o,updateAttributes:n,placeholder:"<iframe..."}),(0,a.jsx)(tQ,{guideLink:"https://wistia.com/support/embed-and-share/media-on-your-website",providerName:"Wistia"}),o&&(0,a.jsx)(tW.p,{editor:t,updateAttributes:n,currentAttributes:i})]})};ad.key="video.wistia";let ac=e=>{let{editor:t,updateAttributes:n,currentAttributes:i}=e,o=(0,tV.Zj)(i);return(0,a.jsxs)(r.T,{align:"flex-start",spacing:4,children:[(0,a.jsx)(tU.VG,{currentUrl:o,updateAttributes:n,placeholder:"https://www.youtube.com/watch?v=..."}),o&&(0,a.jsx)(tW.p,{editor:t,updateAttributes:n,currentAttributes:i})]})};ac.key="video.youtube";let au=Object.fromEntries(Object.values([tY,nA,nI,al,nZ,ai,ac,n$,nn,nS,nk,as,ne,n9,tF,nJ,n5,at,ar,nt,nX,nY,tZ,tq,ad,n7,ae,nG,nU,nv,tX,an,nK,n8,ny,n1,n4]).flat().map(e=>[e.key,e])),ap={[tF.key]:{canShowEmptyState:!0}}},63902:(e,t,n)=>{"use strict";n.d(t,{oR:()=>l}),n(6029);var a=n(55729),i=n(85732);let r=a.createContext({publishedVersionOverride:!1}),o=()=>(0,a.useContext)(r);function l(){let{publishedVersionOverride:e}=o();return e||(0,i.NF)()}},64056:(e,t,n)=>{"use strict";n.d(t,{Cn:()=>p,I4:()=>d,Sm:()=>s,eq:()=>u});var a=n(9922),i=n.n(a),r=n(23460),o=n(17633),l=n(66082);let s=e=>{var t;let{horizontalAlign:n,eventTarget:a,node:r,newContent:l,editor:s}=e,d=a.closest("[data-media-node-wrapper]"),u=Math.round(((null==d||null==(t=d.querySelector("img"))?void 0:t.clientWidth)||100)/((null==d?void 0:d.clientWidth)||100)*100),p=[o.w.paragraph()],h=c(a,s.view),m=i()(r.toJSON());return m.attrs.resize={},{type:"gridLayout",attrs:{colWidths:(()=>{switch(n){case"center":return[(100-u)/2,u,(100-u)/2];case"right":return[100-u,u];default:return[u,100-u]}})()},content:(()=>{switch(n){case"center":return[{type:"gridCell",content:"left"===h&&l?l:p},{type:"gridCell",content:[m]},{type:"gridCell",content:"right"===h&&l?l:p}];case"right":return[{type:"gridCell",content:l||p},{type:"gridCell",content:[m]}];default:return[{type:"gridCell",content:[m]},{type:"gridCell",content:l||p}]}})()}},d=e=>{let{horizontalAlign:t,prevPos:n}=e;switch(t){case"center":case"right":return n+4;default:return n+2}},c=(e,t)=>{let n=(0,r.xX)(e,t.dom,e=>e.hasAttribute("data-media-add-side"));return null==n?void 0:n.getAttribute("data-media-add-side")},u=e=>{let{view:t,from:n,to:a,node:i}=e,r=(0,l.er)(t.state,n,a);return i.attrs.horizontalAlign||("rtl"===r?"right":"left")},p=e=>{let{eventTarget:t,horizontalAlign:n,nodeSize:a,editor:i}=e,r=c(t,i.view);switch(n){case"right":return 2;case"center":return"left"===r?2:a+7;default:return a+4}}},64234:(e,t,n)=>{"use strict";n.d(t,{ez:()=>eO,jU:()=>eN,Fn:()=>eP,dO:()=>ez,K4:()=>eH});var a=n(6029),i=n(51684),r=n(77650),o=n(87996),l=n(63794),s=n(53587),d=n(57405),c=n(64268),u=n(51504),p=n(99745),h=n(19564),m=n(25839),g=n(83743),x=n(69388),f=n(26420),b=n(49611),v=n(16936),y=n(1139),w=n(53996),C=n(99492),j=n(48621),A=n(48342),k=n(55729),S=n(62171),I=n(67097);let E=e=>{let{accentImages:t,isDark:n,handleDelete:i,handleItemClick:o,currentAttributes:l,editType:s}=e,d=(0,k.useCallback)(e=>t=>{i&&(t.stopPropagation(),i(e))},[i]),c=(0,k.useCallback)(e=>()=>{o&&o(e)},[o]);return(0,a.jsx)(g.r,{gap:2,columns:{base:2,"2xl":3},children:t.map(e=>{let t=(0,S.FD)(e,n,I.p7),u=("node"===s||"accessory"===s)&&e.image,p=u?{...e.image,source:e.source}:e,m=u?(null==l?void 0:l.src)===e.image.src:(null==l?void 0:l.accentId)===e.accentId;return(0,a.jsx)(x.E,{children:(0,a.jsxs)(f.a,{as:b.$,variant:"unstyled",backgroundColor:n?"black":"white",cursor:o?"pointer":void 0,...t,opacity:1,width:"100%",borderRadius:"base",shadow:"md",minH:"100px",position:"relative",role:"group",onClick:c(p),children:[i&&(0,a.jsx)(A.Tz,{label:(0,a.jsx)(h.x6,{id:"Rz0Yis"}),placement:"top",children:(0,a.jsx)(v.K,{"aria-label":r.Ru._({id:"Rz0Yis"}),icon:(0,a.jsx)(j.g,{icon:C.yLS}),onClick:d(e),isRound:!0,position:"absolute",top:1,insetEnd:1,size:"sm",color:"red.600",opacity:0,_hover:{color:"red.600"},_groupHover:{opacity:1}})}),l&&(0,a.jsx)(y.z,{in:m,children:(0,a.jsx)(f.a,{pointerEvents:"none",color:"white",pos:"absolute",inset:0,bg:"rgba(0,0,0,.5)",borderRadius:"base",children:(0,a.jsx)(w.o,{h:"100%",w:"100%",children:(0,a.jsx)(j.g,{icon:C.e68})})})})]})},e.accentId)})})};var L=n(62452),R=n(43634),D=n(74158),M=n(94740),_=n(66199),z=n(18078),T=n(25311),N=n(49146),P=n(23908),O=n(36693),H=n(58959),F=n(20061),B=n(3448),V=n(48810),W=n(6830),U=n(96500),G=n(40452),K=n(53113),Q=n(25256),Z=n.n(Q),q=n(81136),$=n(38036),J=n(33750),Y=n.n(J),X=n(33612),ee=n.n(X),et=n(10500),en=n(45460);let ea=(0,en.R)((e,t)=>{let{color:n,name:i,isActive:r,size:o=8,onClick:l,buttonProps:s}=e,d=(0,L.ZY)(n)?"white":"black";return(0,a.jsx)(A.Tz,{label:i,placement:"top",isDisabled:!i,children:(0,a.jsx)(b.$,{display:"inline-block",alignSelf:"center",boxSize:o,borderRadius:"md",border:"1px solid",borderColor:"gray.200",color:d,css:(0,L.Sf)(n),onClick:()=>null==l?void 0:l(n),variant:"unstyled",minW:o,fontSize:"xs",transitionProperty:"border",transitionDuration:"normal",ref:t,...s,children:r&&(0,a.jsx)(et.S,{})})})});ea.displayName="ThemeColorIcon";var ei=n(78140),er=n(36999),eo=n(41283),el=n(37930),es=n(48478);let ed=e=>{let{mode:t,setMode:n}=e;return(0,a.jsxs)(ei.W,{children:[(0,a.jsx)(er.I,{as:b.$,size:"sm",rightIcon:(0,a.jsx)(j.g,{icon:C.Jt$,size:"sm"}),minW:24,textAlign:"start",children:t}),(0,a.jsx)(eo.c,{children:(0,a.jsx)(el.i,{defaultValue:t,value:t,title:r.Ru._({id:"YDWhuY"}),type:"radio",onChange:n,children:["HEX","RGB","HSL"].map(e=>(0,a.jsx)(es.k,{value:e,children:e},e))})})]})},ec={type:"solid",color:"#FF0000"},eu=e=>{let[t,n]=(0,k.useState)("HEX"),i=e.color||e.defaultColor||ec,r=(0,L.Ik)(i),{updateColor:o}=e,l=(0,k.useCallback)(e=>{o({type:"solid",color:e})},[o]);return(0,a.jsxs)(d.T,{align:"start",spacing:4,children:[(0,a.jsx)(eR,{...e}),(0,a.jsxs)(d.T,{children:[(0,a.jsx)(ex,{color:r,onChange:l}),(0,a.jsxs)(H.z,{w:"100%",spacing:4,children:[(0,a.jsx)(ea,{color:i}),(0,a.jsx)(eg,{color:r,onChange:l}),(0,a.jsx)(ef,{color:r,onChange:l})]}),(0,a.jsxs)(H.z,{flex:1,w:"100%",children:[(0,a.jsx)(ed,{mode:t,setMode:n}),"HEX"===t&&(0,a.jsx)(ep,{initialFocusRef:e.initialFocusRef,color:r,updateColor:l,placeholder:ec.color}),"HSL"===t&&(0,a.jsx)(eh,{color:r,updateColor:l}),"RGB"===t&&(0,a.jsx)(em,{color:r,updateColor:l})]})]})]})},ep=e=>{let{color:t,updateColor:n,placeholder:i,initialFocusRef:r}=e,[o,l]=(0,k.useState)(t),[s,d]=(0,k.useState)(!1);(0,k.useEffect)(()=>{l(t)},[t]);let c=(0,k.useCallback)(e=>{let t=e.target.value;l(t),(0,W.fd)(t)&&n(t)},[n]),u=(0,k.useCallback)(e=>{let t=eM(e.target.value);(0,W.fd)(t)&&n(t)},[n]);return(0,k.useEffect)(()=>{if(r&&!s){var e;null==(e=r.current)||e.select(),d(!0)}},[s,r]),(0,a.jsx)($.p,{ref:r,size:"sm",type:"text",value:o,onChange:c,onBlur:u,onKeyDown:e=>{"Enter"===e.key&&u(e)},fontFamily:"mono",placeholder:i,"data-testid":"color-picker-text-input-hex"})},eh=e=>{let{color:t,updateColor:n}=e,i=ee()(t).toHsl(),[r,o,l]=[i.h,100*i.s,100*i.l],s=e=>{n(ee()({h:e,s:o/100,l:l/100}).toHexString())},d=e=>{n(ee()({h:r,s:e/100,l:l/100}).toHexString())},c=e=>{n(ee()({h:r,s:o/100,l:e/100}).toHexString())};return(0,a.jsxs)(H.z,{children:[(0,a.jsx)($.p,{size:"sm",type:"number",value:Math.round(r),onChange:e=>s(Number(e.target.value)),min:0,max:360,step:1,flex:1}),(0,a.jsx)($.p,{size:"sm",type:"number",value:Math.round(o),onChange:e=>d(Number(e.target.value)),min:0,max:100,step:1,flex:1}),(0,a.jsx)($.p,{size:"sm",type:"number",value:Math.round(l),onChange:e=>c(Number(e.target.value)),min:0,max:100,step:1,flex:1})]})},em=e=>{let{color:t,updateColor:n}=e,i=ee()(t).toRgb(),[r,o,l]=[i.r,i.g,i.b],s=e=>{n(ee()({r:e,g:o,b:l}).toHexString())},d=e=>{n(ee()({r,g:e,b:l}).toHexString())},c=e=>{n(ee()({r,g:o,b:e}).toHexString())};return(0,a.jsxs)(H.z,{children:[(0,a.jsx)($.p,{size:"sm",type:"number",value:r,onChange:e=>s(Number(e.target.value)),min:0,max:255,step:1,flex:1}),(0,a.jsx)($.p,{size:"sm",type:"number",value:o,onChange:e=>d(Number(e.target.value)),min:0,max:255,step:1,flex:1}),(0,a.jsx)($.p,{size:"sm",type:"number",value:l,onChange:e=>c(Number(e.target.value)),min:0,max:255,step:1,flex:1})]})},eg=e=>{let{color:t,onChange:n}=e,i=ee()(t).toHsv(),[r,o]=(0,k.useState)(i.h);return(0,k.useEffect)(()=>{o(i.h)},[i.h]),(0,a.jsxs)(K.Ap,{min:0,max:360,defaultValue:r,value:r,size:"lg",onChange:e=>{o(e),n(ee()({h:e,s:i.s,v:i.v}).toHexString())},step:.1,focusThumbOnChange:!1,children:[(0,a.jsx)(K.hB,{h:3,borderRadius:"full",bgGradient:"linear(to-r, hsl(0, 100%, 50%),  hsl(60, 100%, 50%),  hsl(120, 100%, 50%),  hsl(180, 100%, 50%),  hsl(240, 100%, 50%),  hsl(300, 100%, 50%),  hsl(360, 100%, 50%))"}),(0,a.jsx)(K.OQ,{borderWidth:3,borderColor:"white",bg:"hsl(".concat(i.h,", 100%, 50%)"),boxSize:"24px",shadow:"md",outline:"1px solid",outlineColor:"blackAlpha.200"})]})},ex=e=>{let{color:t,onChange:n}=e,[i,r]=(0,k.useState)(!1),o=(0,k.useRef)(null),l=(0,k.useRef)(null),s=(0,k.useRef)(null),d=ee()(t).toHsv(),c=ee()({h:d.h,s:100,v:100}),u=(0,k.useCallback)((e,t)=>{if(!o.current)return;let n=e/o.current.width,a=1-t/o.current.height;return d.s=n,d.v=a,d},[d]),p=(0,k.useCallback)(e=>{if(!o.current)return{x:0,y:0};let t=ee()(e).toHsv(),n=t.s,a=t.v;return{x:n*o.current.width,y:(1-a)*o.current.height}},[]),h=(0,k.useCallback)(()=>{let e=o.current,t=null==e?void 0:e.getContext("2d");if(!e||!t)return;let n=e.width,a=e.height,i=t.createLinearGradient(0,0,n,0);i.addColorStop(0,"white"),i.addColorStop(1,c.toHexString()),t.fillStyle=i,t.fillRect(0,0,n,a);let r=t.createLinearGradient(0,0,0,a);r.addColorStop(0,"rgba(0,0,0,0)"),r.addColorStop(1,"black"),t.fillStyle=r,t.fillRect(0,0,n,a)},[c]),m=(0,k.useCallback)((e,t)=>{if(!o.current||!l.current)return{x:0,y:0};let n=o.current.clientWidth,a=o.current.clientHeight,i=Y()(e,0,n),r=Y()(t,0,a);return l.current.style.left="".concat(i,"px"),l.current.style.top="".concat(r,"px"),{x:i,y:r}},[]);(0,k.useEffect)(()=>{h();let{x:e,y:n}=p(t);m(e,n)},[t,p,h,m]);let g=(0,k.useCallback)(e=>{if(!s.current)return;let t=s.current.getBoundingClientRect(),{x:a,y:i}=m(e.clientX-t.left,e.clientY-t.top),r=u(a,i);r&&(n(ee()(r).toHexString()),e.preventDefault())},[n,u,m]),x=(0,k.useCallback)(e=>{r(!1),e.preventDefault()},[]),b=(0,k.useCallback)(e=>{r(!0),g(e),e.preventDefault()},[g]);return(0,k.useEffect)(()=>{if(i)return document.addEventListener("mousemove",g),document.addEventListener("mouseup",x),()=>{document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",x)}},[g,x,i]),(0,a.jsxs)(f.a,{pos:"relative",ref:s,onMouseDown:b,children:[(0,a.jsx)(f.a,{ref:l,pos:"absolute",w:5,h:5,border:"2px solid white",borderRadius:"full",transform:"translate(-50%, -50%) scale(".concat(i?1.2:1,")"),boxShadow:"md",transitionProperty:"transform",transitionDuration:"normal",bg:ee()(t).toHexString(),outline:"1px solid",outlineColor:"blackAlpha.200"}),(0,a.jsx)(f.a,{as:"canvas",ref:o,width:"100%",height:"150px",borderRadius:"md",shadow:"base",border:"1px solid",borderColor:"gray.200"})]})},ef=e=>{let{onChange:t}=e,n=(0,k.useCallback)(()=>{new window.EyeDropper().open().then(e=>{t(e.sRGBHex)}).catch(e=>{console.error("Eyedropper error:",e)})},[t]);return"EyeDropper"in window?(0,a.jsx)(v.K,{size:"sm",icon:(0,a.jsx)(j.g,{fixedWidth:!0,icon:C.jC5}),onClick:n,variant:"ghost","aria-label":r.Ru._({id:"A94+Ww"})}):null},eb=e=>{let[t,n]=(0,k.useState)("HEX"),{updateColor:i,color:r}=e,[o,l]=(0,k.useState)(0),s=r.stops[o],c=(0,k.useCallback)((e,t)=>{let n=[...r.stops];void 0===t?(n.splice(e,1),l(Math.min(e,n.length-1))):(n[e]=t,l(e)),i({...r,stops:n})},[r,i]),u=(0,k.useCallback)(e=>{let t=[...r.stops];t.push(e),t.sort((e,t)=>e.position-t.position),l(Z()(t,e)),i({...r,stops:t})},[r,i]),p=(0,k.useCallback)(e=>{c(o,{...s,color:e})},[s,o,c]);return(0,a.jsxs)(d.T,{align:"start",spacing:4,children:[(0,a.jsx)(ev,{...e,addStop:u,currentStop:s,updateStop:c,currentStopIndex:o,setCurrentStopIndex:l}),(0,a.jsx)(eR,{...e,updateColor:e=>{"linear-gradient"===e.type?i(e):p(null==e?void 0:e.color)}}),(0,a.jsx)(U.c,{}),(0,a.jsxs)(d.T,{children:[(0,a.jsx)(ex,{color:s.color,onChange:p}),(0,a.jsxs)(H.z,{w:"100%",spacing:4,children:[(0,a.jsx)(ea,{color:r}),(0,a.jsx)(eg,{color:s.color,onChange:p}),(0,a.jsx)(ef,{color:s.color,onChange:p})]}),(0,a.jsxs)(H.z,{flex:1,w:"100%",children:[(0,a.jsx)(ed,{mode:t,setMode:n}),"HEX"===t&&(0,a.jsx)(ep,{initialFocusRef:e.initialFocusRef,color:s.color,updateColor:p,placeholder:ec.color}),"HSL"===t&&(0,a.jsx)(eh,{color:s.color,updateColor:p}),"RGB"===t&&(0,a.jsx)(em,{color:s.color,updateColor:p})]}),(0,a.jsx)(ey,{...e})]})]})},ev=e=>{let{color:t,updateStop:n,currentStopIndex:i,setCurrentStopIndex:o,addStop:l}=e,{stops:s}=t,d=s.length>2,c=s.length<5;return(0,a.jsxs)(H.z,{w:"100%",spacing:0,children:[(0,a.jsx)(G.s,{borderRadius:"full",background:(0,q.yh)({...t,angle:90}),pos:"relative",h:3,border:"1px solid",borderColor:"gray.200",flex:1,me:2,children:s.map((e,t)=>{let r=t===i;return(0,a.jsx)(G.s,{pos:"absolute",inset:0,top:-1.5,children:(0,a.jsxs)(K.Ap,{size:"lg",value:e.position,min:0,max:100,step:1,onChange:a=>{n(t,{...e,position:a})},onClick:()=>o(t),children:[(0,a.jsx)(K.hB,{bg:"transparent",h:3}),(0,a.jsx)(K.OQ,{borderWidth:3,borderColor:"white",boxSize:"24px",shadow:"md",outline:r?"2px solid":"1px solid",outlineColor:r?"trueblue.300":"blackAlpha.200",bg:e.color})]})},t)})}),(0,a.jsx)(A.Tz,{label:(0,a.jsx)(h.x6,{id:"VztmP9"}),children:(0,a.jsx)(v.K,{icon:(0,a.jsx)(j.g,{icon:C.yLS}),"aria-label":r.Ru._({id:"VztmP9"}),onClick:()=>n(i,void 0),size:"sm",variant:"ghost",isDisabled:!d})}),(0,a.jsx)(A.Tz,{label:(0,a.jsx)(h.x6,{id:"MKajKJ"}),children:(0,a.jsx)(v.K,{icon:(0,a.jsx)(j.g,{icon:C.QLR}),"aria-label":r.Ru._({id:"MKajKJ"}),onClick:()=>{l(ew(t))},size:"sm",variant:"ghost",isDisabled:!c})})]})},ey=e=>{let{color:t,updateColor:n}=e;return(0,a.jsxs)(d.T,{align:"start",w:"100%",children:[(0,a.jsx)(V.E,{fontWeight:"600",fontSize:"sm",color:"gray.500",children:(0,a.jsx)(h.x6,{id:"YMybpT"})}),(0,a.jsx)(g.r,{columns:4,spacing:2,w:"100%",children:eC.map(e=>{let i=t.angle===e.value;return(0,a.jsx)(ea,{color:{...t,angle:e.value},onClick:()=>n({...t,angle:e.value}),isActive:i,buttonProps:{w:"100%"},name:e.label},e.value)})})]})},ew=e=>{let t=e.stops[0],n=e.stops[1],a=e.stops.reduce((a,i,r)=>{let o=e.stops[r+1];if(!o)return a;let l=o.position-i.position;return l>a.distance?(t=i,n=o,{distance:l,position:i.position+l/2}):a},{distance:0,position:0});return{color:(0,W.tV)(t.color,n.color,a.position/100),position:a.position}},eC=[{label:"0\xb0",value:0},{label:"45\xb0",value:45},{label:"90\xb0",value:90},{label:"135\xb0",value:135},{label:"180\xb0",value:180},{label:"225\xb0",value:225},{label:"270\xb0",value:270},{label:"315\xb0",value:315}];var ej=n(72470),eA=n(77979);let ek=(0,en.R)((e,t)=>{let{color:n,updateColor:i,defaultColor:o={type:"solid",color:"#000000"},onClick:l,canReset:s,dataTestId:d}=e;return(0,a.jsxs)(ej.M,{size:"md","data-testid":d,children:[(0,a.jsx)($.p,{type:"text",placeholder:o?"".concat((0,L.ZR)(o)," ").concat(r.Ru._({id:"P9Cyl9"})):r.Ru._({id:"ovBPCi"}),value:n?(0,L.ZR)(n):"",readOnly:!0,fontFamily:"monospace",bg:"white",onFocus:l}),(0,a.jsx)(eA.W,{children:(0,a.jsx)(ea,{color:n||o,ref:t,onClick:l,size:7})}),s&&(0,a.jsx)(eA.t,{children:(0,a.jsx)(A.Tz,{label:(0,a.jsx)(h.x6,{id:"L+rMC9"}),placement:"top",children:(0,a.jsx)(v.K,{"aria-label":r.Ru._({id:"cnGeoo"}),variant:"ghost",onClick:()=>i(void 0),icon:(0,a.jsx)(j.g,{icon:C.U23}),size:"sm",colorScheme:"red"})})})]})});ek.displayName="ThemeColorPickerInput";let eS=e=>{let t=(0,k.useRef)(null);return(0,a.jsxs)(M.A,{isLazy:!0,strategy:"fixed",modifiers:[{name:"preventOverflow",options:{altAxis:!0}}],initialFocusRef:t,children:[(0,a.jsx)(_.W,{children:(0,a.jsx)(ek,{...e,canReset:!!(e.color&&e.defaultColor)})}),(0,a.jsx)(z.h,{zIndex:"modalPopover",border:"1px solid",borderColor:"gray.50",children:(0,a.jsx)(T.e,{children:(0,a.jsx)(eL,{...e,initialFocusRef:t})})})]})},eI=e=>(0,a.jsx)(eS,{...e,solidOnly:!0}),eE=["solid","linear-gradient"],eL=e=>{let{color:t,updateColor:n,solidOnly:i}=e,r=(null==t?void 0:t.type)||"solid",o=eE.indexOf(r),l=(0,k.useCallback)(e=>{let a=eE[e];if(r===a)return;let i=(0,L.Ik)(t||ec);"solid"===a?n({color:i,...t,type:"solid"}):"linear-gradient"===a&&n({stops:[{color:i,position:0},{color:(0,W.Pf)(i,(0,W.$p)(i)?20:-20),position:100}],angle:45,...t,type:"linear-gradient"})},[r,t,n]);return i?(0,a.jsx)(eu,{...e}):(0,a.jsxs)(N.t,{variant:"soft-rounded",size:"sm",isFitted:!0,isLazy:!0,index:o,onChange:l,children:[(0,a.jsxs)(P.w,{children:[(0,a.jsx)(O.o,{children:(0,a.jsxs)(H.z,{children:[(0,a.jsx)(j.g,{icon:C.l8N,fixedWidth:!0}),(0,a.jsx)(h.x6,{id:"5bi1la"})]})}),(0,a.jsx)(O.o,{children:(0,a.jsxs)(H.z,{children:[(0,a.jsx)(j.g,{icon:C.IlC,fixedWidth:!0}),(0,a.jsx)(h.x6,{id:"/S8bMP"})]})})]}),(0,a.jsxs)(F.T,{children:[(0,a.jsx)(B.K,{p:0,pt:4,children:(0,a.jsx)(eu,{...e})}),(0,a.jsx)(B.K,{p:0,pt:4,children:(0,a.jsx)(eb,{...e,color:t})})]})]})},eR=e=>{let{theme:t,color:n,updateColor:i,solidOnly:r=!1,palette:o="theme"}=e,l=[];return("theme"===o?l=(0,L.ND)(t,r):"accent"===o&&(l=(0,L.CD)(t)),r&&(l=l.filter(L.mO)),0===l.length)?null:(0,a.jsxs)(d.T,{align:"start",children:[(0,a.jsx)(V.E,{fontWeight:"600",fontSize:"sm",color:"gray.500",children:(0,a.jsx)(h.x6,{id:"DNUgpN"})}),(0,a.jsx)(H.z,{wrap:"wrap",children:l.map((e,t)=>(0,a.jsx)(ea,{name:(0,L.mO)(e)?(0,L.ZR)(e):void 0,color:e,onClick:i,isActive:n&&(0,L.Gw)(n,e)},t))})]})},eD=e=>e.replaceAll("#","").replaceAll(/[^A-Fa-f0-9]/g,"").slice(0,6),eM=e=>{let t=eD(e),n="";switch(t.length){case 0:return"";case 1:for(let e=0;e<6;e++)n+=t;break;case 2:for(let e=0;e<3;e++)n+=t;break;case 3:case 4:case 5:n=t.slice(0,3).split("").map(function(e){return e+e}).join("");break;default:n=t}return"#"+n.toUpperCase()};var e_=n(52762);let ez="default",eT="color.solid",eN={Default:[{label:()=>r.Ru._({id:"EdQY6l"}),availableOffline:!0,key:ez,backgroundType:e_.h.NONE}],Image:[{...o.mx,nodeName:"image",backgroundType:e_.h.IMAGE,priority:10},{...o.OO,nodeName:"image",disabled:!0,backgroundType:e_.h.IMAGE},{...o.Rn,nodeName:"image",backgroundType:e_.h.IMAGE},{...o.TV,nodeName:"image",disabled:!0,backgroundType:e_.h.IMAGE},{...o.Up,nodeName:"image",backgroundType:e_.h.IMAGE},{...o.ae,nodeName:"image",backgroundType:e_.h.IMAGE},{...o.Pl,nodeName:"image",backgroundType:e_.h.IMAGE},{...o.xT,nodeName:"image",backgroundType:e_.h.IMAGE},{...o.fo,nodeName:"image"},{...o.un,nodeName:"image"},{...o.yj,nodeName:"image",disabled:!0,backgroundType:e_.h.IMAGE},{...o.fb,nodeName:"image"},{label:()=>r.Ru._({id:"COXEr5"}),key:s.j,availableOffline:!0,icon:i.yvG,backgroundType:e_.h.IMAGE,nodeName:"image",keywords:["accent image"]}],Video:[{...o.GQ,nodeName:"video"},{...o.fX,nodeName:"video"},{...o.N$,nodeName:"video"},{...o.O5,nodeName:"video"},{...o.r9,nodeName:"video"},{...o.w,nodeName:"video"},{...o.st,nodeName:"video"}],Embed:[{...o.Jp,nodeName:"embed",priority:10},{...o.Zd,nodeName:"embed"},{...o.Il,nodeName:"embed"},{...o.fG,nodeName:"embed"},{...o.uF,nodeName:"embed"},{...o.Oz,nodeName:"embed"},{...o.V2,nodeName:"embed"},{...o.Dr,nodeName:"embed"},{...o.MN,nodeName:"embed"},{...o.qD,nodeName:"embed"},{...o.ap,nodeName:"embed"},{...o.Ve,nodeName:"embed"},{...o.RA,nodeName:"embed"},{...o.Ow,nodeName:"embed"},{...o.hb,nodeName:"embed"},{...o.sI,nodeName:"embed"},{...o.sS,nodeName:"embed"}],Color:[{label:()=>r.Ru._({id:"iFeLoB"}),key:eT,availableOffline:!0,icon:i.fyG,backgroundType:e_.h.COLOR,keywords:["solid color"]},{...o.UX,availableOffline:!0,backgroundType:e_.h.GRADIENT}]},eP=Object.fromEntries(Object.values(eN).flat().map(e=>[e.key,e])),eO={...l.e,[ez]:()=>(0,a.jsx)(a.Fragment,{}),[s.j]:e=>{let{currentAttributes:t,updateAttributes:n,editType:i}=e,r=(0,m.GV)(R.SJ),{accentBackgrounds:o}=r.config;return(0,a.jsxs)(d.T,{align:"stretch",children:[o&&(0,a.jsx)(E,{currentAttributes:t,accentImages:o,isDark:(0,L.Mw)(r),handleItemClick:n,editType:i}),(0,a.jsxs)(c.F,{status:"info",children:[(0,a.jsx)(u._,{}),(0,a.jsx)(p.T,{children:(0,a.jsx)(h.x6,{id:"zOCB9A"})})]})]})},[eT]:e=>{let{currentAttributes:t,updateAttributes:n,contextualTheme:i}=e,r=(0,D.d4)(R.SJ),o=(0,k.useCallback)(e=>n({hex:(0,L.Ik)(e)}),[n]);if("string"==typeof t)return o(t),(0,a.jsx)(a.Fragment,{});let{hex:l}=t;return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(eI,{color:{type:"solid",color:l},updateColor:o,theme:i||r,palette:"theme"})})}},eH={Default:()=>r.Ru._({id:"ovBPCi"}),Image:()=>r.Ru._({id:"hG89Ed"}),Video:()=>r.Ru._({id:"vSJd18"}),Embed:()=>r.Ru._({id:"KKBlUU"}),Color:()=>r.Ru._({id:"jZlrte"})}},64811:(e,t,n)=>{"use strict";n.d(t,{r:()=>a});let a=["tel","mailto"]},65230:(e,t,n)=>{"use strict";n.d(t,{LW:()=>M,Ep:()=>_,f3:()=>D});var a=n(6029),i=n(27229),r=n(46898),o=n(94740),l=n(66199),s=n(12514),d=n(18078),c=n(96430),u=n(26385),p=n(48810),h=n(40162),m=n(61204),g=n(49611),x=n(45460),f=n(16936),b=n(99492),v=n(48621),y=n(48342),w=n(19564),C=n(77650),j=n(97139),A=n.n(j),k=n(55729),S=n(57963),I=n(26053);w.x6,b.wB1,w.x6,b.s_F,w.x6,b.Qpm;let E=e=>{let{label:t,isDark:n,isSelected:i}=e;return(0,a.jsx)(g.$,{variant:"plain",size:"sm",height:"6",boxShadow:"none",bgGradient:"none",bg:i?n?"purple.500":"purple.100":n?"gray.700":"gray.50",color:i?n?"white":"purple.700":n?"white":"gray.700",borderColor:n?"whiteAlpha.200":"blackAlpha.200",_hover:{color:void 0},cursor:"pointer",children:t})},L={bg:"red.100",_hover:{bg:"red.200"},borderColor:"red.600",color:"red.600"},R={bg:"green.100",_hover:{bg:"green.200"},borderColor:"green.600",color:"green.600"},D=e=>{let{rating:t,setRating:n,RatingButtons:x,trackFeedback:f,feedbackTags:b,size:v}=e,{isOpen:y,onOpen:j,onClose:I}=(0,i.j)(),L=(0,k.useCallback)(e=>{n(e),j()},[n,j]),[R,D]=(0,k.useState)(""),[M,_]=(0,k.useState)(new Set),z=(0,k.useCallback)(()=>{D(""),_(new Set),I()},[I]),T=(0,r.d)(),N=(0,k.useCallback)(()=>{null==f||f(t,A().sanitize(R),Array.from(M)),T({title:(0,a.jsx)(w.x6,{id:"+Rq0s/"}),status:"success",position:"top",duration:2e3,isClosable:!0}),z()},[R,M,t,f,T,z]);return(0,a.jsxs)(o.A,{isOpen:y,onOpen:j,onClose:z,placement:"top",closeOnBlur:!0,isLazy:!0,variant:"modal",children:[(0,a.jsx)(l.W,{children:(0,a.jsx)(x,{rating:t,setRating:L,size:v})}),(0,a.jsx)(s.Z,{children:(0,a.jsxs)(d.h,{borderRadius:"lg",borderWidth:"1px",borderColor:"gray.200",shadow:"xl",p:3,"data-rating-popover":!0,children:[(0,a.jsx)(c.q,{}),(0,a.jsxs)(u.B,{alignItems:"flex-end",children:[(0,a.jsx)(p.E,{alignSelf:"flex-start",fontSize:"sm",color:"gray.500",children:"good"===t?(0,a.jsx)(w.x6,{id:"uA8iBc"}):(0,a.jsx)(w.x6,{id:"tq89gP"})}),t&&"good"!==t&&b&&b.length>0&&(0,a.jsx)(h.B,{children:b.map(e=>{let{key:t,label:n}=e;return(0,a.jsx)(h.Q,{onClick:()=>{_(e=>{let n=new Set(e);return n.has(t)?n.delete(t):n.add(t),n})},children:(0,a.jsx)(E,{label:n,isSelected:M.has(t)})},t)})}),(0,a.jsx)(S._,{initialHeight:"4em",value:R,onChange:e=>D(e.target.value),fontSize:"sm",placeholder:C.Ru._({id:"eYeGuP"}),p:1,px:2,borderRadius:"0"}),(0,a.jsxs)(m.e,{size:"sm",children:[(0,a.jsx)(g.$,{variant:"ghost",onClick:z,children:(0,a.jsx)(w.x6,{id:"6Uau97"})}),(0,a.jsx)(g.$,{variant:"solid",onClick:N,children:(0,a.jsx)(w.x6,{id:"1m41/U"})})]})]})]})})]})},M=(0,x.R)((e,t)=>{let{rating:n,setRating:i,size:r}=e,o=(0,I.wP)();return(0,a.jsxs)(m.e,{spacing:0,p:0,isAttached:!0,ref:t,size:r,children:[(0,a.jsx)(y.Tz,{label:(0,a.jsx)(w.x6,{id:"kR82DG"}),placement:"top",children:(0,a.jsx)(f.K,{...o,icon:(0,a.jsx)(v.g,{icon:b.lS9}),"aria-label":C.Ru._({id:"kqV4i0"}),..."poor"===n?L:{},onClick:()=>i("poor"),position:"relative",zIndex:+("poor"===n)})}),(0,a.jsx)(y.Tz,{label:(0,a.jsx)(w.x6,{id:"y1GvbS"}),placement:"top",children:(0,a.jsx)(f.K,{...o,icon:(0,a.jsx)(v.g,{icon:b.Wcv}),"aria-label":C.Ru._({id:"nnIO9F"}),position:"relative",insetStart:"-1px",..."good"===n?R:{},onClick:()=>i("good")})})]})});M.displayName="CardRatingButtons";let _=(0,x.R)((e,t)=>{let{rating:n,setRating:i,size:r="sm"}=e;return(0,a.jsxs)(m.e,{size:r,ref:t,"data-rating-buttons":!0,children:[(0,a.jsx)(y.Tz,{label:(0,a.jsx)(w.x6,{id:"kR82DG"}),placement:"top",children:(0,a.jsx)(f.K,{"aria-label":"thumbs down",color:"poor"===n?"red.600":void 0,borderWidth:"1px",borderColor:"poor"===n?"red.600":"transparent",bg:"poor"===n?"red.100":void 0,_hover:{bg:"poor"===n?"red.200":"red.100"},icon:(0,a.jsx)(v.g,{icon:b.lS9}),onClick:e=>{e.stopPropagation(),i("poor")}})}),(0,a.jsx)(y.Tz,{label:(0,a.jsx)(w.x6,{id:"y1GvbS"}),placement:"top",children:(0,a.jsx)(f.K,{"aria-label":"thumbs up",color:"good"===n?"green.600":void 0,borderWidth:"1px",borderColor:"good"===n?"green.600":"transparent",bg:"good"===n?"green.100":void 0,_hover:{bg:"good"===n?"green.200":"green.100"},icon:(0,a.jsx)(v.g,{icon:b.Wcv}),onClick:e=>{e.stopPropagation(),i("good")}})})]})});_.displayName="ImageRatingButtons"},65273:(e,t,n)=>{"use strict";n.d(t,{s:()=>u});var a=n(55729),i=n(98701),r=n(9118),o=n(30286),l=n(25839),s=n(42721),d=n(71595);let c={},u=e=>{let[t,n]=(0,a.useState)([]),[u,h]=(0,a.useState)("ready"),{generate:m}=(0,i.pt)("SuggestImageEdits",{onStart(){h("generating"),n([])},onContent(e){n(p(e))},onComplete(e){n(p(e)),h("done")},onError(e){console.error("Error generating suggestions",e),h("error")},timeout:2e4}),g=(0,l.GV)(o.H6),x=(0,r.xt)(g),f=(0,a.useCallback)(()=>{var t;let a=(0,s.gx)(),i=null==e||null==(t=e.src)?void 0:t.split(".").pop();if(!(null==e?void 0:e.src)||!a||!i)return void n([]);let r=c[e.src];if(r){n(r),h("done");return}let{promise:o}=m({variables:{imageUrl:e.src,originalPrompt:e.query,language:x.englishName},workspaceId:a});o.then(t=>{c[e.src]=p(t)}),o.catch(e=>{console.error("Error generating suggestions",e),n([]),h("error")})},[m,e,x]);return(0,d.Vg)(()=>{f()},[e.src,f],[e.src]),{suggestions:t,generateSuggestionsStatus:u}},p=e=>e.split("\n").filter(Boolean)},65280:(e,t,n)=>{"use strict";n.d(t,{T:()=>p}),n(6029);var a=n(9922),i=n.n(a),r=n(55729),o=n(74158),l=n(27002);n(64084),n(25839);var s=n(24573),d=n(43182);n(47665);var c=n(72492);let u=e=>{sessionStorage.setItem("cardsToCopy",JSON.stringify(e))},p=()=>{let e=(0,o.wA)(),t=(0,l.u)("copyCardsToDeck");return(0,r.useCallback)(n=>{if(!t)return;let a=n.map(e=>(0,c.RE)(i()(e.toJSON()))).map(e=>(0,d.iM)(e));e((0,s.q8)({isOpen:!0,onSelectDoc:()=>{u(a)}}))},[t,e])}},65674:(e,t,n)=>{"use strict";n.d(t,{f:()=>r});var a=n(63867),i=n(71839);let r=(e,t)=>new a.k_({key:new a.hs("".concat(e.name,"_markview")),props:{nodeViews:{[e.name]:(n,a,r,o)=>(0,i.g)(t,{as:"span"})({editor:e.editor,node:n,getPos:r,decorations:o,extension:{name:e.name,type:e.type.name,options:e.options,storage:e.storage},HTMLAttributes:{}})}}})},65950:(e,t,n)=>{"use strict";n.d(t,{N:()=>g});var a=n(6029),i=n(40452),r=n(26420),o=n(55729),l=n(25839),s=n(91792),d=n(55616),c=n(48767),u=n(36512),p=n(43634),h=n(11818),m=n(94920);let g=e=>{let{cardId:t,zoomIn:n,shouldFixHeight:g,hidden:f,...b}=e,{setNavItemPreviewRef:v}=(0,m.U)(),y=(0,l.GV)(p.SJ),w=(0,d.S)(y,!1),C=(0,s.rd)(),j=(0,h.NC)(y),A=(0,o.useRef)(null),k=x(A);return(0,o.useEffect)(()=>{A.current&&(g?A.current.style.height="".concat(A.current.offsetHeight,"px"):A.current.style.height="")},[g]),(0,a.jsxs)(i.s,{ref:A,className:"filmstrip-nav-item-wrapper",sx:c.o,css:{"--editor-font-size":"calc(var(--editor-width) / ".concat(u.s5,")"),"--thumbnail-min-height":"calc(var(--editor-width) * 0.4)"},justifyContent:"center",overflow:"hidden",pointerEvents:"none",bg:C?"gray.800":"gray.50",minH:"var(--thumbnail-min-height)",maxH:"calc(var(--editor-width) * 1.777)",w:"var(--editor-width)",...b,children:[k?(0,a.jsx)(r.a,{pos:"absolute",bottom:"-1px",insetStart:0,w:"100%",h:"25%",bg:j,zIndex:1,css:{maskImage:"linear-gradient(to bottom, transparent 0%, black 90%)"}}):null,(0,a.jsx)("div",{className:"ProseMirror",children:(0,a.jsx)(i.s,{className:"doc-content-wrapper",transform:n?"scale(2)":void 0,transformOrigin:n?"center left":void 0,direction:"column",align:"center",sx:w,inert:"true",bg:C?"gray.700":"white",opacity:f?.4:1,height:"100%",children:(0,a.jsx)("div",{style:{width:"100%"},ref:e=>{e&&v(t,e)}})})})]})};g.displayName="PreviewCard";let x=e=>{if(!e.current)return;let t=e.current.querySelector(".doc-content-wrapper");if(t)return t.offsetHeight>1.1*e.current.offsetHeight}},65978:(e,t,n)=>{"use strict";n.d(t,{p:()=>h,V:()=>p});var a=n(6029),i=n(26420),r=n(58959),o=n(40452),l=n(55729),s=n(84431),d=n(58297),c=n(5061);let u=(0,l.memo)(e=>{let{nodeName:t}=e,n=(0,c.fW)();return(0,a.jsx)(d.j,{contentEditable:!1,userSelect:"none",insetEnd:0,size:4,transform:"translate(calc(".concat("calc(".concat("gridLayout"===t||"gallery"===t?"-1 * var(--grid-padding)":"0px"," + var(--comment-padding) + 50%)")," * ").concat(n?"-1":"1","),calc(50%)) scale(1)"),position:"absolute",bgGradient:"linear(to-b, yellow.200, yellow.300)",border:"1px solid white",shadow:"0 0 0 1px rgb(0 0 0 / 10%)",className:"block-comments-circle",zIndex:"1"})});u.displayName="BlockCommentsCircle";let p="comments-wrapper",h=(0,l.forwardRef)(function(e,t){let{nodeName:n,isPopupOpen:l,onKeyDown:d,buttonRef:c,isMobile:h,hasCommentsOrReactions:m,children:g,isEmpty:x,...f}=e;return(0,a.jsxs)(i.a,{ref:t,contentEditable:!1,suppressContentEditableWarning:!0,pointerEvents:"none","data-comments-wrapper":!0,"data-is-popup-open":l,className:p,alignSelf:"start",onKeyDown:d,"data-print-hidden":!0,children:[!x&&!h&&(0,a.jsx)(u,{nodeName:n}),(0,a.jsx)(r.z,{contentEditable:!1,suppressContentEditableWarning:!0,...h?m?{pt:4}:{}:{position:"absolute",ms:"100%",top:0,height:"100%",align:"flex-start"},className:"controls-wrapper controls-wrapper__".concat(n),children:(0,a.jsx)(o.s,{direction:"row",ref:c,contentEditable:!1,suppressContentEditableWarning:!0,transitionProperty:"common",transitionDuration:"fast",zIndex:l?s.$.commentsStackOpen:s.$.commentsStack,"data-controls-toggle-button":!0,ms:[0,"-17px"],...f,children:g})})]})})},66082:(e,t,n)=>{"use strict";n.d(t,{gj:()=>z,wq:()=>E,G4:()=>S,fZ:()=>D,Up:()=>R,O8:()=>I,yp:()=>C,AS:()=>k,F0:()=>v,CY:()=>y,Ro:()=>w,er:()=>M,lI:()=>j});var a=n(99492),i=n(77650),r=n(37243),o=n(63867),l=n(41427),s=n(5061),d=n(15607),c=n(38934),u=n(97255);let p=["paragraph","heading","title","drawing","diagram","image","contributors","mediaPlaceholder","buttonGroup","navbarLinks","gallery","chart","toggleSummary","smartDiagram"],h=["title","heading","paragraph","bullet","todo","numbered","image","contributors","diagram","mediaPlaceholder","buttonGroup","gallery","chart","smartDiagram"],m=["toggle"],g=new o.hs("horizontalAlign");class x{isRelevantNode(e){return h.includes(e.type.name)}isRelevantParentNode(e){return m.includes(e.type.name)}apply(e){if(!e.docChanged&&this.hasInitialized)return this;this.hasInitialized=!0;let t=[],n=(0,s.C)();return e.doc.descendants((e,a)=>{if(this.isRelevantParentNode(e)){let n=(0,l.KQ)(e);t.push(u.NZ.node(a,a+e.nodeSize,{},{dir:n})),"toggle"===e.type.name&&e.forEach((e,i,r)=>{if("toggleSummary"===e.type.name){let r=a+1+i;t.push(u.NZ.node(r,r+e.nodeSize,{},{dir:n}))}})}if(this.isRelevantNode(e)){let i=(0,l.KQ)(e);i?n=i:t.push(u.NZ.node(a,a+e.nodeSize,{},{dir:n}))}return!0}),this.decorations=u.zF.create(e.doc,t),this}constructor(e=u.zF.empty){this.hasInitialized=!1,this.decorations=e}}let f=()=>new o.k_({key:g,state:{init:()=>new x,apply:(e,t)=>t.apply(e)},props:{decorations(e){let t=g.getState(e);return null==t?void 0:t.decorations}}}),b=["left","right","center"],v=e=>b.find(t=>e.isActive({horizontalAlign:t})),y=e=>{let t=e.state.selection.$head.node().textContent;return(0,l.R_)(t)||(0,s.C)()},w=e=>t=>{let{dir:n,ctx:a}=t||{};return"menu"===a?null:e&&"center"!==e&&"ltr"!==n?n?"left"===e?"right":"left":null:e},C=(e,t)=>{let n=j(e,t);return{textAlign:e||void 0,alignItems:n||"var(--flex-align)","--flex-align":n}},j=(e,t)=>{if(e)return A(e,t||(0,s.C)())},A=(e,t)=>{if(e)return"rtl"===t?({left:"flex-end",center:"center",right:"flex-start"})[e]:({left:"flex-start",center:"center",right:"flex-end"})[e]},k=(e,t)=>{let n={"--descendant-align-self-left":"rtl"===t?"flex-end":"flex-start","--descendant-align-self-center":"center","--descendant-align-self-right":"rtl"===t?"flex-start":"flex-end"};return e?{"--descendant-align-self":A(e,t),...n}:n},S=e=>({"--descendant-align-self":e,"--descendant-align-self-left":e,"--descendant-align-self-center":e,"--descendant-align-self-right":e}),I=e=>e?{alignSelf:"var(".concat({left:"--descendant-align-self-left",center:"--descendant-align-self-center",right:"--descendant-align-self-right"}[e],", --descendant-align-self)")}:{alignSelf:"var(--descendant-align-self, self-start)"},E=r.YY.create({name:"horizontalAlign",priority:c.y.HorizontalAlign,addOptions:()=>({types:p,alignments:b,defaultAlignment:null}),addGlobalAttributes(){return[{types:this.options.types,attributes:{horizontalAlign:{default:this.options.defaultAlignment,keepOnSplit:!0,parseHTML:e=>e.style.textAlign||e.getAttribute("align")||this.options.defaultAlignment,renderHTML:e=>e.horizontalAlign?{style:"text-align: ".concat(e.horizontalAlign)}:{}}}}]},addCommands:()=>({toggleHorizontalAlign:e=>t=>{let{tr:n,dispatch:a,state:i,editor:r}=t;if(!a)return!0;let o=L(r,e)?null:e;return n.selection.ranges.forEach(e=>{let t=e.$from.pos,a=e.$to.pos;i.doc.nodesBetween(t,a,(e,t)=>{if("footnote"===e.type.name)return!1;p.includes(e.type.name)&&n.setNodeMarkup(t,void 0,{...e.attrs,horizontalAlign:o}).setMeta("annotationEvent",{type:"update-node-attrs",pos:t})})}),!0}}),addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.toggleHorizontalAlign("left"),"Mod-Shift-e":()=>this.editor.commands.toggleHorizontalAlign("center"),"Mod-Shift-r":()=>this.editor.commands.toggleHorizontalAlign("right"),Backspace:()=>{let{selection:e}=this.editor.state;if(!(e instanceof o.U3)||!e.empty)return!1;let t=e.$from.parent;return!!p.includes(t.type.name)&&!!t.isTextblock&&!(t.nodeSize>2)&&t.attrs.horizontalAlign!=this.options.defaultAlignment&&this.editor.commands.toggleHorizontalAlign(this.options.defaultAlignment)}}},addProseMirrorPlugins:()=>[f()]}),L=(e,t)=>{let n=b.filter(e=>e!==t);return e.isActive({horizontalAlign:t})&&!n.some(t=>e.isActive({horizontalAlign:t}))},R=e=>{var t;return null==(t=e.find(e=>e.spec.dir))?void 0:t.spec.dir},D=(e,t)=>{var n;if(!t)return(null==(n=e.find(e=>e.spec.dir))?void 0:n.spec.dir)||"auto"},M=(e,t,n)=>{var a;let i=g.getState(e);if(!i)return null;let r=null==(a=i.decorations.find(t,n,e=>e.dir))?void 0:a[0];return r?r.spec.dir:null},_=e=>!(0,d.iA)(e,"horizontalAlign"),z=[{key:"alignLeft",name:()=>i.Ru._({id:"VjjKVj"}),icon:a.ecg,checkActive:e=>L(e,"left"),checkDisabled:_,apply:e=>e.chain().toggleHorizontalAlign("left").run(),shortcut:"Mod+Shift+L",enabledForTables:!0,alignment:"left"},{key:"alignCenter",name:()=>i.Ru._({id:"95ckMP"}),icon:a._ur,checkActive:e=>L(e,"center"),checkDisabled:_,apply:e=>e.chain().toggleHorizontalAlign("center").run(),shortcut:"Mod+Shift+E",enabledForTables:!0,alignment:"center"},{key:"alignRight",name:()=>i.Ru._({id:"vTKw81"}),icon:a.jbh,checkActive:e=>L(e,"right"),checkDisabled:_,apply:e=>e.chain().toggleHorizontalAlign("right").run(),shortcut:"Mod+Shift+R",enabledForTables:!0,alignment:"right"}]},66380:(e,t,n)=>{"use strict";n.d(t,{V:()=>d});var a=n(27002),i=n(58809),r=n(34394),o=n(25839),l=n(1057),s=n(43634);let d=()=>{var e,t,n,d,c,u,p,h,m,g,x,f,b,v;let y=(0,o.GV)(i.Jo),w=(0,o.GV)(s.SJ),C=(0,r.R5)(null==y||null==(t=y.docGenerateInput)||null==(e=t.settings)?void 0:e.imageModel),j=(null==y||null==(d=y.docGenerateInput)||null==(n=d.settings)?void 0:n.imageProvider)||a.of.get("aiGeneratorDefaultImageProvider"),A=null==y||null==(u=y.docGenerateInput)||null==(c=u.settings)?void 0:c.imageStyle;!A&&"aiGenerated"===j&&w&&(A=(0,l.xI)(w));let k=(null==y||null==(h=y.docGenerateInput)||null==(p=h.settings)?void 0:p.artStylePreset)?String(null==y||null==(g=y.docGenerateInput)||null==(m=g.settings)?void 0:m.artStylePreset):void 0,S=(null==y||null==(f=y.docGenerateInput)||null==(x=f.settings)?void 0:x.artStylePrompt)?String(null==y||null==(v=y.docGenerateInput)||null==(b=v.settings)?void 0:b.artStylePrompt):void 0,I=a.of.get("visualsMenuEnabled"),E={};return I&&(E={artStylePrompt:S,artStylePreset:k}),{imageProvider:j,imageOptions:{model:C,stylePrompt:A,visualsMenuEnabled:I,...E},imageModel:C,imageStyle:A}}},66824:(e,t,n)=>{"use strict";n.d(t,{E:()=>o});var a=n(55729),i=n(25839),r=n(12354);let o=e=>{let t=(0,i.jL)(),n=(0,a.useCallback)(e=>{let{clipType:n}=e;n&&t((0,r.F8)({clipType:n}))},[t]),o=(0,a.useCallback)(n=>{let{id:a}=n;r.RR.emit("endClip",{id:a,confirm:!1}),t((0,r.uy)()),e.commands.resetImageClip()},[t,e]),l=(0,a.useCallback)(e=>{let{id:n}=e;r.RR.emit("endClip",{id:n,confirm:!1}),t((0,r.uy)())},[t]),s=(0,a.useCallback)(e=>{let{id:n}=e;r.RR.emit("endClip",{id:n,confirm:!0}),t((0,r.uy)())},[t]);return{cancelCrop:l,startCrop:(0,a.useCallback)(e=>{let{id:n,clipType:a}=e;t((0,r.Zu)({id:n,clipType:a})),r.RR.emit("startCrop",{id:n})},[t]),confirmCrop:s,resetCrop:o,setCropClipType:n}}},67200:(e,t,n)=>{"use strict";n.d(t,{he:()=>r,kz:()=>o});var a=n(60122);let i=e=>{let t=e.getMeta(a.pJ);return(null==t?void 0:t.isChangeOrigin)===!0},r=e=>i(e)&&!l(e),o=e=>!r(e),l=e=>{var t;return null==(t=e.getMeta(a.pJ))?void 0:t.isUndoRedoOperation}},67864:(e,t,n)=>{"use strict";n.d(t,{Q4:()=>h,Ti:()=>c,U5:()=>m,Vo:()=>p,cE:()=>d,ek:()=>f,es:()=>g,nh:()=>x,rV:()=>u});var a=n(60122),i=n(2009),r=n(37243),o=n(47665),l=n(53891),s=n(53885);let d=e=>(0,o.jg)(e)||(0,o.sw)(e)||(0,l.p8)(e),c=(e,t)=>!(0,o.jg)(e)&&!(0,o.sw)(e)&&d(t),u=e=>{if(d(e.parent))return{pos:e.pos,node:e.nodeAfter};for(let t=e.depth;t>0;t--){let n=e.node(t);if(d(e.node(t-1)))return{pos:t>0?e.before(t):0,node:n}}return null},p=e=>{let{pos:t,from:n,to:a,editor:i}=e,{state:l}=i,d=s.q.getState(l);if(!d)return null;let c=(0,r.eL)(i.state.doc.resolve(t),o.jg),u=d.getAnnotationsBetween(l,n,a),p=c?d.getAnnotationsBetween(l,c.pos,c.pos+c.node.nodeSize).filter(e=>!u.find(t=>t.id===e.id)):[];return{inBlock:u,inCard:p,origNodePos:t}},h=e=>{let{dropPos:t,dropNode:n,dragging:r,side:o,tr:l,view:d}=e,c=s.q.getState(d.state);if(!c)return[];let u=c.getAnnotationsBetween(d.state,t,t+n.nodeSize),p=r.inBlock,h="left"===o?r.origNodePos:t,m="left"===o?t:r.origNodePos,{doc:g,type:x,binding:f}=a.pJ.getState(d.state),b=l.mapping.map(t),v=(e,t)=>n=>{let{id:a,relativePos:r}=n,o=(0,i.bL)(g,x,r,f.mapping);return null==o?null:{id:a,newPos:b+(o-e)+t}},y=[...("left"===o?p:u).map(v(h,1)).filter(e=>!!e),...("left"===o?u:p).map(v(m,2)).filter(e=>!!e)],w=r.inCard.filter(e=>{let{id:t}=e;return!y.find(e=>e.id===t)}).map(e=>{let{id:t,pos:n}=e,a=l.mapping.map(n);return n===a?null:{newPos:a,id:t}}).filter(e=>!!e);return[...y,...w]},m=e=>{let{dropPos:t,dropNode:n,dragging:r,side:o,tr:l,view:d,leftContentSize:c}=e,u=s.q.getState(d.state);if(!u)return[];let p=u.getAnnotationsBetween(d.state,t,t+n.nodeSize),h=r.inBlock,m="left"===o?r.origNodePos:t,g="left"===o?t:r.origNodePos,{doc:x,type:f,binding:b}=a.pJ.getState(d.state),v=l.mapping.map(t),y=(e,t)=>n=>{let{id:a,relativePos:r}=n,o=(0,i.bL)(x,f,r,b.mapping);return null==o?null:{id:a,newPos:v+(o-e)+t}},w=[...("left"===o?h:p).map(y(m,2)).filter(e=>!!e),...("left"===o?p:h).map(y(g,4+c)).filter(e=>!!e)],C=r.inCard.filter(e=>{let{id:t}=e;return!w.find(e=>e.id===t)}).map(e=>{let{id:t,pos:n}=e,a=l.mapping.map(n);return n===a?null:{newPos:a,id:t}}).filter(e=>!!e);return[...w,...C]},g=e=>{let{contentPos:t,contentEnd:n,insertPos:r,editor:o}=e,l=s.q.getState(o.state);if(!l)return[];let{state:d}=o,c=l.getAnnotationsBetween(d,t,n),{doc:u,type:p,binding:h}=a.pJ.getState(o.view.state);return c.map(e=>{let{id:n,relativePos:a}=e,o=(0,i.bL)(u,p,a,h.mapping);return null==o?null:{id:n,newPos:r+(o-t)}}).filter(e=>!!e)},x=e=>{let t,{dropPos:n,dragging:r,cardWrapOffset:o,tr:l,view:d}=e;if(!s.q.getState(d.state))return[];let{doc:c,type:u,binding:p}=a.pJ.getState(d.state),h=l.mapping.map(n,-1),m=r.inBlock.map((t=r.origNodePos,e=>{let{id:n,relativePos:a}=e,r=(0,i.bL)(c,u,a,p.mapping);return null==r?null:{id:n,newPos:h+(r-t)+o}})).filter(e=>!!e),g=r.inCard.filter(e=>{let{id:t}=e;return!m.find(e=>e.id===t)}).map(e=>{let{id:t,pos:n}=e,a=l.mapping.map(n);return n===a?null:{newPos:a,id:t}}).filter(e=>!!e);return[...m,...g]},f=e=>{let{pos:t,tr:n,editor:a}=e,i=s.q.getState(a.view.state);if(!i)return[];let r=a.state.doc.resolve(t);return r.nodeAfter?i.getAnnotationsBetween(a.state,t,t+r.nodeAfter.nodeSize).map(e=>{let{id:a,pos:i}=e;return{id:a,newPos:i===t?n.mapping.map(i+1)-1:n.mapping.map(i)}}):[]}},68247:(e,t,n)=>{"use strict";n.d(t,{XA:()=>l,U6:()=>i,Dv:()=>r,N5:()=>o,dd:()=>s,U2:()=>d});var a=n(62452);let i="themed-heading",r="themed-heading-no-gradient",o={fontWeight:"var(--heading-font-weight)",fontFamily:"var(--heading-font)",color:"var(--heading-color)",background:"unset",backgroundClip:"unset",width:"fit-content",maxWidth:"100%",letterSpacing:"var(--letter-spacing-heading)",textTransform:"var(--heading-transform)"},l={...o,background:"var(--heading-gradient)",backgroundClip:"text",caretColor:"var(--heading-color)",color:"transparent","span.textColor":{textShadow:"0px 0.25px 0px var(--text-color), -0px -0.25px 0px var(--text-color)","@media print":{textShadow:"none"}}},s=e=>"linear-gradient"===(0,a.Lz)(e).type?{["*:where(.".concat(i,")")]:l,[".".concat(r)]:{[".".concat(i)]:o},"@media print":{[".".concat(i)]:o},[".".concat("is-pptx-exporting")]:{[".".concat(i)]:o}}:{[".".concat(i)]:o},d=e=>({[".".concat(i)]:o,"--heading-color":e})},68397:(e,t,n)=>{"use strict";n.d(t,{uR:()=>s,en:()=>c});var a=n(6029),i=n(55729),r=n(27578);let o=(e,t)=>{switch(t.type){case"addFeedback":{let n=e.feedback||[];if(n.find(e=>{let{id:n}=e;return n===t.payload.id}))return{...e,feedback:[...n]};return{...e,feedback:[...n,t.payload]}}case"clearFeedback":{let{feedback:t,...n}=e;return{...n}}case"removeFeedback":{let n=e.feedback||[];if(!t.payload.length)return{...e};return{...e,feedback:n.filter(e=>!t.payload.includes(e.id))}}case"reportActiveColumnIds":return{...e,activeColumns:t.payload?[...t.payload]:void 0};case"openContextMenu":return{...e,contextMenu:{isOpen:!0,position:t.payload.position}};case"closeContextMenu":return{...e,contextMenu:{isOpen:!1,position:{x:-1e3,y:-1e3}}};case"setGridFunctions":return{...e,gridFunctions:t.payload};default:(0,r.xb)(t)}return e},l={_inContext:!1},s=(0,i.createContext)({state:l,dispatch:()=>{}}),d=e=>{let{children:t}=e,[n,r]=(0,i.useReducer)(o,{...l,_inContext:!0});return(0,a.jsx)(s.Provider,{value:{state:n,dispatch:r},children:t})},c=e=>t=>(0,a.jsx)(d,{children:(0,a.jsx)(e,{...t})})},69837:(e,t,n)=>{"use strict";n.d(t,{R:()=>S});var a=n(6029),i=n(53996),r=n(26420),o=n(21938),l=n(51684),s=n(48621),d=n(48342),c=n(77650),u=n(55729),p=n(27002),h=n(87996),m=n(25839),g=n(14122),x=n(89703),f=n(43634),b=n(29608),v=n(40452),y=n(67097),w=n(62171),C=n(50861),j=n(88889);let A=e=>{let{image:t}=e;if(t.src&&(0,C.Xs)(t))return(0,a.jsx)(j.h,{image:t,src:t.src});let{tempUrl:n,meta:i,src:r}=t||{},o=r&&(0,y.Ub)(r,y.p7,i),l=(0,y.QV)(o,o?void 0:n),s=(0,w.w3)(t);return(0,a.jsx)(v.s,{sx:{backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundImage:l,backgroundPosition:s,width:"100%",aspectRatio:"1/1",objectFit:"contain",transitionProperty:"border-radius",transitionDuration:"normal",borderRadius:"calc(var(--box-border-radius) / 2)"}})};var k=n(62695);let S=e=>{let{image:t,iconSize:n,boxProps:u,number:p,selectCell:h,placeholderIfEmpty:m,isNumbered:x,textAlign:f,fontWeight:v,color:y="currentColor"}=e,{hasIcon:w,handleChangeIcon:C,isEditable:j}=I({image:t,selectCell:h}),k=m&&!w,S=x&&!w;return(0,a.jsx)(d.Tz,{placement:"top",label:w?c.Ru._({id:"yBP2Ki"}):c.Ru._({id:"zFIUaq"}),isDisabled:!j||S,children:(0,a.jsxs)(i.o,{className:(0,o.cx)("image"),h:"calc(1em * var(--line-height-heading))",w:"1em",fontSize:"".concat(n,"em"),fontWeight:v,textAlign:f,role:"group",pos:"relative","data-smart-layout-image-drop-target":"true",onClick:j&&!S?C:void 0,css:(0,g.t)(y),...u,children:[w?(0,a.jsx)(A,{image:t}):p?"".concat(p):null,(j&&!S||k)&&!(0,b.nr)()&&(0,a.jsx)(r.a,{bg:"var(--placeholder-button-bg-color)",color:"var(--placeholder-button-text-color)",opacity:+!!k,_groupHover:{opacity:1},pos:"absolute",fontSize:"0.8em",p:"0.5em",borderRadius:"md",cursor:"pointer",children:(0,a.jsx)(s.g,{icon:l.cCs,fixedWidth:!0})})]})})},I=e=>{let{image:t,selectCell:n,disableEditing:a}=e,i=(0,m.GV)(f.nD)&&!a&&n,r=(null==t?void 0:t.src)||(null==t?void 0:t.tempUrl),{setMediaDrawerSourceKeyAction:o}=(0,k.B)();return{hasIcon:r,handleChangeIcon:(0,u.useCallback)(e=>{e.stopPropagation(),null==n||n();let a=p.of.get("pictographicIconsSearch")?h.un.key:h.fo.key;o((null==t?void 0:t.source)||a,!0),setTimeout(()=>{(0,x.G)(!1)},30)},[n,o,null==t?void 0:t.source]),isEditable:i}}},70015:(e,t,n)=>{"use strict";n.d(t,{d:()=>l});var a=n(6029),i=n(99492),r=n(19564),o=n(83143);let l=e=>{let{editor:t,node:n,getPos:l,includeCut:s=!0,imageSrc:d}=e;return[...s?[{key:"cut",label:(0,a.jsx)(r.x6,{id:"cCd8Bs"}),icon:i.XGd,onClick:()=>{let e=l();t.commands.basicCut({from:e,to:e+n.nodeSize})}}]:[],{key:"copy",label:(0,a.jsx)(r.x6,{id:"he3ygx"}),icon:i.jPR,onClick:()=>{let e=l();t.commands.copy({from:e,to:e+n.nodeSize})}},...d?[{key:"copy-image-address",label:(0,a.jsx)(r.x6,{id:"XfEsUn"}),icon:i.CQO,onClick:()=>{navigator.clipboard.writeText(d)}},{key:"open-image-in-new-tab",label:(0,a.jsx)(r.x6,{id:"cOAVCo"}),icon:i.vMs,onClick:()=>{window.open(d,"_blank")}},{key:"download-image",label:(0,a.jsx)(r.x6,{id:"dhu12h"}),icon:i.cbP,onClick:()=>{(0,o.lE)(d)}}]:[]]}},70615:(e,t,n)=>{"use strict";n.d(t,{G:()=>u});var a=n(6029),i=n(49611),r=n(99492),o=n(48621),l=n(19564),s=n(55729),d=n(80180),c=n(74471);let u=e=>{let{editor:t,handleDelete:n,hasText:u=!1}=e,p=(0,s.useCallback)(()=>{t.chain().deleteSelectionAndSelectNear().run()},[t]);return u?(0,a.jsx)(i.$,{variant:"toolbar",onClick:n||p,color:"red.500",onMouseDown:d.Fw,size:"md",leftIcon:(0,a.jsx)(o.g,{icon:r.yLS}),children:(0,a.jsx)(l.x6,{id:"cnGeoo"})}):(0,a.jsx)(c.I,{label:(0,a.jsx)(l.x6,{id:"cnGeoo"}),icon:r.yLS,onClick:n||p,testId:"delete-node-button",color:"red.500"})}},70703:(e,t,n)=>{"use strict";n.d(t,{b:()=>l});var a=n(63867),i=n(5061),r=n(29608),o=n(67864);let l=(e,t,n,r)=>{let{view:l,state:d}=e;if(!t.dataTransfer||!r&&!(r=e.view.domAtPos(n).node))return;let{previewElement:c,xOffset:u,yOffset:p}=s(r,n,e);t.dataTransfer.clearData(),t.dataTransfer.effectAllowed="move",t.dataTransfer.setData("text/html",r.innerHTML),t.dataTransfer.setData("text/plain",r.textContent||"");let{width:h}=c.getBoundingClientRect(),m=(0,i.ix)()?h-u:u;t.dataTransfer.setDragImage(c,m,p);let g=a.nh.create(d.doc,n),x=g.content();l.dispatch(l.state.tr.setSelection(g)),l.dragging={slice:x,move:!0};let f=(0,o.Vo)({pos:n,editor:e,from:g.from,to:g.to});f&&requestAnimationFrame(()=>{var e;null!=(e=l.dragging)&&e.annotations||null!==l.dragging&&"object"==typeof l.dragging&&(l.dragging.annotations=f)})},s=(e,t,n)=>{let a=(()=>{let a=e.querySelector("[data-drag-preview]");return a&&n.view.posAtDOM(a,0)===t?a:e})(),{contentReference:i,scalePreview:o}=a.dataset,l=0,s=0;if((0,r.H8)()&&i){let[e,t]=i.split(",").map(parseFloat);isNaN(e)||isNaN(t)||(l=e,s=t)}if(d(),o){var c;let e=null!=(c=a.parentElement)?c:document.body;(a=a.cloneNode(!0)).dataset.isPreviewElement="1",a.style.position="absolute",a.style.bottom="-100vh",a.style.left="-100vw",e.appendChild(a);let{width:t,height:n}=a.getBoundingClientRect();(t>n?t:n)>250&&(a.style.maxWidth="".concat(250,"px"),a.style.maxHeight="".concat(250,"px"),a.style.aspectRatio="".concat(t,"/").concat(n)),document.addEventListener("drop",d,{once:!0}),document.addEventListener("dragend",d,{once:!0}),document.addEventListener("mouseup",d,{once:!0})}return{previewElement:a,xOffset:l,yOffset:s}},d=()=>{for(let t of document.querySelectorAll("[data-is-preview-element]")){var e;null==(e=t.parentNode)||e.removeChild(t)}}},70815:(e,t,n)=>{"use strict";n.d(t,{DZ:()=>f,Bq:()=>x});var a=n(82318),i=n(41896),r=n(36811),o=n(46957),l=n(6029),s=n(21938),d=n(77650),c=n(68247),u=n(54765),p=n(87140),h=n(66082);let m=e=>{let{node:t,decorations:n}=e,{level:a,horizontalAlign:r,placeholder:o}=t.attrs,m=(0,p.h)(n),g=o||(m?d.Ru._({id:"gLDJuJ"}):d.Ru._({id:"1nLERW",values:{level:a}}));return(0,l.jsx)(u.u,{...e,style:{display:"flex",flexDirection:"column",...(0,h.yp)(r)},children:(0,l.jsx)(i.$p,{dir:(0,h.fZ)(n),level:a,"data-placeholder":g,className:(0,s.cx)("heading",c.U6),style:{minWidth:"min(100%, 10em)",...(0,h.O8)(r)}})})},g=[1,2,3,4],x=Math.max(...g),f=a.D.extend({selectable:!1,group:"block cardNotesBlock",addAttributes:()=>({level:{default:1,rendered:!1}}),addNodeView:()=>(0,i.gu)(m,{update:o.z0}),addInputRules(){return this.options.levels.map(e=>(0,r.tC)({find:new RegExp("^(#{1,".concat(e,"})\\s$")),type:this.type,getAttributes:{level:e}},[this.editor.state.schema.nodes.bullet,this.editor.state.schema.nodes.numbered,this.editor.state.schema.nodes.todo]))}}).configure({levels:g})},70965:(e,t,n)=>{"use strict";n.d(t,{H:()=>r,O:()=>i});var a=n(58495);let i=(0,a.d_)("abcdefghijklmnopqrstuvwxyz0123456789",8);function r(){return"chat-".concat((0,a.Ak)())}},71029:(e,t,n)=>{"use strict";n.d(t,{I:()=>a});let a=e=>{var t;let{mutation:n}=e;return!!("attributes"===n.type&&(null==(t=n.attributeName)?void 0:t.startsWith("data-")))}},71093:(e,t,n)=>{"use strict";n.d(t,{zA:()=>H.z,Kc:()=>H.K,_M:()=>O,Gx:()=>T,$B:()=>U,RL:()=>W});var a=n(6029),i=n(81150),r=n(15071),o=n(40452),l=n(58959),s=n(16936),d=n(26420),c=n(77650),u=n(77850),p=n(4014),h=n(76560),m=n.n(h),g=n(16419),x=n.n(g),f=n(55729),b=n(3912),v=n(28615),y=n(80180),w=n(29608);let C={type:"spring",duration:.5,bounce:0},j=(0,w.Xb)()?"0.75rem":"2.5rem";var A=n(72104),k=n(12514),S=n(70315),I=n(74158),E=n(4007),L=n(25839),R=n(7756),D=n(8944);let M=()=>{let e=(0,L.GV)(D.C),{inPreviewContext:t}=(0,R.$E)();return e&&!t};var _=n(71595);let z=(0,u.P)(d.a),T=e=>{let{children:t,isZoomed:n,exitZoom:i,editor:r}=e,l=(0,I.wA)(),u=M();(0,f.useEffect)(()=>{if(!u)return b.WC.on("keydown","ZOOMABLE_OVERLAY",e=>n&&["ArrowDown","ArrowUp"].includes(e.key)?(e.preventDefault(),!0):!!((0,S.v_)("Esc")(e)||(0,S.v_)("Enter")(e))&&!!n&&(i(),e.preventDefault(),e.stopPropagation(),!0))},[i,n,u]),(0,f.useEffect)(()=>{u||l((0,E.WI)({id:"zoomableOverlay",isOpen:n}))},[l,n,u]);let p=(0,f.useRef)(null);return((0,_.Vg)(()=>{if(r.isEditable)if(n){var e;null==(e=p.current)||e.focus()}else r.commands.focus()},[r,n],[n],!1),u)?null:(0,a.jsx)(k.Z,{children:n&&(0,a.jsxs)(d.a,{position:"fixed",inset:0,padding:j,zIndex:"modal",userSelect:"none",onClick:e=>{!(0,w.mG)()&&(e.target.closest(".image")||e.target.closest("[data-carousel-filmstrip]")||i())},onMouseDown:y.Fw,"data-in-editor-focus":!0,"data-testid":"zoomable-overlay",children:[(0,a.jsx)(z,{position:"absolute",inset:0,initial:{opacity:0},animate:{opacity:(0,w.Xb)()?.9:.86},transition:C,backgroundColor:"black"},"shade"),(0,a.jsx)(d.a,{position:"absolute",right:2,top:2,zIndex:"docked",contentEditable:!1,suppressContentEditableWarning:!0,children:(0,a.jsx)(s.K,{"aria-label":c.Ru._({id:"8qZ5De"}),colorScheme:"whiteAlpha",color:"whiteAlpha.800",size:"md",onClick:i,onMouseDown:y.Fw,icon:(0,a.jsx)(A.U,{}),variant:"ghost",className:"exit-button",ref:p})}),(0,a.jsx)(o.s,{position:"relative",zIndex:"1",h:"100%",w:"100%",pt:"2.8rem",align:"center",justify:"center",direction:"column",css:{"--overlay-maxH":"calc(100vh - 2 * ".concat(j,")"),"--overlay-maxW":"calc(100vw - 2 * ".concat(j,")"),"--media-maxH":"var(--overlay-maxH)","--media-maxW":"var(--overlay-maxW)"},children:t})]})})},N=(0,u.P)(o.s),P="80px",O=e=>{let{children:t,zoomedId:n,isZoomComplete:u,setZoomedId:h,isZoomed:g,exitZoom:w,editor:A}=e,k=m()(t,e=>e.id===n),S=t[k],I=(0,f.useRef)(null),E=(0,f.useCallback)(()=>{h((t[k+1]||t[0]).id)},[k,t,h]),L=(0,f.useCallback)(()=>{h((t[k-1]||x()(t)).id)},[k,t,h]);return((0,f.useEffect)(()=>{if(g&&!(t.length<2))return b.WC.on("keydown","ZOOMABLE_OVERLAY",e=>{switch(e.key){case"ArrowLeft":return L(),!0;case"ArrowRight":return E(),!0;default:return!1}})},[w,g,h,t,k,E,L]),(0,f.useEffect)(()=>{if(I.current&&u){let e=I.current.querySelector('[data-thumb-id="'.concat(n,'"]'));null==e||e.scrollIntoView({inline:"center",behavior:"smooth"})}},[n,u]),v.D1)?null:(0,a.jsxs)(T,{isZoomed:g,exitZoom:w,editor:A,children:[(0,a.jsx)(o.s,{flex:1,w:"100%",justify:"center",align:"center","data-testid":"zoomable-carousel-expanded",pos:"relative",children:(0,a.jsx)(p.N,{children:S&&(0,a.jsx)(N,{css:{"--media-maxH":"calc(var(--overlay-maxH) - ".concat(P," - ").concat(j,")")},initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},position:"absolute",transition:C,w:"100%",h:"100%",children:S.full},S.id)})}),t.length>1&&(0,a.jsx)(l.z,{w:"100vw",mt:j,px:j,gap:0,"data-carousel-filmstrip":!0,children:(0,a.jsxs)(o.s,{overflowX:"auto",width:"100%",justify:"center",align:"stretch",overflow:"hidden",children:[(0,a.jsx)(s.K,{icon:(0,a.jsx)(i.Y,{boxSize:"24px"}),"aria-label":c.Ru._({id:"MHk+7g"}),colorScheme:"whiteAlpha",variant:"ghost",size:"md",color:"whiteAlpha.900",borderColor:"whiteAlpha.200",borderWidth:"2px",borderStyle:"solid",onClick:L,_hover:{bg:"whiteAlpha.200",borderColor:"whiteAlpha.400"},h:"auto",mr:2}),(0,a.jsx)(l.z,{spacing:1,onClick:y.dG,"data-testid":"zoomable-carousel-thumbnails",ref:I,overflow:"scroll",sx:{"::-webkit-scrollbar":{display:"none"}},children:t.map(e=>{let t=e.id===n;return(0,a.jsx)(d.a,{border:t?"2px solid white":"2px solid transparent",boxSizing:"content-box",borderRadius:"md",overflow:"hidden",onClick:()=>h(e.id),transitionProperty:"border",transitionDuration:"normal",h:P,css:{"--media-maxH":P,"--media-maxW":"200px",flexShrink:0},"data-thumb-id":e.id,cursor:"pointer",padding:"2px",_hover:{borderColor:!t&&"whiteAlpha.500"},children:(0,a.jsx)(d.a,{w:"100%",h:"100%",borderRadius:"sm",overflow:"hidden",children:e.thumbnail})},e.id)})}),(0,a.jsx)(s.K,{icon:(0,a.jsx)(r.v,{boxSize:"24px"}),"aria-label":c.Ru._({id:"EatZYJ"}),colorScheme:"whiteAlpha",variant:"ghost",size:"md",color:"whiteAlpha.900",borderColor:"whiteAlpha.200",borderWidth:"2px",borderStyle:"solid",onClick:E,_hover:{bg:"whiteAlpha.200",borderColor:"whiteAlpha.400"},h:"auto",ml:2})]})})]})};var H=n(73737),F=n(43634);let B=e=>t=>(0,F.dK)(t)===e,V=e=>t=>{let n=(0,F.dK)(t);return n&&e.includes(n)?n:null},W=e=>{let t=(0,I.wA)(),n=(0,L.GV)(B(e)),a=(0,f.useCallback)(n=>{t((0,F.a)({nodeId:n?e:null}))},[t,e]),i=(0,f.useCallback)(()=>a(!0),[a]),r=(0,f.useCallback)(()=>a(!1),[a]);return{isZoomed:n,setIsZoomed:a,enterZoom:i,exitZoom:r}},U=e=>{let t=(0,I.wA)(),n=(0,L.GV)(V(e)),a=!!n,i=(0,f.useCallback)(e=>{t((0,F.a)({nodeId:e}))},[t]),r=(0,f.useCallback)(()=>i(null),[i]),[o,l]=(0,f.useState)(a);return(0,f.useEffect)(()=>{let e;return a?e=window.setTimeout(()=>{l(!0)},1e3*C.duration):l(!1),()=>clearTimeout(e)},[a]),{isZoomed:a,isZoomComplete:o,zoomedId:n,setZoomedId:i,exitZoom:r}}},71514:(e,t,n)=>{"use strict";n.d(t,{q:()=>g});var a=n(6029),i=n(26420),r=n(55729),o=n(94920),l=n(25839),s=n(56760),d=n(33201);let c=e=>{let{renderers:t}=e,{state:{navItemPreviewRefMap:n}}=(0,o.U)();return(0,a.jsx)(a.Fragment,{children:Object.entries(t).map(e=>{let[t,a]=e,i=a.props.node;if("document"===i.type.name)return null;let r=(0,d.jg)(i)?n[i.attrs.id]:null;return s.createPortal(a.reactElement,r||a.element,t)})})};var u=n(48767),p=n(43634);let h=r.memo(e=>{let{initialContent:t,onCreate:n,theme:i}=e,[o,s]=(0,r.useState)(!1),d=(0,l.GV)(p.SJ);return((0,r.useEffect)(()=>{requestAnimationFrame(()=>{s(!0)})},[]),o)?(0,a.jsx)(u.S,{theme:i||d,content:t,isThumbnail:!0,portalComponent:c,onCreate:n}):null});function m(e){let{initialContent:t,children:n,onCreate:r,theme:l}=e,{setEditor:s}=(0,o.U)();return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.a,{position:"absolute",left:"-9999px",top:"-9999px",children:(0,a.jsx)(h,{initialContent:t,theme:l,onCreate:e=>{let{editor:t}=e;s(t),null==r||r(t)}})}),n]})}function g(e){let{initialContent:t,children:n,onCreate:i,theme:r}=e;return(0,a.jsx)(o.h,{children:(0,a.jsx)(m,{initialContent:t,theme:r,onCreate:i,children:n})})}h.displayName="PreviewCardGroupEditor"},71737:(e,t,n)=>{"use strict";n.d(t,{I5:()=>u,NO:()=>p,PD:()=>c,eh:()=>d,ni:()=>l,o_:()=>h});var a=n(63867),i=n(17275),r=n(92397),o=n(47665);let l=(e,t)=>{var n;let a=e.state.doc.nodeAt(t);if(!a||(null==(n=a.lastChild)?void 0:n.type.name)==="cardNotes")return;let r=t+a.nodeSize-1,l={type:"cardNotes",content:[{type:"paragraph"}]};if(!(a.firstChild&&(0,o.sw)(a.firstChild)))return void e.chain().command(n=>{let{tr:a}=n;(0,i.c)(e,a,t,"blank");let o=a.mapping.map(r);return a.insert(o,e.schema.nodeFromJSON(l)),!0}).noUndo().run();e.chain().insertContentAt({from:r,to:r},{type:"cardNotes",content:[{type:"paragraph"}]},{updateSelection:!1}).noUndo().run()},s=e=>"cardNotes"===e.type.name,d=e=>null!==e.lastChild&&s(e.lastChild),c=e=>{let t=null;return e.nodeAfter.descendants((n,a)=>!s(n)||(t={node:n,pos:a+e.pos+1},!1)),t},u=(e,t)=>{let n=(0,r.hT)(e.state.doc,t);if(!n||!n.pos)return!1;let i=e.state.doc.resolve(n.pos).pos,o=i+n.node.nodeSize,{selection:l}=e.state,s=l instanceof a.U3?l.to<o:l.to<=o;return l.from>=i&&s},p=e=>"cardNotes"==e.schema.topNodeType.name,h=e=>{if(0===e.childCount)return!0;let t=!1;return e.content.nodesBetween(0,e.content.size,e=>!e.isAtom||!!e.isText||(t=!0,!1)),0===e.textContent.trim().length&&!t}},71839:(e,t,n)=>{"use strict";n.d(t,{L:()=>c,g:()=>u});var a=n(6029),i=n(37243),r=n(94289);n(55729);var o=n(29608),l=n(70703),s=n(23624),d=n(4097);class c extends i.Yv{stopEvent(e){return"contextmenu"!==e.type&&i.Yv.prototype.stopEvent.call(this,e)}updateAttributes(e){this.editor.commands.command(t=>{let{tr:n}=t,a=this.getPos();if(void 0===a)return;let i={type:"move",insertPos:a,insertPosRaw:a,pos:a,end:a+this.node.content.size+1};try{n.setNodeMarkup(a,void 0,{...this.node.attrs,...e}).setMeta("annotationEvent",i)}catch(e){console.error("(caught) [ReactNodeView updateAttributes]: setNodeMarkup",e)}return!0})}mount(){var e=this;let t={editor:this.editor,node:this.node,decorations:this.decorations,selected:!1,extension:this.extension,getPos:()=>this.getPos(),updateAttributes:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.updateAttributes(t)},deleteNode:()=>this.deleteNode()};if(!this.component.displayName){let e;this.component.displayName=(e=this.extension.name).charAt(0).toUpperCase()+e.substring(1)}let n=e=>{let t=this.component,n=this.onDragStart.bind(this);return(0,a.jsx)(d.e.Provider,{value:{onDragStart:n,nodeViewContentRef:e=>{e&&this.contentDOMElement&&e.firstChild!==this.contentDOMElement&&e.appendChild(this.contentDOMElement)},node:this.node,editor:this.editor,getPos:this.getPos},children:(0,a.jsx)(t,{...e})})};n.displayName="ReactNodeView",this.contentDOMElement=this.node.isLeaf?null:document.createElement(this.node.isInline||this.node instanceof r.CU?"span":"div"),this.contentDOMElement&&(this.contentDOMElement.style.whiteSpace="inherit",this.contentDOMElement.setAttribute("data-node-view-content-inner",this.node.type.name));let i=this.node.isInline?"span":"div";this.options.as&&(i=this.options.as);let{className:o=""}=this.options;this.renderer=new s.N(n,{editor:this.editor,props:t,as:i,className:"node-".concat(this.node.type.name," ").concat(o).trim(),updateWrapperEl:this.options.updateWrapperEl})}get dom(){var e;if(this.renderer.element.firstElementChild&&!(null==(e=this.renderer.element.firstElementChild)?void 0:e.hasAttribute("data-node-view-wrapper")))throw Error("Please use the NodeViewWrapper component for your node view.");return this.renderer.element}get contentDOM(){return this.node.isLeaf?null:this.contentDOMElement}update(e,t){let n=e=>{this.renderer.updateProps(e)};if(e.type!==this.node.type)return!1;if("function"==typeof this.options.update){let a=this.node,i=this.decorations;return this.node=e,this.decorations=t,this.options.update({oldNode:a,oldDecorations:i,newNode:e,newDecorations:t,updateProps:()=>n({node:e,decorations:t})})}return e===this.node&&this.decorations===t||(this.node=e,this.decorations=t,n({node:e,decorations:t}),!0)}selectNode(){this.renderer.updateProps({selected:!0})}deselectNode(){this.renderer.updateProps({selected:!1})}destroy(){this.renderer.destroy(),this.contentDOMElement=null}ignoreMutation(e){return!this.dom||!this.contentDOM||"function"==typeof this.options.ignoreMutation&&this.options.ignoreMutation({mutation:e})||this.defaultIgnoreMutation(e)}defaultIgnoreMutation(e){return!!(this.node.isLeaf||this.node.isAtom||"selection"===e.type&&e.target.closest("[data-comments-wrapper]"))||!("selection"===e.type||this.dom.contains(e.target)&&"childList"===e.type&&(0,o.OF)()&&this.editor.isFocused&&[...Array.from(e.addedNodes),...Array.from(e.removedNodes)].every(e=>e.isContentEditable))&&(this.contentDOM===e.target&&"attributes"===e.type||!this.contentDOM.contains(e.target))}onDragStart(e){let t=e.target,n=t.querySelector("[data-drag-handle]");if(n||(n=t.closest("[data-drag-handle]")),!this.dom||!n)return e.preventDefault(),!1;try{let t=this.editor.view.posAtDOM(n,0);if(!t||-1==t||!this.editor.state.doc.nodeAt(t))return;(0,l.b)(this.editor,e,t,n)}catch(e){console.warn("(caught) [ReactNodeViewRenderer] onDragStart error moving annotations",e)}}}function u(e,t){return n=>n.editor.contentComponent?new c(e,n,t):{}}},71877:(e,t,n)=>{"use strict";n.d(t,{w:()=>r});var a=n(91938),i=n(58929);let r=async e=>{let{imageUrl:t,workspaceId:n,abortController:r,width:o,height:l}=e,s="".concat(a.$.API_HOST,"/media/images/edit");return await (0,i.P)(s,{method:"POST",signal:null==r?void 0:r.signal,headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({url:t,operation:"remove-background",workspaceId:n,...o&&{width:o},...l&&{height:l}})},{parseResponse:async e=>(await e.json()).url,maxDuration:3e4})}},72055:(e,t,n)=>{"use strict";let a;n.d(t,{CH:()=>E,sV:()=>k,C1:()=>A,o6:()=>w,CO:()=>h,ju:()=>R});var i=n(63867),r=n(97255),o=n(62040),l=n(74937),s=n(80102);function d(e,t,n){let a=!(arguments.length>3)||void 0===arguments[3]||arguments[3];return(r,o)=>{let l=e.state,{to:s,from:d}=l.selection,{to:c,from:u}=r.selection;if(a&&c!==u)return!1;let p=t>0?c:u;if(n){let e=r.doc.nodeSize-2;if(t>0&&p<e||t<0&&p>0)return!1}return o&&(e.dispatch(l.tr.setSelection(i.U3.create(l.doc,t>0?s:d))),e.focus()),!0}}class c{destroy(){this.closeEditor(!1),this._mathRenderElt&&(this._mathRenderElt.remove(),delete this._mathRenderElt),this._mathSrcElt&&(this._mathSrcElt.remove(),delete this._mathSrcElt),this.dom.remove()}ensureFocus(){this._innerView&&this._outerView.hasFocus()&&this._innerView.focus()}update(e,t){if(!e.sameMarkup(this._node))return!1;if(this._node=e,this._innerView){let t=this._innerView.state,n=e.content.findDiffStart(t.doc.content);if(null!=n){let a=e.content.findDiffEnd(t.doc.content);if(a){let{a:i,b:r}=a,o=n-Math.min(i,r);o>0&&(i+=o,r+=o),this._innerView.dispatch(t.tr.replace(n,r,e.slice(n,i)).setMeta("fromOutside",!0))}}}return this._isEditing||this.renderMath(),!0}updateCursorPos(e){let t=this._getPos(),n=this._node.nodeSize;e.selection.from<t+n&&t<e.selection.to||(this.cursorSide=t<e.selection.from?"end":"start")}selectNode(){this._outerView.editable&&(this.dom.classList.add("ProseMirror-selectednode"),this._isEditing||this.openEditor())}deselectNode(){this.dom.classList.remove("ProseMirror-selectednode"),this._isEditing&&this.closeEditor()}stopEvent(e){return void 0!==this._innerView&&void 0!==e.target&&this._innerView.dom.contains(e.target)}ignoreMutation(){return!0}renderMath(){if(!this._mathRenderElt)return;let e=this._node.content.content,t="";if(e.length>0&&null!==e[0].textContent&&(t=e[0].textContent.trim()),t.length<1){for(this.dom.classList.add("empty-math");this._mathRenderElt.firstChild;)this._mathRenderElt.firstChild.remove();return}if(this.dom.classList.remove("empty-math"),!a){this._mathRenderElt.textContent=t;return}try{a.render(t,this._mathRenderElt,this._katexOptions),this._mathRenderElt.classList.remove("parse-error"),this.dom.setAttribute("title","")}catch(e){if(e instanceof Error)console.error(e),this._mathRenderElt.classList.add("parse-error"),this.dom.setAttribute("title",e.toString());else throw e}}dispatchInner(e){if(!this._innerView)return;let{state:t,transactions:n}=this._innerView.state.applyTransaction(e);if(this._innerView.updateState(t),!e.getMeta("fromOutside")){let e=this._outerView.state.tr,t=o.Lm.offset(this._getPos()+1);for(let a=0;a<n.length;a++){let i=n[a].steps;for(let n=0;n<i.length;n++){let a=i[n].map(t);if(!a)throw Error("step discarded!");e.step(a)}}e.docChanged&&this._outerView.dispatch(e)}}openEditor(){var e;this._innerView&&this.closeEditor(!1),this._innerView=new r.Lz(this._mathSrcElt,{state:i.$t.create({doc:this._node,plugins:[(0,l.w)({Tab:(e,t)=>(t&&t(e.tr.insertText("	")),!0),Backspace:(0,s.st)(s.ic,(e,t,n)=>!!e.selection.empty&&!(this._node.textContent.length>0)&&(this._outerView.dispatch(this._outerView.state.tr.insertText("")),this._outerView.focus(),!0)),"Ctrl-Backspace":(e,t,n)=>(this._outerView.dispatch(this._outerView.state.tr.insertText("")),this._outerView.focus(),!0),Enter:(0,s.st)(s.pC,d(this._outerView,1,!1)),"Ctrl-Enter":d(this._outerView,1,!1),ArrowLeft:d(this._outerView,-1,!0),ArrowRight:d(this._outerView,1,!0),ArrowUp:d(this._outerView,-1,!0),ArrowDown:d(this._outerView,1,!0),"Mod-z":this._options.undo,"Shift-Mod-z":this._options.redo})]}),dispatchTransaction:this.dispatchInner.bind(this)});let t=this._innerView.state;this._innerView.focus();let n=null==(e=this._mathPluginKey.getState(this._outerView.state))?void 0:e.prevCursorPos;null==n&&console.error("[prosemirror-math] Error:  Unable to fetch math plugin state from key.");let a=(null!=n?n:0)<=this._getPos()?0:this._node.nodeSize-2;this._innerView.dispatch(t.tr.setSelection(i.U3.create(t.doc,a))),this._isEditing=!0}closeEditor(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];this._innerView&&(this._innerView.destroy(),this._innerView=void 0),e&&this.renderMath(),this._isEditing=!1}constructor(e,t,i,r={},o,l){n.e(4638).then(n.bind(n,57258)).then(e=>{a=e.default,this.renderMath()}),this._node=e,this._outerView=t,this._getPos=i,this._onDestroy=l&&l.bind(this),this._mathPluginKey=o,this.cursorSide="start",this._isEditing=!1,this._options=r,this._katexOptions=Object.assign({globalGroup:!0,throwOnError:!1},r.katexOptions),this._tagName=r.tagName||this._node.type.name.replace("_","-"),this.dom=document.createElement(this._tagName),this.dom.classList.add("math-node"),this._mathRenderElt=document.createElement("span"),this._mathRenderElt.textContent="",this._mathRenderElt.classList.add("math-render"),this.dom.appendChild(this._mathRenderElt),this._mathSrcElt=document.createElement("span"),this._mathSrcElt.classList.add("math-src"),this.dom.appendChild(this._mathSrcElt),this.dom.addEventListener("click",()=>this.ensureFocus()),this.renderMath()}}let u=new i.hs("prosemirror-math");function p(e,t){return(n,a,i)=>{let r=u.getState(a.state);if(!r)throw Error("no math plugin!");let o=r.activeNodeViews,l=new c(n,a,i,{katexOptions:{displayMode:e,macros:r.macros},...t},u,()=>{o.splice(o.indexOf(l))});return o.push(l),l}}let h=e=>new i.k_({key:u,state:{init:(e,t)=>({macros:{},activeNodeViews:[],prevCursorPos:0}),apply:(e,t,n,a)=>({activeNodeViews:t.activeNodeViews,macros:t.macros,prevCursorPos:n.selection.from})},props:{nodeViews:{math_inline:p(!1,e),math_display:p(!0,e)}}});var m=n(94289);function g(e,t){return m.FK.from(t.text(e))}function x(e){var t;let n=e.querySelector("img.mwe-math-fallback-image-inline[alt]");return null!=(t=null==n?void 0:n.getAttribute("alt"))&&t}function f(e){var t;let n=e.querySelector("math[alttext]");return null!=(t=null==n?void 0:n.getAttribute("alttext"))&&t}function b(e){var t;let n=e.querySelector("math annotation[encoding='application/x-tex'");return null!=(t=null==n?void 0:n.textContent)&&t}function v(e){var t=e,n=[x,f,b];for(let e of n){let n=e(t);if(!1!==n)return n}return!1}let y=[{tag:"span",getAttrs:e=>!!e.classList.contains("mwe-math-element")&&null,getContent:(e,t)=>g(v(e)||"\\text{\\color{red}(paste error)}",t)}];[...y],()=>["math-select",0];let w=(e,t)=>{let{$from:n}=e.selection,a=n.nodeBefore;if(!a)return!1;if("math_inline"==a.type.name){let a=n.index(n.depth),r=e.doc.resolve(n.posAtIndex(a-1));return t&&t(e.tr.setSelection(new i.nh(r))),!0}return a.type.name,!1};var C=n(46829);let j=/\$(.+)\$/;function A(e,t,n){return new C.fV(e,(e,a,i,r)=>{let o=e.doc.resolve(i),l=o.index(),s=e.doc.resolve(r),d=n instanceof Function?n(a):n;if(!o.parent.canReplaceWith(l,s.index(),t))return null;let c=[t.create(d,t.schema.text(a[1]))];return a[0].endsWith(" ")&&" "!==e.doc.textBetween(r,r+1)&&c.push(t.schema.text(" ")),e.tr.replaceWith(i,r,c)})}function k(e,t,n){return new C.fV(e,(e,a,r,o)=>{let l=e.doc.resolve(r),s=n instanceof Function?n(a):n;if(!l.node(-1).canReplaceWith(l.index(-1),l.indexAfter(-1),t))return null;let d=e.tr.delete(r,o).setBlockType(r,r,t,s);return a[1]&&d.insertText(a[1],r,r),d.setSelection(i.nh.create(d.doc,d.mapping.map(l.pos-1)))})}(()=>{try{return RegExp("(?<!\\\\)\\$(.+)(?<!\\\\)\\$")}catch(e){return j}})();let S=e=>{let{from:t,to:n}=e.selection,a=e.selection.content().content,i=[];return a.descendants((e,n,a)=>"text"!=e.type.name&&(!e.type.name.startsWith("math_")||(i.push({start:Math.max(t+n-1,0),end:t+n+e.nodeSize-1}),!1))),r.zF.create(e.doc,i.map(e=>{let{start:t,end:n}=e;return r.NZ.node(t,n,{class:"math-select"})}))},I=new i.k_({state:{init:(e,t)=>S(t),apply:(e,t)=>e.selection&&e.selectionSet?S(e):t},props:{decorations:e=>I.getState(e)}});function E(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return function(n,a){let{$from:r}=n.selection,o=r.index();if(!r.parent.canReplaceWith(o,o,e))return!1;if(a){let o=e.create({},t?n.schema.text(t):null),l=n.tr.replaceSelectionWith(o);a(l=l.setSelection(i.nh.create(l.doc,r.pos)))}return!0}}class L{serializeFragment(e){let t,n="",a=!0,i=e.size;return e.nodesBetween(0,i,(e,r)=>{let o=this.serializeNode(e);if(null!==o)return n+=o,!1;if(e.isText){var l;n+=(null==(l=e.text)?void 0:l.slice(Math.max(0,r)-r,i-r))||"",a=!1}else e.isLeaf&&t?(n+=t,a=!1):!a&&e.isBlock&&(n+="\n\n",a=!0)},0),n}serializeSlice(e){return this.serializeFragment(e.content)}serializeNode(e){let t=this.nodes[e.type.name];return void 0!==t?t(e):null}constructor(e,t){this.nodes={...null==t?void 0:t.nodes,...e.nodes},this.marks={...null==t?void 0:t.marks,...e.marks}}}let R=new L({nodes:{math_inline:e=>"$".concat(e.textContent,"$"),math_display:e=>"\n\n$$\n".concat(e.textContent,"\n$$")}})},72492:(e,t,n)=>{"use strict";n.d(t,{RE:()=>i}),n(52445),n(17508),n(38822),n(22911),n(94536);let a=e=>{"card"===e.type&&e.attrs&&delete e.attrs.id},i=e=>{let t=e=>{var n;return null==(n=e.content)?void 0:n.map(e=>{if(!e.content)return e;let n={...e,attrs:{...e.attrs}};return a(n),n.content=t(n),n})};return a(e),Object.assign({},e,{content:t(e)})}},72688:(e,t,n)=>{"use strict";n.d(t,{QJ:()=>f,Jl:()=>x});var a=n(74698),i=n(37243),r=n(63867),o=n(62040),l=n(95889),s=n(38934),d=n(83817),c=n.n(d),u=n(43634),p=n(15607),h=n(33201);let m=e=>{let t=[],n={tree:{},parents:{},treeArray:[]};return e.doc.descendants((a,i)=>{if(!(0,h.jg)(a))return;let r=e.doc.resolve(i),o=a.attrs.id;t.push(o);let l=(0,p.TK)(r,h.jg).reverse().map(e=>{let{node:t}=e;return t.attrs.id}),s=[...l,o];s.reduce((e,t)=>(e[t]=e[t]||{},e[t]),n.tree),n.parents[o]=l,s.reduce((e,t)=>{let n=e.find(e=>e.id===t);return n?n.children:(e.push({id:o,children:[]}),e)},n.treeArray)}),{cardIds:t,cardIdMap:n}};class g{compute(e){let t=m(e);c()(this.value,t)||(this.hasChanges=!0);let n=t.cardIds.filter(Boolean),a=n.filter((e,t)=>n.includes(e,t+1));return this.duplicateCardIds=a.filter(e=>!this.duplicateCardIds.includes(e)),this.value=t,this}apply(e,t){return e.docChanged&&this.compute(t),this}processChanges(e){this.hasChanges&&this.value&&e((0,u.t0)(this.value)),this.hasChanges=!1}constructor(){this.hasChanges=!1,this.duplicateCardIds=[],this.value=null}}let x=new r.hs("cardIds"),f=i.YY.create({name:"cardIds",priority:s.y.CardIds,addOptions:()=>({enabled:!0}),addProseMirrorPlugins(){return this.options.enabled?[new r.k_({key:x,state:{init:()=>new g,apply:(e,t,n,a)=>t.apply(e,a)},appendTransaction:(e,t,n)=>{var i;let r=x.getState(n);if(!(null==r||null==(i=r.value)?void 0:i.cardIds))return null;if(e.some(e=>e.docChanged)&&r.duplicateCardIds.length&&!this.editor.isThumbnail){let t={duplicateIds:JSON.stringify(r.duplicateCardIds),transactions:JSON.stringify(b(e)),isThumbnail:this.editor.isThumbnail};null===l.zS||void 0===l.zS||l.zS.track(l.ng.DUPLICATE_CARD_IDS,{...t}),a.Cp("[generateCardIdMap] Duplicate cardIds detected. This is unexpected and will cause spotlight issues. Additional metadata:",{extra:t})}return null}})]:[]}}),b=e=>e.map(e=>{let t=e.steps.map(e=>{if(e instanceof o.Ln||e instanceof o.Wg){var t,n,a;let i=(null==(n=e.slice.toJSON())||null==(t=n.content)?void 0:t[0])||{},r={type:i.type,attrs:i.attrs,contentLength:null==(a=i.content)?void 0:a.length};return{name:e.constructor.name,from:e.from,to:e.to,sliceContentSimple:r}}return e instanceof o.q4?{name:e.constructor.name,pos:e.pos,attr:e.attr}:{name:e.constructor.name}}),n=Object.fromEntries(Object.entries(e.meta).map(e=>{let[t,n]=e;if("annotationEvent"===t){var a,i,r,o,l;return[t,{type:n.type,droppedBlockPos:n.droppedBlockPos,dragging:{inBlockLength:null==(i=n.dragging)||null==(a=i.inBlock)?void 0:a.length,inCardLength:null==(o=n.dragging)||null==(r=o.inCard)?void 0:r.length,origNodePos:null==(l=n.dragging)?void 0:l.origNodePos}}]}return"uiEvent"===t?[t,n]:[t,"object"==typeof n?"object":n]}));return{stepsData:t,docChanged:e.docChanged,selection:{from:e.selection.from,to:e.selection.to},selectionSet:e.selectionSet,metaData:n}})},73014:(e,t,n)=>{"use strict";n.d(t,{Lo:()=>o,V6:()=>l});var a=n(37243),i=n(94536);let r=new Set(["bullet","numbered","todo","title","heading","paragraph","image","blockquote","embed","video"]),o=(e,t)=>{if(r.has(e.type.name)){let n={type:"card",content:[e.toJSON()]},r=(0,i.C)().map(e=>(null==t?void 0:t.includes(e.name))?e instanceof a.CU?e.extend({renderHTML:()=>["span",0]}):e.extend({renderHTML:()=>""}):e);return(0,a.Zx)(n||{},r)}return""},l=(e,t)=>{if(r.has(e.type.name)){let n={type:"card",content:[e.toJSON()]},r=(0,i.C)().map(e=>(null==t?void 0:t.includes(e.name))?(e instanceof a.CU,e.extend({renderText:()=>""})):e);return(0,a.Df)(n||{},r)}return""}},73071:(e,t,n)=>{"use strict";n.d(t,{b:()=>s});var a=n(55765),i=n.n(a),r=n(55729);class o{subscribe(e,t){return this.listeners[e]=this.listeners[e]||[],this.listeners[e].push(t),()=>{try{if(!this.listeners[e])return;let n=this.listeners[e].indexOf(t);n>-1&&this.listeners[e].splice(n,1)}catch(e){}}}isRendered(e){return this.renderedMap[e]}onRendered(e){var t;this.renderedMap[e]=!0,null==(t=this.listeners[e])||t.forEach(e=>e())}onEditorUnload(e){this.renderedMap[e]=!1,this.listeners[e]=[]}constructor(){this.renderedMap={main:!1},this.listeners={}}}let l=i()(()=>new o),s=e=>{var t;let[n,a]=(0,r.useState)(void 0===e||null==(t=l().isRendered(e))||t);return(0,r.useEffect)(()=>{if(e)return l().subscribe(e,()=>{a(!0)})},[e]),n}},73737:(e,t,n)=>{"use strict";n.d(t,{K:()=>c,z:()=>u});var a=n(6029),i=n(26420);n(55729);var r=n(91938),o=n(25839),l=n(15607),s=n(43634),d=n(25600);let c=e=>{let{enterZoom:t,doubleClickNonZoomHandler:n,...l}=e,d=(0,o.GV)(s.nD),c=!d,u=d&&!n;return r.$.GAMMA_PUPPETEER_SERVICE?null:(0,a.jsx)(i.a,{inset:0,w:"100%",h:"100%",position:"absolute",zIndex:1,cursor:c?"zoom-in":"default",onDoubleClick:u?t:n,onClick:c?t:void 0,"data-testid":"zoom-click-capture","data-zoom-click-capture":!0,opacity:0,...l})},u=e=>{let{decorations:t,node:n,editor:r}=e,c=(0,d.DM)(t)||!(0,l.We)(r),u=(0,o.GV)(s.nD),{displayStyle:p}=n.attrs;return(0,a.jsx)(i.a,{position:"absolute",inset:0,zIndex:1,pointerEvents:u&&!c&&"inline"===p?"auto":"none",cursor:"default"})}},73813:(e,t,n)=>{"use strict";n.d(t,{D0:()=>i,Hj:()=>o,cw:()=>r,hu:()=>s,kb:()=>a,md:()=>l});let a=75,i="".concat(a,"px"),r=10,o="navbar-view-backdrop",l="navbar-view-content",s="data-navbar-closed-toggle"},73971:(e,t,n)=>{"use strict";n.d(t,{k:()=>u,x:()=>p});var a=n(45214),i=n(68247),r=n(17006),o=n(39659),l=n(90026);let s=e=>{var t;return{"div.textbox":{display:"flex",flexDirection:"column",alignItems:"var(--horizontal-align)",justifyContent:"var(--vertical-align)",textAlign:"var(--text-align)","--flex-align":"var(--horizontal-align)",height:"100%",...(0,i.dd)(e),fontSize:"".concat((null!=(t=e.config.fontSize)?t:1)*20,"px"),color:"var(--body-color)",".ProseMirror":{padding:"".concat(8,"px"),...d(e)}},foreignObject:{overflow:"visible","*":{wordWrap:"normal",whiteSpace:"pre-wrap"},"[data-autosize].textbox":{"> .text":{width:"max-content"}},"p.paragraph:empty::after":{content:'" "',whiteSpace:"pre",visibility:"hidden"},".textbox > .text":{padding:"".concat(8,"px"),width:"100%",alignItems:"var(--flex-align)",display:"block",...e.config.contentStyles,...c(e),".themed-heading":{position:"static"}}}}},d=e=>({lineHeight:1.4,letterSpacing:"var(--letter-spacing-body)",".block":{my:"1rem"},"> .first-block":{mt:"0rem"},"> .last-block":{mb:"0rem"},'.heading[level="1"], h1':(0,r.bh)("h1",e),'.heading[level="2"], h2':(0,r.bh)("h2",e),'.heading[level="3"], h3':(0,r.bh)("h3",e),'.heading[level="4"], h4':(0,r.bh)("h4",e),".block-heading":{mt:"1rem",mb:"1rem","&.first-block":{mt:"0rem"},"&.last-block":{mb:"0rem"}},...o.h.default,...l.H.default,...(0,r.tX)(e),"a.link":{color:"var(--text-color, var(--link-color))",cursor:"pointer",fontWeight:"bold",textDecoration:"underline","&:hover":{color:"var(--text-color, var(--link-color))"},"&:active":{color:"var(--text-color, var(--link-color))"}},code:{backgroundColor:"var(--accent-color-background-muted)",color:"var(--body-color)",...o.w}}),c=e=>({lineHeight:1.4,"> *":{my:"1rem","&:first-child":{mt:"0rem"},"&:last-child":{mb:"0rem"}},h1:(0,r.bh)("h1",e),h2:(0,r.bh)("h2",e),h3:(0,r.bh)("h3",e),h4:(0,r.bh)("h4",e),"h1, h2, h3, h4":{mt:"1rem",mb:"1rem",width:"100% !important"}}),u=e=>({"[data-shape=image]":{".tl-inner-div":{}},img:{'&[src^="blob:"]':{animation:"loading-pulse-animation 1.5s infinite"}},...{text:{fill:"var(--body-color)"},"[data-shape-type=geo]":{path:{...a.Re,fill:"var(--shape-bg-color-override, var(--shape-bg-image-svg) var(--shape-bg-color))",vectorEffect:"none",strokeWidth:"var(--stroke-width)"},"&.tl-shape-background":{strokeWidth:0},".textbox":{padding:"12px"}},"[data-shape-type=arrow]":{"g, path":{stroke:"var(--shape-border-color-override, var(--shape-border-color))",strokeWidth:"var(--stroke-width)"},".tl-arrow-label":{color:"var(--shape-border-color-override, var(--body-color)) !important"},text:{fill:"var(--shape-border-color-override, var(--body-color))"}},"[data-shape-type=line]":{path:{stroke:"var(--shape-border-color-override, var(--shape-border-color))",strokeWidth:"var(--stroke-width)"}},"[data-shape-type=image]":{"[data-image-upload-status]":{".tl-image-container":{backgroundImage:"var(--temp-url)",objectFit:"cover",backgroundSize:"cover"}}},...s(e)}}),p=(e,t)=>(t&&"none"===e&&(e="sm"),({none:0,sm:2,md:4,lg:6})[e])},74355:(e,t,n)=>{"use strict";n.d(t,{CD:()=>d,IN:()=>l,Wp:()=>s,rZ:()=>c});var a=n(58495),i=n(25839),r=n(81089),o=n(43634);let l=(e,t,n)=>{e&&t&&e.replacePageContent(t.shapes,t.bindings,n)},s=(e,t)=>{e.setSetting("isSnapping",t),setTimeout(()=>{(0,r.lN)(e,t?128:10)})},d=(e,t)=>{(0,i.KA)().dispatch((0,o.v5)(t?{drawingId:e}:{drawingId:null}))},c=()=>(0,a.Ak)(5)},74471:(e,t,n)=>{"use strict";n.d(t,{I:()=>d});var a=n(6029),i=n(49611),r=n(48621),o=n(48342);n(55729);var l=n(56288),s=n(80180);let d=e=>{let{label:t,shortcut:n,disabled:o=!1,color:l,isActive:d=!1,onClick:u,icon:p,iconRotation:h,testId:m,children:g,flipIcon:x,...f}=e,b=(0,a.jsx)(i.$,{isDisabled:o,color:l,variant:d?"activeToolbar":"toolbar",onClick:u,"data-testid":m,onMouseDown:s.Fw,size:"sm",...f,children:p?(0,a.jsx)(r.g,{icon:p,rotation:h,flip:x,fixedWidth:!0}):g||null});return t?(0,a.jsx)(c,{label:t,shortcut:n,children:b}):b},c=e=>{let{label:t,shortcut:n,children:i}=e;return(0,a.jsx)(o.Tz,{placement:"top",portalProps:{containerRef:(0,l.EC)()},label:t,shortcut:n,children:i})}},75748:(e,t,n)=>{"use strict";n.d(t,{r:()=>h});var a=n(6029),i=n(24302),r=n(26385),o=n(26420),l=n(48810),s=n(51684),d=n(48621),c=n(19564),u=n(55729);let p={padding:{sm:4,md:4,lg:6},fontSize:{sm:"sm",md:"md",lg:"lg"},iconSize:{sm:"lg",md:"2x",lg:"3x"},labelFontSize:{sm:"xs",md:"sm",lg:"md"},spacing:{sm:1,md:2,lg:3}},h=(0,u.memo)(e=>{let{description:t,heading:n,isConnected:u=!0,size:h="lg",...m}=e,g=(0,i.dU)("gray.50","whiteAlpha.100");if(u)return null;let{spacing:x,padding:f,iconSize:b,fontSize:v,labelFontSize:y}=p;return(0,a.jsxs)(r.B,{spacing:x[h],p:f[h],borderRadius:"lg",bg:g,textAlign:"center",alignItems:"center",...m,children:[(0,a.jsx)(o.a,{opacity:.5,children:(0,a.jsx)(d.g,{icon:s.seF,size:b[h]})}),(0,a.jsx)(l.E,{fontWeight:"600",fontSize:v[h],mt:2,children:n||(0,a.jsx)(c.x6,{id:"ysdDIA"})}),(0,a.jsx)(l.E,{color:"gray.500",fontSize:y[h],children:t})]})});h.displayName="OfflineInfoBox"},76083:(e,t,n)=>{"use strict";n.d(t,{E1:()=>a.E1,GO:()=>r.G,Jb:()=>i.J,Vo:()=>a.Vo,fS:()=>i.f,gT:()=>a.gT});var a=n(99389),i=n(55786),r=n(52055)},76478:(e,t,n)=>{var a={"./ar/messages":[26994,6994],"./bg/messages":[27850,7850],"./bs/messages":[55086,5086],"./cs/messages":[68277,8277],"./da/messages":[18606,8606],"./de/messages":[30650,650],"./el/messages":[2360,2360],"./en/messages":[28066],"./es/messages":[58979,8979],"./et/messages":[4688,4688],"./fa/messages":[92400,2400],"./fi/messages":[17096,7096],"./fr/messages":[79871,9871],"./he/messages":[33006,3006],"./hi/messages":[51186,1186],"./hr/messages":[9461,9461],"./hu/messages":[36126,6126],"./id/messages":[34324,4324],"./it/messages":[22308,2308],"./ja/messages":[13308,3308],"./kn/messages":[37332,7332],"./ko/messages":[51865,1865],"./lt/messages":[8391,8391],"./lv/messages":[32829,2829],"./nl/messages":[25977,5977],"./no/messages":[11166,1166],"./pl/messages":[43603,3603],"./pseudo-LOCALE/messages":[30810,810],"./pt-br/messages":[73466,3466],"./ro/messages":[61266,1266],"./ru/messages":[98272,8272],"./sl/messages":[73910,3910],"./sq/messages":[85903,5903],"./sr/messages":[71312,1312],"./sv/messages":[27012,7012],"./th/messages":[39051,9051],"./tl/messages":[84823,4823],"./tr/messages":[85481,5481],"./uk/messages":[58107,8107],"./ur/messages":[27070,7070],"./uz/messages":[37430,7430],"./vi/messages":[94136,4136],"./zh-cn/messages":[29819,9819],"./zh-tw/messages":[1099,1099]};function i(e){if(!n.o(a,e))return Promise.resolve().then(()=>{var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=a[e],i=t[0];return Promise.all(t.slice(1).map(n.e)).then(()=>n.t(i,23))}i.keys=()=>Object.keys(a),i.id=76478,e.exports=i},76565:(e,t,n)=>{"use strict";n.d(t,{a:()=>V});var a=n(6029),i=n(68917),r=n(27229),o=n(89122),l=n(78140),s=n(36999),d=n(49611),c=n(12514),u=n(41283),p=n(26420),h=n(83550),m=n(72470),g=n(77979),x=n(85595),f=n(58959),b=n(48810),v=n(29810),y=n(51684),w=n(99492),C=n(55597),j=n(48621),A=n(48342),k=n(19564),S=n(77650),I=n(55729),E=n(57963),L=n(82328),R=n(90184),D=n(26814),M=n(39892),_=n(49894),z=n(74003),T=n(95889),N=n(8098),P=n(84130),O=n(35292),H=n(10307),F=n(42350),B=n(65273);let V=e=>{let{attrs:t,editor:n,...p}=e,h=(0,I.useRef)(null),m=(0,D.tO)(void 0,"imageChat",T.VV.GAMMA_UPSELL_CALLOUT_AI_CREDITS_IMAGES),{isOpen:g,onClose:x,onToggle:f}=(0,r.j)();(0,o.j)({ref:h,handler:e=>{if(!g)return;let t=e.target;(null==t?void 0:t.closest("[data-image-chat-menu-trigger]"))||x()}});let b=(0,I.useRef)(null),v=(0,O.l)(t),{isInOfflineMode:y}=(0,L.u)(),{toggleBuddyChatPanel:w,isBuddyChatPanelOpen:E}=(0,H.n)(),R=(0,I.useCallback)(()=>{E||(w(),N.q.emit("hide",{}))},[E,w]),M=(0,I.useCallback)(function(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];m()&&(R(),e&&t?setTimeout(()=>{P.W.emit("sendMessage",{message:e})},200):setTimeout(()=>{P.W.emit("prefillMessage",{message:e||""})},200))},[m,R]),_=(0,I.useCallback)(e=>{M(e.message?e.message():e.label(),!e.openWithoutSendingMessage)},[M]),{suggestions:z,generateSuggestionsStatus:F}=(0,B.s)(t),V=(0,I.useMemo)(()=>[{label:()=>S.Ru._({id:"7kAwBx"}),key:"quick-actions",operations:W},{label:()=>S.Ru._({id:"nyQWMb"}),key:"suggested",operations:z.map(e=>({key:e,label:()=>e,creditCostType:"imageChat"})),loading:"generating"===F}],[z,F]);return v?(0,a.jsx)(A.L8,{isDark:!1,children:(0,a.jsxs)(l.W,{isLazy:!0,onClose:x,onOpen:f,isOpen:g,closeOnBlur:!1,initialFocusRef:b,children:[(0,a.jsx)(A.Tz,{label:(0,a.jsx)(k.x6,{id:"vKZEFh"}),placement:"top",shouldWrapChildren:!0,children:(0,a.jsxs)(s.I,{as:d.$,isActive:g,isDisabled:y,"data-image-chat-menu-trigger":!0,...p,children:[(0,a.jsx)(j.g,{icon:C.p7g,fixedWidth:!0}),(0,a.jsx)(i.D,{})]})}),(0,a.jsx)(c.Z,{children:(0,a.jsx)(u.c,{"data-card-ai-menu":!0,minWidth:"320px",width:"fit-content",maxWidth:"min(360px, 80vw)",fontFamily:"body",fontSize:"md",border:"none","data-image-chat-menu-trigger":!0,maxH:"60vh",display:"flex",flexDirection:"column",children:(0,a.jsx)(U,{handleMessage:M,handleOperation:_,onClose:x,firstItemRef:h,inputRef:b,isDisabled:y,pb:2,groupedOperations:V,selected:t})})})]})}):null},W=[{key:"chat",label:()=>S.Ru._({id:"LJNDI6"}),creditCostType:"imageChat",icon:y.Y$q,message:()=>"",openWithoutSendingMessage:!0},{key:"remove-bg",label:()=>S.Ru._({id:"ylbfBl"}),creditCostType:"removeBackground",icon:w.IP$,checkEnabled:F.d.removeBackground.checkEnabled},{key:"upscale",label:()=>S.Ru._({id:"OcutTC"}),creditCostType:"imageChat",icon:w.oZK,productFeature:"ai_models_plus",checkEnabled:F.d.upscale.checkEnabled},{key:"vectorize",label:()=>S.Ru._({id:"ZF+2pT"}),creditCostType:"imageChat",icon:w.nlc,productFeature:"ai_premium_models",checkEnabled:F.d.vectorize.checkEnabled},{key:"animate",label:()=>S.Ru._({id:"2qLe/y"}),creditCostType:"animateImage",icon:w.OxR,productFeature:"ai_premium_models",checkEnabled:F.d.animate.checkEnabled}],U=(0,I.memo)(e=>{let{handleMessage:t,handleOperation:n,onClose:i,firstItemRef:r,inputRef:o,isDisabled:l,showCreditCosts:s=!0,opacityFadeUpsell:d=!1,groupedOperations:c,selected:u,...y}=e,{openUpsellModal:w}=(0,z.I)(),A="-webkit-gradient(linear, left top, left bottom, from(rgba(0,0,0,1)), to(rgba(0,0,0,0)))";return(0,a.jsxs)(p.a,{px:.5,pt:.5,flex:1,overflowY:"auto",style:d?{WebkitMaskImage:A,maskImage:A}:void 0,...y,children:[(0,a.jsx)(h.r,{children:(0,a.jsxs)(m.M,{size:"sm",mb:2,children:[(0,a.jsx)(g.W,{fontSize:"sm",color:"deepocean.300",children:(0,a.jsx)(j.g,{icon:C.p7g})}),(0,a.jsx)(E._,{initialHeight:"32px",ref:o,paddingInlineStart:9,py:1.5,borderRadius:"xl",maxLength:300,isDisabled:l,onKeyDown:e=>{var n,a;if(!l){if("Enter"===e.key&&!e.shiftKey){e.preventDefault(),e.stopPropagation();let n=null==(a=o.current)?void 0:a.value;if(!n)return;t(n),i()}"ArrowDown"===e.key&&(null==(n=o.current)?void 0:n.value.length)===0&&(e.preventDefault(),e.stopPropagation(),r.current&&r.current.focus())}},placeholder:S.Ru._({id:"vKZEFh"})})]})}),c.map((e,t)=>{let o=e.operations.filter(e=>!e.checkEnabled||e.checkEnabled(u));return o&&0!==o.length?(0,a.jsx)(h.r,{title:e.label(),children:o.map((e,o)=>{var l;let d=!e.productFeature||(0,M.vT)(e.productFeature);return(0,a.jsx)(x.D,{icon:(0,a.jsx)(j.g,{icon:null!=(l=e.icon)?l:C._$C,fixedWidth:!0}),onClick:()=>{if(!d)return void w({segmentEvent:T.VV.GAMMA_UPSELL_CALLOUT_AI_CREDITS_IMAGE_CHAT});n(e),i()},ref:0===o&&0===t?r:null,children:(0,a.jsxs)(f.z,{children:[(0,a.jsx)(b.E,{children:e.label()}),(0,a.jsx)(v.h,{}),e.productFeature?(0,a.jsx)(_.Ch,{productFeature:e.productFeature,canUseFeature:d}):s&&(0,a.jsx)(R.G,{type:e.creditCostType,colorScheme:"blackAlpha",color:"blackAlpha.600",fontSize:"sm"})]})},e.key)})},e.key):null})]})});U.displayName="ChatDropdownMenuGroups"},76694:(e,t,n)=>{"use strict";n.d(t,{u:()=>r,z:()=>o});var a=n(55729),i=n(80180);let r="is-dragging-over",o=(e,t)=>{let n=(0,a.useCallback)(n=>{var a;(!t||t(n))&&(null==(a=e.current)||a.classList.add(r))},[e]),o=(0,a.useCallback)(()=>{var t;return null==(t=e.current)?void 0:t.classList.remove(r)},[e]);return{onDragOver:i.JO,onDragEnter:n,onDragLeave:o,onDrop:o}}},77249:(e,t,n)=>{"use strict";n.d(t,{A:()=>i,Z:()=>a});let a=(e,t)=>"".concat(e,"-").concat(JSON.stringify(t)),i=e=>{let[t,n]=e.split("-");return{key:t,options:JSON.parse(n)}}},77569:(e,t,n)=>{"use strict";n.d(t,{G:()=>r});var a=n(51684),i=n(77650);let r={label:()=>i.Ru._({id:"Mm6AFs"}),description:()=>i.Ru._({id:"oKMJNm"}),key:"video.custom",icon:a.qtl,keywords:["video","audio","podcast","embed"],iframeOptions:{allowPopups:!0},preferHtml:!0}},77639:(e,t,n)=>{"use strict";n.d(t,{Mi:()=>ei});var a=n(9329),i=n(97662);function r(){let e=(0,a._)(["\n  fragment DefaultThemeFontFields on ThemeFont {\n    id\n    name\n    url\n  }\n"]);return r=function(){return e},e}function o(){let e=(0,a._)(["\n  ","\n  fragment DefaultThemeFields on Theme {\n    id\n    workspaceId\n    name\n    headingFont\n    headingFontWeight\n    bodyFont\n    bodyFontWeight\n    accentColor\n    logoUrl\n    config\n    priority\n    previewUrl\n    archived\n    createdTime\n    updatedTime\n    fonts {\n      ... on ThemeFont {\n        ...DefaultThemeFontFields\n      }\n    }\n  }\n"]);return o=function(){return e},e}function l(){let e=(0,a._)(["\n  ","\n  mutation CreateTheme($input: CreateThemeInput!) {\n    createTheme(input: $input) {\n      ...DefaultThemeFields\n      docCount\n    }\n  }\n\n  mutation UpdateTheme($input: UpdateThemeInput!) {\n    updateTheme(input: $input) {\n      ...DefaultThemeFields\n      docCount\n    }\n  }\n\n  mutation MakeThemeStandard($id: ID!, $newId: ID) {\n    makeThemeStandard(id: $id, newId: $newId) {\n      ...DefaultThemeFields\n      docCount\n    }\n  }\n\n  mutation DuplicateTheme($id: ID!) {\n    duplicateTheme(id: $id) {\n      ...DefaultThemeFields\n    }\n  }\n\n  query GetTheme($id: ID) {\n    theme(id: $id) {\n      ...DefaultThemeFields\n      createdBy {\n        id\n        displayName\n        email\n        profileImageUrl\n      }\n    }\n  }\n\n  query GetThemeWithCount($id: ID) {\n    theme(id: $id) {\n      ...DefaultThemeFields\n      docCount\n      siteCount\n      createdBy {\n        id\n        displayName\n        email\n        profileImageUrl\n      }\n    }\n  }\n\n  query GetThemes($workspaceId: ID, $archived: Boolean) {\n    themes(workspaceId: $workspaceId, archived: $archived) {\n      ...DefaultThemeFields\n      createdBy {\n        id\n        displayName\n        email\n        profileImageUrl\n      }\n    }\n  }\n\n  mutation ArchiveTheme($id: ID!) {\n    archiveTheme(id: $id) {\n      ...DefaultThemeFields\n      docCount\n      siteCount\n    }\n  }\n\n  mutation UnarchiveTheme($id: ID!) {\n    unarchiveTheme(id: $id) {\n      ...DefaultThemeFields\n    }\n  }\n"]);return l=function(){return e},e}let s=(0,i.J1)(r()),d=(0,i.J1)(o(),s);function c(){let e=(0,a._)(["\n  query SearchMention(\n    $workspaceId: ID!\n    $query: String!\n    $types: [SearchType!] = [user, doc]\n  ) {\n    search(orgId: $workspaceId, query: $query, types: $types) {\n      __typename\n      ... on DocResult {\n        id\n        title\n        text\n        archived\n        previewUrl\n        createdBy {\n          id\n          displayName\n          profileImageUrl\n        }\n        organization {\n          id\n        }\n        editors {\n          user {\n            id\n            displayName\n            profileImageUrl\n          }\n          lastViewed\n          lastEdited\n        }\n        docUser {\n          lastViewed\n          lastEdited\n          favorited\n        }\n        orgAccess\n        updatedTime\n        createdTime\n        editedTime\n      }\n      ... on User {\n        id\n        displayName\n        email\n        profileImageUrl\n      }\n    }\n  }\n"]);return c=function(){return e},e}function u(){let e=(0,a._)(["\n  fragment ReactionFields on Reaction {\n    emoji\n    count\n    targetId\n    targetType\n    docId\n    users {\n      id\n      displayName\n      profileImageUrl\n    }\n  }\n"]);return u=function(){return e},e}function p(){let e=(0,a._)(["\n  fragment CommentAuthorFields on User {\n    id\n    displayName\n    profileImageUrl\n    email\n  }\n"]);return p=function(){return e},e}function h(){let e=(0,a._)(["\n  ","\n  ","\n  fragment ReplyFields on Comment {\n    id\n    commentId\n    content\n    createdTime\n    updatedTime\n    archived\n    user {\n      ...CommentAuthorFields\n    }\n    reactions {\n      ...ReactionFields\n    }\n  }\n"]);return h=function(){return e},e}function m(){let e=(0,a._)(["\n  ","\n  ","\n  ","\n  fragment CommentFields on Comment {\n    id\n    docId\n    cardId\n    content\n    targetText\n    targetHtml\n    createdTime\n    updatedTime\n    archived\n    targetId\n    status\n    user {\n      ...CommentAuthorFields\n    }\n    replies {\n      ...ReplyFields\n    }\n    reactions {\n      ...ReactionFields\n    }\n  }\n"]);return m=function(){return e},e}function g(){let e=(0,a._)(["\n  fragment DocCollaboratorFields on DocCollaborator {\n    docId\n    user {\n      id\n      displayName\n      email\n      profileImageUrl\n    }\n    permission\n    guest\n    accessLinkId\n  }\n\n  fragment DocInvitationsFields on DocInvitation {\n    id\n    docId\n    email\n    permission\n  }\n"]);return g=function(){return e},e}function x(){let e=(0,a._)(["\n  fragment DocChannelFields on DocChannel {\n    id\n    name\n    slug\n    permission\n  }\n"]);return x=function(){return e},e}function f(){let e=(0,a._)(["\n  fragment DocEditorsFields on DocEditor {\n    user {\n      id\n      displayName\n      email\n      profileImageUrl\n    }\n    lastEdited\n  }\n"]);return f=function(){return e},e}function b(){let e=(0,a._)(["\n  fragment FileCollaboratorFields on FileCollaborator {\n    user {\n      id\n      displayName\n    }\n    fileId\n    permission\n    guest\n    accessLinkId\n  }\n"]);return b=function(){return e},e}function v(){let e=(0,a._)(["\n  ","\n  fragment FileFields on File {\n    id\n    title\n    titleEdited\n    archived\n    disabled\n    createdBy {\n      id\n      displayName\n      email\n    }\n    collaborators {\n      ...FileCollaboratorFields\n    }\n    site {\n      id\n      enabled\n    }\n    createdTime\n    updatedTime\n    editedTime\n    publishedTime\n    savedTime\n    pages {\n      id\n      title\n      path\n      offline\n      createdTime\n      updatedTime\n      editedTime\n    }\n    mainPageId\n\n    accessLinks {\n      id\n      docId\n      type\n      permission\n      token\n      url\n    }\n    channels {\n      id\n      permission\n      name\n    }\n    workspaceAccess\n    workspace {\n      id\n      name\n    }\n  }\n"]);return v=function(){return e},e}function y(){let e=(0,a._)(["\n  ","\n  ","\n  fragment DocSiteFields on Site {\n    id\n    archived\n    workspaceId\n    name\n    domains {\n      id\n      siteId\n      name\n      status\n      builtin\n      canonical\n    }\n    hasCustomDomain\n    routes {\n      id\n      siteId\n      docId\n      path\n      offline\n      doc {\n        id\n        title\n      }\n    }\n    currentDeployment {\n      id\n      siteId\n      buildHost\n      deploymentTime\n    }\n    createdTime\n    updatedTime\n    previewUrl\n    pageCount\n    archived\n    enabled\n    faviconUrl\n    themeId\n    navEnabled\n    navContent\n    gtmContainerId\n    metaPixelId\n  }\n"]);return y=function(){return e},e}function w(){let e=(0,a._)(["\n  ","\n  mutation AddCollaborators(\n    $docId: ID!\n    $collaborators: [DocCollaboratorInput!]!\n  ) {\n    addCollaborators(docId: $docId, collaborators: $collaborators) {\n      id\n      collaborators {\n        ...DocCollaboratorFields\n      }\n      invitations {\n        ...DocInvitationsFields\n      }\n    }\n  }\n"]);return w=function(){return e},e}function C(){let e=(0,a._)(["\n  ","\n  mutation RemoveCollaborators(\n    $docId: ID!\n    $collaborators: [DocCollaboratorRemovalInput!]!\n  ) {\n    removeCollaborators(docId: $docId, collaborators: $collaborators) {\n      id\n      collaborators {\n        ...DocCollaboratorFields\n      }\n      invitations {\n        ...DocInvitationsFields\n      }\n    }\n  }\n"]);return C=function(){return e},e}function j(){let e=(0,a._)(["\n  ","\n  mutation AddCollaboratorByAccessLink($docId: ID!) {\n    addCollaboratorByAccessLink(docId: $docId) {\n      id\n      collaborators {\n        ...DocCollaboratorFields\n      }\n    }\n  }\n"]);return j=function(){return e},e}function A(){let e=(0,a._)(["\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  query GetDoc($id: ID!, $password: String) {\n    doc(id: $id, password: $password) {\n      id\n      title\n      titleEdited\n      titleCard {\n        id\n        previewUrl\n      }\n      archived\n      disabled\n      createdTime\n      updatedTime\n      editedTime\n      savedTime\n      currentSnapshotId\n      publishedSnapshotId\n      publishedSnapshot {\n        content\n      }\n      publishedTime\n      source\n      comments {\n        ...CommentFields\n      }\n      reactions {\n        ...ReactionFields\n      }\n      accessLinks {\n        id\n        docId\n        type\n        permission\n        token\n        url\n      }\n      links {\n        url\n        status\n      }\n      orgAccess\n      organization {\n        id\n        name\n        products\n      }\n      theme {\n        ...DefaultThemeFields\n        fonts {\n          id\n          name\n          url\n        }\n      }\n      collaborators {\n        ...DocCollaboratorFields\n      }\n      invitations {\n        ...DocInvitationsFields\n      }\n      # Including docUser fields required for Apollo cache optimistic updates\n      # TODO if we use this in multiple places, extract a fragment\n      docUser {\n        id\n        docId\n        lastViewed\n        lastEdited\n        favorited\n      }\n      editors {\n        ...DocEditorsFields\n      }\n      createdBy {\n        firstName\n        displayName\n        id\n        email\n      }\n      channels {\n        ...DocChannelFields\n      }\n      site {\n        ...DocSiteFields\n      }\n      file {\n        ...FileFields\n        searchEngineIndexingEnabled\n      }\n      docGenerateInput {\n        id\n        settings\n        docGeneration {\n          id\n          generationType\n        }\n      }\n    }\n  }\n"]);return A=function(){return e},e}function k(){let e=(0,a._)(["\n  query GetDocRobots($id: ID!) {\n    doc(id: $id) {\n      id\n      title\n      createdTime\n      updatedTime\n      searchEngineIndexingAllowed\n      canonicalUrl\n      currentSnapshot {\n        id\n        docId\n        content\n      }\n      titleCard {\n        id\n        previewUrl\n        text\n      }\n      organization {\n        id\n        name\n        products\n        # NB: Need this so that useCan works properly.\n        __typename\n      }\n      createdBy {\n        displayName\n        id\n        email\n      }\n      links {\n        url\n        nodeType\n        status\n      }\n      theme {\n        ...DefaultThemeFields\n      }\n    }\n  }\n"]);return k=function(){return e},e}function S(){let e=(0,a._)(["\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  subscription SubscribeToDoc($id: ID!) {\n    doc(id: $id) {\n      ... on DocSubscription {\n        id\n        title\n        titleEdited\n        titleCard {\n          id\n          previewUrl\n        }\n        archived\n        updatedTime\n        editedTime\n        savedTime\n        publishedTime\n        accessLinks {\n          id\n          docId\n          type\n          permission\n          token\n          url\n        }\n        channels {\n          ...DocChannelFields\n        }\n        collaborators {\n          ...DocCollaboratorFields\n        }\n        editors {\n          ...DocEditorsFields\n        }\n        invitations {\n          ...DocInvitationsFields\n        }\n        theme {\n          ...DefaultThemeFields\n        }\n        reactions {\n          ...ReactionFields\n        }\n        orgAccess\n      }\n\n      ... on DocCommentsSubscription {\n        id\n        comments {\n          ...CommentFields\n        }\n      }\n      ... on DocReactionsSubscription {\n        id\n        reactions {\n          ...ReactionFields\n        }\n      }\n      ... on DocLinksSubscription {\n        id\n        links {\n          url\n          status\n        }\n      }\n    }\n  }\n"]);return S=function(){return e},e}function I(){let e=(0,a._)(["\n  mutation UpdateDocTitle($id: ID!, $title: String, $titleEdited: Boolean) {\n    updateDoc(input: { id: $id, title: $title, titleEdited: $titleEdited }) {\n      id\n      title\n      titleEdited\n    }\n  }\n"]);return I=function(){return e},e}function E(){let e=(0,a._)(["\n  mutation UpdateDocOrgAccess($id: ID!, $orgAccess: Permission) {\n    updateDoc(input: { id: $id, orgAccess: $orgAccess }) {\n      id\n      orgAccess\n    }\n  }\n"]);return E=function(){return e},e}function L(){let e=(0,a._)(["\n  mutation UpdateDocAccessLinks($id: ID!, $accessLinks: [AccessLinkInput!]) {\n    updateDoc(input: { id: $id, accessLinks: $accessLinks }) {\n      id\n      accessLinks {\n        permission\n        id\n      }\n    }\n  }\n"]);return L=function(){return e},e}function R(){let e=(0,a._)(["\n  ","\n  mutation UpdateDocTheme($id: ID!, $themeId: String) {\n    updateDoc(input: { id: $id, themeId: $themeId }) {\n      id\n      theme {\n        ...DefaultThemeFields\n      }\n    }\n  }\n"]);return R=function(){return e},e}function D(){let e=(0,a._)(["\n  mutation InviteMembers($workspaceId: ID!, $invitees: [InvitationInput!]!) {\n    inviteMembers(orgId: $workspaceId, invitees: $invitees) {\n      id\n      name\n      invitations {\n        email\n      }\n    }\n  }\n"]);return D=function(){return e},e}function M(){let e=(0,a._)(["\n  ","\n  ","\n  ","\n  mutation CreateComment($input: CreateCommentInput) {\n    createComment(input: $input) {\n      id\n      docId\n      cardId\n      content\n      targetText\n      targetHtml\n      createdTime\n      updatedTime\n      commentId\n      archived\n      targetId\n      status\n      user {\n        ...CommentAuthorFields\n      }\n      replies {\n        ...ReplyFields\n      }\n      reactions {\n        ...ReactionFields\n      }\n    }\n  }\n"]);return M=function(){return e},e}function _(){let e=(0,a._)(["\n  mutation UpdateComment($input: UpdateCommentInput!) {\n    updateComment(input: $input) {\n      id\n      docId\n      content\n      updatedTime\n    }\n  }\n"]);return _=function(){return e},e}function z(){let e=(0,a._)(["\n  mutation UpdateCommentStatus($input: UpdateCommentStatusInput!) {\n    updateCommentStatus(input: $input) {\n      id\n      status\n      updatedTime\n    }\n  }\n"]);return z=function(){return e},e}function T(){let e=(0,a._)(["\n  mutation RemoveComment($id: ID!) {\n    archiveComment(id: $id) {\n      id\n      archived\n    }\n  }\n"]);return T=function(){return e},e}function N(){let e=(0,a._)(["\n  ","\n  fragment DocReactionsCreate on Doc {\n    reactions {\n      ...ReactionFields\n    }\n  }\n"]);return N=function(){return e},e}function P(){let e=(0,a._)(["\n  ","\n  ","\n  fragment DocCommentsCreate on Doc {\n    comments {\n      id\n      docId\n      cardId\n      content\n      targetText\n      targetHtml\n      createdTime\n      updatedTime\n      archived\n      targetId\n      status\n      user {\n        ...CommentAuthorFields\n      }\n    }\n  }\n  fragment DocRepliesCreate on Doc {\n    comments {\n      id\n      replies {\n        ...ReplyFields\n      }\n    }\n  }\n  fragment DocCommentsUpdate on Doc {\n    comments {\n      id\n      docId\n      content\n      updatedTime\n      reactions {\n        ...ReactionFields\n      }\n    }\n  }\n  fragment DocRepliesUpdate on Doc {\n    comments {\n      id\n      replies {\n        id\n        docId\n        content\n        updatedTime\n        reactions {\n          ...ReactionFields\n        }\n      }\n    }\n  }\n  fragment DocCommentsRemove on Doc {\n    comments {\n      id\n      archived\n    }\n  }\n  fragment DocRepliesRemove on Doc {\n    comments {\n      id\n      replies {\n        id\n        archived\n      }\n    }\n  }\n"]);return P=function(){return e},e}function O(){let e=(0,a._)(["\n  ","\n  mutation AddReaction($reactionInput: AddReactionInput!) {\n    addReaction(input: $reactionInput) {\n      ...ReactionFields\n    }\n  }\n"]);return O=function(){return e},e}function H(){let e=(0,a._)(["\n  ","\n  mutation RemoveReaction($reactionInput: RemoveReactionInput!) {\n    removeReaction(input: $reactionInput) {\n      ...ReactionFields\n    }\n  }\n"]);return H=function(){return e},e}function F(){let e=(0,a._)(["\n  query GetMemoAnalytics($memoId: ID!) {\n    memoStats(id: $memoId) {\n      memoId\n      uniqueViewers\n      uniqueEditors\n      cardCount\n      lastOpened\n      viewers {\n        user {\n          id\n          displayName\n          email\n          profileImageUrl\n        }\n        visitorId\n        lastOpened\n        cardsViewed\n      }\n      dailyViews {\n        dayCount\n        timezone\n        everyone {\n          date\n          uniqueVisitors\n        }\n        viewers {\n          date\n          uniqueVisitors\n        }\n      }\n    }\n  }\n\n  query GetDocCardsAnalytics($docId: ID!, $userId: ID) {\n    docCardsStats(docId: $docId, userId: $userId) {\n      docId\n      uniqueVisitors\n      uniqueEditors\n      cardCount\n      everyone {\n        cardId\n        viewTimePercent\n        viewersPercent\n      }\n      viewers {\n        cardId\n        viewTimePercent\n        viewersPercent\n      }\n    }\n  }\n"]);return F=function(){return e},e}function B(){let e=(0,a._)(["\n  mutation SetDocPassword($docId: ID!, $password: String!) {\n    setDocPassword(id: $docId, password: $password) {\n      id\n      accessLinks {\n        id\n        permission\n        type\n      }\n    }\n  }\n"]);return B=function(){return e},e}function V(){let e=(0,a._)(["\n  mutation RemoveDocPassword($docId: ID!) {\n    removeDocPassword(id: $docId) {\n      id\n      accessLinks {\n        id\n        permission\n        type\n      }\n    }\n  }\n"]);return V=function(){return e},e}function W(){let e=(0,a._)(["\n  query GetDocPassword($docId: ID!) {\n    getDocPassword(id: $docId)\n  }\n"]);return W=function(){return e},e}function U(){let e=(0,a._)(["\n  mutation UpdateSearchEngineIndexing($fileId: ID!, $enable: Boolean!) {\n    updateSearchEngineIndexing(fileId: $fileId, enable: $enable) {\n      id\n      searchEngineIndexingEnabled\n    }\n  }\n"]);return U=function(){return e},e}function G(){let e=(0,a._)(["\n  query GetPublicDoc($docId: ID!) {\n    publicDoc(id: $docId) {\n      id\n      logoUrl\n    }\n  }\n"]);return G=function(){return e},e}function K(){let e=(0,a._)(["\n  query GetDocCurrentSnapshotId($id: ID!) {\n    doc(id: $id) {\n      id\n      currentSnapshotId\n    }\n  }\n"]);return K=function(){return e},e}function Q(){let e=(0,a._)(["\n  query GetDocCurrentSnapshot($id: ID!, $password: String) {\n    doc(id: $id, password: $password) {\n      id\n      currentSnapshot {\n        content\n        __typename\n      }\n    }\n  }\n"]);return Q=function(){return e},e}(0,i.J1)(l(),d),(0,i.J1)(c());let Z=(0,i.J1)(u()),q=(0,i.J1)(p()),$=(0,i.J1)(h(),Z,q),J=(0,i.J1)(m(),$,Z,q),Y=(0,i.J1)(g()),X=(0,i.J1)(x()),ee=(0,i.J1)(f()),et=(0,i.J1)(b()),en=(0,i.J1)(v(),et),ea=(0,i.J1)(y(),d,en);(0,i.J1)(w(),Y),(0,i.J1)(C(),Y),(0,i.J1)(j(),Y),(0,i.J1)(A(),J,Y,ee,X,ea,d,Z),(0,i.J1)(k()),(0,i.J1)(S(),J,Y,ee,X,d,Z),(0,i.J1)(I()),(0,i.J1)(E()),(0,i.J1)(L()),(0,i.J1)(R(),d),(0,i.J1)(D()),(0,i.J1)(M(),$,Z,q),(0,i.J1)(_()),(0,i.J1)(z()),(0,i.J1)(T()),(0,i.J1)(N(),Z);let ei=(0,i.J1)(P(),$,q);(0,i.J1)(O(),Z),(0,i.J1)(H(),Z),(0,i.J1)(F()),(0,i.J1)(B()),(0,i.J1)(V()),(0,i.J1)(W()),(0,i.J1)(U()),(0,i.J1)(G()),(0,i.J1)(K()),(0,i.J1)(Q())},78893:(e,t,n)=>{"use strict";n.d(t,{$:()=>s});var a=n(63867),i=n(55729),r=n(22115),o=n(25839),l=n(43634);let s=e=>{let{editor:t,getPos:n}=e,s=(0,o.GV)(l.nD),d=(0,o.GV)(l.Du),c=(0,o.jL)(),{onContextMenu:u,menuProps:p}=(0,r.EF)(),{onClose:h,...m}=p;return{onCloseContextMenu:()=>{c((0,l.$n)({open:!1})),h()},onOpenContextMenu:(0,i.useCallback)(e=>{if(s){if(d)return void e.preventDefault();t.view.dispatch(t.view.state.tr.setSelection(a.nh.create(t.view.state.doc,n()))),u(e),c((0,l.$n)({open:!0}))}},[s,d,t.view,n,u,c]),menuProps:m}}},79018:(e,t,n)=>{"use strict";n.d(t,{dD:()=>r,x9:()=>d});var a=n(33750),i=n.n(a);let r=e=>{let{label:t,basis:n=100}=e,a=d(t);return a?i()(a/n,0,1):0},o=/[0-9,.]+/g,l=/[,.](?=\d{3})/g,s=/([0-9]+)\s?\/\s?([0-9]+)/g,d=e=>{if(e){if("number"==typeof e)return e;try{var t,n;let a=null==(t=e.match(s))?void 0:t[0];if(a){let[e,t]=a.split("/").map(e=>e.trim());return 100*parseFloat(e)/parseFloat(t)}let i=null==(n=e.match(o))?void 0:n[0],r=null==i?void 0:i.replaceAll(l,"");return r?parseFloat(r):void 0}catch(t){console.error("[SmartLayout] Failed to parse label number: ".concat(e),t);return}}}},80039:(e,t,n)=>{"use strict";n.d(t,{QP:()=>r,j1:()=>i,lI:()=>a});let a=e=>"middle"===e?"center":e,i=e=>({start:"left",middle:"center",end:"right"})[e],r=(e,t)=>{t&&Object.entries(t).forEach(t=>{let[n,a]=t;void 0!==a&&e.style.setProperty(n,a.toString())})}},80215:(e,t,n)=>{"use strict";n.d(t,{N_:()=>x,lQ:()=>b,mF:()=>f});var a=n(6029),i=n(78140),r=n(36999),o=n(49611),l=n(41283),s=n(37930),d=n(48478),c=n(48810),u=n(99492),p=n(48621),h=n(19564),m=n(45176),g=n(80180);let x=()=>({flex:{title:(0,a.jsx)(h.x6,{id:"oNVcTP"}),description:(0,a.jsx)(h.x6,{id:"HfsL0F"})},grid:{title:(0,a.jsx)(h.x6,{id:"fY+Mvd"}),description:(0,a.jsx)(h.x6,{id:"Ur6uwh"})},logo:{title:(0,a.jsx)(h.x6,{id:"iG7KNr"}),description:(0,a.jsx)(h.x6,{id:"hcTCev"})}}),f=(e,t,n,a)=>{let i="flex"===e&&t.thumbHeight<m.pg?m.pg:"grid"===e||"logo"===e?Math.round(t.thumbHeight):void 0;n.chain().updateAttributes("gallery",{layout:e,dimensions:"grid"===e?"square":void 0,stretchToFill:"flex"!==e&&void 0,...i&&{thumbHeight:i}}).setNodeSelection(a.from).focus().run()},b=e=>{let{selection:t,editor:n}=e,h=t.node.attrs,m=x(),b=Object.keys(m).includes(h.layout)?h.layout:"flex",v=m[b].title;return(0,a.jsxs)(i.W,{closeOnSelect:!0,isLazy:!0,autoSelect:!1,strategy:"fixed",children:[(0,a.jsx)(r.I,{as:o.$,"data-testid":"display-style-dropdown",size:"sm",rightIcon:(0,a.jsx)(p.g,{fixedWidth:!0,icon:u.Jt$,transform:"shrink-6"}),boxShadow:"none",onMouseDown:g.Fw,children:v}),(0,a.jsx)(l.c,{zIndex:2,maxW:"400px",children:(0,a.jsx)(s.i,{type:"radio",onChange:e=>f(e,h,n,t),value:h.layout,children:Object.entries(m).map(e=>{let[t,{title:n,description:i}]=e;return(0,a.jsxs)(d.k,{value:t,onMouseDown:g.Fw,"data-testid":"display-style-option-".concat(t),children:[(0,a.jsx)(c.E,{children:n}),(0,a.jsx)(c.E,{fontSize:"xs",color:"gray.500",children:i})]},t)})})})]})}},80911:(e,t,n)=>{"use strict";n.d(t,{J:()=>l});var a=n(94289),i=n(63867),r=n(91242),o=n(23513);class l extends i.LN{map(e,t){let{deleted:n,pos:a}=t.mapResult(this.anchor),r=e.resolve(a);return n?(0,o.n)(r)||i.LN.near(r):new l(r,this.side)}content(){return new a.Ji(a.FK.from(this.node),0,0)}eq(e){return e instanceof l&&e.anchor===this.anchor&&e.side===this.side}toJSON(){return{type:"presentation",anchor:this.anchor,side:this.side}}createSelectionNear(){let e=this.side<1?1:-1;return(0,r.s)(this.$from,e)||i.LN.near(this.$from)}static fromJSON(e,t){if("number"!=typeof t.anchor)throw RangeError("Invalid input for PresentationSelection.fromJSON");return new l(e.resolve(t.anchor))}static create(e,t,n){return new l(e.resolve(t),n)}static isSelectable(e){return!e.isText&&!1!==e.type.spec.selectable}constructor(e,t=0){let n=e.nodeAfter;super(e,e.node(0).resolve(e.pos+n.nodeSize)),this.node=n,this.side=t}}if(l.prototype.visible=!1,!l.prototype.jsonID)try{i.LN.jsonID("presentation",l)}catch(e){}},81089:(e,t,n)=>{"use strict";n.d(t,{UG:()=>ep,lN:()=>ex});var a=n(93766),i=n(6029),r=n(40452),o=n(87613),l=n(83004),s=n(55729),d=n(6181),c=n(58959),u=n(94740),p=n(66199),h=n(18078),m=n(61204),g=n(51684),x=n(77650);let f=s.createContext({});function b(){return s.useContext(f)}var v=n(26420),y=n(16936),w=n(57405),C=n(25223),j=n(83743),A=n(49611),k=n(19564);let S={src:"https://assets.gammahosted.com/j1bla5j5f/_next/static/media/transparent-background.ccc186e7.png"},I={[a.JM.White]:"#f0f1f3",[a.JM.Gray]:"#788492",[a.JM.Green]:"#36b24d",[a.JM.Blue]:"#1c7ed6",[a.JM.Violet]:"#7746f1",[a.JM.Red]:"#ff2133",[a.JM.Orange]:"#ff9433",[a.JM.Yellow]:"#ffc936"},E=e=>e.appState.currentStyle,L=e=>e.document.pageStates[e.appState.currentPageId].selectedIds,R=e=>e.settings.isDarkMode?"dark":"light",D=e=>{let{style:t,colorMode:n}=e;return(0,i.jsx)(v.a,{backgroundColor:t.isFilled?a.gA.fills[n][t.color]:void 0,backgroundImage:t.isFilled?void 0:S.src,backgroundSize:"4em",borderColor:a.gA.strokes[n][t.color],borderWidth:"2px",h:"1em",w:"1em",borderRadius:"md"})},M=Object.keys(a.gA.defaultTextStyle),_=(e,t)=>{let{page:n}=e,a={};if(t.length<=0)return{};{let e=new Set([]);t.map(e=>n.shapes[e]).forEach(t=>{M.forEach(n=>{if(!e.has(n))if(void 0===a[n])a[n]=t.style[n];else{if(a[n]===t.style[n])return;e.add(n)}})}),e.forEach(e=>{delete a[e]})}return a},z=()=>{let e=b(),t=e.useStore(R),n=e.useStore(E),r=e.useStore(L),o=_(e,r),l={...n,...o};return(0,i.jsxs)(u.A,{trigger:"hover",children:[(0,i.jsx)(p.W,{children:(0,i.jsx)(y.K,{icon:(0,i.jsx)(D,{style:l,colorMode:t}),variant:"ghost",size:"sm","aria-label":""})}),(0,i.jsx)(h.h,{w:"fit-content",bg:"#F9FAFBFA",p:4,children:(0,i.jsxs)(w.T,{spacing:2,align:"flex-start",children:[(0,i.jsx)(C.l,{children:(0,i.jsx)(k.x6,{id:"TuM2Yu"})}),(0,i.jsx)(j.r,{columns:2,spacing:2,children:[!0,!1].map(n=>(0,i.jsx)(A.$,{leftIcon:(0,i.jsx)(D,{style:{...l,isFilled:n},colorMode:t}),variant:"ghost",size:"sm",isActive:l.isFilled===n,onClick:()=>e.style({isFilled:n}),children:n?(0,i.jsx)(k.x6,{id:"5bi1la"}):(0,i.jsx)(k.x6,{id:"dD7NPy"})},n?"fill":"outline"))}),(0,i.jsx)(C.l,{children:(0,i.jsx)(k.x6,{id:"1HfW/F"})}),(0,i.jsx)(j.r,{columns:4,spacing:2,w:"100%",children:Object.entries(a.JM).map(n=>{let[a,r]=n;return I[r]?(0,i.jsx)(y.K,{icon:(0,i.jsx)(D,{style:{...l,color:r},colorMode:t}),variant:"ghost",size:"md","aria-label":a,isActive:l.color===r,onClick:()=>e.style({color:r})},r):null})})]})})]})};var T=n(45460),N=n(48621),P=n(48342);let O=(0,T.R)((e,t)=>{let{label:n,icon:a,tooltipPlacement:r="top",...o}=e;return(0,i.jsx)(P.Tz,{placement:r,label:n,isDisabled:!n,children:(0,i.jsx)(y.K,{"aria-label":n||"",ref:t,size:"sm",variant:"",icon:(0,i.jsx)(N.g,{icon:a}),color:"trueblue.600",textShadow:"0px 1px 0px rgba(0,0,0,0)",fontWeight:"500",borderRadius:"md",borderWidth:"1px",backdropFilter:"blur(20px)",borderColor:"transparent",_hover:{bg:"gray.50",borderColor:"gray.200"},_focus:{bg:"gray.50",borderColor:"gray.200"},_active:{bg:"trueblue.100",borderColor:"trueblue.200"},...o})})}),H=e=>{let{children:t,...n}=e;return(0,i.jsx)(r.s,{bg:"#F9FAFBDD",p:1,borderWidth:"1px",borderColor:"whiteAlpha.600",borderRadius:"xl",shadow:"xl",...n,children:t})},F={[a.Hu.Start]:g.ecg,[a.Hu.Middle]:g._ur,[a.Hu.End]:g.jbh},B=()=>{let e=b(),t=e.useStore(E),n=e.useStore(L),r=_(e,n),o={...t,...r};return(0,i.jsxs)(u.A,{trigger:"hover",children:[(0,i.jsx)(p.W,{children:(0,i.jsx)(O,{icon:F[o.textAlign||a.Hu.Start]})}),(0,i.jsx)(h.h,{background:"none",shadow:"none",w:"fit-content",children:(0,i.jsx)(H,{direction:"column",children:(0,i.jsxs)(m.e,{children:[(0,i.jsx)(O,{icon:g.ecg,label:x.Ru._({id:"IR6Txi"}),onClick:()=>e.style({textAlign:a.Hu.Start}),isActive:o.textAlign===a.Hu.Start},"align-left"),(0,i.jsx)(O,{icon:g._ur,label:x.Ru._({id:"8nOdkO"}),onClick:()=>e.style({textAlign:a.Hu.Middle}),isActive:o.textAlign===a.Hu.Middle},"align-center"),(0,i.jsx)(O,{icon:g.jbh,label:x.Ru._({id:"pd0UH2"}),onClick:()=>e.style({textAlign:a.Hu.End}),isActive:o.textAlign===a.Hu.End},"align-right"),(0,i.jsx)(O,{icon:g.Tip,label:x.Ru._({id:"18P2qJ"}),onClick:()=>e.style({textAlign:a.Hu.Justify}),isActive:o.textAlign===a.Hu.Justify},"justify")]})})})]})},V=e=>e.document.pageStates[e.appState.currentPageId].selectedIds.some(t=>void 0!==e.document.pages[e.appState.currentPageId].shapes[t].children),W=e=>"idle"===e.appState.status&&e.document.pageStates[e.appState.currentPageId].selectedIds.length>0,U=e=>e.document.pageStates[e.appState.currentPageId].selectedIds.length,G=e=>{let t=e.appState.currentPageId,n=e.document.pages[t];for(let a of e.document.pageStates[t].selectedIds)if("text"in n.shapes[a])return!0;return!1},K=s.memo(function(){let e=b(),{isGammaOrgUser:t}=(0,d.ur)(),n=e.useStore(W),o=e.useStore(V),l=e.useStore(U),s=e.useStore(G);return(0,i.jsx)(r.s,{w:"100%",direction:"row",position:"absolute",bottom:2,align:"flex-end",justify:"center",zIndex:1,children:(0,i.jsx)(H,{children:(0,i.jsxs)(c.z,{spacing:2,children:[t&&(0,i.jsx)(O,{icon:g.XYS,label:x.Ru._({id:"SpTWH3"}),onClick:()=>e.exportImage(a.Xi.SVG,{scale:1,quality:1})},"download"),n&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(O,{icon:g.yLS,label:x.Ru._({id:"/Wgayn"}),onClick:()=>e.delete(),"data-testid":"drawing-edit-toolbar-delete"},"delete"),(0,i.jsx)(Q,{}),l>=2&&(0,i.jsx)(Z,{}),l>=2||o?(0,i.jsx)(O,{icon:g.cWs,label:o?"Ungroup selection":"Group selection",onClick:()=>o?e.ungroup():e.group(),isActive:o},"group"):null]}),(0,i.jsx)(z,{}),s&&(0,i.jsx)(B,{})]})})})}),Q=()=>{let e=b();return(0,i.jsxs)(u.A,{trigger:"hover",children:[(0,i.jsx)(p.W,{children:(0,i.jsx)(O,{icon:g.B4x})}),(0,i.jsx)(h.h,{background:"none",shadow:"none",w:"fit-content",children:(0,i.jsxs)(H,{direction:"row",children:[(0,i.jsx)(O,{icon:g.bKR,label:x.Ru._({id:"J6qWQV"}),onClick:()=>e.moveToFront()},"front"),(0,i.jsx)(O,{icon:g.B4x,label:x.Ru._({id:"9xFjqz"}),onClick:()=>e.moveForward()},"forward"),(0,i.jsx)(O,{icon:g.PW6,label:x.Ru._({id:"OfSb1W"}),onClick:()=>e.moveBackward()},"backward"),(0,i.jsx)(O,{icon:g.jb9,label:x.Ru._({id:"/zBSYY"}),onClick:()=>e.moveToBack()},"back")]})})]})},Z=()=>{let e=b();return(0,i.jsxs)(u.A,{trigger:"hover",children:[(0,i.jsx)(p.W,{children:(0,i.jsx)(O,{icon:g.gD3})}),(0,i.jsx)(h.h,{background:"none",shadow:"none",w:"fit-content",children:(0,i.jsxs)(H,{direction:"column",children:[(0,i.jsxs)(m.e,{children:[(0,i.jsx)(O,{icon:g.gD3,label:x.Ru._({id:"IR6Txi"}),onClick:()=>e.align(a.qx.Left)},"align-left"),(0,i.jsx)(O,{icon:g.im,label:x.Ru._({id:"8nOdkO"}),onClick:()=>e.align(a.qx.CenterHorizontal)},"align-center"),(0,i.jsx)(O,{icon:g.j7A,label:x.Ru._({id:"pd0UH2"}),onClick:()=>e.align(a.qx.Right)},"align-right"),(0,i.jsx)(O,{icon:g.yC$,label:x.Ru._({id:"8lqfXb"}),onClick:()=>e.distribute(a.Od.Horizontal)},"distribute-h")]}),(0,i.jsxs)(m.e,{children:[(0,i.jsx)(O,{icon:g.MVg,label:x.Ru._({id:"/Q0jUh"}),onClick:()=>e.align(a.qx.Top)},"align-top"),(0,i.jsx)(O,{icon:g.cse,label:x.Ru._({id:"QhuQN2"}),onClick:()=>e.align(a.qx.CenterVertical)},"align-middle"),(0,i.jsx)(O,{icon:g.QaE,label:x.Ru._({id:"EPnxoe"}),onClick:()=>e.align(a.qx.Bottom)},"align-bottom"),(0,i.jsx)(O,{icon:g.iHb,label:x.Ru._({id:"a1NrWf"}),onClick:()=>e.distribute(a.Od.Vertical)},"distribute-v")]})]})})]})};var q=n(96500),$=n(55597);let J=()=>[{icon:$.eX_,label:x.Ru._({id:"rG3WVm"}),tool:"select"},{icon:g.IP$,label:x.Ru._({id:"Ajc4TJ"}),tool:"erase"},{icon:$.adM,label:x.Ru._({id:"rjuFFw"}),tool:a.gs.Line},{icon:$.U6Q,label:x.Ru._({id:"zFkhx3"}),tool:a.gs.Arrow},{icon:$.vti,label:x.Ru._({id:"30KLDI"}),tool:a.gs.Rectangle},{icon:$.GEE,label:x.Ru._({id:"7xMmki"}),tool:a.gs.Ellipse},{icon:$.CKr,label:x.Ru._({id:"ucHvJP"}),tool:a.gs.Triangle},{icon:$.jwR,label:x.Ru._({id:"xeiujy"}),tool:a.gs.Text}],Y=e=>e.appState.activeTool,X=s.memo(function(){let e=b(),t=e.useStore(Y);return(0,i.jsx)(r.s,{h:"100%",direction:"column",position:"absolute",right:2,align:"flex-end",justify:"center",zIndex:1,children:(0,i.jsx)(H,{children:(0,i.jsx)(w.T,{spacing:2,children:J().map(n=>{let{label:a,icon:r,tool:o}=n;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(O,{icon:r,label:a,onClick:()=>e.selectTool(o),isActive:t===o,tooltipPlacement:"left","data-testid":"drawing-insert-toolbar-".concat(o)},a),"select"==o&&(0,i.jsx)(q.c,{},"selectDivider")]})})})})})});var ee=n(78140),et=n(36999),en=n(41283),ea=n(85595);let ei=e=>e.document.pageStates[e.appState.currentPageId].camera.zoom,er=e=>e.settings.showGrid,eo=s.memo(function(){let e=b(),t=e.useStore(er);return(0,i.jsx)(r.s,{position:"absolute",top:2,left:2,zIndex:1,children:(0,i.jsx)(H,{children:(0,i.jsxs)(c.z,{spacing:2,children:[(0,i.jsx)(el,{}),(0,i.jsx)(O,{icon:$.XgR,label:t?x.Ru._({id:"IsBZFj"}):x.Ru._({id:"mWgfWA"}),isActive:t,onClick:()=>e.setSetting("showGrid",!t)},"grid")]})})})}),el=s.memo(function(){let e=b(),t=e.useStore(ei);return(0,i.jsxs)(ee.W,{children:[(0,i.jsxs)(et.I,{as:A.$,"data-test-id":"zoom-menu-button",size:"sm",variant:"ghost",leftIcon:(0,i.jsx)(N.g,{icon:g.$UM}),children:[Math.round(100*t),"%"]}),(0,i.jsxs)(en.c,{children:[(0,i.jsx)(ea.D,{command:"#+",onClick:e.zoomIn,children:(0,i.jsx)(k.x6,{id:"AWOSPo"})}),(0,i.jsx)(ea.D,{command:"#-",onClick:e.zoomOut,children:(0,i.jsx)(k.x6,{id:"FjkaiT"})}),(0,i.jsx)(ea.D,{command:"⇧0",onClick:e.resetZoom,children:(0,i.jsx)(k.x6,{id:"41NrIs"})}),(0,i.jsx)(ea.D,{command:"⇧1",onClick:e.zoomToFit,"data-test-id":"zoom-to-fit-button",children:(0,i.jsx)(k.x6,{id:"pLI1Is"})})]})]})});var es=n(87996);let ed=e=>({onAssetCreate:(0,s.useCallback)(async(t,n,i)=>{if(!e)return console.warn("[useAssetUpload] OrgId is required to upload assets"),!1;let r=URL.createObjectURL(n);console.debug("[useAssetUpload] Handling upload for file",{file:n,id:i,tempUrl:r});let o=e=>{let n=t.assets.find(e=>e.id===i);if(n){console.debug("[useAssetUpload] Upload complete. Replacing temp asset",{id:i,src:e.src});let a={document:{assets:{[i]:{...n,src:e.src}}}};t.patchState(a,"upload"),t.persist(a,"upload")}};return(0,es.QM)(n,e,{onOriginalFileUpload:o,onUploadComplete:o}),t.patchState({document:{assets:{[i]:{id:i,type:a.zO.Image,fileName:n.name,src:r}}}}),r},[e]),onAssetDelete:(0,s.useCallback)(async(e,t)=>!0,[])});var ec=n(34806);let eu={dash:a.c.Solid,isFilled:!0,color:a.JM.White},ep=e=>{let{isDark:t,font:n,...c}=e,{currentWorkspace:u}=(0,d.ur)(),[p,h]=(0,s.useState)(),[m,g]=(0,s.useState)(!1),x=(0,s.useCallback)(e=>{h(e),e.style(eu,[]),g(!0)},[]),{onAssetCreate:b,onAssetDelete:v}=ed(null==u?void 0:u.id);(0,s.useEffect)(()=>{p&&void 0!==t&&p.setSetting("isDarkMode",t)},[p,t]);let y=(0,s.useMemo)(()=>(0,ec.k)(t),[t]),w=(0,s.useMemo)(()=>(0,ec.I)(n),[n]);return(0,i.jsxs)(r.s,{sx:{".tl-canvas":{"div, text, textarea":{...w},...y,'g[cursor="grab"][aria-label="link handle"]':{display:"none"}}},onDrop:()=>{},onPaste:()=>{},position:"relative",h:"100%",w:"100%",className:"highlight-mask",children:[(0,i.jsx)(l.mL,{styles:{"#__textLabelMeasure, #__textMeasure":{...w}}}),(0,i.jsxs)(f.Provider,{value:p||{},children:[(0,i.jsx)(a.Z1,{onAssetCreate:b,onAssetDelete:v,...c,onMount:(0,o.H)(c.onMount,x)}),m&&!c.readOnly&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(K,{}),(0,i.jsx)(X,{})]}),m&&(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(eo,{})})]})]})};var eh=n(58423),em=n(48331);let eg=e=>eh.Aq.getCommonBounds(e.map(a.ju.getRotatedBounds)),ex=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:128,{shapes:n,pageState:{camera:i},rendererBounds:r}=e;if(0===n.length)return;let o=eg(n);if(!o)return;let l=a.ju.getCameraZoom(Math.min((r.width-t)/o.width,(r.height-t)/o.height)),s=(r.width-o.width*l)/2/l,d=(r.height-o.height*l)/2/l;e.setCamera(em.l.toFixed(em.l.sub([s,d],[o.minX,o.minY])),l,"zoomed_to_fit")}},81570:(e,t,n)=>{"use strict";n.d(t,{O:()=>a});let a={prompt:"",template:null,settings:{},status:"ready"}},81880:(e,t,n)=>{"use strict";n.d(t,{D:()=>i});var a=n(67097);let i=e=>{var t,n;return!!(e.src&&!(0,a.v7)(e.src)&&!(0,a.SV)(e.src)&&!((null==(t=e.meta)?void 0:t.frame_count)&&(null==(n=e.meta)?void 0:n.frame_count)>1))}},82172:(e,t,n)=>{"use strict";n.d(t,{Jx:()=>p,SQ:()=>s,pT:()=>c,tb:()=>u});var a=n(932),i=n.n(a),r=n(91656),o=n(15607),l=n(70815);let s=e=>{let t=[];for(let n=0;n<e.length;n++){let a=e[n],i=a.node.attrs.indent,r=d(e,n,e=>e.node.attrs.indent>i),o=s(r);t.push({node:a.node,pos:a.pos,children:o}),n+=r.length}return t},d=(e,t,n)=>{let a=[];for(let i=t+1;i<e.length;i++){let t=e[i];if(n(t))a.push(t);else break}return a},c=e=>e.map(e=>{let t=c(e.children);return{type:"card",content:[{type:"heading",attrs:{level:Math.min(e.node.attrs.indent+1,l.Bq)},content:[{type:"text",text:e.node.textContent}]},...t]}}),u=(e,t)=>({type:"smartLayout",attrs:{variantKey:t},content:e.map(e=>{let t=[{type:"heading",attrs:{level:4},content:i()(e.node.content.toJSON())}];return t.push(...e.children.map(e=>{let t=i()(e.node.toJSON());return t.attrs.indent-=1,t})),{type:"smartLayoutCell",content:t}})}),p=e=>(0,o.Ng)(e,r.x)},82960:(e,t,n)=>{"use strict";n.d(t,{x:()=>s});var a=n(6064),i=n(58809),r=n(25839),o=n(6181),l=n(22529);let s=e=>{var t,n;let s=(0,o.gx)(),d=(0,r.GV)(i.Jo),c=null==d||null==(t=d.organization)?void 0:t.id,u=null==(n=(0,o.P9)(c))?void 0:n.id,p=(0,r.GV)((0,l.A1)(null!=c?c:""));return e!==a.rWX.Dashboard&&p?u:s}},83106:(e,t,n)=>{"use strict";let a;n.d(t,{W:()=>i});let i=(0,n(69930).A)(a)},83143:(e,t,n)=>{"use strict";n.d(t,{LQ:()=>s,bT:()=>l,gG:()=>u,lE:()=>d,qp:()=>c});var a=n(83817),i=n.n(a),r=n(91938),o=n(84979);let l=e=>{let{resize:t}=e.attrs,{height:n,width:a}=t;return!i()({resize:t},{resize:o.P})&&null!==n&&null!==a},s=e=>{e.chain().resetImageClip().resetImageScale().command(e=>{var t;let{commands:n}=e;return!!(null==(t=n.refreshBubbleMenu)?void 0:t.call(n))}).run()},d=async e=>{try{let t=e.split("/").pop();if(!t)throw Error("No filename found");let n=await fetch("".concat(r.$.API_HOST||"","/media/images/download"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json","share-token":r.$.SHARE_TOKEN||""},body:JSON.stringify({url:e,filename:t})});if(!n.ok)throw Error("Download failed");let a=await n.blob(),i=window.URL.createObjectURL(a),o=document.createElement("a");o.href=i,o.download=t,document.body.appendChild(o),o.click(),document.body.removeChild(o),window.URL.revokeObjectURL(i)}catch(e){console.error("Error downloading image:",e)}},c=async e=>{try{let t=await fetch("".concat(r.$.API_HOST||"","/media/images/download"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json","share-token":r.$.SHARE_TOKEN||""},body:JSON.stringify({url:e,convertToPng:!0})});if(!t.ok)throw Error("Failed to fetch image for clipboard");let n=await t.blob();if(navigator.clipboard&&navigator.clipboard.write){let e=new ClipboardItem({[n.type]:n});await navigator.clipboard.write([e]),console.log("Image copied with Clipboard API successfully")}}catch(e){console.error("Error copying image to clipboard:",e)}},u=e=>e.replace(/<(?!xlink:)([a-zA-Z0-9_-]+):/g,"<").replace(/<\/(?!xlink:)([a-zA-Z0-9_-]+):/g,"</").replace(/\s*xmlns:(?!xlink)[a-zA-Z0-9_-]+\s*=\s*(["'])[^"']*\1/g,"").replace(/(<svg[^>]*)\s+xmlns\s*=\s*(["'])[^"']*\2/g,"$1").replace(/<svg/,'<svg xmlns="http://www.w3.org/2000/svg"')},83488:(e,t,n)=>{"use strict";n.d(t,{J:()=>r});var a=n(51684),i=n(77650);let r={label:()=>i.Ru._({id:"/hLjBB"}),description:()=>i.Ru._({id:"wRlboO"}),key:"embed.custom",icon:a.c9S,keywords:["webpage","website","app","embed","iframe"]}},83650:(e,t,n)=>{"use strict";n.d(t,{v:()=>m});var a=n(6029),i=n(36999),r=n(49611),o=n(26385),l=n(26420),s=n(48810),d=n(99492),c=n(48621),u=n(19564),p=n(33612),h=n.n(p);let m=e=>{let{color:t,isDefaultColor:n,isMixed:p=!1,...m}=e;return(0,a.jsx)(i.I,{as:r.$,variant:"plain",size:"sm",boxShadow:"none",minW:"fit-content",textAlign:"left",rightIcon:(0,a.jsx)(c.g,{fixedWidth:!0,icon:d.Jt$,transform:"shrink-6"}),...m,children:(0,a.jsxs)(o.B,{direction:"row",spacing:2,align:"center",children:[(0,a.jsx)(l.a,{as:"span",alignSelf:"center",boxSize:5,borderRadius:"md",border:"2px solid",borderColor:"gray.300",bgColor:t}),(0,a.jsx)(s.E,{fontFamily:n||p?void 0:"mono",textTransform:n||p?void 0:"uppercase",fontSize:"sm",children:p?(0,a.jsx)(u.x6,{id:"+UN6+J"}):n?(0,a.jsx)(u.x6,{id:"ovBPCi"}):h()(t).toHexString()})]})})}},83658:(e,t,n)=>{"use strict";n.d(t,{x:()=>i});var a=n(77650);let i={key:"image.pictographic",featureFlag:"pictographicImageSearch",label:()=>a.Ru._({id:"ualVui"}),description:()=>a.Ru._({id:"pnIyl1"}),image:{src:"https://assets.gammahosted.com/j1bla5j5f/_next/static/media/pictographic.1e90e3a6.svg",height:759,width:692,blurWidth:0,blurHeight:0},keywords:["pictographic","illustrations","photo","image"]}},83740:(e,t,n)=>{"use strict";n.d(t,{f:()=>r});var a=n(51684),i=n(77650);let r={key:"image.icon",label:()=>i.Ru._({id:"0EarAx"}),icon:a.cCs,keywords:["fontawesome","icon","symbol","picture"]}},84130:(e,t,n)=>{"use strict";n.d(t,{W:()=>a});let a=new(n(83747)).b},84169:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KNOWN_BAD_HOSTNAMES=t.KNOWN_GOOD_HOSTNAMES=t.KNOWN_GOOD_TLDS=t.TRUSTED_WORKSPACE_IDS=t.GAMMA_WORKSPACE_ID_PRODUCTION=t.GAMMA_WORKSPACE_ID_STAGING=t.isTrustedTLD=t.removeWWWPrefix=void 0,t.removeWWWPrefix=e=>e.replace(/^www\./,""),t.isTrustedTLD=e=>t.KNOWN_GOOD_TLDS.some(t=>e===t||e.endsWith(".".concat(t))),t.GAMMA_WORKSPACE_ID_STAGING="QWjS6fBfpt",t.GAMMA_WORKSPACE_ID_PRODUCTION="zc87vhr30n8uf3n",t.TRUSTED_WORKSPACE_IDS=["acme",t.GAMMA_WORKSPACE_ID_STAGING,t.GAMMA_WORKSPACE_ID_PRODUCTION],t.KNOWN_GOOD_TLDS=["gamma.app","gamma.site","gammastaging.site","wikipedia.org"],t.KNOWN_GOOD_HOSTNAMES=["gamma.app","gamma.site","cdn.gamma.app","staging.gamma.app","cdn-staging.gamma.app","careers.gamma.app","design.gamma.site","orzo.gamma.site","www.markdownguide.org","www.youtube.com","www.linkedin.com","www.instagram.com","twitter.com","x.com","www.tiktok.com","help.gamma.app","gamma.new","join.slack.com","www.google.com","www.facebook.com","groups.google.com","en.wikipedia.org","replit.com","www.bea.gov","doi.org","es.wikipedia.org","app.stotles.com","docs.google.com","www.figma.com","www.ncbi.nlm.nih.gov","github.com","youtu.be","tr.wikipedia.org","uk.wikipedia.org","ru.wikipedia.org","ro.wikipedia.org","pt.wikipedia.org","example.com","zh.wikipedia.org","www.sciencedirect.com","fr.wikipedia.org","colab.research.google.com","player.fm","m.facebook.com","www.britannica.com","www.amazon.com","www.podcasts.com","ko.wikipedia.org","www.example.com","vi.wikipedia.org","www.notion.so","chat.openai.com","calendly.com","www.bing.com","pubmed.ncbi.nlm.nih.gov","open.spotify.com","de.wikipedia.org","id.wikipedia.org","www.researchgate.net","techcrunch.com","www.cnn.com","pl.wikipedia.org","api.whatsapp.com","youtube.com","hbr.org","podcasters.spotify.com","ar.wikipedia.org","th.wikipedia.org","dictionary.cambridge.org","www.kaggle.com","es.surveymonkey.com","www.canva.com","www.forbes.com","lookerstudio.google.com","unsplash.com","www.cdc.gov","az.wikipedia.org","it.wikipedia.org","www.investopedia.com","www.pinterest.com","music.amazon.com","kk.wikipedia.org","scholar.google.com","www.nature.com","www.producthunt.com","creativecommons.org","www.masterclass.com","fa.wikipedia.org","www.bbc.com","www.nytimes.com","en.m.wikipedia.org","sr.wikipedia.org","uz.wikipedia.org","ieeexplore.ieee.org","play.google.com","es.m.wikipedia.org","cloud.google.com","www.imdb.com","www.mckinsey.com","aws.amazon.com","www.microsoft.com","chrome.google.com","www.businessinsider.com","bing.com","www.porsche.com","www.apple.com"].map(t.removeWWWPrefix),t.KNOWN_BAD_HOSTNAMES=["trixmovie.com","luna-3d.com","luna-3d.com:443","kiladkoerm.com","movie.geoflix.me","wtach.club","movstream.fun","novelastv.me","xzc.one","srv1.iyxwfree.my.id","followme.tribe.so","xzc.icu","marcolinks.click","multilibb.cc","exl-trk.com","uk.ebookarea.xyz","wemovietv.com","123moviesdb.com","www.realpdfdumps.com","pede.4tv.live","voxmovie.com","stream.evmovies.com","dmovie.fun","pdfhost.io","megavids.online","www.pdfdumpspro.com","gomovie.stream","dmovie.fun:443","go123.stream","ca.ebookarea.xyz","movie4you.online","www.123movieslink.com","moviedaily.site","maxstream.site","ftmovies.xyz","moviescreen.biz","moviesfox.site","morthenfile.web.app"].map(t.removeWWWPrefix)},84343:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var a=n(6029),i=n(26420),r=n(40452),o=n(16936),l=n(55597),s=n(48621),d=n(48342),c=n(19564),u=n(77650),p=n(55729),h=n(87996),m=n(91792),g=n(89703),x=n(80180),f=n(61651),b=n(62695);let v=e=>{let{onSelectImage:t,isAccentImageDrawer:n=!1,openEditBackgroundDrawer:o,...s}=e,{setMediaDrawerSourceKeyAction:d,setBackgroundDrawerSourceKeyAction:p}=(0,b.B)(),m=[{id:"image.custom",label:(0,a.jsx)(c.x6,{id:"6MxxvO"}),ariaLabel:u.Ru._({id:"6MxxvO"}),icon:l.MNJ,onClick:()=>{null==t||t(),d(h.mx.key,!0),setTimeout(()=>(0,g.G)(!1),0)}},{id:"image.web",label:(0,a.jsx)(c.x6,{id:"Of4gkp"}),ariaLabel:u.Ru._({id:"Of4gkp"}),icon:l.$UM,onClick:()=>{null==t||t(),d(h.Rn.key,!0),setTimeout(()=>(0,g.G)(!1),0)}},{id:"image.ai-generated",label:(0,a.jsx)(c.x6,{id:"UQ4o1/"}),ariaLabel:u.Ru._({id:"UQ4o1/"}),icon:l._$C,onClick:()=>{null==t||t(),d(h.Up.key,!0),setTimeout(()=>(0,g.G)(!1),0)}}],f=[{id:"image.custom",label:(0,a.jsx)(c.x6,{id:"pDdFxL"}),ariaLabel:u.Ru._({id:"6MxxvO"}),icon:l.MNJ,onClick:()=>{null==t||t(),p(h.mx.key),setTimeout(()=>null==o?void 0:o(!1),0)}},{id:"image.web",label:(0,a.jsx)(c.x6,{id:"eFaih9"}),ariaLabel:u.Ru._({id:"Of4gkp"}),icon:l.$UM,onClick:()=>{null==t||t(),p(h.Rn.key),setTimeout(()=>null==o?void 0:o(!1),0)}},{id:"image.ai-generated",label:(0,a.jsx)(c.x6,{id:"UQ4o1/"}),ariaLabel:u.Ru._({id:"UQ4o1/"}),icon:l._$C,onClick:()=>{null==t||t(),p(h.Up.key),setTimeout(()=>null==o?void 0:o(!1),0)}}];return(0,a.jsx)(i.a,{pos:"relative",zIndex:100,...s,children:(0,a.jsx)(r.s,{marginBottom:"-8px",onClick:x.dG,children:(n?f:m).map((e,t)=>(0,a.jsx)(y,{...e},t))})})},y=(0,p.memo)(e=>{let{label:t,ariaLabel:n,icon:i,id:r,onClick:l}=e,c=(0,m.rd)();return(0,a.jsx)(d.Tz,{label:t,placement:"top",closeOnClick:!0,children:(0,a.jsx)(o.K,{icon:(0,a.jsx)(s.g,{icon:i,size:"1x"}),"aria-label":n,"data-testid":"quick-action","data-test-media-source":r,variant:"ghost",rounded:"md",onMouseDown:l,width:"32px",height:"32px",color:c?f.N.DARK_ICON_COLOR:f.N.LIGHT_ICON_COLOR,display:"flex",alignItems:"center",justifyContent:"center",p:1,cursor:"pointer",_hover:"image.ai-generated"===r?c?{color:f.N.DARK_AI_BTN_HOVER_COLOR,bg:f.N.DARK_AI_BTN_HOVER_BG}:{color:f.N.LIGHT_AI_BTN_HOVER_COLOR,bg:f.N.LIGHT_AI_BTN_HOVER_BG}:c?{color:f.N.DARK_BTN_HOVER_COLOR,bg:f.N.DARK_BTN_HOVER_BG}:{color:f.N.LIGHT_BTN_HOVER_COLOR,bg:f.N.LIGHT_BTN_HOVER_BG},animation:"fadeIn",transition:"color 0.2s, background-color 0.2s"})})});y.displayName="QuickActionButton"},84431:(e,t,n)=>{"use strict";n.d(t,{$:()=>a});let a={presentBg:1,customerLogo:4,cardButtons:11,siteNav:21,filmstrip:21,toolbar:22,nestedCardBody:2,nestedCardBodyWithComment:3,cardDivider:1,resizeableWrapper:11,commentsStack:21,commentsStackOpen:1501,commentsPopup:1100,insertWidget:1100,panel:"calc(var(--chakra-zIndices-modal) + 1)",bottomRightControls:"calc(var(--chakra-zIndices-modal) + 2)",onboardingChecklist:"calc(var(--chakra-zIndices-modal) + 2)"}},84714:(e,t,n)=>{"use strict";n.d(t,{g:()=>x,j:()=>g});var a=n(6029),i=n(40452),r=n(26420),o=n(99492),l=n(55597),s=n(48621),d=n(19564),c=n(90184),u=n(27002),p=n(27246),h=n(49249),m=n(74471);let g=e=>{let{onClick:t=()=>{},...n}=e;return(0,u.u)("disableRemoveBackground")?null:(0,a.jsx)(m.I,{label:(0,a.jsxs)(i.s,{alignItems:"center",justifyContent:"center",children:[(0,a.jsx)(d.x6,{id:"ylbfBl"}),(0,a.jsx)(c.G,{type:"removeBackground",ms:2,color:"gray.400"})]}),onClick:t,...n,children:(0,a.jsxs)(r.a,{as:"span",className:"fa-layers fa-fw",children:[(0,a.jsx)(s.g,{icon:o.sAw,size:"lg"}),(0,a.jsx)(s.g,{icon:l.X46,size:"xs",transform:"shrink-5"})]})})},x=e=>{let{editor:t,decorations:n}=e,i=(0,p.Bn)(n),{startRemoveBg:r,isRemoveBgLoading:o}=(0,h.D)({editor:t,id:null==i?void 0:i.cardId});return(0,a.jsx)(g,{onClick:r,disabled:o})}},84979:(e,t,n)=>{"use strict";n.d(t,{P:()=>i,T:()=>a});let a="non-clickable",i={clipType:null,clipPath:null,clipAspectRatio:null,width:null}},86364:(e,t,n)=>{"use strict";n.d(t,{R:()=>a});let a=new(n(83747)).b},86687:(e,t,n)=>{"use strict";n.d(t,{ML:()=>l,dQ:()=>d,pK:()=>s,y_:()=>c});var a=n(27002),i=n(3298),r=n(48369),o=n(77249);let l=()=>{let e=(0,r.aQ)();return Object.entries(i.Ab).map(t=>{let[n,i]=t,r=e.filter(e=>{let{disabled:t,featureFlag:i,family:r}=e;return!t&&(!i||a.of.get(i))&&r===n}).map(e=>{let t=e.presetConfigurations,n=[];return t&&t.forEach(t=>{n.push({...t,icon:e.icon,variantKey:e.key,key:(0,o.Z)(e.key,t.options),visible:!0})}),{variant:e,options:n}});return{family:{key:n,...i},variants:r,visible:!0}}).filter(e=>e.variants.length>0)},s=()=>l().flatMap(e=>e.variants.flatMap(e=>e.options)),d=()=>l().reduce((e,t)=>(e[t.family.key]={family:t.family,variants:t.variants},e),{}),c=()=>s().reduce((e,t)=>(e[(0,o.Z)(t.variantKey,t.options)]=t,e),{})},86932:(e,t,n)=>{"use strict";n.d(t,{A3:()=>y});var a=n(21938),i=n(37243),r=n(63867),o=n(97255),l=n(25839),s=n(27865),d=n(95889),c=n(43634),u=n(85235),p=n(15607),h=n(80911),m=n(6845),g=n(47665),x=n(60300),f=n(4967),b=n(53891);let v=new r.hs("expandableNodes"),y=e=>e.some(e=>e.spec.isExpandableNode),w=e=>e instanceof h.J&&0===e.side&&C(e.node),C=e=>!0===e.type.spec.expandable,j=(e,t)=>{if(!(null==t?void 0:t.from))return!1;let n=(0,p.jB)(e,t.from),a=(0,s.cH)(n);return(null==a?void 0:a.inView)===!0},A=(e,t,n)=>{let a=(0,g.Py)(e.view.nodeDOM(t)),i=(0,s.cH)(a);if(!i)return!1;let{bottomInView:r,topInView:o}=i;return"top"===n?o:r},k=function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=e.state.selection,o=i instanceof h.J&&1===i.side?i.to:i.from;if(o<=t){if(A(e,t,"top"))return null}else if(o>=n){if(A(e,t,"bottom"))return null}else{if(j(e,i))return null;let t=e.state.doc.resolve(o);if(j(e,r.LN.findFrom(t,-1,!1))||j(e,r.LN.findFrom(t,1,!1)))return null}let l=(0,p.XL)({editor:e,side:a?"bottom":"top",margin:200});if(l.pos){let t=r.LN.findFrom(e.state.doc.resolve(l.pos),a?1:-1,!1);return(null==t?void 0:t.from)||null}return null};i.YY.create({name:"expandableNodes",extendNodeSchema(e){var t;return{expandable:null!=(t=(0,i.gk)((0,i.iI)(e,"expandable",e)))&&t}},addCommands:()=>({expandOrCollapseExpandableNode:e=>t=>{let{state:n,chain:a}=t,i=null!=e?e:n.selection.from,r=n.doc.nodeAt(i);if(!r||!C(r))return!1;let o=(0,l.KA)();switch(r.type.name){case"card":if(o.dispatch((0,c.mF)({attached:!1})),null===d.zS||void 0===d.zS||d.zS.track(d.VV.CARD_EXPANDED,{is_present_mode:!0,method:"enter_key"}),(0,m.Wq)(r.attrs.id))return a().descendIntoCurrentCard(i).reHighlightExpandableNode().run();return a().spotlightCollapseCard(i).reHighlightExpandableNode().run();case"toggle":{(0,b.bG)(r.attrs.id,!(0,b.vb)(r.attrs.id));let t=a();return e&&t.spotlightNextBlock(),t.reHighlightExpandableNode().run(),!0}case"image":case"video":case"embed":return o.dispatch((0,c.a)({nodeId:r.attrs.id})),!0;case"gallery":{let e=r.firstChild;if(e)return o.dispatch((0,c.a)({nodeId:e.attrs.id})),!0;return!1}default:return!1}},goToNextExpandableNode:e=>t=>{var n;let{editor:a,tr:i,state:r}=t,o=f.n.getState(a.state),l=(0,g.W0)(a,o.cardId);if(!l)return!1;let d=l.node.attrs.id,c=l.pos,u=l.pos+l.node.nodeSize,p=a.state.selection,m=w(p),b=p instanceof h.J,y=k(a,c,u,e),j=(null==(n=v.getState(r))?void 0:n.lastApplied)||+new Date;if(m&&!y&&new Date-j>3e3)return a.commands.reHighlightExpandableNode();i.setMeta(v,{});let A=b&&(-1===p.side&&e||1===p.side&&!e)?-1:0,S=Math.min(Math.max(y||(m||!b?p.from:1===p.side?p.to+A:p.from+A),c),u-1),I=(0,x.vi)(a,d,S,C,e);if(console.debug("[ExpandableNodes] goToNextExpandableNode",{posToUse:S,overridePos:y},I),!I.pos||!I.domNode||I.cardId!==d)return i.setSelection(h.J.create(a.state.doc,c,e?-1:1)),!1;let E=(0,s.cH)(I.domNode,50);return(null==E?void 0:E.inView)?(i.setSelection(h.J.create(a.state.doc,I.pos)),(0,s.H1)("editor").scrollElementIntoView({element:I.domNode,attempts:0,offsetFromTop:null}),!0):(m&&i.setSelection(h.J.create(a.state.doc,p.from,e?-1:1)),!1)},reHighlightExpandableNode:()=>e=>{let{tr:t,editor:n}=e;return t.setMeta(v,{shouldAddResetClass:!0}),requestAnimationFrame(()=>{n.commands.command(e=>{let{tr:t}=e;return t.setMeta(v,{shouldAddResetClass:!1}),!0})}),!0}}),addProseMirrorPlugins:()=>[new r.k_({key:v,state:{init:()=>({lastApplied:0,shouldAddResetClass:!1}),apply(e,t){let n=e.getMeta(v);return n?{...t,lastApplied:+new Date,...n}:t}},props:{decorations(e){let t=f.n.getState(e);if(null==t?void 0:t.pos)return o.zF.empty;let n=v.getState(e);if((0,c.wC)((0,l.KA)().getState())!==u.w.SLIDE_VIEW)return o.zF.empty;let i=e.selection;if(!w(i)||!(i instanceof h.J))return o.zF.empty;let r=i.node;return o.zF.create(e.doc,[o.NZ.node(i.from,i.from+r.nodeSize,{class:(0,a.cx)("expandable-node-selected",(null==n?void 0:n.shouldAddResetClass)&&"expandable-node-reset")},{isExpandableNode:!0})])}}})]})},87140:(e,t,n)=>{"use strict";n.d(t,{a:()=>m,h:()=>g});var a=n(21938),i=n(37243),r=n(63867),o=n(97255),l=n(27002),s=n(15607);class d extends r.k_{removeOverlappingDecorations(e,t){let n=this.getDecorationsRanges(t),a=e.find(n.from,n.to).filter(e=>n.hasRange(e));return e.remove(a)}getDecorationsRanges(e){let t=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY,a=new Set;return e.forEach(e=>{let{from:i,to:r}=e;i<t&&(t=i),r>n&&(n=r),a.add("".concat(i,":").concat(r))}),{from:t,to:n,hasRange:e=>{let{from:t,to:n}=e;return a.has("".concat(t,":").concat(n))}}}decorateDoc(e){let t=[];return e.descendants(this.decorateNode.bind(this,t)),o.zF.create(e,t)}processStep(e,t,n,a){let i=t.doc,r=t.mapping.slice(a+1),o=r.map("from"in e?e.from:e.pos),l="to"in e?r.map(e.to):o,s="slice"in e?e.slice.content.size:0;i.descendants((e,t,a,i)=>!(t+e.nodeSize<o)&&!(t>l+s)&&("document"===e.type.name||!a||this.decorateNode(n,e,t,a,i)))}constructor({key:e,decorateNode:t,options:n={}}){super({key:e,state:{init(e,t){let{doc:n}=t;return{decorations:this.decorateDoc(n)}},apply(e,t){var a,i;let r=null==(a=n.processEntireDoc)?void 0:a.call(n),o=null!=(i=n.shouldProcessStep)?i:s.Be,l=t.decorations;if(!e.steps.length&&!r)return{...t,decorations:l.map(e.mapping,e.doc)};if(r||(0,s.R3)(e))return{...t,decorations:this.decorateDoc(e.doc)};let d=[];e.steps.forEach((t,n)=>{if(o(t))return this.processStep(t,e,d,n)});let c=this.removeOverlappingDecorations(l.map(e.mapping,e.doc),d).add(e.doc,d);return{...t,decorations:c}}},props:{decorations:t=>{var n;return null==(n=e.getState(t))?void 0:n.decorations}}}),this.decorateNode=t}}var c=n(33201),u=n(67864),p=n(94922);function h(e,t,n,i,r){if((0,u.cE)(i)&&e.push(o.NZ.node(n,n+t.nodeSize,{},{isAnnotatable:!0})),(0,c.CD)(t))e.push(o.NZ.node(n,n+t.nodeSize,{class:(0,a.cx)("block","block-".concat(t.type.name),0===r&&"first-block",r===i.childCount-1&&"last-block")})),0===r&&((0,c.jg)(i)||(0,p.Eg)(i))&&e.push(o.NZ.node(n,n+t.nodeSize,{class:"first-block-in-card"},{isFirstBlockInCard:!0}));else{if(!t.isLeaf&&!t.isBlock)return!1;e.push(o.NZ.node(n,n+t.nodeSize,{class:"node-".concat(t.type.name)}))}return!0}let m=i.YY.create({name:"blockClass",addOptions:()=>({blockClass:"block"}),addProseMirrorPlugins:()=>[new d({key:new r.hs("blockClass"),decorateNode:h,options:{processEntireDoc:()=>!l.of.get("useTransactionBlockPlugin")}})]}),g=e=>!!e.find(e=>e.spec.isFirstBlockInCard)},87379:(e,t,n)=>{"use strict";n.d(t,{b:()=>l});var a=n(84462),i=n.n(a),r=n(58495);class o{_flush(){this._handle=0;let e=this._queue;this._queue=[],e.forEach(e=>{let{fn:t}=e;t()})}push(e,t){if(t){let n=this._queue.findIndex(e=>e.id===t);n>-1?this._queue.splice(n,1,{fn:e,id:t}):this._queue.push({fn:e,id:t})}else this._queue.push({fn:e,id:(0,r.Ak)(5)});this._handle||(this._handle=requestAnimationFrame(this._flush.bind(this)))}constructor(){this._queue=[],this._handle=0,this._handle=requestAnimationFrame(this._flush.bind(this))}}let l=i()(()=>new o)},87827:(e,t,n)=>{"use strict";n.d(t,{n:()=>r});var a=n(19564),i=n(55729);function r(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=(0,a.uB)();return(0,i.useMemo)(e,[n,e,...t])}},87930:(e,t,n)=>{"use strict";n.d(t,{T:()=>c,U:()=>d});var a=n(37243),i=n(63867),r=n(83817),o=n.n(r),l=n(43634);class s{compute(e){let t=e.firstChild;if(!t)return this;let n=t.attrs;return o()(n,this.value)||(this.hasChanges=!0),this.value=n,this}apply(e,t){return e.docChanged&&this.compute(e.doc),this}processChanges(e){this.hasChanges&&this.value&&e((0,l.H3)({docAttrs:this.value})),this.hasChanges=!1}constructor(){this.hasChanges=!1,this.value=null}}let d=new i.hs("documentAttrs"),c=a.YY.create({name:"documentAttrs",addProseMirrorPlugins:()=>[new i.k_({key:d,state:{init:()=>new s,apply:(e,t,n,a)=>t.apply(e,a)}})]})},87996:(e,t,n)=>{"use strict";n.d(t,{Dc:()=>i.Dc,Dr:()=>i.Dr,GQ:()=>i.GQ,Il:()=>i.Il,Jp:()=>i.Jp,MN:()=>i.MN,N$:()=>i.N$,O5:()=>i.O5,OO:()=>i.OO,Ow:()=>i.Ow,Oz:()=>i.Oz,Pl:()=>i.Pl,QM:()=>a.QM,RA:()=>i.RA,RH:()=>a.RH,Rn:()=>i.Rn,TV:()=>i.TV,UX:()=>i.UX,Up:()=>i.Up,V2:()=>i.V2,Ve:()=>i.Ve,Zd:()=>i.Zd,ae:()=>i.ae,ap:()=>i.ap,fG:()=>i.fG,fX:()=>i.fX,fb:()=>i.fb,fo:()=>i.fo,hb:()=>i.hb,j_:()=>a.j_,mx:()=>i.mx,qD:()=>i.qD,r9:()=>i.r9,sI:()=>i.sI,sS:()=>i.sS,st:()=>i.st,uF:()=>i.uF,un:()=>i.un,w:()=>i.w,xT:()=>i.xT,yj:()=>i.yj});var a=n(29917);n(92377),n(48950);var i=n(17798)},88608:(e,t,n)=>{"use strict";n.d(t,{Bo:()=>C,Gx:()=>w,R6:()=>v,Yq:()=>y});var a=n(77650),i=n(14816),r=n(67604),o=n(57914),l=n(80928),s=n(33548),d=n(57792),c=n(96331),u=n(27295),p=n(14385),h=n(13442),m=n(60042),g=n(62922),x=n(76174),f=n(14448);let b={ar:s.A,en:d.A,fa:c.A,"pt-br":u.A,ja:p.A,"zh-cn":h.A,"zh-tw":m.A,es:g.A,fr:x.A,ko:f.A},v=()=>b[a.Ru.locale]||void 0,y=(e,t)=>e?(0,i.A)((0,r.A)(e),t,{locale:v()}):"",w=(e,t)=>e?(0,o.A)((0,r.A)(e),t?(0,r.A)(t):new Date,{locale:v()}):"",C=e=>e?(0,l.A)((0,r.A)(e),{locale:v()}):""},88839:(e,t,n)=>{"use strict";n.d(t,{M:()=>a.M});var a=n(90098)},88889:(e,t,n)=>{"use strict";n.d(t,{Y:()=>k,h:()=>I});var a=n(6029),i=n(26420),r=n(40452),o=n(53996),l=n(51684),s=n(97139),d=n.n(s),c=n(55729),u=n(94111),p=n(59230),h=n(25839),m=n(43634),g=n(67097),x=n(62171),f=n(58082),b=n(17485),v=n(64234),y=n(4522),w=n(21982),C=n(62695),j=n(50861),A=n(83143);let k=e=>{var t,n,o;let{image:s,editor:d,getPos:c,imageShape:u,imageSx:b,node:j,decorations:A,handleEditableClick:k,handleEditableDoubleClick:S,hasQuickActions:E=!1,isInlineColorableSvg:L=!1,editWithoutSelection:R=!1}=e,D=(0,C.j)(d,c),M=d.state.selection.from===c(),_=(0,g.SV)((null==s?void 0:s.src)||(null==s?void 0:s.tempUrl)),z=(0,g.v7)(null==s?void 0:s.src),{isDark:T,bodyColor:N}=(0,f.a)(A),P=!s||s.showPlaceholder||!s.src&&!s.tempUrl,O=null!=(o=s&&(null==(t=s.loadImageParams)?void 0:t.provider))?o:void 0,H=s&&"queued"===s.loadImageStatus&&!d.isThumbnail,{tempUrl:F,uploadStatus:B,meta:V}=s||{},W=(null==s?void 0:s.src)?(0,g.pO)(s.src,N):void 0,U=(0,h.GV)(m.nD),G=j.attrs.source,K=W&&(0,g.Ub)(W,d.isThumbnail?g.p7:d.isSiteNavbarEditor?g.oc:{width:1e3,height:1e3},V),Q=(0,g.QV)(K,K?void 0:F),Z={backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundImage:L||P?void 0:Q,backgroundPosition:(0,x.w3)(s),width:"100%",height:"100%",borderRadius:"circle"!==u||L?"var(--box-border-radius)":"full",transitionProperty:"border-radius",transitionDuration:"normal",...b};return(0,a.jsxs)(i.a,{position:"relative",cursor:M||R&&U?"pointer":"default",contentEditable:!1,h:"100%",onClick:U?k:void 0,onDoubleClick:U?S:void 0,transitionProperty:"filter background",transitionDuration:"normal",_hover:U&&M?{filter:T?"brightness(1.15)":"brightness(0.85)",bg:_?T?"whiteAlpha.100":"blackAlpha.100":void 0}:void 0,children:[P?(0,a.jsx)(w.Pf,{...Z,isLoading:!!H,loadingProvider:O,icon:(null==(n=v.Fn["image.custom"])?void 0:n.icon)||l.Cyq,h:"100%",hasQuickActions:E,onSelectAndFocus:()=>{U&&D()},defaultSource:G,cursor:M||R?"pointer":"default"}):z?(0,a.jsx)(g.FD,{src:W||F||"",poster:null==V?void 0:V.poster,w:"100%",h:"100%",objectFit:"cover","data-content-reference":!0}):L?(0,a.jsx)(I,{image:s,src:W||F||"",imageShape:u,imageStyles:Z}):(0,a.jsx)(r.s,{"data-content-reference":!0,"data-change-focus-point-el":!0,className:"card-layout-cell-bg",position:"relative",sx:Z}),B==p.A.Uploading&&U&&(0,a.jsx)(y.Td,{}),B==p.A.Error&&(0,a.jsx)(y.Hy,{})]})},S=e=>{try{let t=e.getBBox();if(0===t.width||0===t.height)return;return"".concat(t.x," ").concat(t.y," ").concat(t.width," ").concat(t.height)}catch(e){console.error("Error calculating viewBox:",e);return}},I=e=>{var t;let{image:n,src:i,imageShape:r,imageStyles:l}=e,s=null!=(t=b.zF[r||"square"])?t:b.zF.square,{meta:p}=n||{},h=(0,j.Kk)(i,"accessory-img-inline-svg"),[m,g]=(0,c.useState)(void 0),x=(0,c.useRef)(null),f=(null==p?void 0:p.width)&&(null==p?void 0:p.height)?"0 0 ".concat(p.width," ").concat(p.height):void 0,v=(0,c.useCallback)(()=>{var e;let t=null==(e=x.current)?void 0:e.querySelector("svg");t&&requestAnimationFrame(()=>{let e=S(t);e&&g(e)})},[]);return(0,a.jsx)(o.o,{...l,objectFit:"contain",ref:x,sx:{svg:{width:"100%",aspectRatio:null==s?void 0:s.aspectRatio,height:"unset"}},children:(0,a.jsx)(u.A,{src:h,viewBox:f||m||"0 0 512 512",className:"colorable-icon",onLoad:f?void 0:v,preProcessor:e=>{let t=(0,A.gG)(e);return d().sanitize(t,{USE_PROFILES:{svg:!0,svgFilters:!0},PARSER_MEDIA_TYPE:"image/svg+xml",ALLOWED_NAMESPACES:["http://www.w3.org/2000/svg"]})},overflow:"visible"})})}},89115:(e,t,n)=>{"use strict";n.d(t,{P:()=>d,S:()=>s});var a=n(84462),i=n.n(a),r=n(28615),o=n(36512),l=n(33424);let s=e=>{var t;let{theme:n,fontSize:a,isMobileDevice:i,contentWidth:r,nestedDepth:s=0}=e,d=(0,l.Qo)(a||"md"),c="lg"===r?o.br:"sm"===r?o.lA:o.Vy,u=null!=(t=n.config.fontSize)?t:1,p=u*d,h=c*(o.IM/u)/d,m=(0,l._F)(s);return{baseFontSize:p,contentWidthEms:h,themeFontSize:u,cardWidthEms:h+2*(0,l.mn)({isMobileDevice:i,numericFontSize:d})+2*m}},d=i()(e=>{let{isPresentMode:t,isNested:n,nestedDepth:a,isFullBleed:i,isThumbnail:o,theme:l,cardDimensions:d,defaultContentWidth:m,contentWidth:g,showPresentBackdrop:x,isMobileDevice:f,docZoomLevel:b,fontSize:v,cardFontScale:y=1}=e,{baseFontSize:w,contentWidthEms:C,cardWidthEms:j}=s({theme:l,fontSize:v,isMobileDevice:f,contentWidth:null!=g?g:m,nestedDepth:a});return{...(t||o?d.aspectRatio&&!r.LD?h:p:f?u:c)({baseFontSize:w,contentWidthEms:C,cardWidthEms:j,cardAspectRatio:d.aspectRatio,showPresentBackdrop:x,isNested:n,isFullBleed:i,isThumbnail:o,docZoomLevel:b,nestedDepth:a,cardFontScale:y})}}),c=e=>{let{cardWidthEms:t,cardAspectRatio:n,isNested:a,baseFontSize:i,docZoomLevel:r,cardFontScale:o,contentWidthEms:l}=e;return{"--font-size":"calc(".concat(i," * var(--card-font-scale, 1) * var(--editor-font-size, 1rem) * ").concat(r," * var(--viewport-scale-factor, 1.125))"),"--card-font-scale":"".concat(o||1),"--card-width":"calc(".concat(t,"em / var(--card-font-scale, 1))"),"--card-min-height":n&&!a?"calc(min(var(--card-width), var(--editor-width)) / ".concat(n,")"):"0px","--max-content-width":"calc(".concat(l,"em / var(--card-font-scale, 1))"),"--card-max-width":"var(--editor-width)","--media-scale":"min(1, var(--card-font-scale, 1))"}},u=e=>{let{cardWidthEms:t,baseFontSize:n,isNested:a,cardAspectRatio:i}=e;return{"--font-size":"".concat(n,"rem"),"--card-width":"".concat(t,"em"),"--card-min-height":i&&!a?"calc(min(var(--card-width), var(--editor-width)) / ".concat(i,")"):"0px","--card-max-width":"var(--editor-width)","--media-scale":"1"}},p=e=>{let{contentWidthEms:t,cardWidthEms:n,showPresentBackdrop:a,isFullBleed:i,baseFontSize:o,isNested:l,isThumbnail:s}=e,d=r.rS||r.GC?"calc(".concat(o,"rem * var(--viewport-scale-factor, 1.125))"):"calc(var(--zoom-level) * clamp(".concat(s?"0rem":"1rem",", var(--card-max-width) / ").concat(n,", 3vh))"),c=!a||i;return{"--font-size":d,"--card-width":c?"var(--editor-width)":"".concat(n,"em"),"--card-max-width":"calc(var(--editor-width) - 2 * var(--card-outer-padding-x))","--card-min-height":s?"var(--thumbnail-min-height, 0px)":c&&!l?"100vh":"0vh","--max-content-width":"calc(".concat(1.15*t,"em / var(--zoom-level))"),"--media-scale":"1"}},h=e=>{let{cardAspectRatio:t,cardWidthEms:n,isNested:a,cardFontScale:i}=e,o=r.rS||r.GC?"calc(var(--card-max-width) / ".concat(t,")"):"calc(100vh - 2 * var(--card-outer-padding-y))",l="min(var(--card-max-width), calc(var(--card-max-height) * ".concat(t,"))"),s=a?"0px":"calc(".concat(l," / ").concat(t,")"),d="calc(var(--zoom-level) * var(--card-font-scale, 1) * ".concat(l," / ").concat(n,")");return{"--card-width":l,"--card-font-scale":"".concat(i||1),"--font-size":d,"--card-max-width":"calc(var(--editor-width) - 2 * var(--card-outer-padding-x))","--card-max-height":o,"--card-min-height":s,"--media-scale":"min(1, var(--card-font-scale, 1))"}}},89263:(e,t,n)=>{"use strict";n.d(t,{E:()=>r});var a=n(55729),i=n(92739);let r=e=>{let{interceptLinkClick:t,linkUrlSafe:n,linkInterceptEnabled:r}=(0,i.i)(e),o=(0,a.useCallback)(function(){let n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return a=>{if(e){if(!r){n||window.open(e,"_blank","noopener");return}!t(a)&&(n||window.open(e,"_blank","noopener"))}}},[e,t,r]);return(0,a.useMemo)(()=>({handleOpenNativeLinkWithInterstitial:o(!0),handleOpenLinkWithInterstitial:o(),linkUrlSafe:n}),[o,n])}},89603:(e,t,n)=>{"use strict";n.d(t,{N3:()=>c,Wj:()=>d,bk:()=>u,pN:()=>p,uI:()=>h});var a=n(12364),i=n.n(a),r=n(58495),o=n(63867),l=n(25839),s=n(43634);let d=(e,t)=>{let n=(0,l.KA)();n.dispatch((0,s.U)(t?{noteId:e}:{noteId:null}));let a=n.getState();!t&&(0,s.rp)(a)&&n.dispatch((0,s.Zf)({isEditingMedia:!1})),!t&&(0,s.dK)(a)&&n.dispatch((0,s.a)({nodeId:null}))},c=i()(d,30),u=()=>{let e=(0,l.KA)().getState();return(0,s.DH)(e)},p=()=>(0,r.Ak)(5),h=e=>e instanceof o.nh&&"footnote"===e.node.type.name},89703:(e,t,n)=>{"use strict";n.d(t,{G:()=>l,f:()=>s});var a=n(55729),i=n(25839),r=n(43634),o=n(15350);let l=function(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0],t=(0,i.KA)();if(!t)return void console.error("[MediaDrawer].openMediaDrawer: can't open because getStore() returned ".concat(t));e&&t.dispatch((0,o.Hy)()),t.dispatch((0,r.Zf)({isEditingMedia:!0}))},s=()=>{let e=(0,i.CU)();return(0,a.useCallback)(t=>{let{isOpen:n,shouldResetSourceKey:a=!0}=t;a&&e.dispatch((0,o.Hy)()),e.dispatch((0,r.Zf)({isEditingMedia:n}))},[e])}},89884:(e,t,n)=>{"use strict";n.d(t,{g:()=>A,L:()=>j});var a=n(6029),i=n(46898),r=n(90394),o=n(26385),l=n(48810),s=n(19564),d=n(77650),c=n(55729),u=n(58809),p=n(25839),h=n(26420),m=n(99492),g=n(55597),x=n(48621);let f=(0,c.memo)(e=>{let{isLocked:t,isDark:n=!1}=e;return(0,a.jsxs)(h.a,{as:"span",className:"fa-layers fa-fw",children:[(0,a.jsx)(x.g,{icon:m.CQO}),t&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(x.g,{icon:g.GEE,color:n?"var(--chakra-colors-gray-800)":"var(--chakra-colors-gray-50)",transform:"shrink-3 right-6 down-6"}),(0,a.jsx)(x.g,{icon:g.DW4,transform:"shrink-8 right-6 down-6"})]})]})});f.displayName="CardLinkIcon";var b=n(95465),v=n(43634),y=n(85235),w=n(70006),C=n(74471);let j=e=>{let{cardId:t}=e,n=(0,p.GV)(v.wC),a=(0,p.GV)(u.Jo),o=(0,w.Io)({cardId:t,docId:null==a?void 0:a.id,isPresentMode:n===y.w.SLIDE_VIEW}),l=(0,i.d)(),{onCopy:s}=(0,r.i)(o);return{onCopyLinkClick:(0,c.useCallback)(()=>{s(),l({title:d.Ru._({id:"BVYvMa"}),status:"success",duration:3e3,position:"top"})},[s,l])}},A=e=>{let{attrs:t}=e,n=(0,b.K)(),{onCopyLinkClick:i}=j({cardId:t.id});return(0,a.jsx)(C.I,{onClick:e=>{var t;if(e.target&&(null==(t=e.target)?void 0:t.closest('[data-testid="open-share"]')))return void e.preventDefault();i()},label:n?(0,a.jsx)(s.x6,{id:"F0YmUY"}):(0,a.jsxs)(o.B,{spacing:"0",children:[(0,a.jsx)(l.E,{children:(0,a.jsx)(s.x6,{id:"afMspw"})}),(0,a.jsx)(l.E,{fontSize:"xxs",color:"gray.400",children:(0,a.jsx)(s.x6,{id:"OpeWZK"})})]}),children:(0,a.jsx)(f,{isLocked:!n})})}},90026:(e,t,n)=>{"use strict";n.d(t,{H:()=>i});let a="var(--list-marker-text-color, var(--body-color))",i={default:{"span.textColor":{color:"var(--text-color, var(--body-color))"},".block-numbered":{"li::before":{color:a}},".block-bullet":{"li::marker":{color:a}}}}},90047:(e,t,n)=>{"use strict";n.d(t,{a:()=>u,e:()=>c});var a=n(17859),i=n(27002),r=n(28630),o=n(40782),l=n(59230),s=n(8327),d=n(98088);let c=e=>{let{query:t,provider:n,license:a,model:i,stylePreset:r,stylePrompt:l,artStylePreset:s,artStylePrompt:c,visualsMenuEnabled:u}=e;return t?("aiGenerated"!==n&&(t=t.split(", ")[0]),{loadImageParams:{provider:n,query:t,options:"aiGenerated"===n?{model:i,stylePreset:r,stylePrompt:l,artStylePreset:s,artStylePrompt:c,visualsMenuEnabled:u}:{license:a}},loadImageStatus:"queued",loadImageId:(0,d.z)(),source:o.j[n]}):{loadImageStatus:"error"}},u=async e=>{let{loadImageId:t,loadImageParams:n,context:i,imageStore:d}=e,{query:c,options:u,provider:h}=n,{interactionId:m,...g}=i;try{if("aiGenerated"===h){let e={...u,interactionId:m||(0,a.$F)(),steps:30,...g,prompt:c,count:1},t=await (0,r.hU)(e);if(!t[0])return{loadImageStatus:"error"};return{...t[0].attrs,tempUrl:null,loadImageStatus:"done",uploadStatus:l.A.Queued}}{let e="icon"===h?p():h,a=await d.findImage({query:c,provider:e,options:n.options,loadImageId:t});if(!a)return{query:c,source:o.j[h],loadImageStatus:"error"};return{...(0,s.TF)(a,c,e),loadImageStatus:"done",uploadStatus:l.A.Queued}}}catch(e){return console.error("[AIStream] An error occurred while fetching image: ".concat(e.message),e.stack),{loadImageStatus:"error"}}},p=()=>i.of.get("aiIconProvider")},90184:(e,t,n)=>{"use strict";n.d(t,{G:()=>m});var a=n(6029),i=n(74676),r=n(58959),o=n(48810),l=n(99492),s=n(48621),d=n(48342),c=n(19564),u=n(27002),p=n(89942),h=n(779);let m=e=>{var t;let{type:n,...m}=e,g=(0,u.u)("aiDebits");if((0,p.ez)("unlimited_credits"))return null;let x=null!=(t=g[n])?t:h.rA[n];return(0,a.jsx)(d.Tz,{label:(0,a.jsx)(c.x6,{id:"B7jvsP",values:{numCredits:x}}),children:(0,a.jsx)(i.E,{colorScheme:"whiteAlpha",bg:"whiteAlpha.300",textTransform:"none",textShadow:"none",fontSize:"xxs",ml:2,...m,children:(0,a.jsxs)(r.z,{spacing:1,children:[(0,a.jsx)(o.E,{children:x}),(0,a.jsx)(s.g,{icon:l.wq_,size:"sm"})]})})})}},90278:(e,t,n)=>{"use strict";n.d(t,{$o:()=>h,TS:()=>b,aG:()=>p,eL:()=>f,fc:()=>x,oO:()=>g,tN:()=>v});var a=n(37243),i=n(63867),r=n(15607),o=n(23460),l=n(67097),s=n(28700),d=n(36145),c=n(55424),u=n(48369);let p=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ltr",n=(0,u.BJ)(e.variantKey),a={};return n.options.forEach(n=>{var i;let{key:r,defaultValue:o}=n;a[r]=null!=(i=e.options[r])?i:null==o?void 0:o({dir:t})}),a},h=e=>{var t;let n=(0,u.BJ)(e.variantKey),a=p(e);return(null==(t=n.addDirection)?void 0:t.call(n,a))||"right"},m=(e,t)=>t.nodes.smartLayout.validContent(e.content),g=e=>{let t=(0,d.p$)(e).filter(e=>(0,l.u3)(e.type));return 1===t.length&&t[0]},x=(e,t,n)=>{let a=e.posAtCoords({left:t.clientX,top:t.clientY});if(!a)return null;let i=e.state.doc.resolve(a.inside),l=(0,r.IV)(i,c.q)[0],d=(0,r.IV)(i,c.M)[0],u=n&&(0,s.H)(n),p=g(t);if(!l&&!d||u&&"image"!==u.type.name||!p)return null;let h=(0,o.xX)(t.target,e.dom,e=>e.hasAttribute("data-smart-layout-image-drop-target"));if(h){let e=h.getBoundingClientRect();return{pos:a.inside,node:u,rect:e,image:{src:null==u?void 0:u.attrs.src,source:null==u?void 0:u.attrs.source,query:null==u?void 0:u.attrs.query,name:null==u?void 0:u.attrs.name,uploadStatus:null==u?void 0:u.attrs.uploadStatus}}}return null},f=(e,t,n)=>{let i;if(!n||!m(n,e.state.schema))return null;let r=e.posAtCoords({left:t.clientX,top:t.clientY});if(!r||-1==r.inside)return null;let{doc:o}=e.state,l=o.nodeAt(r.pos),s=o.nodeAt(r.inside);if(s&&(0,c.q)(s))i={node:s,pos:r.inside};else if(l&&(0,c.q)(l))i={node:l,pos:r.pos};else{let e=o.resolve(r.inside);i=(0,a.eL)(e,c.q)}let d=i&&e.nodeDOM(i.pos),u=null==d?void 0:d.querySelector("[data-content-reference]"),p=null==u?void 0:u.getBoundingClientRect();if(!i||!p)return null;let g=o.resolve(i.pos).parent;if(!g||!(0,c.M)(g))return null;let x="right"===h(g.attrs)?t.clientX>p.left+p.width/2?"right":"left":t.clientY>p.top+p.height/2?"bottom":"top";return{pos:i.pos,node:i.node,rect:p,side:x}},b=(e,t,n)=>{var r;if(!n)return null;let o=n.content.toJSON(),l=null==o?void 0:o[0];if(e.state.selection instanceof i.nh&&"smartLayout"===e.state.selection.node.type.name||!l||(null==l?void 0:l.type)!=="smartLayout")return null;let s=null==(r=l.attrs)?void 0:r.variantKey,d=e.posAtCoords({left:t.clientX,top:t.clientY});if(!d||-1==d.inside)return null;let{doc:u}=e.state,p=u.resolve(d.inside),h=(0,a.eL)(p,c.M);if(!h)return null;let m=e.nodeDOM(h.pos),g=null==m?void 0:m.getBoundingClientRect();return g?{pos:h.pos,node:h.node,variantKey:s,rect:g}:null},v=(e,t)=>{let n=(0,a.eL)(t,c.M);n&&e.commands.selectNodeAtPos(n.pos)}},91176:(e,t,n)=>{"use strict";n.d(t,{V:()=>o});var a=n(6029),i=n(55729),r=n(4097);let o=i.forwardRef((e,t)=>{let{onDragStart:n}=(0,r.c)(),i=e.as||"div";return(0,a.jsx)(i,{...e,ref:t,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...e.style}})})},91242:(e,t,n)=>{"use strict";n.d(t,{s:()=>function e(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{doc:o}=t,l=n<0;if(!t.nodeAfter)return null;if(t.nodeAfter.inlineContent)return i.LN.near(o.resolve(t.pos+(l?t.nodeAfter.content.size+1:0)),n);let s=(0,a.xe)(t.nodeAfter,e=>e.inlineContent||!r&&i.nh.isSelectable(e));if(!s||0===s.length)return i.nh.create(o,t.pos);let d=t.start(t.depth+1)+(l?s[s.length-1].pos:s[0].pos);return e(o.resolve(d),n)},t:()=>o});var a=n(37243),i=n(63867),r=n(62040);let o=(e,t)=>{var n;let a,i=e.doc,o=e.steps.length-1,l=e.steps[o];if(!l||!(l instanceof r.Ln||l instanceof r.Wg)||0===l.slice.content.size)return null;let s=t||(null==(n=l.slice.content.child(l.slice.openStart))?void 0:n.type.name);if(e.mapping.maps[o].forEach((e,t,n)=>{null==a&&(a=n)}),null==a)return null;let d=i.nodeAt(a);if(d&&d.type.name===s)return i.resolve(a);if(!s)return console.warn("[getInsertedNodePos] Error selecting node, type not found in slice.lastChild",a),null;for(let t=l.from;t<e.mapping.map(l.to);t++){let n=e.doc.nodeAt(t);if(n&&n.type.name===s)return i.resolve(t)}return null}},91792:(e,t,n)=>{"use strict";n.d(t,{PJ:()=>u,rd:()=>c}),n(6029),n(55729);var a=n(91938);n(6064);var i=n(27002);n(51567);var r=n(25839),o=n(99552);n(58328);var l=n(62452),s=n(43634),d=n(42721);n(51737);let c=()=>{let e=(0,r.GV)(s.SJ),t=(0,r.GV)(o.JN);return t?(0,l.Mw)(t):!!e&&(0,l.Mw)(e)},u=(e,t)=>{let{isGammaOrgUser:n}=(0,d.ur)(),r=(0,i.u)("uploadThemeImagesToProd");return n&&r&&"themeBackground"===t?{orgId:"theme_images/standard",templateId:a.$.TRANSLOADIT_THEME_IMAGE_TEMPLATE_ID,useStandardThemeBucket:!0}:{orgId:e,templateId:void 0,useStandardThemeBucket:!1}}},92198:(e,t,n)=>{"use strict";n.d(t,{H:()=>y});var a=n(6029),i=n(78140),r=n(36999),o=n(49611),l=n(33787),s=n(26420),d=n(12514),c=n(41283),u=n(37930),p=n(48478),h=n(40452),m=n(74676),g=n(99492),x=n(48621),f=n(55729),b=n(27002),v=n(64234);let y=f.memo(e=>{var t;let{currentSource:n,onChange:f,isValidSource:y}=e,w=null==n||null==(t=n.image)?void 0:t.src,C=(0,b.mt)();return(0,a.jsxs)(i.W,{children:[(0,a.jsx)(r.I,{as:o.$,w:"100%",textAlign:"start",rightIcon:(0,a.jsx)(x.g,{icon:g.Jt$}),leftIcon:w?(0,a.jsx)(l._,{h:"1em",w:"1em",objectFit:"cover",src:w}):(null==n?void 0:n.icon)?(0,a.jsx)(x.g,{icon:null==n?void 0:n.icon,color:"var(--chakra-colors-trueblue-600)",fixedWidth:!0}):void 0,mb:4,"data-testid":"media-drawer-menu-button",flexShrink:"0",children:(0,a.jsx)(s.a,{noOfLines:1,wordBreak:"break-all",overflowX:"hidden",textOverflow:"ellipsis",children:(null==n?void 0:n.label())||"Source"})}),(0,a.jsx)(d.Z,{children:(0,a.jsx)(c.c,{zIndex:"modalPopover",maxH:"60vh",overflowY:"auto",pos:"relative","data-media-drawer-menu":!0,children:Object.entries(v.jU).map(e=>{var t;let[i,r]=e,o=r.filter(e=>!(e.checkDisabled&&e.checkDisabled())&&!e.disabled&&(!e.featureFlag||!!C[e.featureFlag])&&y(e));return 0===o.length?null:(0,a.jsx)(u.i,{title:null!=(t=v.K4[i]())?t:i,type:"radio",onChange:f,value:null==n?void 0:n.key,children:o.map(e=>{let{label:t,key:n,icon:i,image:r,badge:o}=e;return(0,a.jsx)(p.k,{value:n,children:(0,a.jsxs)(h.s,{direction:"row",align:"center",children:[r?(0,a.jsx)(l._,{display:"inline",marginInlineEnd:2,h:"1em",w:"1em",objectFit:"contain",src:r.src}):i?(0,a.jsx)(s.a,{display:"inline",marginInlineEnd:2,color:"trueblue.600",children:(0,a.jsx)(x.g,{icon:i})}):(0,a.jsx)(a.Fragment,{}),t(),o&&(0,a.jsx)(m.E,{marginInlineStart:2,colorScheme:"green",children:o()})]})},n)})},i)})})})]})});y.displayName="MediaDrawerMenu"},92377:(e,t,n)=>{"use strict";n.d(t,{O:()=>ep});var a=n(6029),i=n(16936),r=n(57405),o=n(72470),l=n(77979),s=n(26420),d=n(38036),c=n(83638),u=n(25223),p=n(99492),h=n(48621),m=n(48342),g=n(19564),x=n(77650),f=n(77850),b=n(30361),v=n.n(b),y=n(55729),w=n(82328),C=n(80180),j=n(71595),A=n(78140),k=n(36999),S=n(49611),I=n(12514),E=n(41283),L=n(37930),R=n(48478),D=n(48810),M=n(55597);let _={label:()=>x.Ru._({id:"DAmK+T"}),key:"All",description:()=>x.Ru._({id:"Zz/1wq"})},z=[_,{label:()=>x.Ru._({id:"10G8Kb"}),key:"Share",description:()=>x.Ru._({id:"EVNJ2h"})},{label:()=>x.Ru._({id:"SjDzTh"}),key:"ShareCommercially",description:()=>x.Ru._({id:"DHhpJP"})}],T=_.key,N=e=>{var t;return null==(t=z.find(t=>t.key===e))?void 0:t.label()},P=e=>{let{value:t=T,onChange:n}=e;return(0,a.jsxs)(A.W,{children:[(0,a.jsx)(k.I,{w:"100%",as:S.$,boxShadow:"sm",size:"sm",variant:"plain",rightIcon:(0,a.jsx)(h.g,{icon:M.Jt$}),textAlign:"start",children:N(t)}),(0,a.jsx)(I.Z,{children:(0,a.jsx)(E.c,{zIndex:"tooltip",w:"350px",children:(0,a.jsx)(L.i,{type:"radio",w:"100%",defaultValue:_.key,value:t,onChange:e=>n(e),children:z.map(e=>{let{key:t,label:n,description:i}=e;return(0,a.jsxs)(R.k,{value:t,children:[n(),(0,a.jsx)(D.E,{fontSize:"sm",color:"gray.400",children:i()})]},t)})})})})]})};var O=n(91938),H=n(45666),F=n(20196),B=n(67097);let V=e=>(0,y.useCallback)(t=>{fetch("".concat(O.$.API_HOST||"","/media/images/track"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({provider:e,id:t.id})})},[e]),W=e=>{let{provider:t,enablePagination:n,resultsPerPage:a}=e,[i,r]=(0,y.useState)(""),[o,l]=(0,y.useState)([]),[s,d]=(0,y.useState)(!1),[c,u]=(0,y.useState)(!1),[p,h]=(0,y.useState)(1),[m,g]=(0,y.useState)("All"),x=(0,y.useRef)(m),[f,b]=(0,y.useState)(0),v=n&&o.length>0&&p<6&&f===a,w=(0,y.useCallback)(async(e,n)=>{d(!0),u(!1);try{let i={license:x.current,page:n,gammaFeature:"mediaDrawer"};"bing"===t&&(i.minWidth=F.s.minWidth,i.maxWidth=F.s.maxWidth);let r=await (0,H.g)({query:e,count:a,provider:t,options:i});if(d(!1),!((null==r?void 0:r.length)>=0))throw Error("No images found");let o=r.filter(e=>(0,B.zk)(e.imageUrl));b(o.length),l(e=>e.concat(o))}catch(e){u(!0),d(!1),console.error("(caught) [ImageSearchGrid] fetchResults:",e)}},[t,a]),C=(0,y.useCallback)(e=>{l([]),b(0),h(1),r(e),w(e,1)},[w]),j=(0,y.useCallback)(()=>{w(i,p+1),h(p+1)},[w,i,p]),A=(0,y.useCallback)(()=>{r(""),l([]),h(1),b(0)},[]),k=(0,y.useCallback)(e=>{g(e),x.current=e,A(),C(i)},[A,C,i]);return{search:C,isLoading:s,loadMore:j,canLoadMore:v,hasError:c,imageResults:o,resetResults:A,searchQuery:i,license:m,updateLicense:k}};var U=n(40452),G=n(64268),K=n(51504),Q=n(83743),Z=n(69388),q=n(41781),$=n(29452),J=n.n($),Y=n(38420),X=n(8327),ee=n(33787),et=n(1139),en=n(53996),ea=n(80314);let ei=(0,y.memo)(e=>{let{image:t,isSelected:n,onImageClick:i,resizeThumbnail:r}=e,o=r?(0,B.Ub)(t.thumbnailUrl,B.p7):t.thumbnailUrl;return(0,a.jsxs)(S.$,{borderRadius:"base",overflow:"hidden",display:"block",variant:"ghost",width:"100%",opacity:1,textAlign:"left",pos:"relative",p:0,minH:"auto",h:"auto",_hover:{shadow:"outline"},_active:{shadow:"outline"},transition:"box-shadow .2s ease",cursor:"pointer",onClick:()=>i(t),sx:{_focusVisible:{".attribution-container":{opacity:1}},_hover:{".attribution-container":{opacity:1}}},"data-testid":"image-search-grid-item",children:[(0,a.jsx)(ee._,{w:"100%",src:o,fallback:(0,a.jsx)(q.E,{height:"120px",borderRadius:"base"})}),(0,a.jsx)(et.z,{in:n,children:(0,a.jsx)(s.a,{pointerEvents:"none",color:"white",pos:"absolute",inset:0,bg:"rgba(0,0,0,.5)",borderRadius:"base",children:(0,a.jsx)(en.o,{h:"100%",w:"100%",children:(0,a.jsx)(h.g,{icon:p.e68})})})}),!t.thumbnailUrl&&(0,a.jsx)(Z.E,{width:"100%",children:(0,a.jsx)(q.E,{height:"80px",borderRadius:"base"})}),(0,a.jsxs)(s.a,{left:0,right:0,bottom:0,p:2,pos:"absolute",color:"white",fontSize:"xs",textOverflow:"ellipsis",overflow:"hidden",bg:"linear-gradient(180deg, rgba(0,0,0,0) 0%, rgba(0,0,0,1) 100%)",borderBottomRadius:"base",className:"attribution-container",opacity:0,transitionProperty:"common",transitionDuration:"normal",children:[t.attributionUrl&&t.credit&&(0,a.jsx)(m.Tz,{label:t.credit,placement:"left",children:(0,a.jsx)(ea.N,{mr:1,target:"_blank",rel:"noopener noreferrer",href:t.attributionUrl,tabIndex:-1,children:(0,a.jsx)(h.g,{transform:"shrink-4",icon:p.AaJ})})}),t.credit]})]})});ei.displayName="ImageSearchGridItem";let er=e=>{let{searchQuery:t,currentImageUrl:n,updateAttributes:i,provider:r,imageResults:o,isLoading:l,canLoadMore:d,loadMore:c,hasError:u,resultsPerPage:p,resizeThumbnails:h}=e,m=V(r),x=(0,y.useCallback)(e=>{m(e),i((0,X.TF)(e,t,r))},[r,t,m,i]),f=o.map(e=>{let t=e.imageUrl.split("?")[0],i=n&&n.split("?")[0];return(0,a.jsx)(ei,{provider:r,image:e,isSelected:t===i,onImageClick:x,resizeThumbnail:h},e.id)});return(0,a.jsxs)(U.s,{direction:"column",align:"stretch",children:[l&&0===o.length&&(0,a.jsx)(eo,{resultsPerPage:p}),o.length>0&&(0,a.jsx)(Y.A,{columnsCount:3,gutter:"0.5rem",children:f}),d&&(0,a.jsx)(S.$,{variant:"plain",onClick:c,mt:4,isLoading:l,children:(0,a.jsx)(g.x6,{id:"yQ2kGp"})}),0===o.length&&!l&&(0,a.jsx)(s.a,{width:"100%",textAlign:"center",padding:"10px",children:(0,a.jsx)(D.E,{style:{color:"gray"},children:(0,a.jsx)(g.x6,{id:"SihI8q",values:{searchQuery:t}})})}),u&&(0,a.jsxs)(G.F,{status:"error",children:[(0,a.jsx)(K._,{}),(0,a.jsx)(g.x6,{id:"Fkbzp8"})]})]})},eo=e=>{let{resultsPerPage:t}=e;return(0,a.jsx)(Q.r,{columns:3,spacing:2,children:J()(t).map((e,t)=>(0,a.jsx)(Z.E,{children:(0,a.jsx)(q.E,{height:"120px",borderRadius:"base"})},t))})},el="75px",es=y.memo(e=>{let{image:t,isSelected:n,onImageClick:i}=e;return(0,a.jsx)(Z.E,{height:el,width:el,children:(0,a.jsx)(S.$,{borderRadius:"base",bgColor:n?"deepocean.100":void 0,color:"gray.800",display:"block",width:"100%",height:"100%",maxH:"100%",pos:"relative",_hover:{bgColor:n?"deepocean.100":"deepocean.50"},_active:{bgColor:"deepocean.100"},transition:"box-shadow .2s ease",variant:"ghost",cursor:"pointer",onClick:()=>i(t),"data-testid":"image-search-grid-item",children:(0,a.jsx)(s.a,{height:"100%",maxH:"100%",sx:{img:{width:"100%",height:"100%",objectFit:"contain"}},children:(0,a.jsx)("img",{src:t.thumbnailUrl,alt:t.title||"Image search result",style:{width:"100%",height:"100%",objectFit:"contain"}})})})},t.id)});es.displayName="ImageSearchGridItem";let ed=e=>{let{searchQuery:t,currentImageUrl:n,updateAttributes:i,provider:r,imageResults:o,isLoading:l,canLoadMore:d,loadMore:c,hasError:u,resultsPerPage:p,resultEntityType:h="image"}=e,m=V(r),x=(0,y.useCallback)(e=>{m(e),i((0,X.TF)(e,t,r))},[r,t,m,i]),f=o.map(e=>{let t=e.imageUrl.split("?")[0],i=n&&n.split("?")[0];return(0,a.jsx)(es,{image:e,isSelected:t===i,onImageClick:x},e.id)});return(0,a.jsxs)(U.s,{direction:"column",align:"stretch",children:[l&&0===o.length&&(0,a.jsx)(ec,{resultsPerPage:p}),o.length>0&&(0,a.jsx)(Q.r,{gap:2,columns:{base:4,"2xl":6},children:f}),d&&(0,a.jsx)(S.$,{variant:"plain",onClick:c,mt:4,isLoading:l,children:(0,a.jsx)(g.x6,{id:"yQ2kGp"})}),0===o.length&&!l&&(0,a.jsx)(s.a,{width:"100%",textAlign:"center",padding:"10px",children:(0,a.jsx)(D.E,{style:{color:"gray"},children:"icon"===h?(0,a.jsx)(g.x6,{id:"2AY48J",values:{searchQuery:t}}):(0,a.jsx)(g.x6,{id:"SihI8q",values:{searchQuery:t}})})}),u&&(0,a.jsxs)(G.F,{status:"error",children:[(0,a.jsx)(K._,{}),"icon"===h?(0,a.jsx)(g.x6,{id:"5hlcZg"}):(0,a.jsx)(g.x6,{id:"Fkbzp8"})]})]})},ec=e=>{let{resultsPerPage:t}=e;return(0,a.jsx)(Q.r,{columns:{base:4,"2xl":6},spacing:2,children:J()(t).map((e,t)=>(0,a.jsx)(Z.E,{height:el,children:(0,a.jsx)(q.E,{height:"100%",borderRadius:"base"})},t))})},eu=(0,f.P)(i.K),ep=e=>{let{currentImageUrl:t,updateAttributes:n,defaultQuery:i,randomQueries:f,provider:b,enablePagination:A=!0,enableSearch:k=!0,enableLicenseFilter:S=!1,resultsPerPage:I=18,resizeThumbnails:E=!1,resultEntityType:L="image",mediaSearchQuery:R,setMediaSearchQuery:D,displayAsGrid:M=!1}=e,[_,z]=(0,y.useState)(""),{isInOfflineMode:T}=(0,w.u)(),{search:N,isLoading:O,loadMore:H,canLoadMore:F,hasError:B,imageResults:V,resetResults:U,searchQuery:G,license:K,updateLicense:Q}=W({provider:b,enablePagination:A,resultsPerPage:I});(0,y.useEffect)(()=>{D&&G!==R&&D(G)},[G,D,R]),(0,j.Vg)(()=>{if(!T){if(i){z(i),N(i);return}z(""),f?N(v()(f)||""):U()}},[i,T,f,U,N],[b]);let Z=(0,y.useCallback)(()=>{let e=v()(f);e&&N(e)},[f,N]),q=(0,j.lW)(N,1e3);return(0,a.jsxs)(r.T,{spacing:4,align:"stretch",translate:"no",children:[(0,a.jsx)(m.Tz,{placement:"top",label:(0,a.jsx)(g.x6,{id:"wj1Zq8"}),isDisabled:k,children:(0,a.jsxs)(o.M,{size:"md",children:[(0,a.jsx)(l.W,{pointerEvents:"none",children:(0,a.jsx)(s.a,{color:"gray.400",children:(0,a.jsx)(h.g,{icon:p.MjD})})}),(0,a.jsx)(d.p,{isDisabled:!k,placeholder:"icon"===L?x.Ru._({id:"oMAM3/"}):x.Ru._({id:"6YBjmV"}),value:_,onChange:e=>{z(e.target.value),q(e.target.value)},"data-testid":"image-search-input"}),f&&(0,a.jsx)(l.t,{children:(0,a.jsx)(m.Tz,{placement:"top",label:(0,a.jsx)(g.x6,{id:"OVjfHO"}),children:(0,a.jsx)(eu,{icon:(0,a.jsx)(h.g,{icon:p.xNJ}),"aria-label":"Surprise me",variant:"ghost",onClick:Z,size:"sm",whileTap:{y:"-5px"},onMouseDown:C.Fw})})})]})}),S&&(0,a.jsxs)(c.MJ,{children:[(0,a.jsx)(u.l,{fontSize:"sm",fontWeight:"semibold",children:(0,a.jsx)(g.x6,{id:"6TSHCF"})}),(0,a.jsx)(P,{value:K,onChange:Q})]}),G&&(M?(0,a.jsx)(ed,{updateAttributes:n,currentImageUrl:t,searchQuery:G,provider:b,imageResults:V,isLoading:O,canLoadMore:F,loadMore:H,hasError:B,resultsPerPage:I,resizeThumbnails:E,resultEntityType:L}):(0,a.jsx)(er,{updateAttributes:n,currentImageUrl:t,searchQuery:G,provider:b,imageResults:V,isLoading:O,canLoadMore:F,loadMore:H,hasError:B,resultsPerPage:I,resizeThumbnails:E}))]})}},92397:(e,t,n)=>{"use strict";n.d(t,{Ib:()=>f,M7:()=>y,OM:()=>v,Tv:()=>g,Ub:()=>C,hT:()=>x});var a=n(37243),i=n(63867),r=n(25839),o=n(27865),l=n(25745),s=n(43634),d=n(15607),c=n(23460),u=n(85235),p=n(6845),h=n(61385),m=n(47665);let g=(e,t,n)=>{let i=e=>{let t=(0,m.jg)(e),a="boolean"!=typeof n||(0,p.Wq)(e)===n;return t&&a},r=e.state.doc.nodeAt(t),o=e.state.doc.resolve(t);return r&&i(r)?{node:r,pos:t,start:o.start,depth:o.depth}:(0,a.eL)(e.state.doc.resolve(t),i)},x=(e,t)=>{try{let n=(e,t)=>(0,m.jg)(e)&&t===h.$x,a=e.resolve(t),i=e.nodeAt(t);if(i&&n(i,a.depth+1))return{node:i,pos:t};return(0,d.Ft)(a,n)}catch(e){console.error("[findTopCardNodeParent] error",e);return}},f=e=>{let{pos:t,editor:n}=e,a=(0,d.TK)(n.state.doc.resolve(t),m.jg).map(e=>e.node.attrs.id);(0,p.wE)(a,!1)},b=async e=>{let{cardId:t,pos:n,editor:a,cardEl:r,isNested:s=!1,origin:d="editor"}=e;if(!r)return void console.error("[scrollToCard] no cardEl specified");(0,p.wE)(t,!1),f({pos:n,editor:a}),await (0,o.H1)("editor").scrollElementIntoView({element:r,delay:s?h.M2:0}),a.commands.command(e=>{let{tr:t}=e;return t.setSelection(i.LN.near(a.state.doc.resolve(n))).setMeta(l.H,d),!0})},v=e=>{let{cardId:t,editor:n}=e;if(!t)return;let a=(0,r.KA)();if((0,s.wC)(a.getState())===u.w.SLIDE_VIEW)return void n.commands.spotlightCardById(t);let i=document.querySelector('[data-card-id="'.concat(t,'"]'));if(!i)return;let{pos:o}=(0,m.W0)(n,t)||{};if(!o)return;let l=n.state.doc.resolve(o).depth>h.$x;b({cardId:t,pos:o,editor:n,cardEl:i,isNested:l})},y=(e,t,n)=>{let a,i=t.target;if(i.closest(".".concat(h.p$))&&!i.closest("[data-outside-card-body]")||n&&!w(n,e.state.schema))return null;let r=i.closest(".".concat(h.QJ));if(!r)return{pos:e.state.doc.content.size-1};let o=r.querySelector(".".concat(h.p$)),l=null==o?void 0:o.getBoundingClientRect();if(!l)return null;let{doc:s}=e.state;try{let t=e.posAtDOM(r,0);if(-1===t)return null;let n=(0,d.TK)(s.resolve(t),m.jg);if(0===n.length)return null;a=n[n.length-1]}catch(e){return console.error("(caught) [checkBetweenCardsDropTarget] error finding parent node:",e),null}let{node:u,pos:p}=a;if(!p||!u)return null;let[g]=(0,c.qp)(o),x=g+l.top,f=g+l.bottom,b=g+t.clientY;return b<x?{pos:p}:b>f?{pos:p+u.nodeSize}:null},w=(e,t)=>t.nodes.card.validContent(e.content),C=(e,t)=>{let n=(0,d.GY)(e,e=>"cardLayoutItem"===e.type.name);return n.length>0?{node:n[0].node,pos:t+n[0].pos+1}:{node:e,pos:t}}},92685:(e,t,n)=>{"use strict";n.d(t,{q:()=>o});var a=n(6029),i=n(53996),r=n(96500);let o=()=>(0,a.jsx)(i.o,{h:"20px",children:(0,a.jsx)(r.c,{mx:1,borderColor:"gray.300",orientation:"vertical"})})},92700:(e,t,n)=>{"use strict";n.d(t,{UU:()=>E,bX:()=>L});var a=n(6029),i=n(55729),r=n(67909),o=n(36071),l=n(68728),s=n(3674),d=n(40691),c=n(26385),u=n(26420),p=n(23293),h=n(48810),m=n(49611),g=n(58959),x=n(16426),f=n(48342),b=n(19564),v=n(99038),y=n(25839),w=n(95889),C=n(63902),j=n(43634),A=n(16410);let k=e=>{let{link:t,confirmFunction:n,onClose:k}=e,S=(0,y.GV)(j.sX),I=(0,w.st)(),E=(0,i.useRef)(!1),L=(0,C.oR)()?"gamma.site":"gamma.app";return(0,i.useEffect)(()=>{E.current||(E.current=!0,null==I||I.track(w.VV.ABUSE_LINK_INTERCEPT_SHOWN,{docId:S,link:t}))},[I,S,t]),(0,a.jsxs)(r.aF,{isOpen:!0,trapFocus:!1,onClose:()=>k("cancel"),children:[(0,a.jsx)(o.m,{}),(0,a.jsxs)(l.$,{children:[(0,a.jsx)(s.s,{}),(0,a.jsx)(d.c,{alignItems:"center",textAlign:"center",children:(0,a.jsxs)(c.B,{mt:8,spacing:4,children:[(0,a.jsx)(u.a,{mx:"auto",children:(0,a.jsx)(f.uh,{w:"16"})}),(0,a.jsx)(p.D,{size:"lg",children:(0,a.jsx)(b.x6,{id:"7kvRf4",values:{GAMMA_PROPER_NOUN:v.On}})}),(0,a.jsx)(h.E,{children:(0,a.jsx)(b.x6,{id:"wkyxjZ",values:{gammaProperty:L},components:{0:(0,a.jsx)("code",{})}})}),(0,a.jsx)(h.E,{fontSize:"sm",py:1,borderRadius:"sm",color:"gray.600",fontFamily:"mono",bg:"blackAlpha.100",children:t}),(0,a.jsx)(c.B,{spacing:2,mt:2,children:(0,a.jsx)(m.$,{variant:"plain",onClick:()=>{n(t),null==I||I.track(w.VV.ABUSE_LINK_INTERCEPT_CONTINUE,{docId:S,link:t}),k("continue")},children:(0,a.jsx)(b.x6,{id:"xGVfLh"})})}),(0,a.jsx)(m.$,{onClick:()=>{null==I||I.track(w.VV.ABUSE_LINK_INTERCEPT_CANCEL,{docId:S,link:t}),k("cancel")},variant:"solid",children:(0,a.jsx)(b.x6,{id:"zx59ra"})}),(0,a.jsx)(g.z,{pt:2,flex:1,children:(0,a.jsx)(A._,{docId:S,buttonType:"button",onSubmitReport:()=>k("report")})})]})}),(0,a.jsx)(x.j,{})]})]})},S=(0,i.createContext)({}),I=e=>{window.open(e,"_blank","noopener")},E=e=>{let{children:t}=e,[n,r]=(0,i.useState)(!1),[o,l]=(0,i.useState)(""),[s,d]=(0,i.useState)(()=>I),c=(0,i.useCallback)((e,t)=>{l(e),t&&d(()=>()=>t(e)),r(!0)},[]),u=(0,i.useCallback)(()=>{l(""),d(()=>I),r(!1)},[]),[p,h]=(0,i.useState)({showLinkInterstitial:c,hideLinkInterstitial:u});return(0,a.jsxs)(S.Provider,{value:p,children:[n&&(0,a.jsx)(k,{link:o,confirmFunction:s,onClose:u}),t]})},L=()=>(0,i.useContext)(S)},92739:(e,t,n)=>{"use strict";n.d(t,{i:()=>g});var a=n(83817),i=n.n(a),r=n(55729),o=n(27002),l=n(89942),s=n(25839),d=n(63902),c=n(43634),u=n(6181),p=n(28615),h=n(92700),m=n(22911);let g=(e,t)=>{let{showLinkInterstitial:n}=(0,h.bX)(),a=(0,s.GV)(c.sK),g=(0,s.GV)(c.RW),x=(0,s.GV)(c.IO,function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return i()(...t)}),f=(0,l.tN)(a),b=(0,o.u)("knownGoodHostnames"),v=!!(0,u.ur)().user,y=(0,d.oR)(),w=(null==e?void 0:e.startsWith("/"))||(null==e?void 0:e.startsWith("#")),C=p.D1||f,j=p.D1||g||w,A=y?j:C,k=(0,r.useMemo)(()=>A?"trusted":(0,m.L)(e,x,b),[e,x,b,A]),S=(0,r.useMemo)(()=>A||v&&"unknown"===k?e:(0,m.F)(e,x,b),[A,e,v,k,x,b]);return{interceptLinkClick:(0,r.useCallback)(a=>{if(e&&"trusted"!==k&&(!v||"unknown"!==k))return(a.preventDefault(),a.stopPropagation(),"untrusted"===k)?console.warn("[interceptLinkClick] Untrusted link clicked",e):null==n||n(e,t),!0},[e,k,v,n,t]),linkUrlSafe:S,linkTrustLevel:k,linkInterceptEnabled:!1===A,isUntrusted:"untrusted"===k}}},92938:(e,t,n)=>{"use strict";n.d(t,{K:()=>i});var a=n(23513);let i=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=t.nodeAfter;if(!i)return!1;e.deleteRange(t.pos,t.pos+i.nodeSize);let r=e.doc.nodeAt(t.pos),o=t.pos,l=1;(!n&&t.nodeBefore||n&&!r&&t.nodeBefore)&&(o=t.pos-t.nodeBefore.nodeSize,l=-1);let s=e.doc.resolve(o+1),d=(0,a.n)(e.doc.resolve(l>0?s.pos:s.end()),l);return d&&e.setSelection(d),!0}},93043:(e,t,n)=>{"use strict";n.d(t,{a:()=>r});var a=n(81107),i=n(77650);let r={key:"image.unsplash",label:()=>i.Ru._({id:"olwQVc",values:{UNSPLASH_PROPER_NOUN:"Unsplash"}}),description:()=>i.Ru._({id:"SDSvdl"}),icon:a.o5,image:{src:"https://assets.gammahosted.com/j1bla5j5f/_next/static/media/unsplash.1957709b.svg",height:24,width:24,blurWidth:0,blurHeight:0},keywords:["stock","photo","photography","image","unsplash"],resizeToFit:!0}},94297:(e,t,n)=>{"use strict";n.d(t,{M:()=>d});var a=n(84462),i=n.n(a),r=n(33612),o=n.n(r),l=n(6830),s=n(63674);let d=i()(function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"complement",{matchBrightness:a=!1,contrastColor:i,minContrast:r=3,lightnessRange:d}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},u=Array.from(new Set(t));if(0===u.length)return new Map;if(1===u.length){let t=o()(e);return i&&(0,l.vd)(t,i,r),new Map([[u[0],t.toHex8String()]])}return new Map([...(()=>{switch(n){case"monochrome":{let t=o()(e),n=d||{min:15,max:95};if(i){let e=(e,t,n)=>{let a=c(e,t);return(0,l.vd)(a,i,r,n),Math.round(100*a.toHsl().l)};n.min=e(t,n.min,"lighten"),n.max=e(t,n.max,"darken")}let s=(n.max-n.min)/u.length,p=t.getBrightness();return new Map(u.map((e,i)=>{let r=c(t,n.min+s*i);return a&&(0,l.jB)(r,p),[e,r]}))}case"spin":{let t=o()(e),n=t.getBrightness(),i=Math.ceil((u.length-1)/2),r=360/u.length<22?360/u.length:22,d=(0,s.xV)(u.map((e,o)=>{let s=0;o<i&&(s=-((i-o)*r*1)),o>i&&(s=(o-i)*r);let d=t.clone().spin(s);return a&&(0,l.jB)(d,n),d}),u.length%2==0?i:i+1);return new Map(u.map((e,t)=>[e,d[t]]))}default:case"complement":case"complement2":{let t=o()(e),i=180/(u.length-1),r=t.getBrightness();return new Map(u.map((e,o)=>{let s=t.clone().spin(i*o*("complement2"===n?-1:1));return a&&(0,l.jB)(s,r),[e,s]}))}case"alternating":{let t=o()(e),n=t.toHsl().l<.5?t.clone().lighten(30):t.clone().darken(30),i=t.getBrightness();return new Map(u.map((e,r)=>{let o=r%2==0?t.clone():n.clone();return a&&(0,l.jB)(o,i),[e,o]}))}}})().entries()].map(e=>{let[t,n]=e;return[t,n.toHex8String()]}))});function c(e,t){let n=e.toHsl();return n.l=t,o()(n)}},94536:(e,t,n)=>{"use strict";n.d(t,{C:()=>gT});var a=n(57398),i=n(58497),r=n(91938),o=n(87140),l=n(37243),s=n(51589),d=n(62040),c=n(41896),u=n(46957),p=n(6029),h=n(26420),m=n(54765);let g=e=>(0,p.jsx)(m.u,{...e,children:(0,p.jsxs)(h.a,{position:"relative","data-selection-ring":"padded",children:[(0,p.jsx)(c.$p,{as:"blockquote"}),(0,p.jsx)(h.a,{position:"absolute",left:"0",top:"0",height:"100%",w:"var(--line-thickness)",backgroundColor:"var(--accent-color)",backgroundImage:"var(--accent-gradient)"})]})}),x=s.Ay.extend({group:"cardBlock layoutBlock footnoteBlock tableBlock smartLayoutBlock",content:"(block | calloutBlock)+",addNodeView:()=>(0,c.gu)(g,{update:u.z0}),addCommands(){var e;return{...null==(e=this.parent)?void 0:e.call(this),unwrapQuoteOnDelete:()=>e=>{let{state:t,tr:n}=e,{selection:a}=t;if(!a.empty)return!1;let i=(0,l.KP)(e=>e.type.name===x.name)(a);if(!i||!(a.from<=i.pos+2))return!1;let r=a.$from.blockRange(a.$to);if(!r)return!1;let o=(0,d.jP)(r);return!!o&&(n.lift(r,o),!0)}}}});var f=n(41885);let b=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))$/,v=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))$/,y=f.Ay.extend({addInputRules(){return[(0,l.OX)({find:b,type:this.type}),(0,l.OX)({find:v,type:this.type})]},renderHTML(e){let{HTMLAttributes:t}=e;return["b",(0,l.KV)(this.options.HTMLAttributes,t),0]}});var w=n(44911),C=n(9343),j=n(9100);let A=l.bP.create({name:"buttonGroup",content:"button{1, ".concat(j.r4,"}"),group:"block",allowGapCursor:!1,addNodeView:()=>(0,c.gu)(C.r,{update:u.R$}),parseHTML:()=>[{tag:"div[class=button-group]"},{tag:"buttons"}],renderHTML(e){let{HTMLAttributes:t}=e;return["div",(0,l.KV)(t,{class:"button-group"}),0]},renderHTMLforAI(e){let{node:t}=e;return["buttons",{},0]}});var k=n(58959),S=n(48810),I=n(21938),E=n(48621),L=n(55729),R=n(68247),D=n(62452),M=n(6830),_=n(58082),z=n(43216),T=n(93770),N=n(17006),P=n(7957);let O=e=>{let{node:t,editor:n,getPos:a,decorations:i}=e,{variant:r,icon:o,color:l}=t.attrs,{firstChildSize:s}=(0,T.P)(i),{theme:d,isDark:u}=(0,_.a)(i),g=(0,N.bh)(s,d),x=(0,D.Ik)((0,D.VH)(d)),{colors:f,icon:b}=(0,P.Tg)(r),{backgroundColor:v,iconColor:y,bodyColor:w}=l?H(l):F(u,f,x),C=(0,L.useCallback)(()=>{n.isEditable&&n.commands.selectNodeAtPos(a())},[n,a]);return(0,p.jsx)(m.u,{...e,children:(0,p.jsxs)(h.a,{backgroundColor:"".concat(v," !important"),pt:"0.25em",pb:"0.5em",px:"1em",className:"calloutBox",borderRadius:"var(--box-border-radius)",css:{"--body-color":w,"--heading-color":w},"data-selection-ring":!0,pos:"relative",children:[(0,p.jsxs)(k.z,{direction:"row",align:s?"baseline":"flex-start",spacing:"1em",children:[o&&(0,p.jsx)(S.E,{sx:g,onClick:C,color:y,mt:s?void 0:"1em",contentEditable:!1,children:(0,p.jsx)(E.g,{icon:b,fixedWidth:!0})}),(0,p.jsx)(c.$p,{style:{flex:"1 1 auto",minWidth:0},className:(0,I.cx)(R.Dv)})]}),(0,p.jsx)(z.A,{handlePlacement:"outside",...e})]})})},H=e=>{let t=(0,M.$p)(e),n=t?(0,M.PE)(e,.7):(0,M.PE)(e,.3);return{backgroundColor:e,bodyColor:t?"white":"black",iconColor:n}},F=(e,t,n)=>{if("accent"===t){let t=e?(0,M.PE)(n,.15):(0,M.PE)(n,.85),a=e?(0,M.PE)(n,.7):(0,M.PE)(n,.3);return{backgroundColor:t,bodyColor:e?"white":"black",iconColor:a}}let a=e?t.dark:t.light;return{backgroundColor:a.backgroundColor,bodyColor:e?"white":"black",iconColor:a.iconColor}},B=l.bP.create({name:"calloutBox",group:"cardBlock layoutBlock footnoteBlock smartLayoutBlock",content:"(block | calloutBlock)+",selectable:!0,isolating:!0,containerHandle:!0,addAttributes:()=>({variant:{default:"note",parseHTML:e=>e.getAttribute("variant"),renderHTML:e=>({variant:e.variant})},icon:{default:!0},color:{renderHTML:e=>({color:e.color}),parseHTML:e=>e.getAttribute("color")}}),addNodeView:()=>(0,c.gu)(O,{update:u.z0}),parseHTML:()=>[{tag:"aside"}],renderHTML(e){let{HTMLAttributes:t}=e;return["aside",(0,l.KV)(t,{class:"calloutBox"}),0]}});var V=n(87386),W=n(63867),U=n(48993),G=n(8327),K=n(25839),Q=n(47665),Z=n(52762),q=n(62171),$=n(8266),J=n(15607),Y=n(38194),X=n(38934),ee=n(50861),et=n(6845),en=n(94922),ea=n(15902),ei=n(59080);let er=!1;var eo=n(16309),el=n(61385),es=n(43607),ed=n(43634),ec=n(28615),eu=n(57405),ep=n(29810),eh=n(48342),em=n(19564),eg=n(67909),ex=n(36071),ef=n(68728),eb=n(17920),ev=n(26385),ey=n(23293),ew=n(96500),eC=n(3674),ej=n(40691),eA=n(49146),ek=n(23908),eS=n(36693),eI=n(20061),eE=n(3448),eL=n(55597),eR=n(32617),eD=n(71595),eM=n(58809),e_=n(89942);let ez=()=>{let e=(0,K.GV)(eM.Jo);return(0,e_.ez)("card_margin_elements",null==e?void 0:e.organization)};var eT=n(59230);let eN=e=>{let{hideFromFirst:t,hideFromLast:n,...a}=e;return Object.values(a).every(e=>!e)},eP=e=>{let{hideFromFirst:t,hideFromLast:n,...a}=e;return Object.values(a).some(e=>(null==e?void 0:e.type)==="themeLogo")},eO=e=>{var t,n;return(null==e?void 0:e.type)==="image"&&(null==e||null==(t=e.imageAttrs)?void 0:t.src)&&(null==e||null==(n=e.imageAttrs)?void 0:n.uploadStatus)===eT.A.Done},eH=(e,t)=>!(null==e?void 0:e.type)||"text"===e.type&&!e.content||"image"===e.type&&!eO(e)||"themeLogo"===e.type&&null===t,eF=e=>{var t,n;return(null==e?void 0:e.type)!=="image"?null:null!=(n=null==e||null==(t=e.imageAttrs)?void 0:t.src)?n:null},eB=e=>{let{flex:t,text:n}={Left:{flex:"flex-start",text:"left"},Center:{flex:"center",text:"center"},Right:{flex:"flex-end",text:"right"}}[e.replace(/^(top|bottom)/,"")];return{flex:t,text:n}},eV={top:/^top/,bottom:/^bottom/,left:/Left$/,right:/Right$/,center:/Center$/},eW=(e,t)=>eV[e].test(t),eU=(e,t,n)=>{let a=(null!=t?t:1)-1;return e<a?"":((null!=n?n:1)+(e-a)).toString()},eG=(e,t,n)=>{let a=null!=e?e:1,i=null!=t?t:1,r="";2===a?r="—,":a>2&&(r="...,");let o=i+1,l=i+2;return n&&1===a?"".concat(i,", ").concat(o,", ").concat(l,", ").concat(l+1,"..."):"".concat(r," ").concat(i,", ").concat(o,", ").concat(l,"...")},eK=e=>{let t=(0,K.GV)(ed.uF),n=null==e?void 0:e.id,a=!!(n&&t[0]===n),i=t[t.length-1]===n,{cardMarginSettings:r}=(0,K.GV)(ed.Uu),{hideFromFirst:o,hideFromLast:l}=r,s=a&&o,d=i&&l,c=!!(null==e?void 0:e.cardMarginSettings.isHidden);return{isFirstCardAndHidden:s,isLastCardAndHidden:d,isHiddenByCardSettings:c,areElementsCurrentlyHiddenBySettings:!eN(r)&&(s||d||c)}};var eQ=n(46898),eZ=n(49611),eq=n(78140),e$=n(36999),eJ=n(16936),eY=n(41283),eX=n(83550),e0=n(85595),e1=n(99492),e2=n(32380),e4=n(77650);let e5=e=>{let{onDelete:t,isDeleteDisabled:n,editor:a}=e,i=(0,eQ.d)(),r=(0,L.useCallback)(()=>{t();let e=i({title:(0,p.jsxs)(k.z,{children:[(0,p.jsx)(S.E,{children:(0,p.jsx)(em.x6,{id:"i+ZZMW"})}),(0,p.jsx)(eZ.$,{variant:"link",textDecoration:"underline",as:"span",size:"sm",cursor:"pointer",color:"inherit",onClick:()=>{(0,e2.tN)(a.state),i.close(e)},children:(0,p.jsx)(em.x6,{id:"IiqYd9"})})]}),status:"info",duration:3e3,position:"top"})},[a,t,i]);return(0,p.jsxs)(eq.W,{children:[(0,p.jsx)(e$.I,{as:eJ.K,icon:(0,p.jsx)(E.g,{icon:eL.Dwc}),"aria-label":e4.Ru._({id:"CQDm4Q"}),variant:"plain",size:"sm"}),(0,p.jsx)(eY.c,{children:(0,p.jsx)(eX.r,{title:e4.Ru._({id:"ZYWBTf"}),children:(0,p.jsx)(e0.D,{onClick:r,isDisabled:n,color:"red.500",icon:(0,p.jsx)(E.g,{fixedWidth:!0,icon:e1.yLS}),children:(0,p.jsx)(em.x6,{id:"mxPb1C"})})})})]})};var e6=n(40452),e3=n(74003),e9=n(95889),e7=n(99038),e8=n(5061);let te=e=>{let{label:t,children:n,labelProps:a}=e,i=(0,e8.fW)();return(0,p.jsxs)(ev.B,{position:"absolute",top:"50%",insetStart:"50%",transform:"translate(".concat(i?"50%":"-50%",",-50%)"),alignItems:"center",w:"100%",px:16,children:[(0,p.jsx)(S.E,{fontSize:"3xl",textAlign:"center",color:"gray.400",...a,children:t}),n]})},tt=(0,L.memo)(e=>{let{onUpsellClick:t}=e;return(0,p.jsxs)(te,{label:(0,p.jsx)(em.x6,{id:"GRyKgN",values:{PRO_PROPER_NOUN:e7.Kc}}),labelProps:{color:"inherit"},children:[(0,p.jsx)(S.E,{textAlign:"center",mb:"2",children:(0,p.jsx)(em.x6,{id:"RryZ/g",values:{GAMMA_PRO_PROPER_NOUN:e7.Ol}})}),(0,p.jsx)(eZ.$,{variant:"solid",onClick:t,children:(0,p.jsx)(em.x6,{id:"cKQRnY",values:{PRO_PROPER_NOUN:e7.Kc}})})]})});tt.displayName="CardMarginElementsUpsell";var tn=n(9329),ta=n(37930),ti=n(48478),tr=n(6760),to=n(38036),tl=n(83004),ts=n(12562),td=n(49894),tc=n(92124),tu=n(83638),tp=n(25223),th=n(15863),tm=n(72089),tg=n(94740),tx=n(66199),tf=n(18078),tb=n(25311),tv=n(33750),ty=n.n(tv);let tw=e=>{let{value:t,setValue:n,placeholder:a,min:i,max:r,onUpdate:o}=e,l=(0,L.useCallback)(e=>{if(e){let t=parseInt(e);n(ty()(isNaN(t)?i:t,i,r).toString())}else n("")},[i,r,n]),s=(0,L.useCallback)(e=>{"Enter"===e.key&&(l(t),o())},[l,o,t]),d=(0,L.useCallback)(()=>{l(t),o()},[l,o,t]);return(0,p.jsx)(to.p,{type:"number",value:t,placeholder:a||"",onChange:e=>n(e.target.value),onKeyDown:s,onBlur:d,size:"sm",min:i,max:r,textAlign:"center",maxW:"16"})},tC=e=>{let{startIndex:t,startNumber:n}=e,a={height:9,bg:"gray.100",borderRadius:"sm",alignItems:"flex-end",justifyContent:"flex-end",fontSize:"xs"},i=t>2,r=i?[t-1,t,t+1]:[0,1,2,3],o=e=>{let{cardIndex:i}=e,r=eU(i,t,n);return(0,p.jsx)(e6.s,{...a,minH:9,py:.5,px:1.5,flex:"1",children:r},i)};return(0,p.jsxs)(ev.B,{spacing:2,w:"100%",children:[i&&(0,p.jsx)(e=>{let{startingIndex:t}=e,n=ty()(t-1,2,7);return(0,p.jsxs)(ev.B,{spacing:.5,flex:"1",position:"relative",maxH:9,minH:9,children:[[...Array(n)].map((e,t)=>(0,p.jsx)(e6.s,{...a,h:"100%",flex:"1"},t)),(0,p.jsxs)(S.E,{position:"absolute",insetStart:"50%",top:"50%",transform:"translate(-50%, -50%)",fontSize:"xs",bg:"white",borderRadius:"sm",px:1,color:"gray.500",children:["(",t-1,")"]})]})},{startingIndex:t}),r.map(e=>(0,p.jsx)(o,{cardIndex:e},e))]})},tj=e=>{let{element:t,onUpdate:n}=e,[a,i]=(0,L.useState)((()=>{let e=(null==t?void 0:t.type)==="cardNumbers"?t.startIndex:void 0;return 1!==e&&e?2===e?"2":"other":"1"})()),[r,o]=(0,L.useState)((null==t?void 0:t.type)==="cardNumbers"&&t.startIndex&&t.startIndex>2?t.startIndex.toString():""),[l,s]=(0,L.useState)((null==t?void 0:t.type)==="cardNumbers"&&void 0!==t.startNumber&&1!==t.startNumber?t.startNumber.toString():""),d="1"===a?1:"2"===a?2:r?ty()(parseInt(r),1,1e3):void 0,c=""===l?void 0:ty()(parseInt(l),0,1e3),u=(0,L.useCallback)(()=>{n({type:"cardNumbers",startIndex:r?ty()(parseInt(r),1,1e3):void 0,startNumber:c})},[r,c,n]),h=(0,L.useCallback)(()=>{let e=l?ty()(parseInt(l),0,1e3):void 0;n({type:"cardNumbers",startIndex:(null==t?void 0:t.type)==="cardNumbers"?t.startIndex:void 0,startNumber:e})},[l,t,n]),m=(null==t?void 0:t.type)==="cardNumbers"&&(void 0!==t.startIndex||void 0!==t.startNumber);return(0,p.jsxs)(eu.T,{spacing:0,children:[(0,p.jsxs)(k.z,{w:"100%",alignItems:"flex-start",p:3,children:[(0,p.jsxs)(eu.T,{alignItems:"flex-start",flex:"2",spacing:4,children:[(0,p.jsxs)(tu.MJ,{children:[(0,p.jsx)(tp.l,{fontSize:"xs",fontWeight:"bold",children:(0,p.jsx)(em.x6,{id:"EgzmRy"})}),(0,p.jsxs)(eu.T,{spacing:2,alignItems:"flex-start",children:[(0,p.jsx)(th.z,{value:a,defaultValue:a,onChange:e=>{i(e),"other"===e?o(a):o(""),"1"===e?n({type:"cardNumbers",startIndex:1,startNumber:c}):"2"===e&&n({type:"cardNumbers",startIndex:2,startNumber:c})},size:"sm",children:(0,p.jsxs)(ev.B,{spacing:2,children:[(0,p.jsx)(tm.s,{value:"1",children:(0,p.jsx)(S.E,{children:(0,p.jsx)(em.x6,{id:"gidUuU"})})}),(0,p.jsx)(tm.s,{value:"2",children:(0,p.jsx)(S.E,{children:(0,p.jsx)(em.x6,{id:"CfeM0j"})})}),(0,p.jsx)(tm.s,{value:"other",children:(0,p.jsx)(S.E,{children:(0,p.jsx)(em.x6,{id:"m7sNyG"})})})]})}),"other"===a&&(0,p.jsx)(tw,{value:r,setValue:o,min:1,max:1e3,onUpdate:u})]})]}),(0,p.jsxs)(tu.MJ,{children:[(0,p.jsx)(tp.l,{fontSize:"xs",fontWeight:"bold",children:(0,p.jsx)(em.x6,{id:"boZ3aq"})}),(0,p.jsx)(tw,{value:l,setValue:s,placeholder:"1",min:0,max:1e3,onUpdate:h})]})]}),(0,p.jsxs)(eu.T,{spacing:1,w:"100%",alignItems:"flex-start",maxW:"16",children:[(0,p.jsx)(S.E,{fontSize:"xs",children:(0,p.jsx)(em.x6,{id:"GswZF3"})}),(0,p.jsx)(tC,{startIndex:d||1,startNumber:null!=c?c:1})]})]}),m&&(0,p.jsx)(k.z,{px:4,py:2,bg:"gray.50",w:"100%",children:(0,p.jsx)(eZ.$,{variant:"link",size:"xs",w:"100%",onClick:()=>{i("1"),o(""),s(""),n({type:"cardNumbers",startIndex:void 0,startNumber:void 0})},isDisabled:!m,leftIcon:(0,p.jsx)(E.g,{icon:eL.ub2}),children:(0,p.jsx)(em.x6,{id:"L+rMC9"})})})]})},tA=e=>{let{element:t,position:n,showUpsell:a,onUpdate:i}=e,r=(0,e8.fW)(),{flex:o}=eB(n),l=(null==t?void 0:t.type)==="cardNumbers"?t:null,s=null==l?void 0:l.startIndex,d=null==l?void 0:l.startNumber,c={px:3,h:8,w:"100%",borderRadius:"md",fontSize:"sm",cursor:a?"not-allowed":"pointer",bg:a?"blackAlpha.50":"white",color:a?"gray.600":"inherit",justifyContent:o,border:"1px solid",borderColor:a?"transparent":"titanium.300"};return a?(0,p.jsx)(k.z,{...c,children:(0,p.jsx)(S.E,{dir:r?"rtl":void 0,children:eG(s,d)})}):(0,p.jsxs)(tg.A,{children:[(0,p.jsx)(tx.W,{children:(0,p.jsx)(k.z,{...c,children:(0,p.jsx)(S.E,{dir:r?"rtl":void 0,children:eG(s,d)})})}),(0,p.jsx)(tf.h,{maxW:"240px",p:0,overflow:"hidden",children:(0,p.jsx)(tb.e,{p:0,children:(0,p.jsx)(tj,{element:t,onUpdate:i})})})]})};var tk=n(33787),tS=n(3276);let tI=e=>{let{imageElement:t,isError:n,isLoading:a,isCompact:i=!1}=e,r=(0,e8.fW)();return t&&"image"===t.type?n?(0,p.jsxs)(k.z,{dir:r?"rtl":void 0,spacing:1,children:[(0,p.jsx)(S.E,{color:"red.500",fontSize:"xxs",children:(0,p.jsx)(em.x6,{id:"yabRr8"})}),(0,p.jsx)(eh.qT,{color:"red.500",fontSize:i?"xxs":void 0,display:"block",lineHeight:"0",label:(0,p.jsx)(em.x6,{id:"mjco3+"})})]}):a?(0,p.jsx)(tS.y,{size:"xs"}):null:null};var tE=n(87996);let tL={width:"0.1px",height:"0.1px",opacity:0,overflow:"hidden",position:"absolute",zIndex:-1},tR=e=>{let{handleFilesCallback:t,multiple:n=!1,accept:a=tE.RH.join(",")}=e,i=(0,L.useRef)(null);return{inputElement:(0,L.useMemo)(()=>(0,p.jsx)("input",{ref:i,className:"gamma-FileInput-input",style:tL,type:"file",name:"gamma-file-input",multiple:n,accept:a,onChange:e=>{let n=e.target;n&&n.files&&(t(Array.from(n.files)),n.value=null)}}),[a,t,n]),onClick:(0,L.useCallback)(()=>{var e;null==(e=i.current)||e.click()},[])}};var tD=n(29917),tM=n(85443);let t_={sm:6,md:7,lg:8,xl:10},tz={sm:.6,md:.7,lg:.8,xl:.9},tT={sm:{name:()=>e4.Ru._({id:"4Revpc"}),buttonText:()=>e4.Ru._({id:"ZQA8ce"}),height:1.55},md:{name:()=>e4.Ru._({id:"agPptk"}),buttonText:()=>e4.Ru._({id:"Tmu3kA"}),height:2},lg:{name:()=>e4.Ru._({id:"k7rCa/"}),buttonText:()=>e4.Ru._({id:"SMwD6s"}),height:2.65},xl:{name:()=>e4.Ru._({id:"vp6Yr4"}),buttonText:()=>e4.Ru._({id:"ekdhM0"}),height:3.5}};var tN=n(61204);let tP=e=>{let{children:t}=e;return(0,p.jsxs)(k.z,{fontSize:"xs",alignItems:"flex-start",children:[(0,p.jsx)(E.g,{icon:e1.e68,fixedWidth:!0}),(0,p.jsx)(S.E,{fontSize:"xs",children:t})]})},tO=()=>(0,p.jsxs)(ev.B,{spacing:1,children:[(0,p.jsx)(S.E,{fontSize:"xs",children:(0,p.jsx)(em.x6,{id:"wCgOyU"})}),(0,p.jsxs)(ev.B,{spacing:.5,children:[(0,p.jsx)(tP,{children:(0,p.jsx)(em.x6,{id:"48UYx4"})}),(0,p.jsx)(tP,{children:(0,p.jsx)(em.x6,{id:"tzmFSd"})}),(0,p.jsx)(tP,{children:(0,p.jsx)(em.x6,{id:"krkjlf"})})]})]}),tH=e=>{let{currentSize:t,onSizeChange:n,onReplaceImage:a,isDisabled:i=!1}=e,r=void 0!==t;return(0,p.jsxs)(tg.A,{children:[(0,p.jsx)(tx.W,{children:(0,p.jsx)(eJ.K,{"aria-label":e4.Ru._({id:"XyAh4B"}),icon:(0,p.jsx)(E.g,{icon:e1._$s,fixedWidth:!0}),size:"sm",variant:"ghost",borderRadius:"full",color:"blackAlpha.700"})}),(0,p.jsx)(tf.h,{maxW:"260px",p:0,overflow:"hidden",children:(0,p.jsxs)(tb.e,{p:0,children:[(0,p.jsxs)(eu.T,{p:3,spacing:3,alignItems:"flex-start",children:[(0,p.jsxs)(tu.MJ,{children:[(0,p.jsx)(tp.l,{fontSize:"xs",fontWeight:"bold",children:(0,p.jsx)(em.x6,{id:"8J92vb"})}),(0,p.jsx)(tN.e,{isAttached:!0,size:"sm",display:"flex",w:"100%",children:Object.entries(tT).map(e=>{let[a,r]=e;return(0,p.jsx)(eh.Tz,{label:r.name(),placement:"top",children:(0,p.jsx)(eZ.$,{"aria-label":r.name(),px:"2.5",boxShadow:"none",variant:a===t?"plainSelected":"plain",bg:"md"!==a||t?void 0:"deepocean.50",flex:1,onClick:()=>{n(a)},isDisabled:i,children:r.buttonText()})},a)})})]}),(0,p.jsx)(tO,{})]}),(r||a)&&!i&&(0,p.jsxs)(k.z,{px:4,py:2,bg:"gray.50",w:"100%",justifyContent:r&&a?"space-between":"center",children:[r&&(0,p.jsx)(eZ.$,{variant:"link",size:"xs",onClick:()=>{n(void 0)},colorScheme:"gray",leftIcon:(0,p.jsx)(E.g,{icon:e1.ub2,fixedWidth:!0}),children:(0,p.jsx)(em.x6,{id:"cl2Y/T"})}),a&&(0,p.jsx)(eZ.$,{variant:"link",size:"xs",onClick:a,leftIcon:(0,p.jsx)(E.g,{icon:e1.VNe,fixedWidth:!0}),colorScheme:"gray",children:(0,p.jsx)(em.x6,{id:"YOzD/a"})})]})]})})]})},tF=e=>{let{result:t,isError:n}=e;if(n)return{uploadStatus:eT.A.Error,src:null,source:"image.custom"};let{name:a,src:i,meta:r}=t;return{uploadStatus:eT.A.Done,source:"image.custom",name:a,src:i,meta:r}},tB=()=>({uploadStatus:eT.A.Uploading,source:"image.custom",src:null}),tV=e=>{let{onUpdate:t,element:n,position:a,isReadonly:i,showUpsell:r}=e,{currentWorkspace:o}=(0,tM.u)(),[l,s]=(0,L.useState)("idle"),d=(0,L.useRef)(!1),c=(0,L.useMemo)(()=>{if(null==o?void 0:o.id)return tD.Fk.createUppyInstance(null==o?void 0:o.id,{onUploadStart:()=>{s("loading"),t({type:"image",imageAttrs:tB()})},onOriginalFileUpload:e=>{d.current||t({type:"image",imageAttrs:tF({result:e,isError:!1})})},onUploadComplete:e=>{d.current||(s("idle"),t({type:"image",imageAttrs:tF({result:e,isError:!1})}),null==c||c.cancelAll())},onUploadFailed:()=>{s("error"),t({type:"image",imageAttrs:tF({result:void 0,isError:!0})}),null==c||c.cancelAll()}},"cardMargins")},[null==o?void 0:o.id,t]),{onClick:u,inputElement:h}=tR({accept:"image/*",multiple:!1,handleFilesCallback:e=>{d.current=!1;let t=e[0];t&&(null==c||c.addFile({name:t.name,type:t.type,data:t}))}}),m=eF(n),g=(null==n?void 0:n.type)==="image"?n.imageAttrs:void 0,x=(null==n?void 0:n.type)==="image"?n.imageSize:void 0,f="loading"===l||(null==g?void 0:g.uploadStatus)===eT.A.Uploading,b=(null==g?void 0:g.uploadStatus)===eT.A.Error||"error"===l,v="idle"===l&&!g,y=(0,e8.fW)(),{flex:w}=eB(a),C=(0,L.useCallback)(e=>{t({type:"image",imageAttrs:g,imageSize:e})},[t,g]),j=(0,L.useCallback)(()=>{d.current=!0,s("idle"),u()},[u]);return i?(0,p.jsx)(e6.s,{justifyContent:w,dir:y?"rtl":void 0,gap:2,w:"100%",children:m?(0,p.jsx)(tk._,{h:t_[x||"md"]||7,maxW:"100%",objectFit:"contain",src:m,alt:e4.Ru._({id:"aiyf05"})}):(0,p.jsx)(tI,{imageElement:n,isError:(null==g?void 0:g.uploadStatus)===eT.A.Error,isLoading:(null==g?void 0:g.uploadStatus)===eT.A.Uploading})}):v?(0,p.jsxs)(p.Fragment,{children:[h,(0,p.jsx)(eZ.$,{dir:y?"rtl":void 0,leftIcon:(0,p.jsx)(E.g,{icon:e1.MNJ,fixedWidth:!0}),variant:"plain",size:"sm",onClick:u,children:(0,p.jsx)(em.x6,{id:"m3C7sL"})})]}):(0,p.jsxs)(p.Fragment,{children:[h,(0,p.jsx)(k.z,{dir:y?"rtl":void 0,gap:2,w:"100%",justifyContent:w,children:f||b?(0,p.jsx)(tI,{imageElement:n,isError:b,isLoading:f}):m?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(tk._,{h:t_[x||"md"]||7,maxW:40,src:m,objectFit:"contain",bg:"blackAlpha.100"}),(0,p.jsx)(tH,{currentSize:x,onSizeChange:C,onReplaceImage:j,isDisabled:r})]}):null})]})},tW=(0,L.memo)(function(e){let{onClick:t,isCompact:n=!1}=e,a=(0,e8.fW)(),i=(0,p.jsx)(em.x6,{id:"pQr8gu"}),r=(0,p.jsx)("span",{role:"img","aria-label":"warning",children:"⚠️"});return(0,p.jsxs)(k.z,{dir:a?"rtl":void 0,spacing:n?1:2,children:[t?(0,p.jsxs)(k.z,{spacing:n?1:2,children:[r,(0,p.jsx)(eZ.$,{variant:"link",colorScheme:"gray",fontSize:"xxs",onClick:t,children:i})]}):(0,p.jsxs)(S.E,{as:"span",display:"inline-flex",gap:2,fontSize:"xxs",children:[!n&&r,i]}),(0,p.jsx)(eh.qT,{fontSize:n?"xxs":void 0,display:"block",lineHeight:"0",label:(0,p.jsx)(em.x6,{id:"ek68m3"})})]})});var tU=n(51737),tG=n(90098);let tK=()=>{let e=(0,K.GV)(ed.SJ);return{logoSrc:(0,tG.X)(e),logoImage:e.config.logoImage}},tQ=e=>{let{position:t,element:n,onUpdate:a,showUpsell:i,isReadonly:r}=e,o=(0,e8.fW)(),{logoSrc:l}=tK(),s=(0,K.GV)(ed.SJ),{flex:d}=eB(t),c=(0,L.useMemo)(()=>(null==n?void 0:n.type)==="themeLogo"&&"imageSize"in n?n.imageSize:void 0,[n]),u=(0,L.useCallback)(e=>{a({type:"themeLogo",imageSize:e})},[a]),h=(0,L.useCallback)(()=>{s.workspaceId?(0,tU.vd)({theme:s}):(0,tU.L6)({theme:s})},[s]);return(0,p.jsx)(e6.s,{justifyContent:d,dir:o?"rtl":void 0,gap:2,w:"100%",children:l?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(tk._,{h:t_[c||"md"]||7,maxW:"100%",objectFit:"contain",src:l,alt:e4.Ru._({id:"iG7KNr"}),bg:r?void 0:"blackAlpha.100"}),!r&&(0,p.jsx)(tH,{currentSize:c,onSizeChange:u,isDisabled:i})]}):(0,p.jsx)(tW,{onClick:i||r?void 0:h})})};function tZ(){let e=(0,tn._)(["\n      0% { transform: rotate(9deg); background: var(--chakra-colors-trueblue-100); }\n      10% { transform: rotate(-8deg); }\n      20% { transform: rotate(7deg); }\n      30% { transform: rotate(-6deg); }\n      40% { transform: rotate(5deg); }\n      50% { transform: rotate(-4deg); background: var(--chakra-colors-trueblue-100); }\n      60% { transform: rotate(3deg); }\n      70% { transform: rotate(-2deg); }\n      80% { transform: rotate(1deg); }\n      90% { transform: rotate(0deg); }\n      100% { transform: rotate(0deg); background: var(--chakra-colors-blackAlpha-50); }\n   "]);return tZ=function(){return e},e}let tq={text:{key:"text",icon:e1.tiU,name:(0,p.jsx)(em.x6,{id:"xeiujy"}),deleteLabel:(0,p.jsx)(em.x6,{id:"JxxCHL"}),deleteToastLabel:(0,p.jsx)(em.x6,{id:"AwHPSN"})},cardNumbers:{key:"cardNumbers",icon:e1.qzJ,name:(0,p.jsx)(em.x6,{id:"LMa4Y8"}),deleteLabel:(0,p.jsx)(em.x6,{id:"gVFDdv"}),deleteToastLabel:(0,p.jsx)(em.x6,{id:"aTqpEg"})},themeLogo:{key:"themeLogo",name:(0,p.jsx)(em.x6,{id:"zYGAMY"}),icon:e1.fyG,deleteLabel:(0,p.jsx)(em.x6,{id:"cty1ii"}),deleteToastLabel:(0,p.jsx)(em.x6,{id:"sa/uRd"})},image:{key:"image",name:(0,p.jsx)(em.x6,{id:"yrBphF"}),icon:e1.Cyq,deleteLabel:(0,p.jsx)(em.x6,{id:"lP18tl"}),deleteToastLabel:(0,p.jsx)(em.x6,{id:"Aty05U"}),featureFlag:"cardMarginsImageUpload"}},t$=e=>{let{selectedType:t,onSelect:n,canAdd:a,showUpsell:i,onUpsellClick:r}=e;if(!t&&a)return(0,p.jsx)(eX.r,{title:e4.Ru._({id:"qmt9HO"}),textAlign:"start",children:Object.values(tq).map(e=>{let{key:t,icon:a,name:o,featureFlag:l}=e;return l&&!ts.of.get(l)?null:i?(0,p.jsx)(e0.D,{value:t,onClick:r,icon:(0,p.jsx)(E.g,{icon:a,fixedWidth:!0}),bg:"trueblue.50",border:"1px solid white",_hover:{bg:"trueblue.50",borderColor:"trueblue.200"},_focus:{bg:"trueblue.50",borderColor:"trueblue.200"},mt:.5,children:(0,p.jsxs)(h.a,{as:"span",display:"inline-flex",gap:3,w:"100%",children:[(0,p.jsx)(h.a,{as:"span",flex:1,children:o}),(0,p.jsx)(td.Ch,{canUseFeature:!1,productFeature:"card_margin_elements",alignSelf:"center"})]})},t):(0,p.jsx)(e0.D,{value:t,onClick:()=>n(t),icon:(0,p.jsx)(E.g,{icon:a,fixedWidth:!0}),children:o},t)})});if(!t)return null;let o=(0,p.jsx)(eX.r,{children:(0,p.jsx)(e0.D,{onClick:()=>{n(t,!0)},color:"red.500",icon:(0,p.jsx)(E.g,{icon:e1.yLS,fixedWidth:!0,fontSize:"sm"}),children:tq[t].deleteLabel})});return a?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(ta.i,{title:e4.Ru._({id:"Nb1WK7"}),textAlign:"start",value:t,type:"radio",children:Object.values(tq).map(e=>{let{key:t,icon:a,name:i,featureFlag:r}=e;return r&&!ts.of.get(r)?null:(0,p.jsxs)(ti.k,{value:t,onClick:()=>{n(t)},children:[(0,p.jsx)(E.g,{icon:a,fixedWidth:!0}),(0,p.jsx)(h.a,{as:"span",ms:2,children:i})]},t)})}),(0,p.jsx)(tr.N,{}),o]}):o},tJ=(0,tl.i7)(tZ()),tY=(0,L.memo)(e=>{let{selectedType:t,onSelect:n,shouldHighlight:a,canAdd:i,showUpsell:r,onUpsellClick:o}=e;return(0,p.jsxs)(eq.W,{children:[t?(0,p.jsx)(e$.I,{as:eZ.$,variant:"ghost",size:"sm",color:"black",px:"2",rightIcon:(0,p.jsx)(E.g,{icon:e1.Jt$,transform:"shrink-6"}),children:tq[t].name}):(0,p.jsx)(eh.Tz,{label:(0,p.jsx)(em.x6,{id:"qmt9HO"}),isDisabled:!i,placement:"top","aria-label":e4.Ru._({id:"qmt9HO"}),children:(0,p.jsx)(e$.I,{as:eJ.K,isDisabled:!i,size:"lg",variant:"ghost",fontSize:"2xl",transitionProperty:"all",transitionDuration:"normal",color:"gray.800",bg:"blackAlpha.50",animation:a?"".concat(tJ," 1.5s ease-in-out"):void 0,_hover:{bg:"trueblue.100",color:"trueblue.500"},icon:(0,p.jsx)(E.g,{icon:e1.QLR})})}),(0,p.jsx)(eY.c,{children:(0,p.jsx)(t$,{selectedType:t,onSelect:n,canAdd:i,showUpsell:r,onUpsellClick:o})})]})});tY.displayName="CardElementMenu";let tX=(0,L.memo)(e=>{let{position:t,element:n,onUpdate:a,shouldHighlight:i,cardIndex:r,isObscured:o,isReadonly:l,isAddDisabled:s,showUpsell:d,onUpsellClick:c}=e,u=(0,eQ.d)(),m=(0,e8.fW)(),g=null==n?void 0:n.type,x="text"===g,f="cardNumbers"===g,b=(0,L.useRef)(null),[v,y]=(0,L.useState)(x&&(null==n?void 0:n.content)||""),w=(0,L.useCallback)(e=>{a({type:"text",content:e})},[a]),C=(0,tc.lW)(w,300),j=(0,L.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];a({type:e},t),("text"!==e||t)&&y(""),t&&u({title:tq[e].deleteToastLabel,status:"info",duration:2e3,position:"top"})},[a,u]),{flex:A,text:k}=eB(t),I=(0,L.useMemo)(()=>f&&void 0!==r?eU(r,null==n?void 0:n.startIndex,null==n?void 0:n.startNumber):"",[r,n,f]);return(0,p.jsx)(h.a,{flex:1,children:(0,p.jsxs)(ev.B,{spacing:1,alignItems:A,filter:o?"grayscale(1) blur(2px)":void 0,opacity:o?.5:1,pointerEvents:o?"none":void 0,userSelect:o?"none":void 0,children:[!l&&(0,p.jsx)(h.a,{dir:m?"rtl":void 0,children:(0,p.jsx)(tY,{selectedType:g||null,onSelect:j,shouldHighlight:i,canAdd:!s,showUpsell:d,onUpsellClick:c})}),l&&(x||f)&&(0,p.jsx)(S.E,{dir:m?"rtl":void 0,fontSize:"sm",noOfLines:1,children:x?(null==n?void 0:n.content)||"":I}),!l&&x&&(0,p.jsx)(to.p,{dir:m?"rtl":void 0,ref:b,size:"sm",borderRadius:"md",bg:"white",fontSize:"sm",placeholder:e4.Ru._({id:"6MDj8K"}),value:v,maxLength:200,isDisabled:d,onKeyUp:e=>{if(!d&&"Enter"===e.key){var t;null==(t=b.current)||t.blur()}},onChange:e=>{if(d)return;let t=e.target.value;y(t),C(t)},textAlign:k}),!l&&f&&(0,p.jsx)(tA,{element:n,position:t,showUpsell:d,onUpdate:a}),"image"===g&&(0,p.jsx)(tV,{onUpdate:a,element:n,position:t,isReadonly:l,showUpsell:d}),"themeLogo"===g&&(0,p.jsx)(tQ,{position:t,element:n,onUpdate:a,showUpsell:d,isReadonly:l})]})})});tX.displayName="EditableCardMarginElement";let t0=(0,L.memo)(e=>{let{visibilityLabel:t,isHidden:n,showToggleVisibilityButton:a,onToggleVisibility:i}=e;return(0,p.jsx)(te,{label:t,children:a&&(0,p.jsx)(eh.Tz,{label:n?(0,p.jsx)(em.x6,{id:"G/jP6i"}):(0,p.jsx)(em.x6,{id:"Tx4/S/"}),placement:"top",children:(0,p.jsx)(eJ.K,{variant:"plain",size:"lg",fontSize:"2xl",color:n?"red.600":"gray.600",icon:n?(0,p.jsx)(E.g,{icon:eL.k6j}):(0,p.jsx)(E.g,{icon:eL.pS3}),_hover:{color:"default"},"aria-label":n?e4.Ru._({id:"WY1TVs"}):e4.Ru._({id:"xNpXQs"}),onClick:i})})})});t0.displayName="MarginElementsVisibilityControls";let t1=(0,L.memo)(e=>{let{isSingleCardView:t,isHiddenFirst:n,isHiddenLast:a,hasMarginElements:i,isHiddenOnCard:r}=e;return t?i?n?(0,p.jsx)(em.x6,{id:"9weBGZ"}):a?(0,p.jsx)(em.x6,{id:"Qxmjys"}):r?(0,p.jsx)(em.x6,{id:"+gYV7s"}):(0,p.jsx)(em.x6,{id:"079GgA"}):(0,p.jsx)(em.x6,{id:"tb4e+E"}):(0,p.jsx)(em.x6,{id:"4upC5z"})});t1.displayName="VisibilityLabel";let t2=(e,t)=>{if(!e)return;let n=t.indexOf(e);return -1===n?void 0:n},t4=e=>{let{editor:t,highlightPosition:n,cardNode:a,getPos:i,showUpsell:r}=e,o=(0,e9.st)(),{cardMarginSettings:l}=(0,K.GV)(ed.Uu),s=null==a?void 0:a.attrs,d=!!a,c=!eN(l),{isFirstCardAndHidden:u,isLastCardAndHidden:h,isHiddenByCardSettings:m}=eK(s),g=d&&(u||h||m),x=(0,K.GV)(ed.uF),f=t2(null==s?void 0:s.id,x),b=(0,L.useCallback)(e=>{t.commands.updateDocumentSettings({cardMarginSettings:{...l,...e}})},[t,l]),v=(0,L.useCallback)(e=>function(t){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=l[e],i=!!((null==a?void 0:a.type)&&t.type&&t.type!==a.type);b({[e]:n?void 0:{...!i&&(a||{}),...t}}),null==o||o.track(e9.VV.CARD_MARGIN_SETTINGS_UPDATED,{elementType:t.type,position:e,action:n?"delete":i?"replace":"add"})},[o,l,b]),y=d&&!u&&!h&&c,w=(0,L.useCallback)(()=>{if(a&&i)try{t.commands.updateNestedAttributesAtPos(i(),{cardMarginSettings:{...a.attrs.cardMarginSettings,isHidden:!a.attrs.cardMarginSettings.isHidden}})}catch(e){console.error("(caught) [CardMarginsBuilder](updateVisibility): could not update card",e)}},[a,t,i]),{openUpsellModal:C}=(0,e3.I)(),j=(0,L.useCallback)(()=>{C({segmentEvent:e9.VV.GAMMA_PRO_UPSELL_CARD_MARGINS})},[C]);return(0,p.jsxs)(e6.s,{p:4,minH:"320px",bg:"gray.50",flexDirection:"column",justifyContent:"space-between",position:"relative",borderRadius:"md",...r&&!d&&{_before:{content:'""',position:"absolute",inset:0,borderRadius:"md",border:"2px solid transparent",background:"var(--chakra-colors-gradient-brand-bg)",mask:"linear-gradient(#fff 0 0) padding-box, linear-gradient(#fff 0 0)",maskComposite:"subtract",opacity:.7,pointerEvents:"none"}},children:[(0,p.jsx)(e6.s,{justifyContent:"space-between",gap:6,alignItems:"flex-start",dir:"ltr",children:["topLeft","topCenter","topRight"].map(e=>(0,p.jsx)(tX,{position:e,onUpdate:v(e),element:l[e],shouldHighlight:n===e,isReadonly:d,isObscured:g,cardIndex:f,showUpsell:r,onUpsellClick:j,isAddDisabled:r&&c},e))}),r&&!d?(0,p.jsx)(tt,{onUpsellClick:j}):(0,p.jsx)(t0,{visibilityLabel:(0,p.jsx)(t1,{isSingleCardView:d,isHiddenFirst:u,isHiddenLast:h,hasMarginElements:c,isHiddenOnCard:m}),isHidden:m,showToggleVisibilityButton:y,onToggleVisibility:w}),(0,p.jsx)(e6.s,{justifyContent:"space-between",gap:6,alignItems:"flex-end",dir:"ltr",children:["bottomLeft","bottomCenter","bottomRight"].map(e=>(0,p.jsx)(tX,{position:e,onUpdate:v(e),element:l[e],shouldHighlight:n===e,isReadonly:d,isObscured:g,cardIndex:f,showUpsell:r,onUpsellClick:j,isAddDisabled:r&&c},e))})]})};var t5=n(61491);let t6=(0,L.memo)(e=>{let{hideFromFirst:t,hideFromLast:n,onUpdateSettings:a}=e;return(0,p.jsxs)(tg.A,{placement:"bottom-end",children:[(0,p.jsx)(tx.W,{children:(0,p.jsx)(eZ.$,{leftIcon:(0,p.jsx)(E.g,{icon:t||n?eL.k6j:eL.pS3}),rightIcon:(0,p.jsx)(E.g,{icon:e1.Jt$,transform:"shrink-6"}),size:"sm",variant:"plain",children:t&&n?(0,p.jsx)(em.x6,{id:"80NdhM"}):t?(0,p.jsx)(em.x6,{id:"gidUuU"}):n?(0,p.jsx)(em.x6,{id:"vc1V76"}):(0,p.jsx)(em.x6,{id:"4upC5z"})})}),(0,p.jsx)(tf.h,{w:"fit=content",minW:"200px",children:(0,p.jsx)(tb.e,{p:3,children:(0,p.jsxs)(ev.B,{children:[(0,p.jsx)(eh._x,{mb:1,children:(0,p.jsx)(em.x6,{id:"lLeEP7"})}),(0,p.jsx)(t5.S,{isChecked:t,onChange:e=>{a({hideFromFirst:e.target.checked})},children:(0,p.jsx)(em.x6,{id:"1UzO8k"})}),(0,p.jsx)(t5.S,{isChecked:n,onChange:e=>{a({hideFromLast:e.target.checked})},children:(0,p.jsx)(em.x6,{id:"uGWhnt"})})]})})})]})});t6.displayName="DisplaySettingsPopover";let t3=(0,L.memo)(e=>{let{editor:t,isOpen:n,onClose:a,cardNode:i,getPos:r,highlightPosition:o}=e,[l,s]=(0,L.useState)(0),{areElementsCurrentlyHiddenBySettings:d}=eK(null==i?void 0:i.attrs);(0,eD.Vg)(()=>{n?d&&s(1):s(0)},[d,n],[n]);let c=ez(),u=(0,eR.u)("cardMarginElements"),{cardMarginSettings:m}=(0,K.GV)(ed.Uu),{hideFromFirst:g,hideFromLast:x}=m,f=eN(m),b=!!i,v=b||c,y=(0,L.useCallback)(e=>{t.commands.updateDocumentSettings({cardMarginSettings:{...m,...e}})},[t,m]),w=(0,L.useCallback)(()=>{let e={...void 0!==g?{hideFromFirst:g}:void 0,...void 0!==x?{hideFromLast:x}:void 0};t.commands.updateDocumentSettings({cardMarginSettings:e})},[g,x,t]);return u?(0,p.jsx)(eh.L8,{isDark:!1,children:(0,p.jsxs)(eg.aF,{isOpen:!0,onClose:a,size:"3xl",blockScrollOnMount:!1,children:[(0,p.jsx)(ex.m,{}),(0,p.jsxs)(ef.$,{children:[(0,p.jsx)(eb.r,{children:(0,p.jsxs)(ev.B,{spacing:1,children:[(0,p.jsx)(ey.D,{size:"lg",children:(0,p.jsx)(em.x6,{id:"JQFgkZ"})}),(0,p.jsx)(S.E,{fontSize:"md",fontWeight:500,letterSpacing:"normal",color:"gray.600",children:(0,p.jsx)(em.x6,{id:"F1uM5U"})})]})}),(0,p.jsx)(ew.c,{}),(0,p.jsx)(eC.s,{}),(0,p.jsx)(ej.c,{pb:"6",pt:v?4:6,children:(0,p.jsxs)(eA.t,{variant:"soft-rounded",size:"sm",isLazy:!0,index:l,onChange:s,position:"relative",children:[(0,p.jsxs)(ek.w,{position:"relative",sx:v?{minH:8,mb:4}:void 0,children:[b&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(eS.o,{children:(0,p.jsx)(em.x6,{id:"4upC5z"})}),(0,p.jsxs)(eS.o,{children:[(0,p.jsx)(S.E,{me:d?2:void 0,as:"span",children:(0,p.jsx)(em.x6,{id:"xkzndo"})}),d&&(0,p.jsx)(h.a,{color:"red.600",as:"span",children:(0,p.jsx)(E.g,{icon:eL.k6j})})]})]}),0===l&&c&&(0,p.jsxs)(k.z,{position:"absolute",justifyContent:"flex-end",insetEnd:"0",top:"0",children:[(0,p.jsx)(t6,{hideFromFirst:g,hideFromLast:x,onUpdateSettings:y}),(0,p.jsx)(e5,{onDelete:w,isDeleteDisabled:f,editor:t})]})]}),(0,p.jsxs)(eI.T,{children:[(0,p.jsx)(eE.K,{p:0,children:(0,p.jsx)(t4,{editor:t,highlightPosition:o,showUpsell:!c})}),(0,p.jsx)(eE.K,{p:0,children:(0,p.jsx)(t4,{editor:t,highlightPosition:o,cardNode:i,getPos:r,showUpsell:!c})})]})]})})]})]})}):null});t3.displayName="CardMarginsModal";var t9=n(22445);let t7=()=>{let{isOpen:e,onClose:t,onOpen:n}=(0,t9.E)({id:"card-margins-elements"}),[a,i]=(0,L.useState)();return{isCardMarginsModalOpen:e,onCloseCardMarginsModal:t,onOpenCardMarginsModal:n,positionToHighlight:a,setPositionToHighlight:i}};var t8=n(27002),ne=n(32395),nt=n(75287);let nn=(0,L.createContext)(void 0);nn.Provider;let na=()=>(0,L.useContext)(nn);var ni=n(73071);let nr=e=>{let{editorId:t,children:n}=e,a=(0,nt.l)(),i=na();return(0,ni.b)(t||i)&&a?n:null};var no=n(50764),nl=n(84431),ns=n(25600),nd=n(83747);class nc extends nd.b{initialize(){this.on("cardViewed",e=>{let{cardId:t,interval:n}=e;this.viewedCards[t]=this.viewedCards[t]||0,this.viewedCards[t]+=n});let e=()=>{var e;this.cardViewedThreshold=null!=(e=t8.of.get("cardViewedThreshold"))?e:5e3};t8.of.subscribe("cardViewedThreshold",e),e()}flush(){let e={};for(let t in this.viewedCards){let n=this.viewedCards[t];n&&!(n<this.cardViewedThreshold)&&(e[t]=Math.floor(n/1e3))}this.emit("flush",{viewed:e}),this.viewedCards={}}destroy(){this.flush(),this.off("cardViewed"),this.off("flush")}constructor(...e){super(...e),this.viewedCards={},this.cardViewedThreshold=t8.of.get("cardViewedThreshold")}}let nu=new nc,np=e=>{let{cardId:t,...n}=e,[a,i]=(0,L.useState)(0),[r,o]=(0,L.useState)(!1),[l,s]=(0,L.useState)(0);return(0,L.useEffect)(()=>{let e=nu.on("cardViewed",e=>{let{cardId:n,interval:a}=e;t===n&&i(e=>e+a)}),n=nu.on("flush",e=>{let{viewed:n}=e;i(0),n[t]&&(o(!0),s(n[t]),setTimeout(()=>o(!1),2e3))});return()=>{e(),n()}},[t]),(0,p.jsxs)(h.a,{...n,bg:r?"#c3313a":"#f5ae00",children:[!r&&(0,p.jsxs)(h.a,{children:["time on card: ",Math.floor(a/1e3),"s"]}),r&&(0,p.jsxs)(h.a,{children:["Tracked View: ",l,"s"]})]})},nh=e=>{let t=(0,K.GV)(t8.Gm),{getPos:n,node:a}=e,{id:i}=a.attrs;return t?(0,p.jsxs)(e6.s,{left:8,top:2,zIndex:"overlay",position:"absolute",pointerEvents:"none",opacity:.5,contentEditable:!1,children:[(0,p.jsx)(h.a,{bg:"yellow",px:2,mr:2,borderRadius:"md",children:i}),(0,p.jsxs)(h.a,{bg:"trueblue.200",px:2,mr:2,borderRadius:"md",children:["f:",n()," t:",n()+a.nodeSize]}),(0,p.jsx)(np,{cardId:i,px:2,borderRadius:"md"})]}):null};var nm=n(68917),ng=n(89122),nx=n(12514),nf=n(80314),nb=n(40162),nv=n(40061),ny=n(24813),nw=n(17928),nC=n(80180),nj=n(26053),nA=n(62695);let nk=[{key:"start",name:()=>e4.Ru._({id:"Xl2IZ9"}),icon:e1.jot,description:()=>e4.Ru._({id:"N0rIpR"})},{key:"center",name:()=>e4.Ru._({id:"7FOGnf"}),icon:e1.nr0,description:()=>e4.Ru._({id:"3JV7Yt"})},{key:"end",name:()=>e4.Ru._({id:"H0UcZG"}),icon:e1.yHR,description:()=>e4.Ru._({id:"LcSMtc"})}],nS=e=>{let{defaultAlignment:t,alignment:n,setAlignment:a}=e;return(0,p.jsx)(tN.e,{isAttached:!0,size:"sm",display:"flex",children:nk.map(e=>{let i=n||e.key!==t?e.key===n?"trueblue.100":void 0:"trueblue.50";return(0,p.jsx)(eh.Tz,{label:(0,p.jsx)(eh.c8,{label:e.name(),description:e.description()}),placement:"top",children:(0,p.jsx)(eJ.K,{"aria-label":e.name(),px:"2.5",boxShadow:"none",icon:(0,p.jsx)(E.g,{icon:e.icon}),variant:"plain",bg:i,onClick:()=>{a(e.key)}})},e.key)})})};var nI=n(82689),nE=n(40268);let nL=e=>{let{icon:t,customIcon:n,label:a,children:i,useSpacer:r=!0,...o}=e;return(0,p.jsxs)(ev.B,{direction:"row",spacing:4,alignItems:"center",...o,children:[t&&(0,p.jsx)(E.g,{fixedWidth:!0,icon:t}),n&&n,(0,p.jsx)(S.E,{children:a}),r&&(0,p.jsx)(ep.h,{}),i]})},nR=e=>{let{editor:t,accentPos:n,cardId:a,hasAccentImage:i,isBehindLayout:r}=e,o=(0,L.useCallback)(()=>{n&&t.commands.updateAttributesAtPos(n,{background:{type:Z.h.NONE}})},[t,n]),l=(0,L.useCallback)(()=>{nE.R.emit("toggleEditBackgroundDrawer",{openDrawer:!0,cardId:a})},[a]);return(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(nL,{label:r?(0,p.jsx)(em.x6,{id:"23c2Uw"}):(0,p.jsx)(em.x6,{id:"e5Sy/T"}),icon:e1.Cyq,children:(0,p.jsx)(k.z,{spacing:1,children:(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(eZ.$,{size:"sm",variant:"link",onClick:l,children:i?(0,p.jsx)(em.x6,{id:"ePK91l"}):(0,p.jsx)(em.x6,{id:"PNapeY"})}),i&&(0,p.jsx)(eh.Tz,{label:(0,p.jsx)(em.x6,{id:"sGYCGx"}),placement:"top",children:(0,p.jsx)(eJ.K,{"aria-label":e4.Ru._({id:"sGYCGx"}),size:"sm",variant:"link",onClick:o,colorScheme:"red",icon:(0,p.jsx)(E.g,{icon:e1.K3F})})})]})})})})},nD=e=>{let{editor:t,getPos:n,onAddOrEditClick:a,isDisabled:i,hasBackdrop:r}=e,o=(0,L.useCallback)(()=>{t.commands.updateAttributesAtPos(n(),{background:{type:Z.h.NONE}})},[t,n]);return(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)(nL,{icon:e1.pt,label:(0,p.jsx)(em.x6,{id:"ANn8Qe"}),color:i?"gray.500":void 0,children:[i&&(0,p.jsx)(eh.Tz,{placement:"top",label:(0,p.jsx)(em.x6,{id:"ZnOCf5"}),isDisabled:!i,children:(0,p.jsx)(h.a,{fontSize:"sm",cursor:"help",children:(0,p.jsx)(E.g,{fixedWidth:!0,icon:eL.k6j})})}),(0,p.jsx)(k.z,{spacing:1,children:!i&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(eZ.$,{size:"sm",variant:"link",onClick:a,children:r?(0,p.jsx)(em.x6,{id:"ePK91l"}):(0,p.jsx)(em.x6,{id:"PNapeY"})}),r&&(0,p.jsx)(eh.Tz,{label:(0,p.jsx)(em.x6,{id:"IfZ6hd"}),placement:"top",children:(0,p.jsx)(eJ.K,{"aria-label":e4.Ru._({id:"IfZ6hd"}),size:"sm",variant:"link",onClick:o,colorScheme:"red",icon:(0,p.jsx)(E.g,{icon:e1.K3F})})})]})})]})})};var nM=n(95714),n_=n(11818),nz=n(53113);let nT=e=>{let{value:t,onChange:n,cardColor:a}=e,i=(0,nI.Dz)(a),[r,o]=(0,L.useState)(!1),l=Math.round(100*(t||i));return(0,p.jsx)(nL,{label:(0,p.jsx)(em.x6,{id:"CMsMJp"}),icon:e1.jC5,useSpacer:!1,children:(0,p.jsxs)(k.z,{spacing:.5,w:"140px",children:[(0,p.jsx)(S.E,{fontSize:"xs",color:"gray.500",minW:"25px",children:"0%"}),(0,p.jsxs)(nz.Ap,{value:t||i,min:0,max:1,step:.05,onChange:n,onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),colorScheme:"trueblue",size:"sm",flex:1,children:[(0,p.jsx)(nz.hB,{children:(0,p.jsx)(nz.hJ,{})}),(0,p.jsx)(eh.Tz,{placement:"top",isOpen:r,label:"".concat(l,"%"),children:(0,p.jsx)(nz.OQ,{})})]}),(0,p.jsx)(S.E,{fontSize:"xs",color:"gray.500",minW:"30px",children:"100%"})]})})};var nN=n(67097);let nP=[{label:()=>e4.Ru._({id:"37VL/A"}),value:"frosted"},{label:()=>e4.Ru._({id:"W4wYdx"}),value:"faded"},{label:()=>e4.Ru._({id:"siC4v8"}),value:"none"}],nO=e=>{var t,n;let{editor:a,accentPos:i,accentBackground:r,effect:o,intensity:l,cardColor:s}=e,d=(0,L.useCallback)(e=>{if(!i||!r)return;let t={background:{mask:{...r.mask,effect:e}}};a.commands.updateNestedAttributesAtPos(i,t)},[a,r,i]),c=(0,L.useCallback)(e=>{var t;if(!i)return;let n={background:{mask:{...null!=(t=null==r?void 0:r.mask)?t:{effect:nI.$.effect},intensity:e}}};a.commands.updateNestedAttributesAtPos(i,n)},[a,r,i]),u=null!=o?o:nI.$.effect,h=null!=(n=null==(t=nP.find(e=>e.value===o))?void 0:t.label())?n:(0,p.jsx)(em.x6,{id:"xg0y9o"});return(0,p.jsxs)(eu.T,{spacing:3,align:"stretch",children:[(0,p.jsx)(nL,{label:(0,p.jsx)(em.x6,{id:"u4YODQ"}),icon:e1.B2J,children:(0,p.jsxs)(eq.W,{isLazy:!0,children:[(0,p.jsx)(e$.I,{as:eZ.$,variant:"plain",size:"sm",minW:"128px",boxShadow:"none",textAlign:"left",rightIcon:(0,p.jsx)(nm.D,{}),children:h}),(0,p.jsx)(eY.c,{children:(0,p.jsx)(ta.i,{value:u,type:"radio",onChange:d,children:nP.map(e=>{let{value:t,label:n}=e;return(0,p.jsx)(ti.k,{value:t,children:n()},t)})})})]})}),"none"!==o&&(0,p.jsx)(nT,{value:l,onChange:c,cardColor:s})]})};var nH=n(83650),nF=n(54229);let nB=e=>{var t;let{editor:n,attrs:a,getPos:i}=e,r=(0,K.GV)(ed.SJ),o=(0,q.gK)(null==(t=a.container)?void 0:t.background);return{currentColor:o,themeCardColor:(0,D.Oq)(r),setCardColor:e=>{let{container:t}=a,r=e?{background:{type:Z.h.COLOR,color:{hex:e}}}:{background:void 0};void 0!==t.isDark&&(r.isDark=void 0),n.commands.updateNestedAttributesAtPos(i(),{container:{...t,...r}})}}},nV=e=>{let{editor:t,attrs:n,getPos:a}=e,{setCardColor:i,currentColor:r,themeCardColor:o}=nB({editor:t,attrs:n,getPos:a});return(0,p.jsx)(nL,{icon:e1.wIs,label:"behind"===n.layout?(0,p.jsx)(em.x6,{id:"cA3hQ0"}):(0,p.jsx)(em.x6,{id:"9d2iLQ"}),children:(0,p.jsxs)(eq.W,{isLazy:!0,children:[(0,p.jsx)(nH.v,{color:null!=r?r:o,isDefaultColor:void 0===r}),(0,p.jsx)(eY.c,{overflow:"hidden",children:(0,p.jsx)(nF.b,{currentColor:null!=r?r:o,setColor:i,source:"CardColor"})})]})})},nW=[{key:"sm",name:()=>e4.Ru._({id:"58+81B"}),buttonText:()=>e4.Ru._({id:"ZQA8ce"}),description:()=>e4.Ru._({id:"LX+k3Q"})},{key:"md",name:()=>e4.Ru._({id:"ovBPCi"}),buttonText:()=>e4.Ru._({id:"Tmu3kA"}),description:()=>e4.Ru._({id:"Of2q2s"})},{key:"lg",name:()=>e4.Ru._({id:"I5S9ZE"}),buttonText:()=>e4.Ru._({id:"SMwD6s"}),description:()=>e4.Ru._({id:"nRirkB"})}],nU=e=>{let{contentWidth:t,defaultContentWidth:n,setWidth:a,allowedWidths:i=["sm","md","lg"]}=e;return(0,p.jsx)(tN.e,{isAttached:!0,size:"sm",display:"flex",children:nW.filter(e=>i.includes(e.key)).map(e=>{let i=t||e.key!==n?e.key===t?"trueblue.100":void 0:"trueblue.50";return(0,p.jsx)(eh.Tz,{label:(0,p.jsx)(eh.c8,{label:e.name(),description:e.description()}),placement:"top",children:(0,p.jsx)(eZ.$,{"aria-label":e.name(),px:"2.5",boxShadow:"none",variant:"plain",bg:i,onClick:()=>{a(e.key)},children:e.buttonText()})},e.key)})})},nG=e=>{let{editor:t,getPos:n,contentWidth:a}=e,{defaultContentWidth:i}=(0,K.GV)(ed.Uu),r=(0,L.useCallback)(e=>{t.commands.updateNestedAttributesAtPos(n(),{container:{width:e}})},[t,n]);return(0,p.jsx)(nL,{icon:e1.So7,label:(0,p.jsx)(em.x6,{id:"cPp+Ef"}),children:(0,p.jsx)(nU,{setWidth:r,contentWidth:a,defaultContentWidth:i,allowedWidths:["md","lg"]})})};var nK=n(99430);let nQ=e=>{let{editor:t,getPos:n,isFullWidth:a}=e,i=(0,L.useCallback)(()=>{t.commands.updateAttributesAtPos(n(),{cardSize:a?"contained":"full"})},[t,n,a]);return(0,p.jsx)(nL,{icon:e1.Cpz,label:(0,p.jsx)(em.x6,{id:"BquNv8"}),children:(0,p.jsx)(nK.d,{isChecked:a,onChange:i})})};var nZ=n(98071),nq=n(30361),n$=n.n(nq);let nJ=()=>{let e=(0,K.GV)(ed.SJ);return(0,L.useCallback)(()=>n$()(e.config.accentBackgrounds),[e])},nY=(e,t)=>{let n=nJ(),a=(0,e9.st)();return(0,L.useCallback)(i=>{"blank"===i?e.commands.setCardLayout(t,i):e.commands.setCardLayout(t,i,n),null==a||a.track(e9.VV.CARD_LAYOUT_UPDATED,{source:"card-styling-menu",layout:i})},[e,t,n,a])},nX=["blank","top","left","right","behind"],n0=e=>{let{layout:t,editor:n,getPos:a,edgeLayoutsEnabled:i}=e,r=nY(n,a()),o=nX.filter(e=>i||["blank","behind"].includes(e));return(0,p.jsx)(tN.e,{mb:2,dir:"ltr",children:o.map(e=>{let n=(0,nZ.Nu)(e);return(0,p.jsx)(eh.Tz,{label:n,placement:"top",children:(0,p.jsx)(eJ.K,{"aria-label":n,flex:1,variant:"plain",size:"md",onClick:()=>r(e),icon:(0,p.jsx)(n1,{layout:e,isSelected:t===e}),boxShadow:"none",background:t===e?"trueblue.50":"white"})},e)})})},n1=e=>{let{layout:t,isSelected:n}=e,a=n?"trueblue.400":"gray.300",i=null;return"top"===t?i=(0,p.jsx)(h.a,{height:"0.375rem",width:"100%",background:a}):"left"===t?i=(0,p.jsxs)(e6.s,{height:"100%",minH:"100%",children:[(0,p.jsx)(h.a,{width:"0.625rem",minH:"100%",background:a}),(0,p.jsx)(h.a,{flex:"1",minH:"100%"})]}):"right"===t&&(i=(0,p.jsxs)(e6.s,{height:"100%",minH:"100%",children:[(0,p.jsx)(h.a,{flex:"1",minH:"100%"}),(0,p.jsx)(h.a,{width:"0.625rem",minH:"100%",background:a})]})),(0,p.jsx)(h.a,{boxSizing:"border-box",height:"1.25rem",width:"1.75rem",border:"2px solid",borderRadius:"sm",borderColor:a,background:"behind"===t?a:"none",children:i})},n2=()=>(0,p.jsxs)("span",{className:"fa-layers fa-fw fa-sm",children:[(0,p.jsx)(E.g,{icon:e1.adM,style:{top:"-1rem"}}),(0,p.jsx)(E.g,{icon:e1.adM,style:{bottom:"-1rem"}}),(0,p.jsx)(E.g,{icon:e1.Cpz})]}),n4=e=>{let{hasCardMarginElements:t,onAddOrEditClick:n,isHiddenByVisibilitySettings:a,isHiddenByCardSettings:i,onToggleVisibility:r}=e;return(0,p.jsx)(nL,{customIcon:(0,p.jsx)(n2,{}),label:(0,p.jsx)(em.x6,{id:"JQFgkZ"}),children:(0,p.jsxs)(k.z,{spacing:1,children:[(0,p.jsx)(eZ.$,{size:"sm",variant:"link",onClick:n,colorScheme:"trueblue",children:(0,p.jsx)(em.x6,{id:"ePK91l"})}),a&&(0,p.jsx)(eh.Tz,{label:(0,p.jsx)(em.x6,{id:"gB9UFo"}),children:(0,p.jsx)(h.a,{as:"span",color:"red.600",cursor:"help",children:(0,p.jsx)(E.g,{fixedWidth:!0,icon:eL.k6j})})}),!a&&t&&r&&(0,p.jsx)(eh.Tz,{label:i?(0,p.jsx)(em.x6,{id:"+gYV7s"}):(0,p.jsx)(em.x6,{id:"079GgA"}),placement:"top",children:(0,p.jsx)(eJ.K,{size:"sm",variant:"ghost","aria-label":i?"Show card margins":"Hide card margins",color:i?"red.600":"gray.600",icon:(0,p.jsx)(E.g,{icon:i?eL.k6j:eL.pS3}),onClick:r,_hover:{bg:i?"red.50":"gray.50"}})})]})})};var n5=n(2095),n6=n(52842),n3=n(27229),n9=n(68068),n7=n(60628),n8=n(64268),ae=n(51504),at=n(45318),an=n(3864),aa=n(53587),ai=n(64234),ar=n(62917),ao=n(6064),al=n(82328),as=n(75748),ad=n(92198);let ac=(e,t)=>{if(!e.source&&e.type===Z.h.IMAGE){var n;return null==(n=e.image)?void 0:n.source}return!e.source&&t?ai.dO:e.source},au=(0,L.memo)(e=>{let{editor:t,defaultMessage:n,isDark:a,setCurrentSourceKey:i,currentSourceKey:r,currentSource:o,updateCurrentBackground:l,currentBackground:s,isValidSource:d,editType:c="background",contextualTheme:u,defaultToNoBackgroundSource:h=!1,closeDrawer:m}=e,{isConnected:g}=(0,al.u)(),x=(0,L.useCallback)(e=>{let t=ai.Fn[e];t.backgroundType&&l({type:t.backgroundType,source:e,[t.backgroundType]:void 0})},[l]),f=(0,L.useCallback)(()=>x(r),[r,x]),b=(0,L.useCallback)(e=>{e===ai.dO&&x(ai.dO),i(e)},[i,x]),v=ac(s,h);(0,L.useEffect)(()=>{v&&ai.Fn[v]&&i(v)},[v,i]);let y=!!(g||(null==o?void 0:o.availableOffline)),w=ai.ez[r],C="themeBackground"===c?ao.rWX.Theme:ao.rWX.Doc;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(as.r,{isConnected:y,description:(0,p.jsx)(em.x6,{id:"nfjtFu"}),mb:3,my:6}),(0,p.jsx)(ad.H,{isValidSource:d,onChange:b,currentSource:o}),o&&(0,p.jsx)(w,{closeDrawer:m,editor:t,updateAttributes:e=>{o.backgroundType&&(o.key===aa.j?l(e):l({type:o.backgroundType,[o.backgroundType]:{...e},source:r}))},currentAttributes:(e=>o.backgroundType?o.key===aa.j?e:e[o.backgroundType]||{}:{})(s),resetToPlaceholder:f,editType:c,isDark:a,contextualTheme:u,savedMediaContext:C}),r===ai.dO&&n]})});au.displayName="BackgroundPanel";let ap=e=>!!e.backgroundType,ah=e=>{let{closeDrawer:t,editor:n,updateNestedAttributes:a,background:i,defaultMessage:r,isDark:o,isValidSource:l,defaultToNoBackgroundSource:s}=e,{currentEditBackgroundDrawerSourceKey:d,setBackgroundDrawerSourceKeyAction:c}=(0,ar.Bz)(),u=ai.Fn[d],h=(0,L.useCallback)(e=>{u.key===aa.j?a({background:e}):a({background:{...e,accentId:void 0}})},[null==u?void 0:u.key,a]),m=(0,L.useCallback)(e=>l?l(e)&&ap(e):ap(e),[l]);return(0,p.jsx)(au,{closeDrawer:t,editor:n,isDark:o,isValidSource:m,defaultMessage:r,currentBackground:i,updateCurrentBackground:h,currentSourceKey:d,setCurrentSourceKey:c,currentSource:u,defaultToNoBackgroundSource:s})};var am=n(78481),ag=n(9119);let ax=()=>{let{isOpen:e,onOpen:t,onClose:n}=(0,n3.j)(),[a,i]=(0,L.useState)(0),r=(0,L.useCallback)(e=>{t(),i(e)},[t]),o=(0,K.jL)();return{openBackgroundTab:(0,L.useCallback)(function(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];e&&o((0,ag.lj)()),r(0)},[o,r]),openStylesTab:(0,L.useCallback)(()=>{r(1)},[r]),isOpen:e,onClose:n,tabIndex:a,setTabIndex:i}},af=(0,L.memo)(function(e){let{editor:t,isOpen:n,onClose:a,background:i,updateNestedAttributes:r,tabIndex:o,setTabIndex:l,backFrom:s,isAccentImageDrawer:d=!1}=e,c=(0,am.N)(t),u=(0,L.useCallback)(()=>{0!==o&&l(0),a()},[a,o,l]),h=(0,an.o)(),m=d?n6.lK.accentImage():n6.lK.cardBackground(),g=(0,L.useCallback)(e=>!d||e.backgroundType!==Z.h.NONE,[d]);return(0,p.jsxs)(n9._s,{trapFocus:!1,isOpen:n,placement:"right",onClose:u,size:h,blockScrollOnMount:!1,children:[(0,p.jsx)(ex.m,{background:"none"}),(0,p.jsxs)(n7.z,{onKeyDown:c,"data-in-editor-focus":!0,"data-edit-background-drawer":!0,"data-testid":"card-style-drawer",children:[(0,p.jsx)(eC.s,{}),(0,p.jsx)(eb.r,{fontSize:"x-large",children:(0,p.jsxs)(k.z,{me:7,children:[(0,p.jsx)(em.x6,{id:"xYilR2"}),(0,p.jsx)(ep.h,{}),i.type===Z.h.IMAGE&&i.image&&d&&(0,p.jsx)(at.V,{onClick:u,image:i.image,backFrom:s})]})}),(0,p.jsx)(ej.c,{overflowX:"hidden",sx:{scrollbarGutter:"stable"},display:"flex",flexDirection:"column",pt:0,children:(0,p.jsx)(ah,{closeDrawer:u,editor:t,updateNestedAttributes:r,background:i,defaultMessage:(0,p.jsxs)(n8.F,{children:[(0,p.jsx)(ae._,{}),m]}),isDark:!1,isValidSource:g})})]})]})}),ab=(0,L.memo)(e=>{var t,n;let{editor:a,getPos:i,attrs:r,accentBackgroundMaskEffect:o,accentBackgroundMaskIntensity:l,displayLayout:s,insideSideLayout:d,isNested:c,isFullBleed:u,contentWidth:h,cardDimensionsKey:m,editBackdrop:g,onOpenCardMarginsModal:x,cardColor:f}=e,b=(0,K.jL)(),v=(0,L.useCallback)(()=>{b((0,n5.md)())},[b]),{verticalAlign:y,presentBackdrop:w}=(0,K.GV)(ed.Uu),{setBackgroundDrawerSourceKeyAction:C}=(0,nA.B)(),j={};try{j=(0,en.l0)(a.state.doc.resolve(i()))}catch(e){console.error("[CardStylingMenuInner] could not get layout items for card ".concat(r.id,": ").concat(e))}let A=(0,eQ.d)(),I=(null==(t=j.accent)?void 0:t.pos)||null,R=null==(n=j.accent)?void 0:n.node.attrs.background,D=R&&R.type!==Z.h.NONE,M="none"!==r.background.type,_="default"!==r.cardSize||M||D||r.container.width||r.container.background||"blank"!==s||r.verticalAlign,z="behind"===s&&D&&(0,nI.dY)(R),T=(0,K.GV)(ed.Jq),N=(0,eR.u)("cardMarginElements")&&"webpage"!==T,{cardMarginSettings:P}=(0,K.GV)(ed.Uu),O=!eN(P),{isFirstCardAndHidden:H,isLastCardAndHidden:F,isHiddenByCardSettings:B}=eK(r),V="fluid"===m||h,W="fluid"===m||M||w,U=(0,L.useCallback)(()=>{let e={};M&&(e.background={type:Z.h.NONE,source:void 0}),e.cardSize=void 0,e.verticalAlign=void 0,e.container={...r.container,width:void 0},r.container.background&&(e.container={...r.container,background:void 0}),"blank"!==s&&(e.layout="blank"),I?a.chain().updateAttributesAtPos(i(),e).updateNestedAttributesAtPos(I,{background:{type:Z.h.NONE}}).run():a.commands.updateAttributesAtPos(i(),e);let t=e4.Ru._({id:"rQHMjX"}),n=e4.Ru._({id:"9uI/rE"}),o=A({title:(0,p.jsxs)(k.z,{children:[(0,p.jsx)(S.E,{children:t}),(0,p.jsx)(nf.N,{textDecoration:"underline",onClick:()=>{(0,e2.tN)(a.state),A.close(o)},children:n})]}),status:"info",duration:3e3,position:"top"})},[M,r.container,s,I,a,i,A]),G=(0,L.useCallback)(()=>{try{a.commands.updateNestedAttributesAtPos(i(),{cardMarginSettings:{...r.cardMarginSettings,isHidden:!r.cardMarginSettings.isHidden}})}catch(e){console.error("(caught) [CardMarginsBuilder](updateVisibility): could not update card",e)}},[a,i,r.cardMarginSettings]);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(ev.B,{spacing:4,p:4,children:[(0,p.jsx)(n0,{editor:a,layout:s,getPos:i,edgeLayoutsEnabled:!d}),"blank"!==s&&(0,p.jsx)(nR,{editor:a,accentPos:I,cardId:r.id,hasAccentImage:!!D,isBehindLayout:"behind"===s}),z&&(0,p.jsx)(nO,{editor:a,accentBackground:R,accentPos:I,effect:o,intensity:l,cardColor:f}),(0,p.jsx)(nV,{editor:a,attrs:r,getPos:i}),!c&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(ew.c,{my:"1"}),(0,p.jsx)(nQ,{editor:a,getPos:i,isFullWidth:u}),(0,p.jsx)(nL,{icon:e1.ecg,label:(0,p.jsx)(em.x6,{id:"vUBA/H"}),children:(0,p.jsx)(nS,{defaultAlignment:y,alignment:r.verticalAlign,setAlignment:e=>{a.commands.updateAttributesAtPos(i(),{verticalAlign:e})}})}),V&&(0,p.jsx)(nG,{editor:a,getPos:i,contentWidth:h}),W&&(0,p.jsx)(nD,{editor:a,getPos:i,onAddOrEditClick:()=>{C(nv.L),g(!1)},hasBackdrop:M,isDisabled:u}),N&&(0,p.jsx)(n4,{hasCardMarginElements:O,isHiddenByVisibilitySettings:!!(H||F),isHiddenByCardSettings:B,onAddOrEditClick:()=>{x(),v()},onToggleVisibility:G})]})]}),(0,p.jsxs)(nb.B,{px:5,py:3,bg:"gray.50",mx:-1,mb:-1,justify:_?"space-between":"center",alignItems:"center",borderBottomRadius:"xl",children:[_&&(0,p.jsx)(nb.Q,{children:(0,p.jsx)(eZ.$,{onClick:U,variant:"link",size:"sm",colorScheme:"gray",my:0,leftIcon:(0,p.jsx)(E.g,{icon:e1.ub2}),children:(0,p.jsx)(em.x6,{id:"6hU6uw"})})}),(0,p.jsx)(nb.Q,{children:(0,p.jsx)(eZ.$,{onClick:()=>{v(),nw.LF.emit(nw.DN.OPEN_PAGE_SETUP,"cards")},variant:"link",size:"sm",colorScheme:"gray",my:0,leftIcon:(0,p.jsx)(E.g,{icon:e1.BH7}),children:(0,p.jsx)(em.x6,{id:"fvaOtb"})})})]})]})}),av=(0,L.memo)(e=>{let{attrs:t,editor:n,getPos:a,onOpenCardMarginsModal:i,decorations:r}=e,{cardColor:o}=(0,_.a)(r),{color:l,bg:s,hoverColor:d,hoverBg:c,borderColor:u}=(0,nj.Nb)(),h=(0,L.useRef)(null),m=(0,K.GV)((0,n5.C_)(t.id,"styling")),g=(0,K.jL)(),x=(0,L.useCallback)(()=>{g((0,n5.md)())},[g]),f=(0,L.useCallback)(()=>{g((0,n5.CM)({cardId:t.id,menuType:"styling"}))},[g,null==t?void 0:t.id]),{openBackgroundTab:b,...v}=ax(),y=(0,L.useCallback)(e=>{(0,ny.e)(n,a(),e)},[n,a]);return(0,ng.j)({ref:h,handler:e=>{if(!m)return;let n=e.target;if(n&&n instanceof Element){var a;let e=n.closest('[data-card-styles-menu-trigger="'.concat(t.id,'"]')),i=!!(null==(a=n.closest(".chakra-modal__content-container"))?void 0:a.querySelector("[data-edit-background-drawer]")),r=!!n.closest("[data-media-drawer-menu]");if(e||i||r)return}x()}}),(0,p.jsxs)(eh.L8,{isDark:!1,children:[(0,p.jsx)(k.z,{spacing:1,onClick:nC.dG,contentEditable:!1,pointerEvents:"auto",children:(0,p.jsxs)(tg.A,{isLazy:!0,returnFocusOnClose:!1,isOpen:m,onClose:x,closeOnBlur:!1,children:[(0,p.jsx)(eh.Tz,{label:(0,p.jsx)(em.x6,{id:"F153E+"}),placement:"top",shouldWrapChildren:!0,children:(0,p.jsx)(tx.W,{children:(0,p.jsxs)(eZ.$,{"data-card-styles-menu-trigger":t.id,height:n6.PN,fontWeight:"900",alignItems:"center",fontFamily:"body",display:"flex",backdropFilter:"blur(8px)",borderRadius:"sm",borderColor:u,color:l,boxShadow:"sm",cursor:"pointer",fontSize:"14px",bg:s,px:.5,_hover:{color:d,background:c},onClick:f,children:[(0,p.jsx)(E.g,{icon:e1.fyG,fixedWidth:!0}),(0,p.jsx)(nm.D,{})]})})}),(0,p.jsx)(nx.Z,{children:(0,p.jsx)(tf.h,{"data-card-styles-menu":!0,ref:h,width:"360px",fontFamily:"body",fontSize:"md",border:"none",children:(0,p.jsx)(ab,{...e,cardColor:o,editBackdrop:b,onOpenCardMarginsModal:i})})})]})}),(0,p.jsx)(af,{editor:n,updateNestedAttributes:y,background:t.background,container:t.container,...v})]})});var ay=n(24302),aw=n(65230),aC=n(17859);let aj=e=>{let{interactionId:t,operation:n,instructions:a,RatingButtons:i=aw.LW}=e,[r,o]=(0,L.useState)(null),l=(0,L.useCallback)((e,i,r)=>{(0,aC.pS)({feedback:i,tags:r,rating:e,interactionId:t,instructions:a,operation:n})},[t,a,n]),s=(0,L.useCallback)(e=>{o(e),(0,aC.D8)({rating:e,interactionId:t,operation:n,instructions:a})},[t,n,a]);return(0,p.jsx)(aw.f3,{rating:r||void 0,setRating:s,RatingButtons:i,feedbackTags:aA,trackFeedback:l})},aA=[{key:"wrong-language",label:(0,p.jsx)(em.x6,{id:"R2Ly6h"})},{key:"wrong-layout",label:(0,p.jsx)(em.x6,{id:"moXJSM"})},{key:"wrong-content",label:(0,p.jsx)(em.x6,{id:"AgLuGi"})},{key:"wrong-images",label:(0,p.jsx)(em.x6,{id:"IAt1qK"})},{key:"too-similar",label:(0,p.jsx)(em.x6,{id:"Np7sCV"})},{key:"too-different",label:(0,p.jsx)(em.x6,{id:"/wLn3u"})},{key:"instructions",label:(0,p.jsx)(em.x6,{id:"Tq32Jp"})},{key:"other",label:(0,p.jsx)(em.x6,{id:"/IX/7x"})}];var ak=n(70246),aS=n(80116),aI=n(98701);n(81904),n(72772);var aE=n(94289);n(28630);var aL=n(1057),aR=n(59824),aD=n(43182),aM=n(98807),a_=n(98308),az=n(83143),aT=n(45574),aN=n(6181),aP=n(58618),aO=n(42721),aH=n(95011),aF=n(44245);async function aB(e){let{prompt:t,language:n,variant:a,context:i}=e,r=JSON.parse(await (0,aI.K8)({promptKey:"GenerateDiagram",variables:{variant:a,prompt:t,language:n},workspaceId:i.workspaceId}));if(!r.variant||!r.data)throw Error("Invalid response format from GenerateDiagram prompt");return r}var aV=n(90047);class aW{detectNode(e){if(e.type.name!==this.nodeType||!this.getNodeId(e))return!1;let t=e.attrs;return!!(t&&t.aiGenerateParams&&"queued"===t.aiGenerateStatus)}getNodeId(e){var t;return(null==(t=e.attrs)?void 0:t.id)||null}getCacheKey(e,t){var n;let a=this.getNodeId(e),i=t.interactionId,r=e.attrs,o=r.templateKey,l=null==(n=r.aiGenerateParams)?void 0:n.prompt;return l||console.error("[SmartDiagramProcessor.getCacheKey] No prompt in aiGenerateParams"),"".concat(i,"__").concat(this.nodeType,"__").concat(a,"__").concat(o,"__").concat(l)}async processNode(e,t){let n=e.attrs||{};try{let e=await aB({prompt:n.aiGenerateParams.prompt,language:n.aiGenerateParams.language,variant:n.templateKey,context:{docId:t.docId,workspaceId:t.workspaceId,interactionId:t.interactionId}}),a=(0,aF.FV)(e.variant);return{...n,templateKey:e.variant,aiGenerateStatus:"done",horizontalAlign:"center",data:{...e.data,colorScheme:null==a?void 0:a.defaultColorScheme}}}catch(t){console.error("[SmartDiagramProcessor] Error processing ".concat(this.nodeType,":"),t);let e=n.templateKey?(0,aF.FV)(n.templateKey):void 0;return{...n,aiGenerateStatus:"error",data:(null==e?void 0:e.defaultData)?e.defaultData():void 0}}}constructor(){this.nodeType="smartDiagram"}}class aU{detectNode(e){let t=(0,aT.um)(e);return!!(t&&"queued"===t.loadImageStatus&&t.loadImageId&&t.loadImageParams)}getNodeId(e){let t=(0,aT.um)(e);return(null==t?void 0:t.loadImageId)||null}getCacheKey(e,t){var n;let a=this.getNodeId(e),i=t.interactionId,r=null==(n=(0,aT.um)(e).loadImageParams)?void 0:n.query;return r||console.error("[ImageProcesor.getCacheKey] No query for in loadImageParams"),"".concat(i,"__").concat(this.nodeType,"__").concat(a,"__").concat(r)}async processNode(e,t){let n=(0,aT.um)(e);try{let a=n.loadImageParams;if("cardImageItem"===e.type.name){let e={aspectRatio:"landscape",model:t8.of.get("imageCardModel"),artStylePrompt:"",visualsMenuEnabled:!1,stylePrompt:t.theme?(0,aL.LU)(t.theme,"artStylePrompt"in a.options?a.options.artStylePrompt:void 0):void 0};a.options={...a.options,...e}}let i=await (0,aV.a)({loadImageId:n.loadImageId,loadImageParams:a,context:{docId:t.docId,workspaceId:t.workspaceId,interactionId:t.interactionId},imageStore:t.imageStore});return(0,aT.wH)(e,i)}catch(n){if(console.error("[ImageProcessor] Error processing ".concat(this.nodeType,":"),n),"cardAccentLayoutItem"===e.type.name&&t.theme)return{...e.attrs,background:(0,aL.gN)(t.theme,t.cardId)};return(0,aT.wH)(e,{loadImageStatus:"error"})}}constructor(){this.nodeType="image"}}class aG{detectNode(e){if(e.type.name!==this.nodeType||!this.getNodeId(e))return!1;let t=e.attrs.code;return!!t&&this.findImages(t).length>0}findImages(e){return Array.from(new DOMParser().parseFromString(e,"text/html").querySelectorAll(this.selector))}getNodeId(e){var t;return(null==(t=e.attrs)?void 0:t.id)||null}getCacheKey(e,t){let n=this.getNodeId(e),a=t.interactionId;return"".concat(a,"__").concat(this.nodeType,"__").concat(n)}async processNode(e,t){let n=e.attrs,{code:a}=n,i=new DOMParser().parseFromString(a,"text/html"),r=Array.from(i.querySelectorAll(this.selector));return await Promise.all(r.map(async e=>{try{let n=e.getAttribute("prompt")||e.getAttribute("query"),a=await (0,aV.a)({loadImageId:e.id,loadImageParams:{provider:"ICON"===e.tagName?"icon":"aiGenerated",query:n,options:{}},context:{docId:t.docId,workspaceId:t.workspaceId,interactionId:t.interactionId},imageStore:t.imageStore});e.src=a.src||"",e.alt=a.query||"",e.removeAttribute("prompt")}catch(t){console.error("Failed to load image:",t),e.removeAttribute("prompt")}})),{...n,aiGenerateStatus:"done",code:i.body.innerHTML}}constructor(){this.nodeType="cardCodeItem",this.selector="img[prompt], icon[query]"}}let aK=()=>[new aW,new aU,new aG],aQ=new Map,aZ=new Map,aq=async e=>{let{editor:t,rootNode:n,theme:a,interactionId:i,workspaceId:r,docId:o,startPos:l,endPos:s}=e,d=aK(),c=new aH.t;n.descendants((e,n)=>{if((!l||!(n<l))&&(!s||!(n>s)))for(let n of d){if(!n.detectNode(e))continue;let l=n.getNodeId(e);if(!l)continue;let s={docId:o||t.gammaDocId,workspaceId:r||t.gammaOrgId||(0,aO.gx)(),interactionId:i,theme:a,imageStore:c},d=n.getCacheKey(e,s);if(aZ.has(d)){aJ(t,l,n,aZ.get(d));continue}if(aQ.has(d)){aQ.get(d).then(e=>{aJ(t,l,n,e)});continue}let u=n.processNode(e,s);aQ.set(d,u),u.then(e=>{aZ.set(d,e),aJ(t,l,n,e)});break}})},a$=async e=>{let{editor:t,content:n,theme:a,interactionId:i,workspaceId:r,docId:o}=e,l=aE.bP.fromJSON(t.state.schema,n);aq({editor:t,rootNode:l,theme:a,interactionId:i,workspaceId:r,docId:o})},aJ=(e,t,n,a)=>{let i=(0,l.xe)(e.state.doc,e=>n.getNodeId(e)===t)[0];if(!i)return void console.error("[updateAsyncNodeAttrs] Could not find node with id=".concat(t));let r=e.chain();r.updateAttributesAtPos(i.pos,a),r.noUndo&&r.noUndo(),r.run()};var aY=n(45611);let aX=e=>{let t=a0(e)[0];return a1(t),t},a0=e=>{let t=(0,l._w)(gT()),{content:n}=a2(new DOMParser().parseFromString(e,"text/html"),t);return n},a1=e=>{var t,n,a,i,r;let o=e.content.find(e=>"cardAccentLayoutItem"===e.type);if(!o)return;let l=o.attrs.background;if(!l||(0,q.gK)(null==(t=e.attrs.container)?void 0:t.background))return;let s=null==l||null==(a=l.image)||null==(n=a.meta)?void 0:n.average_color,d=s&&(0,M.$p)(s);"behind"===e.attrs.layout&&(d||.5>(0,aP.d)(e.attrs.id))&&(null!=(i=e.attrs).container||(i.container={}),e.attrs.container.background={type:Z.h.COLOR,color:{hex:"#000000"}});let c=e.content.find(e=>"cardLayoutItem"===e.type);if(!c)return;let u=(c.content||[]).filter(e=>"paragraph"!==e.type||e.content);try{l.mask={effect:0===u.length?"none":"faded"}}catch(e){console.error("[caught] [fixBehindBackgroundMask]",e,"with accentBackground:",l)}},a2=(e,t)=>{(0,a_.h)(e);let n=aE.S4.fromSchema(t).parseSlice(e.body);return{content:(0,aM.ne)(n,t,void 0).content.toJSON()}},a4=new nd.b;var a5=n(39247),a6=n(92397);let a3=e=>{let t=e.getState(),n=(0,ed.Ev)(t),a=(0,a5.ow)(t);return Object.keys(n.tree).map(e=>{var t;return null==(t=a[e])?void 0:t.title}).filter(e=>!!e).join("\n")};var a9=n(90108);let a7=(e,t)=>{let n=(0,a9.lI)(e),a=(0,a9.zK)(n),i=(0,ak.fc)();return{blockFlags:i,format:a,outline:a3(t),theme:a8((0,ed.SJ)(t.getState()))}},a8=e=>({accentColors:(e?(0,D.CD)(e):[]).slice(0,10).map(e=>(0,D.Ik)(e))});var ie=n(6018),it=n(66380),ia=n(21329),ii=n(14994),ir=n(9118),io=n(22529);let il={src:"https://assets.gammahosted.com/j1bla5j5f/_next/static/media/Title-with-2-Column-Image-Left.a898abf9.svg",height:47,width:92,blurWidth:0,blurHeight:0},is={src:"https://assets.gammahosted.com/j1bla5j5f/_next/static/media/Title-with-3-boxes.8a28c3c6.svg",height:49,width:91,blurWidth:0,blurHeight:0},id={src:"https://assets.gammahosted.com/j1bla5j5f/_next/static/media/Title-with-3-images.172b44a3.svg",height:69,width:92,blurWidth:0,blurHeight:0},ic={src:"https://assets.gammahosted.com/j1bla5j5f/_next/static/media/Title-with-Bullets.066ad97e.svg",height:55,width:92,blurWidth:0,blurHeight:0},iu={src:"https://assets.gammahosted.com/j1bla5j5f/_next/static/media/Title-with-text.2a88d207.svg",height:45,width:92,blurWidth:0,blurHeight:0},ip={src:"https://assets.gammahosted.com/j1bla5j5f/_next/static/media/Title-with-timeline.5a8d1065.svg",height:63,width:91,blurWidth:0,blurHeight:0},ih=()=>[{name:e4.Ru._({id:"RYtHky"}),key:"bullets",image:ic,aiDescription:"Use the bullets smart layout for small amounts of text or a list of UL/OL/LI tags for large amounts."},{name:e4.Ru._({id:"m2tQ9E"}),key:"paragraphs",image:iu,aiDescription:"Write in paragraphs with no additional layout blocks."},{name:e4.Ru._({id:"2abZdy"}),key:"twoColImage",image:il,aiDescription:"Use a columns layout with text in one column and an image in the other."},{name:e4.Ru._({id:"cklVjM"}),key:"timeline",image:ip,aiDescription:"Use the timeline smart layout."},{name:e4.Ru._({id:"cDxTeG"}),key:"imagesWithText",image:id,aiDescription:"Use the images with text smart layout."},{name:e4.Ru._({id:"61H/21"}),key:"boxes",image:is,aiDescription:"Use the text boxes smart layout."}],im={language:"English (US)",textAmount:"md",tone:"",audience:"",format:"deck",imageProvider:"aiGenerated"},ig=e=>{var t,n;let{editor:a,getPos:i,theme:r,input:o}=e,s=(0,K.GV)(eM.Jo),d=s.organization.id,c=(0,K.GV)((0,io.d8)(d)),[u,p]=(0,L.useState)(!1),h=(0,K.CU)(),{imageProvider:m,imageOptions:g}=(0,it.V)(),{template:x,settings:f}=o,b=(0,L.useCallback)(async e=>{if(!s||!s.organization)throw Error("Doc or organization not found");let{templateText:t,input:n="",interactionId:i}=e,r=performance.now(),o=a7(a,h),l={...im,...o,...e.settings,input:n,templateText:t,previous:e.previous,textMode:"generate",imageOptions:g,imageProvider:m},d={interface:"add-card",interactionId:i,inputContent:n,inputData:{...e.settings,template:x},product:(0,ia.A4)(s.organization),docId:s.id};(0,aC.rl)(d);let u=await (0,aI.K8)({promptKey:"GenerateCardWithLayout",variables:l,workspaceId:c.id,interactionId:i}),p=(0,ak.DB)(u),f=aX(p);return(0,aC.Yh)({...d,outputContent:p,latency:performance.now()-r}),(0,ie.w)("generateCard",c,i),f},[s,h,c,m,g,x,a]),v=(0,ir.xt)(f.locale||(0,a9.nM)(a.state.doc)||(null==s||null==(n=s.docGenerateInput)||null==(t=n.settings)?void 0:t.locale)||"en");return{isGenerating:u,getContextAndGenerate:(0,L.useCallback)(async e=>{if(!a)return;let t=i(),n=a.view.state.doc.nodeAt(t);if(!n)return void console.error("[AICard] Cannot append card. Node unknown");let o=ib(a,t);p(!0);try{var s;let i=(0,aC.$F)(),d=null==(s=ih().find(e=>e.key===x))?void 0:s.aiDescription,c=await b({input:e,templateText:d,previous:o,settings:{language:v.englishName},interactionId:i});c.attrs={...n.attrs,...c.attrs,container:{...n.attrs.container,...c.attrs.container},generatorInput:{...n.attrs.generatorInput,prompt:e,template:x,settings:f,status:"done",interactionId:i}};let u=(0,l.xe)(a.state.doc,e=>(0,Q.jg)(e)&&e.attrs.id===n.attrs.id)[0];if(!u)return void console.warn("[useGenerateCard] Card not found. It may have been deleted while generating.");a.chain().insertContentAt({from:u.pos,to:u.pos+u.node.nodeSize},c).setMeta("isGenerateCard",!0).selectInsideCardBody(t).run(),a$({editor:a,content:c,theme:r,interactionId:i})}catch(e){console.error("[GenerateCard] Error generating card",e)}p(!1)},[a,i,b,x,v.englishName,f,r]),updateInput:(0,L.useCallback)(e=>{let t=i(),n=a.view.state.doc.nodeAt(t);(null==n?void 0:n.attrs.generatorInput)&&a.commands.updateNestedAttributesAtPos(t,{generatorInput:e})},[a,i]),locale:v}},ix=(e,t)=>{let{isInOfflineMode:n}=(0,al.u)(),[a,i]=(0,L.useState)([]),[r,o]=(0,L.useState)("ready"),{generate:l}=(0,aI.pt)("SuggestCardTopics",{onStart(){o("generating"),i([])},onContent(e){i(e.split("\n").filter(Boolean))},onComplete(e){i(e.split("\n").filter(Boolean)),o("done")},onError(e){console.error("Error generating suggestions",e),o("error")},timeout:3e4}),s=(0,K.GV)(eM.Jo),d=s.organization.id,c=(0,K.GV)((0,io.d8)(d)),u=(0,a9.lI)(e),p=(0,a9.zK)(u),h=(0,K.CU)();return(0,L.useEffect)(()=>{if(!n&&t&&"ready"===r){let e=a3(h);e.trim().split("\n").length<3||l({variables:{outline:e,format:p},workspaceId:c.id})}},[r,l,n,t,h,p,s,c]),{suggestions:a,generateSuggestionsStatus:r}},ib=(e,t)=>(0,ii._)(e,Math.max(t-5e3,0),t);var iv=n(13731),iy=n.n(iv);let iw=[{key:"rephrase.better",label:()=>e4.Ru._({id:"WLqWVj"}),instructions:"Improve the writing",instructionsTrans:()=>e4.Ru._({id:"KaTt0J"}),icon:e1.xXs,group:"writing",loadingMessage:()=>e4.Ru._({id:"OxbbYn"}),variationName:()=>e4.Ru._({id:"5j51A1"}),completionMessage:()=>e4.Ru._({id:"EF1nyz"})},{key:"edit.spelling",label:()=>e4.Ru._({id:"kIRRvo"}),instructions:"Fix spelling & grammar",instructionsTrans:()=>e4.Ru._({id:"7Mcbfl"}),icon:e1.e68,group:"writing",loadingMessage:()=>e4.Ru._({id:"vLjsO9"}),variationName:()=>e4.Ru._({id:"MRZxAn"}),completionMessage:()=>e4.Ru._({id:"3G04Qf"})},{key:"edit.translate",label:()=>e4.Ru._({id:"pi8x/S"}),instructions:"",instructionsTrans:()=>e4.Ru._({id:"E6k5Np"}),icon:e1.mh,group:"writing",loadingMessage:()=>e4.Ru._({id:"aKSJTV"}),variationName:()=>e4.Ru._({id:"a/ppJp"}),completionMessage:()=>e4.Ru._({id:"a/ppJp"})},{key:"rephrase.expand",label:()=>e4.Ru._({id:"rRLXT4"}),instructions:"Make this longer - about 2x the current length",instructionsTrans:()=>e4.Ru._({id:"hbj+SR"}),icon:e1.ckx,group:"writing",loadingMessage:()=>e4.Ru._({id:"Q+x/E4"}),variationName:()=>e4.Ru._({id:"pvJgUJ"}),completionMessage:()=>e4.Ru._({id:"jgdqxQ"})},{key:"rephrase.condense",label:()=>e4.Ru._({id:"xTY2A5"}),instructions:"Make this more concise - about half the current length",instructionsTrans:()=>e4.Ru._({id:"zeiJlg"}),icon:e1.Nby,group:"writing",loadingMessage:()=>e4.Ru._({id:"BjuYlr"}),variationName:()=>e4.Ru._({id:"Q7U9iz"}),completionMessage:()=>e4.Ru._({id:"l7sxzR"})},{key:"rephrase.simplify",label:()=>e4.Ru._({id:"Lx/Sd1"}),instructions:"Simplify the language",instructionsTrans:()=>e4.Ru._({id:"BS3Eqe"}),icon:e1.vq5,group:"writing",loadingMessage:()=>e4.Ru._({id:"AAhoH1"}),variationName:()=>e4.Ru._({id:"nvmoB1"}),completionMessage:()=>e4.Ru._({id:"5xpG46"})},{key:"rephrase.specifics",label:()=>e4.Ru._({id:"u6rs0A"}),instructions:"Rewrite this to be more specific. Use the previous text and the outline for context. If you don't have enough details, make them up.",instructionsTrans:()=>e4.Ru._({id:"pbZESM"}),icon:e1.g0Y,group:"writing",loadingMessage:()=>e4.Ru._({id:"HW6L/y"}),variationName:()=>e4.Ru._({id:"PRHEO1"}),completionMessage:()=>e4.Ru._({id:"dib9YI"})},{key:"layout.visual",label:()=>e4.Ru._({id:"gcHjj/"}),instructions:"I want to make this content more visual. Make up new images to illustrate the concepts. You can rephrase the text to fit the new template, but don't alter the original voice or make up new details.",instructionsTrans:()=>e4.Ru._({id:"7AVs0v"}),icon:e1.Si7,group:"layout",loadingMessage:()=>e4.Ru._({id:"hMtOFm"}),variationName:()=>e4.Ru._({id:"p0QPRq"})},{key:"layout.addImage",label:()=>e4.Ru._({id:"LfOSf5"}),instructions:"Add a new image. Keep the rest of my content and formatting the same. Don't change layout blocks or make up new details. Do not remove any of the text!",instructionsTrans:()=>e4.Ru._({id:"ohc2fy"}),icon:e1.Cyq,group:"layout",loadingMessage:()=>e4.Ru._({id:"hMtOFm"}),variationName:()=>e4.Ru._({id:"2ap0Xm"})}],iC=iy()(iw,"group"),ij=[{key:"writing",label:()=>e4.Ru._({id:"4kJRen"})},{key:"layout",label:()=>e4.Ru._({id:"an5hVd"})}],iA=(e,t)=>({...e,...t,id:e.id}),ik=e=>{let{editor:t,getPos:n,cardId:a}=e,i=(0,K.GV)(eM.Jo),r=(0,K.CU)(),o=(0,K.GV)((0,U.wQ)(a)),{imageProvider:l,imageOptions:s}=(0,it.V)(),d=(0,L.useCallback)(async e=>{let n=e.instructions?e.instructions:e.operation?e.operation.instructions:"",{previous:o,inputHtml:d,operation:c}=e;if(!i||!i.organization)throw Error("Doc or organization not found");let u=(0,aC.$F)(),p=performance.now(),h=a7(t,r),m={interface:"edit-card",interactionId:u,inputContent:d,inputMessage:n,inputData:{custom:!!c,operation:null==c?void 0:c.key,operationGroup:null==c?void 0:c.group,imageProvider:l,...h},product:(0,ia.A4)(i.organization),docId:i.id,cardId:a},g=(0,aN.P9)(i.organization.id);try{(0,aC.rl)(m);let e=(null==c?void 0:c.key)==="edit.translate",t=await (0,aI.K8)({promptKey:"EditCardWithLayout",variables:{inputHtml:d,request:n,previousHtml:o,imageOptions:s,imageProvider:l,...h,model:t8.of.get("editCardModel"),reasoningEffort:t8.of.get("editCardReasoningEffort"),docId:i.id,basePromptKey:e?"TranslateCard":t8.of.get("editCardPrompt")},interactionId:u,workspaceId:(null==g?void 0:g.id)||i.organization.id,opts:{maxRetries:0}}),a=(0,ak.DB)(t),r=aX(a);return(0,aC.Yh)({...m,outputContent:a,outputMessage:t.replace(a,"[outputContent]"),latency:performance.now()-p}),(0,ie.w)("editCard",g,u),{output:r,interactionId:u}}catch(e){throw(0,aC.tB)({...m,errorMessage:e.message,errorCode:e.code,errorName:e.name,errorStack:e.stack,outputMessage:"Error editing card",latency:performance.now()-p}),e}},[i,r,a,l,s,t]),c=(0,L.useCallback)(async e=>{let{instructions:i,operation:o}=e,l=n(),s=t.view.state.doc.nodeAt(l);if(!s)return void console.error("[AICard] Cannot append card. Node unknown");try{var c,u;r.dispatch((0,U.Ic)({cardId:a,suggestions:{status:"loading",loadingMessage:null==o||null==(c=o.loadingMessage)?void 0:c.call(o),variants:[]}}));let e=ib(t,l),n=(0,aS.KC)(t,s),{output:p,interactionId:h}=await d({instructions:i,operation:o,inputHtml:n,previous:e});p.attrs=iA(s.attrs,p.attrs),iS(t,a,p,h),r.dispatch((0,U.Ic)({cardId:a,suggestions:{status:"done",interactionId:h,selected:"v1",operation:o,instructions:i,variants:[{label:e4.Ru._({id:"HxF6Fk"}),isOriginal:!0,id:"original",card:s.toJSON()},{label:(null==o||null==(u=o.variationName)?void 0:u.call(o))||e4.Ru._({id:"YledUl"}),isOriginal:!1,id:"v1",card:p}]}}))}catch(e){console.error("[EditCard] Error regenerating card",e),r.dispatch((0,U.Ic)({cardId:a,suggestions:{status:"error",variants:[]}}))}},[d,t,n,r,a]);return(0,L.useEffect)(()=>a4.on("translate",e=>{let{type:t,cardId:n,language:i}=e,r=iw.find(e=>"edit.translate"===e.key);"card"===t&&n===a&&r&&c({instructions:"".concat(i.englishName," (").concat(i.key,")"),operation:r})}),[a,c]),{editCard:c,status:o}},iS=(e,t,n,a)=>{let i=(0,l.xe)(e.state.doc,e=>(0,Q.jg)(e)&&e.attrs.id===t)[0];if(!i)return void console.warn("[useGenerateCard] Card not found. It may have been deleted while generating.");e.chain().setMeta("isEditCardVariant",!0).setMeta("cardNotesHandled",!0).insertContentAt({from:i.pos,to:i.pos+i.node.nodeSize},n).selectInsideCardBody(i.pos).run(),a$({editor:e,content:n,theme:(0,ed.SJ)((0,K.KA)().getState()),interactionId:a})},iI=e=>{let{cardId:t}=e,{isOpen:n,onClose:a,onOpen:i}=(0,t9.E)({id:"TranslateCardDisclosure"}),r=(0,L.useCallback)(e=>{a4.emit("translate",{type:"card",cardId:t,language:e}),a()},[t,a]);return{isTranslateCardOpen:n,onTranslateCardOpen:i,onTranslateCardClose:a,startTranslation:r}},iE=e=>{let{suggestions:t,cardId:n,isDark:a,editor:i}=e,{color:r,bg:o}=(0,nj.Nb)(),l=(0,nj.wP)(),{status:s,variants:d,selected:c,loadingMessage:u,interactionId:h,instructions:m,operation:g}=t,x=(0,K.jL)(),f=(0,L.useCallback)((e,t)=>{x((0,U.S6)({cardId:n,variantId:e})),iS(i,n,t,h)},[x,n,i,h]),b=(0,e9.st)(),v=(0,L.useCallback)(()=>{var e;null==b||b.track(e9.VV.AI_CARD_VARIATION_KEPT,{cardId:n,variantId:c,isOriginal:null==(e=d.find(e=>e.id===c))?void 0:e.isOriginal,interactionId:h,source:"button"}),x((0,U.YB)({cardId:n}))},[x,n,c,b,d,h]),y=(0,ay.dU)("trueblue.500","trueblue.100"),w=(0,ay.dU)("trueblue.50","gray.600"),C=(0,ay.dU)("red.100","red.700"),j=(0,ay.dU)("red.500","red.100");return(0,p.jsx)(k.z,{contentEditable:!1,userSelect:"none",align:"center",position:"absolute",left:"50%",transform:"translateX(-50%)",marginLeft:-3,pointerEvents:"auto",spacing:2,children:"loading"===s?(0,p.jsxs)(k.z,{borderWidth:"1px",...l,pointerEvents:"none",children:[(0,p.jsx)(E.g,{icon:eL.p7g}),(0,p.jsxs)(S.E,{children:[u||(0,p.jsx)(em.x6,{id:"RQqcwV"}),"..."]})]}):"error"===s?(0,p.jsxs)(k.z,{borderWidth:"1px",...l,_hover:{},bg:C,color:j,children:[(0,p.jsx)(E.g,{icon:e1.QJT}),(0,p.jsx)(S.E,{children:(0,p.jsx)(em.x6,{id:"nwtY4N"})}),(0,p.jsx)(eJ.K,{"aria-label":e4.Ru._({id:"yz7wBu"}),size:"xs",minW:4,minH:4,h:4,isRound:!0,variant:"ghost",onClick:v,icon:(0,p.jsx)(E.g,{icon:e1.GRI}),colorScheme:a?"white":"blackAlpha"})]}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(tN.e,{spacing:"-1px",children:[d.map(e=>(0,p.jsx)(eZ.$,{...l,color:c===e.id?y:r,bg:c===e.id?w:o,variant:c===e.id?"plainSelected":"plain",onClick:()=>f(e.id,e.card),position:"relative",children:e.label},e.id)),(0,p.jsx)(eh.Tz,{label:(0,p.jsx)(em.x6,{id:"MuX+Gc"}),placement:"top",children:(0,p.jsx)(eJ.K,{...l,icon:(0,p.jsx)(E.g,{icon:eL.e68}),"aria-label":e4.Ru._({id:"MuX+Gc"}),onClick:v})})]}),h&&(0,p.jsx)(aj,{interactionId:h,operation:null==g?void 0:g.key,instructions:m})]})})};var iL=n(76565),iR=n(72470),iD=n(77979),iM=n(51684),i_=n(57963);let iz=new nd.b;var iT=n(16426),iN=n(6807),iP=n(65148);let iO=()=>{let e=(0,L.useMemo)(()=>{var e;let t=navigator.language.toLowerCase(),n=t.split("-")[0],a=null!=(e=ir.ZD.find(e=>e.key===t))?e:ir.ZD.find(e=>e.key===n);return null==a?void 0:a.key},[]),[t,n]=(0,iN.M)(iP.E.generateLanguage,null!=e?e:"en");return[(0,L.useMemo)(()=>{var e;return null!=(e=ir.ZD.find(e=>e.key===t))?e:ir.ZD[0]},[t]),n]},iH=(0,L.memo)(e=>{let{locale:t,setLocale:n,buttonProps:a}=e,[i,r]=(0,L.useState)([]);(0,L.useEffect)(()=>{r(e=>{if(ir.ZD.find(e=>e.key===t.key))return e;let n=[...e];return n.find(e=>e.key===t.key)||n.push(t),n})},[t.key]);let o=(0,L.useMemo)(()=>[...i,...(0,ir.Mo)()],[i]);return(0,p.jsxs)(eq.W,{children:[(0,p.jsx)(e$.I,{as:eZ.$,size:"sm",boxShadow:"sm",variant:"ghost",rightIcon:(0,p.jsx)(E.g,{size:"xs",icon:e1.Jt$}),leftIcon:(0,p.jsx)(E.g,{size:"xs",icon:eL.mh}),minW:"150px",...a,children:t.displayName}),(0,p.jsx)(nx.Z,{children:(0,p.jsx)(eY.c,{minWidth:"240px",maxH:"290px",overflowY:"auto",overflowX:"hidden",zIndex:"tooltip",children:(0,p.jsx)(ta.i,{value:t.key,title:e4.Ru._({id:"vXIe7J"}),type:"radio",onChange:e=>{n(e)},children:o.map(e=>(0,p.jsx)(ti.k,{value:e.key,children:(0,p.jsxs)(ev.B,{spacing:0,children:[(0,p.jsx)(S.E,{children:e.displayName}),(0,p.jsx)(S.E,{as:"span",color:"gray.500",fontSize:"sm",children:e.displayNameLocalized()})]})},e.key))})})})]})});iH.displayName="AILocalePicker";let iF=e=>{let{isAdminView:t=!1,isFullDoc:n,isSite:a,onClose:i,startTranslation:r}=e,[o]=iO(),[l,s]=(0,L.useState)(o);return(0,p.jsx)(eh.L8,{isDark:!1,children:(0,p.jsxs)(eg.aF,{isOpen:!0,onClose:i,children:[(0,p.jsx)(ex.m,{}),(0,p.jsxs)(ef.$,{children:[(0,p.jsx)(eb.r,{children:(0,p.jsx)(e6.s,{alignItems:"center",mr:8,children:a?(0,p.jsx)(em.x6,{id:"56Urwv"}):n?(0,p.jsx)(em.x6,{id:"e2vVXR",values:{GAMMA_ARTIFACT_PROPER_NOUN:e7.TP}}):(0,p.jsx)(em.x6,{id:"DLQ7Yc"})})}),(0,p.jsx)(eC.s,{}),(0,p.jsxs)(ej.c,{children:[(0,p.jsx)(S.E,{mb:4,children:a?(0,p.jsx)(em.x6,{id:"dZwNdR"}):n?(0,p.jsx)(em.x6,{id:"6YnROT",values:{GAMMA_ARTIFACT_PROPER_NOUN:e7.TP}}):(0,p.jsx)(em.x6,{id:"WQFlqR"})}),(0,p.jsxs)(tu.MJ,{children:[(0,p.jsx)(tp.l,{children:(0,p.jsx)(S.E,{fontSize:"14px",children:(0,p.jsx)(em.x6,{id:"3LIgcv"})})}),(0,p.jsx)(iH,{buttonProps:{variant:"plain",justifyContent:"flex-start",textAlign:"left",width:"100%"},locale:l,setLocale:e=>{s((0,ir.xt)(e))}})]}),t&&(0,p.jsx)(e6.s,{mt:4,children:(0,p.jsxs)(n8.F,{status:"warning",children:[(0,p.jsx)(ae._,{}),"You're using the translation feature as an admin in the PUBLIC_STATIC editor. Translations made here will not be persisted to the database and are intended for admin review process only."]})})]}),(0,p.jsx)(iT.j,{children:(0,p.jsxs)(tN.e,{children:[(0,p.jsx)(eZ.$,{variant:"ghost",colorScheme:"gray",onClick:i,color:t?{color:"orange.500"}:void 0,_hover:t?{bg:"orange.100"}:void 0,children:(0,p.jsx)(em.x6,{id:"dEgA5A"})}),(0,p.jsx)(eZ.$,{variant:"solid",bg:t?"orange.500":void 0,_hover:{bg:t?"orange.700":void 0},onClick:()=>r(l),children:(0,p.jsx)(em.x6,{id:"pi8x/S"})})]})})]})]})})};var iB=n(90184),iV=n(26814),iW=n(22249),iU=n(99552),iG=n(33633),iK=n(77364),iQ=n(647),iZ=n(95563),iq=n(97938),i$=n(37605),iJ=n(71514),iY=n(94920),iX=n(78073),i0=n(85829);let i1=(e,t)=>{let n=e.node.attrs,a=t.content.find(e=>"cardAccentLayoutItem"===e.type);return a&&"none"!==n.background.type&&(a.attrs={...a.attrs,...n}),t},i2=e=>{var t;let{editor:n,start:a,cardId:i,card:r}=e,o=(0,K.GV)(eM.Jo),l=(0,K.GV)(ed.SJ),s=(0,a9.lI)(n),d=(0,a9.zK)(s),c=n.state.doc.resolve(a),[u]=(0,L.useState)(r),p=(0,K.CU)(),h=(0,K.GV)((0,iX.dJ)(i)),m=(0,K.GV)((0,iX.gR)(i)),g=(0,K.GV)((0,iX.rT)(i)),x=(0,K.jL)(),[f,b]=(0,L.useState)(null),v=(0,K.GV)(ed.Uu),y=(null==o?void 0:o.organization)?(0,aN.P9)(o.organization.id):void 0,w=(null==y?void 0:y.id)||(null==o||null==(t=o.organization)?void 0:t.id),{imageProvider:C,imageModel:j,imageStyle:A}=(0,it.V)(),k=(0,L.useCallback)(async e=>{let{variantsWithHtml:t,docId:a,interactionId:i}=e,o=[...t];for(let e=0;e<t.length;e++){let s=t[e];if(!s||!s.isGenerating||!s.html||!w)continue;let d=aX(s.html);d.attrs=iA(null==r?void 0:r.attrs,d.attrs);let u=(0,en.l0)(c).accent;u&&(d=i1(u,d)),o[e]={...s,card:d,isGenerating:!1},a$({editor:n,content:d,theme:l,interactionId:i,workspaceId:w,docId:a})}return o},[w,l,null==r?void 0:r.attrs,c,n]),S=(0,L.useCallback)(e=>{let{content:t,interactionId:a}=e;if(!o)return void console.error("[GenerateCardLayoutVariants] Cannot generate variants. Card or workspace unknown");let r=(0,ak.dg)(t),[l,...s]=(0,iX.dJ)(i)(p.getState()),d=[],c=s.map((e,t)=>{let n=r[t]||null,a={...e,html:e.html?e.html:n};return n&&!e.html&&d.push(a),a});x((0,iX.bL)({cardId:i,variants:[l,...c]})),k({variantsWithHtml:d,docId:o.id,interactionId:a}).then(e=>{let t=(0,iX.dJ)(i)(p.getState()).map(t=>{let n=e.find(e=>e.id===t.id);return n?{...t,...n}:t});if(x((0,iX.bL)({cardId:i,variants:t})),1===r.length){x((0,iX.Ye)({cardId:i,selectedVariantId:t[1].id}));try{iS(n,i,{...t[1].card,attrs:{...t[1].card.attrs,id:i}},a)}catch(e){console.error("[GenerateCardLayoutVariants] Error replacing card with variant",e)}}})},[i,x,o,n,k,p]),I=(0,L.useCallback)(async()=>{if(!u||!w)return void console.error("[GenerateCardLayoutVariants] Cannot generate variants. Card or workspace unknown");x((0,iX.Z_)({card:u,docSettings:v}));try{let e=(0,aS.KC)(n,u),t=(0,aC.$F)();b(t);let a=i4({onContent:e=>{S({content:e,interactionId:t})},inputHtml:e,format:d,imageProvider:C||"none",imageOptions:{model:j,stylePrompt:A},workspaceId:w,aiInteractionId:t});(0,ie.w)("editCard",y,t),await a}catch(e){console.error("[GenerateCardLayoutVariants] Error generating card variants",e)}},[u,w,x,v,n,S,d,C,j,A,y]),E=(0,L.useCallback)(()=>{let e=h.find(e=>"original"===e.id);e&&(x((0,iX.Ye)({cardId:i,selectedVariantId:e.id})),iS(n,i,e.card,f))},[n,i,h,x,f]);return{generateCardLayoutVariants:I,variants:h,selectedVariantId:m,setSelectedVariantId:iX.Ye,revertToOriginalCard:E,interactionId:f,editorContent:g}},i4=e=>{let{onContent:t,inputHtml:n,format:a,imageProvider:i,imageOptions:r,workspaceId:o,aiInteractionId:l}=e,{promise:s}=(0,aI.i4)({promptKey:"GenerateCardLayoutVariants",opts:{onContent:t},variables:{inputHtml:n,request:"I dont like this template. Try a different layout or visualization. You can rephrase the text to fit a new template, but don't alter the original voice or make up new details.",format:a,numberOfVariants:i0.M,imageProvider:i,imageOptions:r,blockFlags:(0,ak.fc)()},workspaceId:o,interactionId:l});return s};var i5=n(65950),i6=n(58568);let i3=L.memo(e=>{let{item:t,isSelected:n,onClick:a,label:i,interactionId:r}=e,o=t.isGenerating,{ref:l,width:s}=(0,i6.Lh)();return(0,p.jsxs)(e6.s,{ref:l,direction:"column",onClick:a,cursor:"pointer",position:"relative",w:"100%",my:2,css:{"--editor-width":"".concat(s&&1!==s?s:365,"px"),"--line-thickness":"1px"},minHeight:"150px",children:[o&&(0,p.jsx)(i9,{}),(0,p.jsxs)(e6.s,{borderRadius:"md",border:"1px solid",borderColor:n?"trueblue.500":"gray.200",outline:n?"1px solid var(--chakra-colors-trueblue-500)":"none",_hover:{borderColor:n?"trueblue.600":"trueblue.300"},boxShadow:"md",overflow:"hidden",role:"group",visibility:o?"hidden":"visible",height:o?"0px":"auto",transitionProperty:"height border",transitionDuration:"0.2s",children:[(0,p.jsx)(e6.s,{position:"absolute",top:4,insetEnd:4,bgColor:"trueblue.50",color:"trueblue.600",borderRadius:"md",px:2,py:1,zIndex:i0.Ob,fontSize:"xs",border:"1px solid",borderColor:"trueblue.200",children:i}),"original"!==t.id&&(0,p.jsx)(e6.s,{position:"absolute",insetEnd:4,bottom:4,zIndex:i0.Ob,opacity:0,transitionProperty:"opacity",transitionDuration:"0.2s",_groupHover:{opacity:1},children:(0,p.jsx)(aj,{interactionId:r||"",operation:"layout.different",RatingButtons:aw.Ep})}),(0,p.jsx)(i5.N,{cardId:t.id})]})]})});i3.displayName="VariantCard";let i9=()=>(0,p.jsx)(e6.s,{position:"absolute",inset:0,zIndex:1,w:"100%",h:"150px",minHeight:"150px",borderRadius:"md",align:"center",justify:"center",mb:4,children:(0,p.jsxs)(e6.s,{bg:"gradient.secondary-light",h:"100%",borderRadius:"md",mx:4,align:"center",justify:"center",children:[(0,p.jsx)(tk._,{src:"/images/ai_sparkle_small.gif",alt:"AI sparkles",objectFit:"cover",width:282,height:280,boxSize:"45px",zIndex:1}),(0,p.jsx)(h.a,{bg:"gradient.secondary-light",bgSize:"cover",bgPosition:"center center",borderRadius:"inherit",pos:"absolute",inset:0,pointerEvents:"none",w:"100%",zIndex:0})]})}),i7=Object.assign(e=>{let{selectedCardRange:t,closePanel:n,cardId:a,editor:i}=e;return((0,es.lC)(i,!0),(0,L.useEffect)(()=>{var e;let a=null==i||null==(e=i.state.selection)?void 0:e.from,{from:r,to:o}=t||{};if(!r||!o||!a)return void n();a===r||a>r&&a<o||n()},[null==i?void 0:i.state.selection,t,n]),i&&a&&t)?(0,p.jsx)(i8,{closePanel:n,editor:i,selectedCardPos:t.from,selectedCardId:a}):null},{panelPosition:"right",panelName:"CardLayoutVariants",canCollapse:!1,minWidth:400}),i8=L.memo(e=>{let{closePanel:t,editor:n,selectedCardPos:a,selectedCardId:i}=e,r=(0,K.GV)((0,iX.dJ)(i)),o=(0,K.GV)((0,iX.gR)(i)),l=(0,K.GV)((0,iX.rT)(i)),s=(0,K.jL)(),d=(0,iV.tO)(void 0,"editCard",i$.VV.GAMMA_UPSELL_CALLOUT_AI_CREDITS_GENERATE_CARD),c=n.view.state.doc.nodeAt(null!=a?a:0),{generateCardLayoutVariants:u,revertToOriginalCard:h,interactionId:m}=i2({editor:n,start:null!=a?a:0,cardId:i,card:c}),g=(0,L.useMemo)(()=>r.some(e=>e.isGenerating),[r]),x=(0,L.useCallback)(async()=>{if(!d())return void t();await u()},[d,u,t]);(0,L.useEffect)(()=>{x()},[]),(0,L.useEffect)(()=>()=>{o&&(null===iq.z||void 0===iq.z||iq.z.track(i$.VV.AI_CARD_VARIATION_KEPT,{cardId:i,variantId:o,isOriginal:"original"===o,interactionId:m,source:"layout-panel"}))},[i,o,m,r]);let f={bgColor:(0,ay.dU)("white","gray.800"),textColor:(0,ay.dU)("gray.800","white")},b=(0,L.useCallback)(e=>{let t=r.find(t=>t.id===e);t&&(s((0,iX.Ye)({cardId:i,selectedVariantId:t.id})),iS(n,i,t.card,m))},[i,r,n,s,m]),v={dropdownBgColor:(0,ay.dU)("blackAlpha.100","whiteAlpha.100"),dropdownBgHoverColor:(0,ay.dU)("blackAlpha.300","whiteAlpha.300"),dropdownTextColor:(0,ay.dU)("gray.800","white")};return(0,p.jsx)(iQ.Z,{bgColor:f.bgColor,w:"100%",pt:4,children:(0,p.jsxs)(e6.s,{direction:"column",overflowX:"hidden",w:"100%",h:"100%",children:[(0,p.jsxs)(e6.s,{position:"relative",pb:1,px:4,children:[(0,p.jsx)(e6.s,{flex:1,children:(0,p.jsx)(iZ.N,{children:(0,p.jsx)(em.x6,{id:"jVFRe1"})})}),(0,p.jsxs)(tN.e,{spacing:0,children:["original"!==o&&(0,p.jsx)(eZ.$,{size:"sm",onClick:h,variant:"ghost",leftIcon:(0,p.jsx)(E.g,{icon:e1.LxC,size:"sm"}),children:(0,p.jsx)(em.x6,{id:"9uI/rE"})}),(0,p.jsx)(iK.J,{onClick:t})]})]}),!g&&(0,p.jsxs)(e6.s,{px:4,gap:2,pb:2,align:"center",children:[(0,p.jsx)(S.E,{fontSize:"xs",color:"gray.500",children:(0,p.jsx)(em.x6,{id:"GhS4Yn"})}),(0,p.jsxs)(eZ.$,{size:"xs",leftIcon:(0,p.jsx)(E.g,{icon:e1.rhK}),textAlign:"start",bgColor:v.dropdownBgColor,color:v.dropdownTextColor,borderRadius:"md",px:2,_hover:{bgColor:v.dropdownBgHoverColor},onClick:()=>{x()},children:[(0,p.jsx)(em.x6,{id:"fMPkxb"}),(0,p.jsx)(iB.G,{type:"editCard",colorScheme:"blackAlpha",color:"blackAlpha.600",fontSize:"xs",ms:2,px:0})]})]}),(0,p.jsx)(re,{variants:r,editorContent:l,handleSelectVariant:b,selectedVariantId:o,interactionId:m,anyVariantsGenerating:g})]})})}),re=L.memo(e=>{let{variants:t,editorContent:n,handleSelectVariant:a,selectedVariantId:i,interactionId:r,anyVariantsGenerating:o}=e;return n?(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)(e6.s,{overflowY:"auto",direction:"column",h:"100%",flex:1,children:[o&&(0,p.jsxs)(e6.s,{px:4,py:2,borderRadius:"md",align:"center",gap:1,color:"deepocean.900",fontWeight:"bold",alignItems:"center",children:[(0,p.jsx)(S.E,{fontSize:"xs",children:(0,p.jsx)(em.x6,{id:"yARg1X"})}),(0,p.jsx)(tk._,{src:"/images/ai_sparkle_small.gif",alt:"AI sparkles",objectFit:"cover",width:282,height:280,boxSize:"20px",zIndex:1})]}),(0,p.jsx)(h.a,{h:"100%",overflowY:"auto",children:(0,p.jsx)(iJ.q,{initialContent:n,children:(0,p.jsx)(rt,{variants:t,interactionId:r,selectedVariantId:i,handleSelectVariant:a})})})]})}):null});re.displayName="CardLayoutVariantsList";let rt=L.memo(e=>{let{variants:t,interactionId:n,selectedVariantId:a,handleSelectVariant:i}=e,{editor:r}=(0,iY.U)();return(0,L.useEffect)(()=>{t.forEach(e=>{if(!r||e.isGenerating)return;let t={...e.card,attrs:{...e.card.attrs,id:e.id}};iS(r,e.id,t,n)})},[t,r,n]),(0,p.jsx)(e6.s,{direction:"column",w:"100%",px:4,children:t.map(e=>(0,p.jsx)(i3,{interactionId:n,label:"original"===e.id?(0,p.jsx)(e6.s,{children:(0,p.jsx)(S.E,{children:(0,p.jsx)(em.x6,{id:"HxF6Fk"})})}):(0,p.jsxs)(e6.s,{align:"center",gap:1,children:[(0,p.jsx)(E.g,{icon:e1.p7g,size:"xs"}),(0,p.jsx)(S.E,{children:(0,p.jsx)(em.x6,{id:"isRobC"})})]}),item:e,isSelected:a===e.id,onClick:()=>{i(e.id)}},e.id))})});rt.displayName="CardLayoutVariantsPreviewList";let rn=()=>{let{togglePanel:e,isPanelOpen:t}=(0,iG.ww)(i7);return{toggleCardLayoutVariantsPanel:e,isCardLayoutVariantsPanelOpen:t}},ra=(0,L.memo)(e=>{let{editor:t,getPos:n,onClose:a}=e,{toggleCardLayoutVariantsPanel:i,isCardLayoutVariantsPanelOpen:r}=rn(),o=(0,L.useCallback)(()=>{r&&i({override:"closed"});let e=t.state.doc.nodeAt(n());e&&(t.commands.selectNodeAtPos(n()),i({override:"open",isResizable:!1,props:{cardId:e.attrs.id,selectedCardRange:{from:n(),to:n()+e.nodeSize},editor:t}}),a())},[t,n,a,i,r]);return(0,p.jsx)(eZ.$,{variant:"plain",size:"xs",onClick:o,children:(0,p.jsxs)(e6.s,{align:"center",gap:1,children:[(0,p.jsx)(E.g,{icon:e1.p7g,fixedWidth:!0}),(0,p.jsx)(em.x6,{id:"3MMiDG"}),(0,p.jsx)(iB.G,{type:"editCard",colorScheme:"blackAlpha",color:"blackAlpha.600",fontSize:"xs",ps:0,ms:1})]})})});ra.displayName="TryNewLayoutButton";let ri=e=>{let{attrs:t,editor:n,getPos:a}=e,i=t.id,r=!!(0,K.GV)(iU.Gd),{isTranslateCardOpen:o,onTranslateCardOpen:l,onTranslateCardClose:s,startTranslation:d}=iI({cardId:i}),c=(0,K.GV)((0,iW.iZ)("chat")),u=(0,t8.u)("buddyEdit"),{color:h,bg:m,hoverColor:g,hoverBg:x,borderColor:f}=(0,nj.Nb)(),b=(0,L.useRef)(null),{status:v,editCard:y}=ik({editor:n,getPos:a,cardId:t.id}),w="loading"===v,C=(0,iV.tO)(void 0,"editCard",e9.VV.GAMMA_UPSELL_CALLOUT_AI_CREDITS_GENERATE_CARD),j=(0,L.useCallback)(e=>{var t;if(C()){if((null==(t=e.operation)?void 0:t.key)==="edit.translate")return void l();y(e)}},[C,y,l]),A=(0,K.jL)(),k=(0,K.GV)((0,n5.C_)(t.id,"editWithAI")),S=(0,L.useCallback)(()=>{A((0,n5.md)())},[A]),I=(0,L.useCallback)(()=>{A((0,n5.CM)({cardId:t.id,menuType:"editWithAI"}))},[A,null==t?void 0:t.id]);(0,ng.j)({ref:b,handler:e=>{if(!k)return;let n=e.target;(null==n?void 0:n.closest('[data-card-ai-edit-menu-trigger="'.concat(t.id,'"]')))||S()}});let R=(0,L.useRef)(null),D=(0,t8.u)("editCard2"),{isInOfflineMode:M}=(0,al.u)();if(!D)return null;let _=u?null:(0,p.jsx)(nb.B,{px:5,py:3,bg:"gray.50",mx:-2,mb:-2,justify:"center",alignItems:"center",borderBottomRadius:"xl",children:(0,p.jsx)(nb.Q,{children:(0,p.jsx)(eZ.$,{onClick:()=>{n.commands.selectInsideCardBody(a()),c||iz.emit("toggle",{}),S()},variant:"link",size:"sm",colorScheme:"gray",my:0,leftIcon:(0,p.jsx)(E.g,{icon:iM.Y$q}),children:(0,p.jsx)(em.x6,{id:"mw/rmM"})})})});return(0,p.jsxs)(eh.L8,{isDark:!1,children:[(0,p.jsxs)(eq.W,{isLazy:!0,onClose:S,onOpen:I,isOpen:k,closeOnBlur:!1,initialFocusRef:R,children:[(0,p.jsx)(eh.Tz,{label:(0,p.jsx)(em.x6,{id:"EVnzPs"}),placement:"top",shouldWrapChildren:!0,children:(0,p.jsxs)(e$.I,{as:eZ.$,isActive:k,isDisabled:M,"data-guider-highlight":"edit-with-ai-button","data-card-ai-edit-menu-trigger":t.id,height:n6.PN,fontWeight:"900",alignItems:"center",fontFamily:"body",display:"flex",backdropFilter:"blur(8px)",borderRadius:"sm",borderColor:f,color:h,boxShadow:"sm",cursor:"pointer",fontSize:"14px",bg:m,px:.5,_hover:{color:g,background:x},isLoading:w,pointerEvents:"auto",children:[(0,p.jsx)(E.g,{icon:eL.p7g,fixedWidth:!0}),(0,p.jsx)(nm.D,{})]})}),(0,p.jsx)(nx.Z,{children:(0,p.jsxs)(eY.c,{"data-card-ai-menu":!0,minWidth:"320px",width:"fit-content",maxWidth:"min(360px, 80vw)",fontFamily:"body",fontSize:"md",border:"none","data-card-ai-edit-menu-trigger":t.id,maxH:"60vh",display:"flex",flexDirection:"column",children:[(0,p.jsx)(rr,{editCardIfAllowed:j,onClose:S,firstItemRef:b,inputRef:R,isDisabled:w,pb:"10%",getPos:a,editor:n,title:e4.Ru._({id:"sdosNK"}),buddyEditEnabled:u,cardId:i}),_]})})]}),o&&(0,p.jsx)(iF,{isSite:r,isFullDoc:!1,onClose:s,startTranslation:d})]})},rr=(0,L.memo)(e=>{let{editCardIfAllowed:t,onClose:n,firstItemRef:a,inputRef:i,isDisabled:r,groups:o=["writing","layout"],showCreditCosts:l=!0,opacityFadeUpsell:s=!1,getPos:d,editor:c,title:u,buddyEditEnabled:m,cardId:g,...x}=e,f="-webkit-gradient(linear, left top, left bottom, from(rgba(0,0,0,1)), to(rgba(0,0,0,0)))";return(0,p.jsxs)(h.a,{px:.5,pt:.5,flex:1,overflowY:"auto",style:s?{WebkitMaskImage:f,maskImage:f}:o.length>1?{maskImage:"linear-gradient(to bottom, transparent, black 0%, black 90%, transparent)"}:void 0,...x,children:[(0,p.jsx)(eX.r,{children:(0,p.jsxs)(e6.s,{justify:"space-between",align:"center",mb:2,children:[(0,p.jsx)(S.E,{fontSize:"sm",children:u}),d&&(0,p.jsx)(ra,{editor:c,getPos:d,onClose:n})]})}),(0,p.jsx)(eX.r,{children:(0,p.jsxs)(iR.M,{size:"sm",mb:2,children:[(0,p.jsx)(iD.W,{fontSize:"sm",color:"deepocean.300",children:(0,p.jsx)(E.g,{icon:eL.p7g})}),(0,p.jsx)(i_._,{initialHeight:"32px",ref:i,paddingInlineStart:9,py:1.5,borderRadius:"xl",maxLength:300,isDisabled:r,onKeyDown:e=>{var o,l;if(!r){if("Enter"===e.key&&!e.shiftKey){e.preventDefault(),e.stopPropagation();let a=null==(l=i.current)?void 0:l.value;if(!a)return;m?nw.LF.emit("queueBuddyEditMessage",{message:a,context:{initiatingCardId:g}}):t({instructions:a}),n()}"ArrowDown"===e.key&&(null==(o=i.current)?void 0:o.value.length)===0&&(e.preventDefault(),e.stopPropagation(),a.current&&a.current.focus())}},placeholder:e4.Ru._({id:"vKZEFh"})})]})}),ij.map((e,i)=>{let r=iC[e.key];return r&&0!==r.length&&o.includes(e.key)?(0,p.jsx)(eX.r,{title:e.label(),children:r.map((e,r)=>e.checkEnabled&&!e.checkEnabled()?null:(0,p.jsx)(e0.D,{icon:(0,p.jsx)(E.g,{icon:e.icon,fixedWidth:!0}),onClick:()=>{t({operation:e}),n()},ref:0===r&&0===i?a:null,children:(0,p.jsxs)(k.z,{children:[(0,p.jsx)(S.E,{children:e.label()}),l&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(ep.h,{}),(0,p.jsx)(iB.G,{type:"editCard",colorScheme:"blackAlpha",color:"blackAlpha.600",fontSize:"sm"})]})]})},e.key))},e.key):null})]})});rr.displayName="EditCardAIMenuGroups";let ro=e=>{let{cardContentType:t,attrs:n,editor:a,getPos:i,node:r}=e,{color:o,bg:l,hoverColor:s,hoverBg:d,borderColor:c}=(0,nj.Nb)();if("image"===t){let e=r.firstChild.attrs.image;return(0,p.jsx)(iL.a,{attrs:e,editor:a,height:n6.PN,fontWeight:"900",alignItems:"center",fontFamily:"body",display:"flex",backdropFilter:"blur(8px)",borderRadius:"sm",borderColor:c,color:o,boxShadow:"sm",cursor:"pointer",fontSize:"14px",bg:l,px:.5,_hover:{color:s,background:d},pointerEvents:"auto"})}return(0,p.jsx)(ri,{attrs:n,editor:a,getPos:i})};var rl=n(81570);let rs=e=>{let{theme:t,editor:n,getPos:a,updateAttributes:i,input:r}=e,o=(0,nj.wP)(),l=(0,e_.ez)("unlimited_credits"),{toggleCardLayoutVariantsPanel:s,isCardLayoutVariantsPanelOpen:d}=rn(),c=(0,L.useCallback)(()=>{d&&s({override:"closed"});let e=n.state.doc.nodeAt(a());e&&(n.commands.selectNodeAtPos(a()),s({override:"open",isResizable:!1,props:{cardId:e.attrs.id,selectedCardRange:{from:n.state.selection.from,to:n.state.selection.from+e.nodeSize},editor:n}}))},[n,a,s,d]);return(0,p.jsx)(k.z,{contentEditable:!1,userSelect:"none",align:"center",position:"absolute",left:"50%",transform:"translateX(-50%)",marginLeft:-3,pointerEvents:"auto",children:(0,p.jsxs)(k.z,{spacing:2,children:[(0,p.jsx)(eh.Tz,{label:(0,p.jsx)(em.x6,{id:"K1Ro+T"}),placement:"top",children:(0,p.jsx)(eZ.$,{...o,leftIcon:(0,p.jsx)(E.g,{icon:eL.CeG}),"aria-label":e4.Ru._({id:"K1Ro+T"}),onClick:()=>i({layoutTemplateColumns:null,generatorInput:{...rl.O,prompt:r.prompt}}),children:(0,p.jsx)(em.x6,{id:"550oRP"})})}),(0,p.jsx)(eZ.$,{...o,leftIcon:(0,p.jsx)(E.g,{icon:eL.p7g}),onClick:()=>{c(),i({generatorInput:null})},children:(0,p.jsxs)(k.z,{spacing:.5,alignItems:"center",justifyContent:"center",children:[(0,p.jsx)(S.E,{children:(0,p.jsx)(em.x6,{id:"SiSG+p"})}),!l&&(0,p.jsx)(iB.G,{type:"generateCard",ml:0,color:"gray.500"})]})}),r.interactionId&&(0,p.jsx)(aj,{interactionId:r.interactionId,operation:"generate-card",instructions:r.prompt})]})})};var rd=n(95571);function rc(){let e=(0,tn._)(["\n  0% {\n    margin-inline: 0;\n  }\n  100% {\n    margin-inline: var(--nested-card-margin);\n  }\n"]);return rc=function(){return e},e}let ru=(0,tl.i7)(rc()),rp=e=>{let{attrs:t,isFullBleed:n,displayFullBleed:a,isNested:i,isPresentMode:r,isEditable:o,isFocused:l,isDark:s,isLetterboxed:d,showPresentBackdrop:c,isCommentOpenOnCard:u,theme:m,children:g}=e,{id:x,container:f}=t,b=(0,n_.NC)(m,f),v=a?rd.xE:rd.CO,y=r&&!i,w=(0,nM.ZI)(m,f.background?b:void 0),C=n?{width:i||d?"var(--card-width)":"100%"}:{zIndex:i?u?nl.$.nestedCardBodyWithComment:nl.$.nestedCardBody:void 0,width:"var(--card-width)"},j=y?{minW:c||d?"auto":"100%",minH:"var(--card-min-height)",my:"auto"}:{minW:"0%",minH:"var(--card-min-height)"},A=ec.D1?0:el.M2;return(0,p.jsxs)(e6.s,{className:(0,I.cx)(el.p$),"data-card-body":x,"data-selection-ring":!0,"data-guider-highlight":"card-body","data-letterboxed":d?"true":void 0,"data-content-reference":!0,"data-testid":"card-body","data-hide-comments":r,fontSize:"var(--font-size)",animation:i?"".concat(ru," ").concat(A,"ms ease-out forwards"):void 0,position:"relative",...C,...j,maxW:"var(--card-max-width)",css:{"--grid-outline-color":s?"var(--chakra-colors-gray-600)":"var(--chakra-colors-gray-200)",...w,"--card-border-radius":a?0:w["--card-border-radius"]},justify:"center",borderRadius:"var(--card-border-radius)",ps:n&&!i?"var(--doc-padding-left)":void 0,pe:n&&!i?"var(--doc-padding-right)":void 0,_hover:o&&a&&!l?{"> .card-body-background":{outline:"2px solid var(--grid-outline-color)"}}:void 0,outline:d?"max(50vw, 50vh) solid black":void 0,children:[(0,p.jsx)(h.a,{position:"absolute",inset:"0",sx:v,className:"card-body-background",borderRadius:"inherit",contentEditable:!1,zIndex:r?-1:void 0,outline:l?"2px solid var(--chakra-ring-color)":void 0,outlineOffset:n&&!r?"-2px":void 0,border:i&&"0em"===w["--card-border-width"]?"1px solid var(--neutral-border-color)":void 0,"data-export-master":!!a||void 0}),(0,p.jsx)(eh.L8,{isDark:s,children:g})]})};var rh=n(76083),rm=n(12364),rg=n.n(rm),rx=n(87930);let rf="FLUSH_SYNCED_EDITOR";var rb=n(56570),rv=n(99389),ry=n(74676),rw=n(50507);let rC=function(e,t){var n;let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!t||!t.type)return(0,p.jsx)(L.Fragment,{},r);if("text"===t.type)return(0,p.jsx)(L.Fragment,{},"text-".concat(r));let o=e.nodes[t.type];if(!o)return(0,p.jsx)(L.Fragment,{});let l=null==(n=t.content)?void 0:n.map((n,a)=>rC(e,n,t,i+1,a));return L.createElement(o.component,{key:"".concat(o.type,"-").concat(r),node:t,depth:i,parent:a,index:r},l)};var rj=n(58297);let rA=e=>{let{children:t,orientation:n="vertical",...a}=e,i="vertical"===n?ev.B:k.z;return(0,p.jsx)(i,{spacing:"var(--block-spacing)",...a,children:t})},rk=e=>(0,p.jsx)(h.a,{bg:"var(--main-color)",h:"var(--paragraph-height)",w:"100%",borderRadius:"var(--text-border-radius)",...e}),rS=e=>{let{style:t="solid",children:n,...a}=e;return(0,p.jsx)(rA,{w:"100%",bg:"solid"===t?"var(--main-color)":"transparent",minH:"2em",borderRadius:"var(--box-border-radius)",border:"outline"===t?"var(--border-width) solid var(--main-color)":"none",...a,children:n&&n})};var rI=n(53996);let rE=e=>{let{iconSize:t="2x",icon:n,...a}=e;return(0,p.jsx)(rI.o,{minH:"4em",bg:"var(--box-background-color)",color:"var(--accent-color)",borderRadius:"var(--box-border-radius)",...a,children:n||(0,p.jsx)(E.g,{icon:e1.Cyq,size:t})})},rL={top:{grid:{gridTemplateColumns:"1fr",gridTemplateRows:"auto 1fr",gridTemplateAreas:'"accent" "body"'},items:{accent:{type:"accent"},body:{type:"body"}},allowFit:!1},behind:{grid:{gridTemplateColumns:"1fr",gridTemplateRows:"auto"},items:{accent:{type:"accent",style:{gridArea:"1 / 1"}},body:{type:"body",style:{gridArea:"1 / 1",zIndex:1}}},allowFit:!1},blank:{grid:{gridTemplateColumns:"1fr",gridTemplateRows:"1fr",gridTemplateAreas:'"body"'},items:{body:{type:"body"}},allowFit:!1},left:{grid:{gridTemplateColumns:"".concat(37.5,"% ").concat(62.5,"%"),gridTemplateRows:"auto ",gridTemplateAreas:'"accent body"'},items:{accent:{type:"accent"},body:{type:"body"}},allowFit:!0},right:{grid:{gridTemplateColumns:"".concat(62.5,"% ").concat(37.5,"%"),gridTemplateRows:"auto",gridTemplateAreas:'"body accent"'},items:{accent:{type:"accent"},body:{type:"body"}},allowFit:!0}},rR=e=>rL[null!=e?e:"blank"]||rL.blank,rD=e=>{var t;let{node:n}=e;return(null==(t=n.attrs)?void 0:t.itemId)==="accent"?(0,p.jsx)(r_,{...e}):(0,p.jsx)(rM,{...e})},rM=e=>{let{node:t,children:n}=e;return(0,p.jsx)(rA,{className:"thumbnail-node-".concat(t.type),spacing:"1em",p:"1em",alignSelf:"center","data-testid":"card-layout-thumbnail",children:n})},r_=e=>{var t;let{node:n,parent:a}=e,i=n.attrs,r=null==a?void 0:a.attrs,o=rR(null!=(t=null==r?void 0:r.layout)?t:"blank");if(!((null==i?void 0:i.itemId)&&o.items[i.itemId]))return null;let l=o.allowFit&&(null==i?void 0:i.fitType)==="fit";return(0,p.jsx)(e6.s,{className:"thumbnail-node-".concat(n.type),children:l?(0,p.jsx)(e6.s,{flexDirection:"column",justifyContent:"center",alignItems:"center",bg:"var(--box-background-color)",flex:1,h:"100%",children:(0,p.jsx)(rE,{w:"70%",minH:"55%",bg:"var(--main-color)"})}):(0,p.jsx)(rE,{w:"100%",h:"auto",borderRadius:"none"})})},rz=e=>{var t,n,a,i,r;let{node:o,isCollapsed:l=!1,children:s}=e,d=o.attrs,c=rR(null!=(a=null==d?void 0:d.layout)?a:"blank"),u=c.items;return(0,p.jsx)(e6.s,{className:(0,I.cx)("thumbnail-node-".concat(o.type),l&&"collapsed"),"data-testid":"card-thumbnail",minH:l?"2.5em":"var(--card-template-min-height)",w:l?"100%":"var(--card-template-width)",h:"auto",border:"2px solid",borderColor:"var(--main-color)",borderRadius:"base",flexDirection:"column",overflow:"hidden",children:(0,p.jsxs)(e6.s,{flexDirection:"column",fontSize:"".concat(.375,"em"),flex:1,justifyContent:"center",children:[!l&&(0,p.jsx)(h.a,{display:"grid",flex:1,sx:{...c.grid,...u.body?{"> .thumbnail-node-cardLayoutItem":null!=(i=null==(t=u.body)?void 0:t.style)?i:{gridArea:"body"}}:{},...u.accent?{"> .thumbnail-node-cardAccentLayoutItem":null!=(r=null==(n=u.accent)?void 0:n.style)?r:{gridArea:"accent"}}:{}},children:s}),l&&(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(rk,{w:"50%",mx:"1em",h:"2em",borderRadius:"calc(var(--text-border-radius) * 2)"})})]})})},rT={bar:e1.s67,pie:e1.W1p,line:e1.gK3,donut:e1.oDg,"horizontal-bar":e1.Mkm};var rN=n(80274),rP=n(17798),rO=n(83743),rH=n(66082);let rF=e=>({"--flex-align":(0,rH.lI)(e)}),rB=e=>({["& .thumbnail-node-paragraph > div:nth-of-type(1n+".concat(e+1,")")]:{display:"none"}});var rV=n(79018);let rW=e=>{let{children:t,...n}=e;return(0,p.jsx)(h.a,{boxSize:"var(--bullet-size)",borderRadius:"0.25em",bg:"var(--main-color)",...n,children:t})},rU="0.5em";var rG=n(17485);let rK={xs:"sm",sm:"sm",md:"lg",lg:"xl",xl:"2x",full:"2x"},rQ=e=>{var t,n,a,i,r,o,l,s,d;let{node:c,parent:u,children:h}=e,m=rF(null!=(s=null==u||null==(n=u.attrs)||null==(t=n.options)?void 0:t.horizontalAlign)?s:"center"),g=null!=(d=null==u||null==(i=u.attrs)||null==(a=i.options)?void 0:a.imageShape)?d:"square",x=rG.zF[g],f=(null==u||null==(r=u.attrs)?void 0:r.variantKey)==="iconsText",b=(null==u||null==(l=u.attrs)||null==(o=l.options)?void 0:o.shapeSize)||"lg",v=rB(2);return(0,p.jsxs)(e6.s,{className:"thumbnail-node-".concat(c.type),gap:"var(--block-spacing)",flexDirection:"column",children:[f?(0,p.jsx)(rE,{minH:"0",icon:(0,p.jsx)(E.g,{icon:eL.yy,size:rK[b]||"lg"}),bg:f?"none":void 0}):(0,p.jsx)(rE,{minH:"2em",minW:"2em",sx:x}),(0,p.jsx)(rA,{css:m,sx:f?void 0:v,children:h})]})},rZ=e=>{var t;let{node:n,children:a}=e,i=(null==(t=n.attrs)?void 0:t.variantKey)==="iconsText";return(0,p.jsx)(rO.r,{rowGap:"1.5em",columnGap:"1.5em",columns:i?4:3,children:a})},rq="0.25em",r$=e=>{let{node:t}=e;return(0,p.jsx)(e6.s,{className:"thumbnail-node-".concat(t.type),bg:"var(--main-color)",h:"1.25em"})},rJ=e=>{let{isFunnel:t=!1,children:n}=e;return(0,p.jsx)(rO.r,{columns:1,autoRows:"1fr",gap:rq,pos:"relative",mx:"auto",w:"min(100%, calc((var(--card-template-width) * 0.5) / ".concat(.375,"))"),clipPath:t?"polygon(50% 100%, 0 0, 100% 0)":"polygon(50% 0%, 0% 100%, 100% 100%)",children:n})},rY=(e,t)=>Math.floor(33+67/(t-1)*e),rX={bullets:{Cell:e=>{let{node:t,children:n}=e;return(0,p.jsxs)(e6.s,{className:"thumbnail-node-".concat(t.type),pos:"relative",align:"flex-start",gap:"1em",flex:"1 1 auto",w:"calc(".concat(50,"% - ").concat("1em",")"),children:[(0,p.jsx)(rW,{}),(0,p.jsx)(rA,{flex:"1",children:n})]})},Wrapper:e=>{let{children:t}=e;return(0,p.jsx)(e6.s,{gap:"1em",wrap:"wrap",children:t})}},timeline:{Cell:e=>{var t,n;let{node:a,parent:i,children:r}=e,o=(null==i||null==(n=i.attrs)||null==(t=n.options)?void 0:t.orientation)==="horizontal",l="".concat(2,"em");return(0,p.jsxs)(e6.s,{className:"thumbnail-node-".concat(a.type),pos:"relative",...o?{gridColumn:"span 2",gridRow:3,align:"flex-start",justify:"center",pt:l}:{gridRow:"span 2",gridColumn:3,align:"flex-start",pl:l},orientation:"horizontal",align:"start",children:[(0,p.jsx)(rW,{pos:"absolute",...o?{top:0,transform:"translateY(-50%)"}:{left:0,transform:"translateX(-50%)"},children:(0,p.jsx)(h.a,{position:"absolute",zIndex:"-1",bg:"var(--main-color)",...o?{height:"".concat(1,"em"),width:"var(--border-width)",left:"50%",top:"100%",transform:"translateX(-50%)"}:{width:"".concat(1,"em"),height:"var(--border-width)",top:"50%",transform:"translateY(-50%)",left:"100%"}})}),(0,p.jsx)(rA,{flex:"1",children:r})]})},Wrapper:e=>{var t,n;let{children:a,node:i}=e,r=(null==(n=i.attrs)||null==(t=n.options)?void 0:t.orientation)==="horizontal",o=r?(0,p.jsx)(h.a,{gridRow:2,gridColumn:1,children:(0,p.jsx)(h.a,{position:"absolute",height:"var(--border-width)",width:"100%",left:"0",right:"0",bg:"var(--main-color)"})}):(0,p.jsx)(rI.o,{gridColumn:2,gridRow:1,children:(0,p.jsx)(h.a,{position:"absolute",width:"var(--border-width)",top:"0",bottom:"0",bg:"var(--main-color)"})});return(0,p.jsxs)(rb.x,{...r?{templateRows:"auto 0px auto",autoColumns:"1fr",justifyContent:"center",columnGap:"1em",mt:"var(--bullet-size)"}:{templateColumns:"0px 0px 1fr",autoRows:"auto",justifyContent:"center",rowGap:"1em",ml:"var(--bullet-size)"},pos:"relative","data-testid":"timeline-thumbnail",children:[o,a]})}},imagesText:{Cell:rQ,Wrapper:rZ},textBoxes:{Cell:e=>{var t,n;let{node:a,parent:i,children:r}=e,o=rF((null==i||null==(n=i.attrs)||null==(t=n.options)?void 0:t.horizontalAlign)||"center");return(0,p.jsx)(rS,{className:"thumbnail-node-".concat(a.type),bg:"var(--box-background-color)",p:"var(--box-padding)",css:o,children:r})},Wrapper:e=>{let{children:t}=e;return(0,p.jsx)(e6.s,{gap:"var(--block-spacing)",children:t})}},stats:{Cell:e=>{var t,n,a;let{children:i,node:r,parent:o}=e,l=rF((null==o||null==(n=o.attrs)||null==(t=n.options)?void 0:t.horizontalAlign)||"center");return(0,p.jsxs)(rA,{className:"thumbnail-node-".concat(r.type),align:"center",justify:"start",children:[(0,p.jsx)(S.E,{color:"var(--accent-color)",fontSize:"1.5em",children:(null==(a=r.attrs)?void 0:a.label)||"X%"}),(0,p.jsx)(rA,{w:"100%",css:l,children:i})]})},Wrapper:e=>{let{children:t,parent:n}=e,a=(null==n?void 0:n.type)==="gridCell"?1:3;return(0,p.jsx)(rO.r,{columns:a,columnGap:"1.5em",rowGap:"1.5em",children:t})}},barStats:{Cell:e=>{var t,n,a;let{node:i,parent:r,children:o}=e,l=(0,rV.dD)({label:(null==(t=i.attrs)?void 0:t.label)||null}),s=rF((null==r||null==(a=r.attrs)||null==(n=a.options)?void 0:n.horizontalAlign)||"center");return(0,p.jsxs)(rA,{className:"thumbnail-node-".concat(i.type),align:"center",justify:"start",children:[(0,p.jsxs)(rA,{borderRadius:"calc(var(--box-border-radius) / 2)",overflow:"hidden",orientation:"horizontal",flex:1,w:"100%",bg:"var(--main-color)",children:[(0,p.jsx)(h.a,{w:"100%",bg:"var(--accent-color)",pos:"relative",h:"1.25em",children:(0,p.jsx)(h.a,{pos:"absolute",inset:0})}),(0,p.jsx)(h.a,{w:"".concat(100*l,"%"),pos:"relative"})]}),(0,p.jsx)(rA,{w:"100%",css:s,children:o})]})},Wrapper:e=>{let{children:t,parent:n}=e,a=(null==n?void 0:n.type)==="gridCell"?1:2;return(0,p.jsx)(rO.r,{columns:a,columnGap:"1.5em",rowGap:"1em",children:t})}},staircase:{Cell:e=>{var t,n;let{node:a,parent:i,index:r}=e,o=rY(r,null!=(n=null==i||null==(t=i.content)?void 0:t.length)?n:1);return(0,p.jsx)(e6.s,{className:"thumbnail-node-".concat(a.type),borderRadius:"2px",bg:"var(--main-color)",h:"1.25em",w:"".concat(o,"%")})},Wrapper:e=>{var t,n,a;let{node:i,children:r}=e,o=null!=(a=null==i||null==(n=i.attrs)||null==(t=n.options)?void 0:t.horizontalAlign)?a:"center",l=(0,rH.lI)(o);return(0,p.jsx)(rA,{align:l,gap:rq,mx:"auto",w:"min(100%, calc((var(--card-template-width) * 0.5) / ".concat(.375,"))"),children:r})}},pyramid:{Cell:r$,Wrapper:rJ},funnel:{Cell:e=>(0,p.jsx)(r$,{...e}),Wrapper:e=>{let{children:t,...n}=e;return(0,p.jsx)(rJ,{isFunnel:!0,...n,children:t})}},circleStats:{Cell:e=>{var t,n,a,i;let{node:r,parent:o,children:l}=e,s=(0,rH.lI)((null==o||null==(n=o.attrs)||null==(t=n.options)?void 0:t.horizontalAlign)||"center"),d=(0,rV.dD)({label:null!=(i=null==(a=r.attrs)?void 0:a.label)?i:"50"});return(0,p.jsxs)(e6.s,{className:"thumbnail-node-".concat(r.type),gap:"var(--block-spacing)",flexDirection:"column",children:[(0,p.jsx)(h.a,{display:"flex",justifyContent:"center",alignItems:"center",position:"relative",w:"80%",alignSelf:"center",aspectRatio:"1 / 1",_before:{content:'""',position:"absolute",top:"0",left:"0",right:"0",bottom:"0",borderRadius:"50%",background:"conic-gradient(var(--accent-color) ".concat(100*d,"%, var(--main-color) 0 ").concat((100-d)*100,"%)"),zIndex:1},_after:{content:'""',position:"absolute",top:rU,left:rU,right:rU,bottom:rU,background:"var(--card-background)",borderRadius:"50%",zIndex:2},children:(0,p.jsx)(h.a,{zIndex:"100",bg:"var(--main-color)",h:"0.5em",pos:"absolute",borderRadius:"var(--text-border-radius)",w:"40%"})}),(0,p.jsx)(rA,{css:s,children:l})]})},Wrapper:e=>{let{children:t}=e;return(0,p.jsx)(rO.r,{gap:"1.5em",columns:3,children:t})}},arrows:{Cell:e=>{var t,n,a,i;let{node:r,parent:o,children:l}=e,s=rF((null==o||null==(n=o.attrs)||null==(t=n.options)?void 0:t.horizontalAlign)||"left"),d=(null==o||null==(i=o.attrs)||null==(a=i.options)?void 0:a.orientation)==="vertical";return(0,p.jsxs)(e6.s,{className:"thumbnail-node-".concat(r.type),gap:"var(--block-spacing)",flexDirection:d?"row":"column",children:[(0,p.jsx)(h.a,{width:d?"1.5em":"100%",height:d?"100%":"1.25em",bg:"var(--accent-color)",clipPath:d?"polygon(50% 10%, 100% 0, 100% 90%, 50% 100%, 0 90%, 0% 0%)":"polygon(90% 0, 100% 50%, 90% 100%, 0% 100%, 10% 50%, 0% 0%)"}),(0,p.jsx)(rA,{flex:1,css:s,p:"0.5em",px:d?0:"0.5em",pt:d?void 0:0,children:l})]})},Wrapper:e=>{var t,n;let{node:a,children:i}=e,r=(null==(n=a.attrs)||null==(t=n.options)?void 0:t.orientation)==="vertical";return(0,p.jsx)(rO.r,{columns:r?1:3,rowGap:r?void 0:"1.5em",children:i})}},iconsText:{Cell:rQ,Wrapper:rZ}},r0=e=>{let{children:t}=e;return(0,p.jsx)(rS,{p:"var(--box-padding)",bg:"var(--box-background-color)",w:"100%",children:t})},r1=e=>{let{children:t}=e;return(0,p.jsx)(rS,{p:"var(--box-padding)",bg:"var(--box-background-color)",w:"100%",children:t})},r2={nodes:{card:{type:"card",component:e=>{let{depth:t,...n}=e;return t>2?(0,p.jsx)(p.Fragment,{}):t>1?(0,p.jsx)(rz,{...n,isCollapsed:!0}):(0,p.jsx)(rz,{...n})}},cardLayoutItem:{type:"cardLayoutItem",component:rD},cardAccentLayoutItem:{type:"cardAccentLayoutItem",component:rD},title:{type:"title",component:e=>{let{node:t}=e;return(0,p.jsx)(h.a,{className:"thumbnail-node-".concat(t.type),w:"50%",bg:"var(--main-color)",h:"".concat((0,rN.o)("title").size/2,"em"),borderRadius:"var(--text-border-radius)"})}},paragraph:{type:"paragraph",component:e=>{let{node:t}=e;return(0,p.jsxs)(ev.B,{className:"thumbnail-node-".concat(t.type),"data-testid":"paragraph-thumbnail",spacing:"var(--line-spacing)",align:"var(--flex-align)",children:[(0,p.jsx)(rk,{}),(0,p.jsx)(rk,{}),(0,p.jsx)(rk,{w:"85%"})]})}},heading:{type:"heading",component:e=>{var t;let{node:n}=e;return(0,p.jsx)(h.a,{className:"thumbnail-node-".concat(n.type),"data-testid":"heading-thumbnail",bg:"var(--main-color)",h:"".concat((0,rN.o)((0,rN.bZ)(null==(t=n.attrs)?void 0:t.level)).size/2,"em"),borderRadius:"var(--text-border-radius)"})}},bullet:{type:"bullet",component:e=>{let{node:t}=e;return(0,p.jsxs)(rA,{className:"thumbnail-node-".concat(t.type),orientation:"horizontal",align:"start",pl:"0.5em",color:"var(--main-color)",children:[(0,p.jsx)(rj.j,{size:"var(--block-spacing)",bg:"var(--main-color)"}),(0,p.jsx)(rA,{orientation:"horizontal",flex:"1",children:(0,p.jsx)(rk,{w:"75%"})})]})}},gridLayout:{type:"gridLayout",component:e=>{var t,n;let{node:a,children:i}=e;return(0,p.jsx)(rb.x,{className:"thumbnail-node-".concat(a.type),templateColumns:"repeat(".concat((null==(n=a.attrs)||null==(t=n.colWidths)?void 0:t.length)||2,", 1fr)"),gap:"var(--block-spacing)",children:i})}},gridCell:{type:"gridCell",component:e=>{var t;let{node:n,children:a}=e,i=null==(t=n.attrs)?void 0:t.verticalAlign;return(0,p.jsx)(rA,{className:"thumbnail-node-".concat(n.type),justifyContent:i,flex:1,children:a})}},image:{type:"image",component:e=>{let{node:t}=e;return(0,p.jsx)(rE,{className:"thumbnail-node-".concat(t.type)})}},mediaPlaceholder:{type:"mediaPlaceholder",component:e=>{var t;let{node:n}=e,a=n.attrs,i=null==a?void 0:a.source,r=i&&(null==(t=rP.Dc[i])?void 0:t.icon)||null;return(0,p.jsx)(rE,{className:"thumbnail-node-".concat(n.type),icon:r?(0,p.jsx)(E.g,{icon:r,size:"2x"}):void 0})}},buttonGroup:{type:"buttonGroup",component:e=>{let{node:t,children:n}=e;return(0,p.jsx)(rA,{className:"thumbnail-node-".concat(t.type),orientation:"horizontal",children:n})}},button:{type:"button",component:e=>{var t;let{node:n}=e,a=(null==(t=n.attrs)?void 0:t.variant)||"solid";return(0,p.jsx)(rS,{className:"thumbnail-node-".concat(n.type),minH:"1.5em",w:"25%",style:a})}},gallery:{type:"gallery",component:e=>{let{node:t}=e;return(0,p.jsxs)(rS,{className:"thumbnail-node-".concat(t.type),display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",bg:"var(--box-background-color)",p:"0.5em",children:[(0,p.jsx)(rE,{flex:2,minH:"3.5em",bg:"var(--main-color)",iconSize:"xl"}),(0,p.jsx)(rE,{flex:1,minH:"3.5em",bg:"var(--main-color)",iconSize:"xl"}),(0,p.jsx)(rE,{flex:2,minH:"3.5em",bg:"var(--main-color)",iconSize:"xl"})]})}},toggle:{type:"toggle",component:e=>{let{node:t,children:n}=e;return(0,p.jsx)(h.a,{className:"thumbnail-node-".concat(t.type),pl:"0.5em","data-open":"false",sx:{'&[data-open="false"]':{"> :not(:first-of-type)":{display:"none"}}},children:n})}},toggleSummary:{type:"toggleSummary",component:e=>{let{node:t}=e;return(0,p.jsxs)(rA,{className:"thumbnail-node-".concat(t.type),orientation:"horizontal",color:"var(--main-color)",maxH:"1em",children:[(0,p.jsx)(E.g,{icon:eL.fU5,size:"xl"}),(0,p.jsx)(rk,{w:"75%"})]})}},smartLayout:{type:"smartLayout",component:e=>{var t,n;let{node:a,children:i,...r}=e,o=r1;if(null==(t=a.attrs)?void 0:t.variantKey){let e=null==(n=rX[a.attrs.variantKey])?void 0:n.Wrapper;e&&(o=e)}return(0,p.jsx)(rb.x,{className:"thumbnail-node-".concat(a.type),gridTemplateColumns:"100%",children:(0,p.jsx)(o,{node:a,...r,children:i})})}},smartLayoutCell:{type:"smartLayoutCell",component:e=>{var t,n;let{children:a,parent:i,...r}=e,o=r0;if(i&&(null==(t=i.attrs)?void 0:t.variantKey)){let e=null==(n=rX[i.attrs.variantKey])?void 0:n.Cell;e&&(o=e)}return(0,p.jsx)(o,{parent:i,...r,children:a})}},diagram:{type:"diagram",component:e=>{let{node:t}=e;return(0,p.jsx)(rE,{className:"thumbnail-node-".concat(t.type),icon:(0,p.jsx)(E.g,{icon:e1.qTS,size:"2x"})})}},chart:{type:"chart",component:e=>{var t;let{node:n}=e;return(0,p.jsx)(rE,{className:"thumbnail-node-".concat(n.type),icon:(0,p.jsx)(E.g,{icon:rT[(null==(t=n.attrs)?void 0:t.chartType)||"bar"],size:"2x"})})}},table:{type:"table",component:e=>{let{node:t,children:n}=e;return(0,p.jsx)(h.a,{flex:1,className:"thumbnail-node-".concat(t.type),bg:"var(--box-background-color)",borderRadius:"var(--text-border-radius)",p:"0.25em",children:(0,p.jsx)(h.a,{border:"1px solid var(--main-color)",borderRadius:"var(--text-border-radius)",children:n})})}},tableRow:{type:"tableRow",component:e=>{let{node:t,children:n}=e;return(0,p.jsx)(e6.s,{className:"thumbnail-node-".concat(t.type),borderBottom:"1px solid var(--main-color)",sx:{"&:last-of-type  ":{borderBottom:"none"}},children:n})}},tableCell:{type:"tableCell",component:e=>{let{node:t}=e;return(0,p.jsx)(h.a,{flex:1,className:"thumbnail-node-".concat(t.type),height:"1em",borderRight:"1px solid var(--main-color)",sx:{"&:last-of-type":{borderRight:"none"}}})}}}},r4={md:"6em",lg:"8em"},r5={md:"4em",lg:"5em"},r6=e=>{let{templateContent:t,isDark:n,size:a="md",...i}=e;return(0,p.jsx)(h.a,{css:{"--box-background-color":n?"var(--chakra-colors-gray-600)":"var(--chakra-colors-gray-50)","--main-color":n?"var(--chakra-colors-gray-500)":"var(--chakra-colors-gray-200)","--accent-color":n?"var(--chakra-colors-gray-300)":"var(--chakra-colors-gray-400)","--box-border-radius":"0.5em","--box-padding":"0.75em","--text-border-radius":"0.25em","--block-spacing":"0.75em","--bullet-size":"1em","--line-spacing":"calc(1 / 3 * 1em)","--paragraph-height":"0.5em","--border-width":"0.25em","--card-template-width":r4[a],"--card-template-min-height":r5[a],"--card-background":n?"var(--chakra-colors-gray-600)":"white"},bg:"var(--card-background)",h:"auto",...i,children:rC(r2,t)})};var r3=n(85235);let r9=e=>{let{item:t}=e,{name:n,image:a,icon:i,key:r,previewImage:o,shortcut:l,badge:s}=t,d=(0,rw.iT)(),{colorMode:c}=(0,ay.G6)(),u={iconColor:(0,ay.dU)("trueblue.600","trueblue.100"),bgColor:(0,ay.dU)("white","elevation.3"),textColor:(0,ay.dU)("gray.700","gray.50"),borderColor:(0,ay.dU)("gray.200","gray.600"),invertFilter:(0,ay.dU)("invert(0)","invert(.7) brightness(1.4) hue-rotate(180deg)"),iconBgColor:(0,ay.dU)("white","gray.700"),gripDotsColor:(0,ay.dU)("gray.500","gray.500")};return(0,p.jsxs)(ev.B,{h:"100%",bg:u.bgColor,p:2.5,pt:2,spacing:1.5,alignItems:"center",shadow:"sm",borderRadius:"xl",border:"1px",borderColor:u.borderColor,role:"group",children:[(0,p.jsx)(e6.s,{justifyContent:"center",alignItems:"center",minH:"7",w:"100%",children:"cardTemplate"===t.type&&d[r]?(0,p.jsx)(r6,{templateContent:d[r].jsonContent,isDark:"dark"===c}):o?(0,p.jsx)(e6.s,{bg:u.iconBgColor,borderRadius:"md",children:(0,p.jsx)(tk._,{filter:u.invertFilter,src:o.src,w:"100%",maxW:"100%",alt:n(),pointerEvents:"none"})}):a?(0,p.jsx)(tk._,{src:a.src,borderRadius:"sm",h:"1.5em",w:"1.5em",objectFit:"contain",pointerEvents:"none"}):(0,p.jsx)(h.a,{color:u.iconColor,fontSize:"xl",children:i&&(0,p.jsx)(E.g,{icon:i})})}),s&&(0,p.jsx)(ry.E,{position:"absolute",top:"1",insetEnd:"2",colorScheme:"green",children:s()}),(0,p.jsxs)(ev.B,{spacing:0,whiteSpace:"break-spaces",flex:"1",textAlign:"center",children:[(0,p.jsx)(S.E,{color:u.textColor,fontWeight:"600",fontSize:"xs",lineHeight:1.2,noOfLines:2,children:n()}),l&&(0,p.jsx)(S.E,{fontSize:"xs",color:"gray.500",fontWeight:"500",children:l})]})]})};var r7=n(50171);let r8={blankCard:"/new"},oe=()=>(0,rw.st)().reduce((e,t)=>{let{id:n,name:a,jsonContent:i}=t;return e[n]={type:"cardTemplate",key:n,nodeName:"card",name:a,...r8[n]&&{shortcut:r8[n]},icon:iM.Qyz,execute:e=>{e.commands.insertContentAndSelect(i)}},e},{}),ot=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";return(0,r7.g)(e).map(e=>{let{name:t,templateIds:n}=e,a=n.map(e=>oe()[e]);return{subcategory:t(),items:a}})},on=(0,L.memo)(function(e){let{editor:t,appendCard:n}=e,{isInOfflineMode:a}=(0,al.u)(),i={bgColor:(0,ay.dU)("gray.50","blackAlpha.900")};return(0,p.jsx)(ev.B,{p:2,bg:i.bgColor,children:ot().map(e=>{let{subcategory:i,items:r}=e,o=r.filter(e=>t&&!(0,rv.gT)(t,e,!1,a));if(0!==o.length)return(0,p.jsxs)(ev.B,{spacing:1,children:[(0,p.jsx)(eh._x,{flex:"1",textAlign:"left",children:i}),(0,p.jsx)(rb.x,{gap:"1.5",gridTemplateColumns:"1fr 1fr 1fr",children:o.map(e=>(0,p.jsx)(eh.Tz,{label:(0,p.jsx)(em.x6,{id:"BPbkIF"}),placement:"top",children:(0,p.jsx)(h.a,{cursor:"pointer",onClick:()=>{n(e.key)},borderRadius:"xl",_hover:{boxShadow:"lg"},transitionProperty:"box-shadow",transitionDuration:"normal",children:(0,p.jsx)(r9,{item:e})})},e.key))})]},i)})})});var oa=n(52055);let oi=e=>{let t=oe(),n=(0,oa.G)().blankCard;return e&&(n=(0,oa.G)()[e]),{cardToAdd:n,command:"aiCardAfter"===e?{key:"aiCardAfter",nodeName:"card"}:e?t[e]:t.blankCard}},or=(0,L.memo)(function(e){let{editor:t,getPos:n,display:a,isNested:i}=e,r=(0,e8.fW)(),{isInOfflineMode:o}=(0,al.u)(),l=(0,es.FX)(),s=(0,t8.u)("aiRewrite")&&!l,d=(0,L.useCallback)(e=>{let a=n(),i=t.view.state.doc.nodeAt(a);if(!i)return void console.error("[CardDivider] Cannot append card. Node unknown");let r=a+i.nodeSize,o="aiCardAfter"===e?e9.oU.CARD_DIVIDER_AI:e?e9.oU.CARD_DIVIDER_DROPDOWN:e9.oU.CARD_DIVIDER,{cardToAdd:l,command:s}=oi(e);(0,rh.Jb)(s,o),t.chain().insertContentAt(r,(0,aD.iM)(l)).command(e=>{let{tr:t}=e;return t.setMeta(rf,!0),!0}).focus().selectInsertedNode().run()},[t,n]),c=(0,ay.dU)("gray.50","gray.600"),u=(0,ay.dU)(!1,!0),h=(0,t8.u)("addCard2");return(0,p.jsx)(eq.W,{isLazy:!0,children:e=>{let{isOpen:n}=e;return(0,p.jsx)(e6.s,{contentEditable:!1,suppressContentEditableWarning:!0,className:"card-divider","data-is-nested-card":String(i),position:"absolute",zIndex:nl.$.cardDivider,bottom:-4,w:"100%",justify:"center",align:"center",display:a,opacity:+!!n,transitionProperty:"opacity",transitionDuration:"normal","data-print-hidden":!0,"data-id":"card-divider",children:(0,p.jsxs)(tN.e,{size:"sm",isAttached:!0,"data-guider-highlight":"add-card-button",className:"card-divider-button-group",variant:"plain",shadow:"md",borderRadius:"md",opacity:"1",transitionProperty:"opacity",transitionDuration:"normal",dir:r?"rtl":"ltr",children:[(0,p.jsx)(eh.Tz,{label:(0,p.jsx)(em.x6,{id:"7iE+3N"}),children:(0,p.jsx)(eJ.K,{className:"insert-card-button",variant:"plain","aria-label":e4.Ru._({id:"g+7nXG"}),icon:(0,p.jsx)(E.g,{icon:eL.QLR}),onClick:()=>d(),onMouseDown:nC.JL,size:"sm",shadow:"none",borderRadius:"md",minW:12,transitionProperty:"none",borderColor:c})}),s&&(0,p.jsx)(eh.Tz,{label:(0,p.jsx)(em.x6,{id:"kLZLXX"}),children:(0,p.jsx)(eJ.K,{className:"insert-ai-card-button",variant:"plain","aria-label":e4.Ru._({id:"g+7nXG"}),icon:(0,p.jsx)(k.z,{spacing:0,opacity:o?.3:1,children:(0,p.jsx)(E.g,{icon:eL.p7g})}),onClick:()=>{if(!o){if(h)return void d("aiCardAfter");nw.LF.emit("queueDesignPartnerTask",{message:e4.Ru._({id:"JoMQgx",values:{placeholder:""}}),submit:!1})}},onMouseDown:nC.JL,size:"sm",shadow:"none",minW:12,transitionProperty:"none",borderColor:c,borderRadius:"md",borderInlineStart:"none",borderInlineEndRadius:"none",tabIndex:o?-1:void 0,pointerEvents:o?"none":"auto"})}),(0,p.jsxs)(tg.A,{placement:"end",isLazy:!0,closeOnBlur:!0,closeOnEsc:!0,children:[(0,p.jsx)(eh.Tz,{label:(0,p.jsx)(em.x6,{id:"UgOs5x"}),shouldWrapChildren:!0,children:(0,p.jsx)(tx.W,{children:(0,p.jsx)(eJ.K,{"aria-label":"Add from template",size:"sm",shadow:"none",borderColor:c,icon:(0,p.jsx)(nm.D,{}),fontSize:"lg",fontWeight:"500",borderRadius:"md",borderInlineStart:"none",borderInlineStartRadius:"none","data-guider-highlight":"add-card-template-button",transitionProperty:"none",onMouseDown:nC.JL})})}),(0,p.jsx)(nx.Z,{children:(0,p.jsx)(tf.h,{shadow:"xl",maxH:"90vh",overflowY:"scroll",w:"400px",p:"0",borderColor:u?c:void 0,children:(0,p.jsx)(on,{editor:t,appendCard:d})})})]})]})})}})}),oo=e=>{let{isFocused:t}=e;return(0,p.jsx)(h.a,{position:"absolute",inset:"0",pointerEvents:"none",overflow:"hidden",display:{base:"none",lg:"block"},opacity:+!!t,className:"card-height-guide",children:(0,p.jsxs)(h.a,{position:"absolute",top:"var(--card-min-height)",insetStart:"0",w:"100%",h:"1px",borderBottom:"2px dashed",borderBottomColor:"var(--body-color)",opacity:"0.25",children:[(0,p.jsx)(ol,{insetStart:0}),(0,p.jsx)(ol,{insetEnd:0})]})})},ol=e=>{let{cardDimensions:t}=(0,K.GV)(ed.Uu),{label:n}=(0,aR.iI)(t);return(0,p.jsx)(eh.Tz,{placement:"top",w:"250px",label:(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(S.E,{children:["Your content is too tall to fit the ",n()," size, so it may shrink or overflow when presenting or exporting."]}),(0,p.jsx)(S.E,{color:"gray.500",children:(0,p.jsx)(em.x6,{id:"yrOr7z"})})]}),children:(0,p.jsx)(h.a,{position:"absolute",w:"var(--card-inner-padding-x)",h:"".concat(20,"px"),top:"-".concat(10,"px"),pointerEvents:"auto",cursor:"help",...e})})};var os=n(41781),od=n(74709),oc=n(17496),ou=n(4192),op=n(29608);let oh=(0,L.memo)(e=>{let{children:t,...n}=e,a=(0,eD.En)(),i=(0,K.GV)((0,iW.lp)("right"));return!a||(0,op.Xb)()?null:(0,p.jsx)(h.a,{position:"fixed",bottom:4,insetInlineEnd:i+4,zIndex:"overlay","data-print-hidden":!0,...n,children:t})});oh.displayName="HelpWidgetWrapper";var om=n(74158);let og=new nd.b,ox=(e,t)=>{let n=(0,K.KA)().getState(),a=(0,ed.sX)(n);null===e9.zS||void 0===e9.zS||e9.zS.track(e,{docId:a,...t})};var of=n(1079),ob=n(99767),ov=n(41427);let oy=e=>{let{selectedLocale:t,onLocaleSelect:n,buttonProps:a,menuListProps:i,matchWidth:r=!0,hideLabel:o=!1}=e,l=(0,t8.u)("i18nEnabled");return(0,em.uB)(),(0,p.jsx)(e6.s,{direction:"column",children:(0,p.jsxs)(eq.W,{matchWidth:r,children:[(0,p.jsx)(e$.I,{as:eZ.$,rightIcon:o?null:(0,p.jsx)(E.g,{size:"xs",icon:e1.Jt$}),textAlign:"left",w:"100%",...a,children:o?null:(null==t?void 0:t.displayName)||"Unknown"}),(0,p.jsx)(eY.c,{minWidth:"240px",maxH:"500px",overflowY:"auto",overflowX:"hidden",...i,children:(0,p.jsx)(ta.i,{value:(null==t?void 0:t.key)||"unknown",type:"radio",onChange:e=>{n(e)},children:(0,ov.qm)().map(e=>{let t=new Date(ob.zd[e.key].launchDate),n=!l&&"private_beta"===ob.AT[e.key],a=l&&"private_beta"===ob.AT[e.key],i="public_beta"===ob.AT[e.key]&&Date.now()-t.getTime()<2592e6;return(0,p.jsx)(ti.k,{value:e.key,isDisabled:n,children:(0,p.jsxs)(e6.s,{flex:1,alignItems:"center",children:[(0,p.jsxs)(ev.B,{spacing:0,children:[(0,p.jsx)(S.E,{fontWeight:"600",children:e.displayName}),(0,p.jsx)(S.E,{fontSize:"sm",color:"gray.500",children:e.displayNameLocalized(e4.Ru._.bind(e4.Ru))})]})," ",(0,p.jsx)(ep.h,{}),n?(0,p.jsx)(ry.E,{ms:2,fontSize:"0.75em",colorScheme:"teal",children:(0,p.jsx)(em.x6,{id:"VZeG/A"})}):a?(0,p.jsx)(ry.E,{ms:2,fontSize:"0.75em",colorScheme:"purple",children:(0,p.jsx)(em.x6,{id:"YBt9YP"})}):i?(0,p.jsx)(ry.E,{ms:2,fontSize:"0.75em",colorScheme:"green",children:(0,p.jsx)(em.x6,{id:"isRobC"})}):null]})},e.key)})})})]})})};var ow=n(73110),oC=n(47880);let oj=e=>{var t;let{onClose:n}=e,a=(0,eQ.d)(),{user:i}=(0,aN.ur)(),[r,o]=(0,L.useState)(!1),{setSettings:l}=(0,aN.ur)(),s=(0,ow.O)(),d=(0,L.useMemo)(()=>s,[]),[c,u]=(0,L.useState)(d);(0,oC.O)(c);let h=(0,L.useCallback)(async()=>{o(!0);try{await (null==l?void 0:l({set:{locale:c}})),a({title:(0,p.jsx)(em.x6,{id:"RRo9kN"}),position:"top",status:"success",isClosable:!0,duration:3e3}),n()}catch(e){console.error('[StandaloneLocaleModal.onSave] Error updating language for user with id "'.concat(null==i?void 0:i.id,'"'),e.message)}o(!1)},[c,n,l,a,null==i?void 0:i.id]),m=c!==(null==i||null==(t=i.settings)?void 0:t.locale);return(0,p.jsx)(eh.L8,{isDark:!1,children:(0,p.jsxs)(eg.aF,{isOpen:!0,onClose:n,children:[(0,p.jsx)(ex.m,{}),(0,p.jsxs)(ef.$,{children:[(0,p.jsx)(eb.r,{children:(0,p.jsx)(em.x6,{id:"+DEogc"})}),(0,p.jsx)(eC.s,{}),(0,p.jsx)(ej.c,{children:(0,p.jsxs)(tu.MJ,{children:[(0,p.jsx)(tp.l,{children:(0,p.jsx)(em.x6,{id:"M3JKNC"})}),(0,p.jsx)(oy,{selectedLocale:ob.zd[c],onLocaleSelect:u})]})}),(0,p.jsx)(iT.j,{children:m?(0,p.jsxs)(tN.e,{children:[(0,p.jsx)(eZ.$,{variant:"ghost",onClick:n,children:(0,p.jsx)(em.x6,{id:"dEgA5A"})}),(0,p.jsx)(eZ.$,{variant:"solid",onClick:h,isLoading:r,children:(0,p.jsx)(em.x6,{id:"tfDRzk"})})]}):(0,p.jsx)(eZ.$,{variant:"plain",onClick:n,children:(0,p.jsx)(em.x6,{id:"yz7wBu"})})})]})]})})};var oA=n(49337),ok=n(37377),oS=n(46091),oI=n(91792),oE=n(20591);let oL=e=>(0,eD.En)()?(0,p.jsx)(oD,{...e}):null,oR=(0,L.memo)(e=>{var t;let{showShortcuts:n=!0,showOnboardingChecklist:a=!1}=e,i=(0,om.wA)(),{isConnected:r}=(0,al.u)(),o=(0,t8.u)("intercom"),l=(0,t8.u)("shareFeedback"),s=(0,oA.k)(),d=(0,ow.O)(),{isOpen:c,onOpen:u,onClose:m}=(0,n3.j)(),{isOpen:g,onOpen:x,onClose:f}=(0,n3.j)({id:"locale-modal"}),{onOpen:b}=(0,n3.j)({id:"help-menu"}),[v,y]=(0,iN.M)("hasUnreadIntercom",!1),w=window.Intercom,C=(0,L.useCallback)(()=>{y(!1),s()},[s,y]),j=(0,oI.rd)();return(0,L.useEffect)(()=>{if(!w)return;w("onHide",()=>{i((0,ok.YN)({isOpen:!1}))});let e=setInterval(()=>{document.querySelector("iframe.intercom-borderless-frame")&&y(!0)},1e3);return()=>{w("hide"),clearInterval(e)}},[i,w,y]),(0,p.jsxs)(eh.L8,{isDark:j,children:[(0,p.jsxs)(eq.W,{children:[(0,p.jsx)(e$.I,{"data-guider-highlight":"default-help-widget-activator",as:eJ.K,onClick:()=>{b(),og.emit("toggleOpen",{behavior:"close",skipTracking:!0})},isRound:!0,position:"relative",size:"md","aria-label":e4.Ru._({id:"c3XJ18"}),icon:v?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(rj.j,{position:"absolute",size:2.5,bg:"red.400",top:0,right:0}),(0,p.jsx)(E.g,{icon:e1.z$e,className:"fa-beat-fade"})]}):(0,p.jsx)(E.g,{icon:e1.EvL})}),(0,p.jsxs)(eY.c,{children:[(0,p.jsxs)(eX.r,{children:[n&&(0,p.jsx)(e0.D,{onClick:u,icon:(0,p.jsx)(E.g,{fixedWidth:!0,icon:e1.Lhe}),children:(0,p.jsx)(em.x6,{id:"77Emn0"})}),a&&(0,p.jsx)(e0.D,{as:nf.N,_hover:{textDecoration:"none",shadow:"none"},onClick:()=>{ox(e9.VV.ONBOARDING_CHECKLIST_WIDGET_CHECKLIST_MANUAL_OPENED),og.emit("toggleOpen",{behavior:"open"})},icon:(0,p.jsx)(E.g,{fixedWidth:!0,icon:e1.S3S}),"data-guider-highlight":"onboarding-checklist",children:(0,p.jsx)(em.x6,{id:"BOFovM"})}),(0,p.jsx)(e0.D,{as:nf.N,_hover:{textDecoration:"none",shadow:"none"},href:"https://ideas.gamma.app/changelog",target:"_blank",icon:(0,p.jsx)(E.g,{fixedWidth:!0,icon:e1.kLe}),children:(0,p.jsx)(em.x6,{id:"PbLEFQ",values:{GAMMA_PROPER_NOUN:e7.On}})})]}),(0,p.jsx)(tr.N,{}),(0,p.jsxs)(eX.r,{children:[(0,p.jsx)(e0.D,{as:nf.N,_hover:{textDecoration:"none",shadow:"none"},href:"https://help.gamma.app",target:"_blank",icon:(0,p.jsx)(E.g,{fixedWidth:!0,icon:e1.$UM}),children:(0,p.jsx)(em.x6,{id:"CRzGla"})}),o&&r?(0,p.jsx)(e0.D,{icon:v?(0,p.jsxs)(h.a,{position:"relative",children:[(0,p.jsx)(rj.j,{position:"absolute",size:1.5,bg:"red.400",top:0,right:-1}),(0,p.jsx)(E.g,{fixedWidth:!0,icon:e1.z$e,className:"fa-beat-fade"})]}):(0,p.jsx)(E.g,{fixedWidth:!0,icon:e1.gSF}),onClick:C,children:(0,p.jsx)(em.x6,{id:"mpby9d"})}):(0,p.jsx)(e0.D,{icon:(0,p.jsx)(E.g,{fixedWidth:!0,icon:e1.y_8}),as:nf.N,_hover:{textDecoration:"none",shadow:"none"},href:"mailto:".concat(of.J),children:(0,p.jsx)(em.x6,{id:"A0C9La"})}),l&&(0,p.jsx)(e0.D,{as:nf.N,_hover:{textDecoration:"none",shadow:"none"},href:"https://ideas.gamma.app/ideas",target:"_blank",icon:(0,p.jsx)(E.g,{fixedWidth:!0,icon:e1.O3E}),children:(0,p.jsx)(em.x6,{id:"u5hSeG"})})]}),(0,p.jsx)(tr.N,{}),(0,p.jsx)(eX.r,{children:(0,p.jsx)(e0.D,{icon:(0,p.jsx)(E.g,{fixedWidth:!0,icon:e1.Bwz}),onClick:x,children:(null==(t=ob.zd[d])?void 0:t.displayName)||"Unknown"})})]}),(0,p.jsx)(oE.a,{isOpen:c,onClose:m})]}),g&&(0,p.jsx)(oj,{onClose:f})]})}),oD=(0,oS.A)(oR);oL.displayName="DefaultHelpWidget";let oM=(0,tl.i7)({"0%":{maskPosition:"0% 50%"},"50%":{maskPosition:"100% 50%"},"100%":{maskPosition:"0% 50%"}});(0,L.memo)(e=>{let{children:t,...n}=e,a=(0,eD.En)(),i=(0,L.useMemo)(()=>(0,nj.Vx)(!1),[]);return a?(0,p.jsxs)(e6.s,{pt:4,w:"100%",minH:"100%",bgSize:"cover",bgPosition:"center center",position:"relative",bg:"gradient.sky",className:"ai-page-wrapper",flex:"1",sx:i,...n,children:[(0,p.jsx)(h.a,{zIndex:1,w:"100%",flex:"1",children:t}),(0,p.jsx)(oh,{children:(0,p.jsx)(oL,{showShortcuts:!1})})]}):null}).displayName="AIPageWrapper";var o_=n(640);let oz={src:"https://assets.gammahosted.com/j1bla5j5f/_next/static/media/Stars-2.48f5ca51.svg"},oT=e=>{let{isDark:t,templateIcon:n,tooltip:a,label:i,isSelected:r,onClick:o,...l}=e;return(0,p.jsx)(eh.Tz,{label:a,placement:"top",children:(0,p.jsx)(eJ.K,{onClick:o,icon:(0,p.jsxs)(ev.B,{maxW:"100%",alignItems:"center",children:[n,i&&(0,p.jsx)(S.E,{maxW:"100%",w:"100%",fontSize:"xs",overflow:"hidden",textOverflow:"ellipsis",overflowX:"hidden",whiteSpace:"nowrap",textAlign:"left",children:i})]}),h:"auto",textShadow:"none",variant:"plain",p:2,flex:"1",w:"100%",cursor:"pointer",textAlign:"center",transition:"all 300ms ease",border:"1px solid",bg:t?r?"trueblue.900":"whiteAlpha.50":r?"trueblue.50":"blackAlpha.50",borderRadius:"md",boxShadow:"sm",borderColor:t?r?"trueblue.300":"whiteAlpha.100":r?"trueblue.500":"blackAlpha.100",color:t?r?"trueblue.200":"gray.400":r?"trueblue.500":"gray.500",_hover:{bg:t?r?"whiteAlpha.100":"whiteAlpha.200":r?"trueblue.100":"trueblue.50",borderColor:t?"trueblue.200":r?"trueblue.500":"trueblue.200"},position:"relative","aria-label":a,...l})})},oN=e=>{let{isDark:t,selectedTemplate:n,setSelectedTemplate:a,isDisabled:i}=e,r=ih(),o=t?"invert(.8) brightness(1.2)":"invert(0)",l=t?"invert(.8) brightness(2)":"invert(0)";return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(S.E,{color:t?"titanium.50":"titanium.900",fontSize:"sm",fontWeight:"normal",children:(0,p.jsx)(em.x6,{id:"hQDrYd"})}),(0,p.jsxs)(rO.r,{spacing:2,columns:[2,3,5,r.length+1],children:[(0,p.jsx)(oT,{isDark:t,templateIcon:(0,p.jsx)(E.g,{icon:iM.swh,fixedWidth:!0,size:"lg"}),label:(0,p.jsx)(em.x6,{id:"wtGmzA"}),tooltip:e4.Ru._({id:"zopynZ",values:{GAMMA_PROPER_NOUN:e7.On}}),isSelected:null===n,onClick:()=>a(null),isDisabled:i}),r.map(e=>{let{key:r,image:s,name:d}=e,c=r===n;return(0,p.jsx)(oT,{isDark:t,templateIcon:(0,p.jsx)(tk._,{src:s.src,filter:c?l:o,bg:"white"}),tooltip:d,isSelected:c,onClick:()=>a(r),isDisabled:i},r)})]})]})},oP=e=>{let{theme:t,handle:n,editor:a,getPos:i,input:r,displayFullBleed:o,isFocused:l}=e,{isInOfflineMode:s}=(0,al.u)(),{isGenerating:d,getContextAndGenerate:u,updateInput:m,locale:g}=ig({theme:t,editor:a,getPos:i,input:r}),x=(0,eD.lW)(m,500),{prompt:f,template:b}=r,[v,y]=(0,L.useState)(f),w=(0,iV.tO)(()=>{m({prompt:v}),u(v)},"generateCard",e9.VV.GAMMA_UPSELL_CALLOUT_AI_CREDITS_GENERATE_CARD),C=(0,ay.dU)(!1,!0),j=(0,L.useRef)(null),{suggestions:A,generateSuggestionsStatus:S}=ix(a,l);return((0,L.useEffect)(()=>{l&&j.current&&setTimeout(()=>{var e;null==(e=j.current)||e.focus()})},[l]),d)?(0,p.jsxs)(e6.s,{position:"relative",maxW:"100%",w:"var(--card-width)",minH:32,contentEditable:"false",justify:"center",direction:"column",p:"var(--card-inner-padding)",children:[n,(0,p.jsxs)(ev.B,{zIndex:1,w:"100%",children:[(0,p.jsx)(os.E,{height:"3em",w:"33%",mb:4}),(0,p.jsx)(os.E,{height:"1.5em"}),(0,p.jsx)(os.E,{height:"1.5em"}),(0,p.jsx)(os.E,{height:"1.5em"}),(0,p.jsx)(os.E,{height:"1.5em",w:"75%"})]})]}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(c.$p,{style:{position:"absolute",opacity:0}}),(0,p.jsxs)(e6.s,{contentEditable:"false",w:"var(--card-width)",maxW:"100%",minH:32,position:"relative",borderRadius:o?"none":"var(--card-border-radius)",p:"var(--card-inner-padding)",direction:"column",justify:"center",m:"-1px",fontFamily:"body",onMouseDown:e=>{!(e.target instanceof HTMLElement&&e.target.closest(".drag-handle"))&&(e.preventDefault(),j.current&&j.current===document.activeElement?j.current.blur():a.view.hasFocus()&&a.commands.blur())},children:[(0,p.jsx)(h.a,{bg:C?"gradient.secondary-dark":"gradient.secondary-light",bgSize:"cover",bgPosition:"center center",borderRadius:"inherit",pos:"absolute",inset:0,pointerEvents:"none",w:o?"var(--editor-width)":void 0,insetStart:o?"calc(50% - var(--doc-padding-left, 0px) / 2 + var(--doc-padding-right, 0px) / 2)":void 0,transform:o?"translateX(-50%)":void 0}),n,(0,p.jsx)(h.a,{position:"absolute",zIndex:0,pointerEvents:"none",inset:0,bgImage:"url(".concat(oz.src,")"),bgRepeat:"repeat",bgPosition:"center center",sx:{animation:"".concat(oM," 180s linear infinite"),maskImage:"linear-gradient(to left, rgba(0,0,0,.75), transparent, rgba(0,0,0,.75))",maskRepeat:"repeat",maskSize:"140px"},opacity:C?.2:1}),(0,p.jsx)(eJ.K,{position:"absolute",top:2,insetEnd:2,variant:"ghost",colorScheme:C?"whiteAlpha":"blackAlpha",isRound:!0,size:"sm","aria-label":e4.Ru._({id:"DIQZR1"}),icon:(0,p.jsx)(E.g,{fixedWidth:!0,icon:e1.GRI}),onClick:()=>{x.cancel(),a.commands.deleteCard(i())}}),(0,p.jsxs)(ev.B,{spacing:4,pos:"relative",zIndex:1,maxWidth:"100%",children:[(0,p.jsxs)(k.z,{justify:"end",flexWrap:"wrap",children:[(0,p.jsx)(ey.D,{fontWeight:700,size:"md",color:C?"white":"deepocean.950",children:(0,p.jsx)(em.x6,{id:"8e1wQN"})}),(0,p.jsx)(ep.h,{}),(0,p.jsx)(o_.f,{modalId:"ai-credits-modal-generate-card",variant:"ghost",isDark:C,justify:"flex-end",segmentEvent:e9.VV.GAMMA_UPSELL_CALLOUT_AI_CREDITS_GENERATE_CARD}),(0,p.jsx)(iH,{locale:g,setLocale:e=>m({settings:{locale:e}}),buttonProps:{variant:"plain",size:"sm",textAlign:"left",w:["100%","100%","auto"],isDisabled:s}})]}),(0,p.jsxs)(iR.M,{color:C?"white":"gray.700",bg:C?"blackAlpha.900":"white",boxShadow:"sm",border:"none",borderRadius:"md",display:"flex",alignItems:"start",gap:"0",onMouseDown:nC.dG,_focusWithin:{boxShadow:"var(--chakra-shadows-sm), var(--chakra-shadows-outline)"},transitionProperty:"box-shadow",transitionDuration:"normal",children:[(0,p.jsx)(i_._,{ref:j,"data-in-editor-focus":!0,fontWeight:"500",border:"none",fontSize:"lg",initialHeight:"4rem",placeholder:e4.Ru._({id:"BiLwIi"}),value:v,isDisabled:s,onChange:e=>{y(e.target.value),x({prompt:e.target.value})},onKeyDown:e=>{!e.shiftKey&&("Enter"===e.key?w():"ArrowDown"!==e.key||v?"ArrowUp"!==e.key||v||a.chain().focus(i()).selectInsideNextCard(!1).run():a.chain().focus(i()).selectInsideNextCard(!0).run())},_focus:{boxShadow:"none"},_focusVisible:{boxShadow:"none"},p:5}),(0,p.jsx)(od.r0,{h:"100%",border:"none",color:C?"white":"gray.700",bg:C?"blackAlpha.900":"white",p:3,ps:0,alignItems:"end",display:["none","none","flex"],children:(0,p.jsxs)(eZ.$,{px:3,"aria-label":"Generate card",isDisabled:!v||s,onClick:w,onMouseDown:nC.Fw,children:[(0,p.jsx)(iB.G,{type:"generateCard",ms:0,me:2,color:"currentcolor"}),(0,p.jsx)(E.g,{icon:eL.fmP})]})})]}),(0,p.jsxs)(eZ.$,{variant:"solid","aria-label":"Generate card",isDisabled:!v,onClick:w,onMouseDown:nC.Fw,display:["flex","flex","none"],leftIcon:(0,p.jsx)(E.g,{icon:eL.fmP}),children:[(0,p.jsx)(em.x6,{id:"ziAjHi"}),(0,p.jsx)(iB.G,{type:"generateCard",ms:0,me:2})]}),(0,p.jsx)(oc.S,{in:!v&&!s&&(A.length>0||"generating"===S),children:(0,p.jsxs)(k.z,{direction:["column","row"],spacing:2,wrap:"wrap",children:[null==A?void 0:A.map((e,t)=>(0,p.jsx)(eZ.$,{leftIcon:(0,p.jsx)(E.g,{icon:eL._$C}),onClick:()=>{y(e),m({prompt:e})},borderRadius:"full",variant:"ghost",bg:C?"whiteAlpha.100":"blackAlpha.100",color:C?"whiteAlpha.800":"blackAlpha.800",_hover:{bg:C?"whiteAlpha.300":"blackAlpha.300"},colorScheme:C?"whiteAlpha":"blackAlpha",size:"xs",isTruncated:!0,flexShrink:0,children:e},t)),"generating"===S&&(0,p.jsxs)(ou.vw,{variant:"subtle",colorScheme:C?"whiteAlpha":"blackAlpha",color:C?"whiteAlpha.500":"blackAlpha.500",children:[(0,p.jsx)(ou.Vz,{boxSize:"12px",as:tS.y}),(0,p.jsx)(ou.d1,{children:(0,p.jsx)(em.x6,{id:"AUV+TY"})})]})]})}),(0,p.jsx)(oN,{isDark:C,selectedTemplate:b,setSelectedTemplate:e=>m({template:e}),isDisabled:s})]})]})]})},oO=e=>{let{displayLayout:t,children:n,isExpandableSelected:a,isFocused:i,displayFullBleed:r,isEditable:o,isNested:l,attrs:s,hasLayoutItem:d,cardContentType:c,onDoubleClick:u,cardDimensions:m,theme:g,handle:x,editor:f,getPos:b,updateAttributes:v}=e;if(s.generatorInput&&"done"!==s.generatorInput.status&&o)return(0,p.jsx)(oP,{theme:g,handle:x,editor:f,getPos:b,input:s.generatorInput,updateAttributes:v,displayFullBleed:r,isFocused:i});let y=(0,en.lH)(t),w=(0,en.tZ)(t),C=s.layoutTemplateColumns,j=s.layoutTemplateRows,A=o&&m.aspectRatio&&!l&&(!s.fontScale||s.fontScale===el.o5);return(0,p.jsxs)(h.a,{className:(0,I.cx)(n6.fJ,a&&"expandable-selected"),onDoubleClick:u,w:"var(--card-width)",maxW:"100%",position:"relative",spellCheck:i,cursor:"auto",color:"var(--body-color)",sx:{["> .".concat(el._P)]:{padding:d||"responsive"!==c?void 0:"var(--card-inner-padding)",counterReset:"footnote",'> [data-node-view-content-inner="card"]':{..."responsive"!==c?{}:d?{display:"grid",alignItems:"stretch",justifyContent:"stretch",minH:"100%",transitionDuration:"".concat(el.M2,"ms"),transitionProperty:"grid-template-rows, grid-template-columns, min-height",...y.grid,...C&&"top"!==t&&y.allowResizing&&{gridTemplateColumns:C},...j&&"top"===t&&y.allowResizing&&{gridTemplateRows:j},...w}:{display:"block",mx:"auto",maxW:"var(--max-content-width)",width:"100%",boxSizing:"border-box",minW:0},"> .node-cardLayoutItem":{"> [data-node-view-wrapper]":{"> .card-layout-cell-bg":{"> [data-node-view-content]":{"> [data-node-view-content-inner]":{maxWidth:"var(--max-content-width)",margin:"auto"},padding:"var(--card-inner-padding)"}}}}}},_hover:{"> .card-height-guide":{opacity:1}}},children:[x,n,A&&(0,p.jsx)(oo,{isFocused:i})]})},oH=new nd.b;var oF=n(75074),oB=n(71737);let oV=e=>{let{hasNotes:t,isReadonly:n}=e;return t?n?(0,p.jsx)(em.x6,{id:"nqt+Fj"}):(0,p.jsx)(em.x6,{id:"+kQy/G"}):n?null:(0,p.jsx)(em.x6,{id:"GquPwe"})},oW=e=>{let{cardId:t,decorations:n,editor:a,getPos:i,hasNonEmptyCardNotes:r,isReadonly:o,...l}=e,s=(0,L.useCallback)(()=>{let e=i();if(!o){let{hasCardNotesNode:t}=(0,eo.tg)(n);t||(0,oB.ni)(a,e)}let r=(0,K.KA)(),l=(0,oF.Ix)(r.getState());oH.emit("toggle",{clickedCardId:t,activeNotesCardId:l}),(0,oB.I5)(a,e)||a.commands.selectInsideNodeAtPos(e)},[t,n,o,a,i]),{color:d,bg:c,hoverColor:u,hoverBg:m,borderColor:g}=(0,nj.Nb)();return(0,p.jsx)(eh.Tz,{label:(0,p.jsx)(oV,{hasNotes:r,isReadonly:o}),placement:"top",children:(0,p.jsx)(eZ.$,{height:n6.PN,fontWeight:"900",alignItems:"center",fontFamily:"body",display:"flex",backdropFilter:"blur(8px)",borderRadius:"sm",borderColor:g,color:d,boxShadow:"sm",cursor:"pointer",pointerEvents:"auto",fontSize:"14px",bg:c,minW:"auto",px:2,_hover:{color:u,background:m},onMouseDown:nC.Fw,onClick:s,...l,children:(0,p.jsx)(h.a,{as:"span",display:"inline-flex",children:(0,p.jsx)(E.g,{icon:r?eL.hZM:e1.hZM})})})})};var oU=n(89115),oG=n(50333),oK=n.n(oG);let oQ=e=>{let t={min:1,max:4.5},n={min:.6,max:1},a=(ty()(e,t.min,t.max)-t.min)/(t.max-t.min);return n.max-a*(n.max-n.min)},oZ=e=>{let t;return tT[((null==e?void 0:e.type)==="image"||(null==e?void 0:e.type)==="themeLogo")&&e.imageSize||"md"].height},oq=(e,t)=>e?oZ(e)*oQ(null!=t?t:1):tT.md.height,o$=(e,t)=>{let n=tz[e||"md"];return oK()(n+Math.max(0,(t-2)*.2),2)},oJ=(e,t,n,a,i)=>{if(!t)return{start:0,end:0};let r=(null==t?void 0:t.type)==="image"||(null==t?void 0:t.type)==="themeLogo",o=(null==t?void 0:t.type)==="text"||(null==t?void 0:t.type)==="cardNumbers",l=o$(n,e),s=r?oq(t,a):.7,d=r?oZ(t):.7,c=(e-s)*l/2,u=Math.max(0,(1-s/d)*l)+Math.max(0,c);return{start:oK()(u+("flex-start"===i&&o?.3:0),2),end:oK()(u+("flex-end"===i&&o?.3:0),2)}},oY=e=>{let{hideFromFirst:t,hideFromLast:n,...a}=e,i=2;return Object.values(a).forEach(e=>{if(e&&("image"===e.type||"themeLogo"===e.type)&&!eH(e)){let t=oZ(e);t>i&&(i=t)}}),i},oX=(e,t)=>{let n=oY(e),a=o$(t,n);return n+2*a};var o0=n(36512),o1=n(33424);let o2=e=>{let t,{isPresentMode:n,isNested:a,isFullBleed:i,displayFullBleed:r,isThumbnail:o,isMobileDevice:l,attrs:s,fontSize:d,nestedDepth:c}=e,{outerPaddingX:u,outerPaddingY:p,outerPaddingLeft:h,outerPaddingRight:m}=(0,o1.ng)({isPresentMode:n,isNested:a,isFullBleed:i,displayFullBleed:r,isThumbnail:o,isMobileDevice:l,attrs:s}),g=(0,o1.Qo)(d||"md"),x=(0,o1.mn)({isMobileDevice:l,numericFontSize:g}),f=x+(0,o1._F)(c),{cardMarginSettings:b}=(0,K.GV)(ed.Uu),v=(0,K.GV)(ed.SJ),y=eN(b)?o0.cK:oX(b,null==v?void 0:v.config.roundness);return t=n||o?y:l?a?o0.rN:o0.HY+(i?o0._0:0):i?Math.max(o0.cK+o0.Ri,y):y,(0,L.useMemo)(()=>({"--card-inner-padding-x":"calc(".concat(x,"em / var(--card-font-scale, 1))"),"--card-inner-padding-y":"calc(".concat(t,"em / var(--card-font-scale, 1))"),"--card-inner-padding":"var(--card-inner-padding-y) var(--card-inner-padding-x)","--card-outer-padding-left":h,"--card-outer-padding-right":m,"--card-outer-padding-x":u,"--card-outer-padding-y":p,"--comment-padding":"".concat(f,"em"),"--nested-card-margin":"calc(-1 * var(--comment-padding))"}),[f,x,t,h,m,u,p])},o4=e=>{let{attrs:t,children:n,presentVariant:a,isPresentMode:i,isDark:r,isNested:o,isThumbnail:l,isFullBleed:s,displayFullBleed:d,isMobileDevice:c,fontSize:u,nestedDepth:h,theme:m,cardDimensions:g,showPresentBackdrop:x,userZoomLevel:f,verticalAlign:b,defaultContentWidth:v,contentWidth:y,docZoomLevel:w}=e,C=o2({isPresentMode:i,isNested:o,isFullBleed:s,displayFullBleed:d,isThumbnail:l,isMobileDevice:c,attrs:t,fontSize:u,nestedDepth:h}),j=(0,o1.X6)(c),A=(0,oU.P)({isPresentMode:i,isNested:o,nestedDepth:h,isFullBleed:s,isThumbnail:l,theme:m,cardDimensions:g,defaultContentWidth:v,contentWidth:y,showPresentBackdrop:x,isMobileDevice:c,fontSize:u,docZoomLevel:w,cardFontScale:t.fontScale}),{background:k,id:S}=t,E=(0,K.GV)(ed.b6),L=o||l?void 0:(0,q.FD)(k,r);return(0,p.jsx)(e6.s,{onDragOver:nC.JO,top:0,left:0,position:"relative",width:"100%",height:"100%",alignItems:"center",justifyContent:"center",cursor:"default","data-animate-value":a,fontSize:"var(--editor-font-size, 1rem)",py:"var(--card-outer-padding-y)",pl:"var(--card-outer-padding-left)",pr:"var(--card-outer-padding-right)","data-card-id":S,"data-card-scroll-element":!0,overflow:i&&!o?"hidden auto":void 0,sx:{scrollbarGutter:!i||o||ec.D1?void 0:"stable"},margin:"0 auto",className:(0,I.cx)(el.QJ,"card-expanded",i&&el.WZ,i&&"card-present-mode card-present-mode--".concat(a)),transitionProperty:"transform, padding",transitionDuration:"".concat(E?el.y0:0,"ms"),...L,css:{...C,...j,...A,"--zoom-level":f,"--card-vertical-align":b},children:n})};o4.displayName="CardContainer";var o5=n(56288);let o6=(0,p.jsx)(E.g,{icon:e1.rMD}),o3=(0,L.memo)(function(e){let{cardId:t,getPos:n,editor:a,isNested:i,isCollapsed:r,isPresentMode:o,isEditable:s,isDark:d,top:c}=e,u=(0,e9.st)(),h=(0,L.useCallback)(()=>{if(o&&!s)a.commands.spotlightCollapseCard(n());else{(0,et.wE)(t,!0);let{selection:e}=a.state,i=(0,l.KP)(Q.jg)(e);i&&i.node.attrs.id===t&&a.commands.selectNodeAtPos(n())}null==u||u.track(e9.VV.CARD_COLLAPSED,{method:"collapse_button",is_present_mode:!1})},[a,n,u,t,s,o]),m=(0,o5.EC)(),g=(0,L.useMemo)(()=>(0,p.jsx)(eh.Tz,{label:(0,p.jsx)(em.x6,{id:"kBUgVh"}),placement:"top",portalProps:{containerRef:m},children:(0,p.jsx)(eJ.K,{variant:"ghost",size:"sm",paddingInlineStart:6*!!(0,op.Xb)(),paddingInlineEnd:2*!!(0,op.Xb)(),onClick:h,onMouseDown:nC.Fw,isRound:!0,"aria-label":e4.Ru._({id:"H86f9p"}),"data-collapse-card-button":!0,icon:o6,color:d?"gray.300":"gray.600"})}),[h,m,d]),x=(0,L.useMemo)(()=>(0,p.jsx)(eZ.$,{size:"sm",variant:"ghost",position:"absolute",zIndex:2,bottom:[1,3],right:[2,4],rightIcon:(0,p.jsx)(E.g,{icon:e1.w2A}),"data-collapse-card-button":!0,onMouseDown:nC.Fw,onClick:h,fontWeight:"normal",color:d?"gray.300":"gray.600",children:(0,p.jsx)(em.x6,{id:"H86f9p"})}),[h,d]);return(0,p.jsxs)(e6.s,{contentEditable:!1,onClick:nC.dG,className:"manage-card-controls","data-print-hidden":!0,transitionProperty:"common",transitionDuration:"normal",display:"inherit",fontFamily:"body",sx:{"[data-collapse-card-button]":{visibility:i&&!r?"visible":"hidden"}},children:[(0,p.jsx)(k.z,{spacing:1,position:"absolute",top:c||[1,3],insetInlineEnd:[2,4],zIndex:2,children:g}),i&&!r&&x]})});var o9=n(11235);let o7=()=>{let e=(0,eQ.d)(),[t,n]=(0,iN.M)(iP.E.hasSeenPresentModeDblClickNotification,!1),a=(0,K.GV)(ed.VJ);return{onDoubleClick:(0,L.useCallback)(()=>{if(!a||t)return;let i=new Date,r=new Date("2024-08-15");i.getTime()>r.getTime()||(n(!0),e({title:(0,p.jsx)(em.x6,{id:"xtaPrg"}),status:"info",position:"bottom",duration:3e3,isClosable:!0}))},[a,t,n,e])}},o8=e=>{let{getPos:t,editor:n,decorations:a}=e,i=(0,o9.f)(e),{isPresentMode:r,isNested:o,isFocused:l,isEditable:s,isMobileDevice:d,cardAccentBackgroundMaskEffect:u,cardAccentBackgroundMaskIntensity:h,cardId:g,isFullBleed:x,hasNonEmptyCardNotes:f,cardContentType:b}=i,v=(0,t8.u)("realUserMetrics");(0,ne.XX)(v,g,i.presentVariant,i.prevPresentVariant);let y=(0,no.JL)(a),w=(0,ns.b0)(a),C=(0,K.GV)((0,n5.C_)(g,"styling")),j=(0,K.GV)((0,n5.C_)(g,"editWithAI")),A=y||w||l,E=s&&(A||j||C),L=!o&&!n.isThumbnail&&!n.isStatic&&!d&&!n.shouldUsePublishedVersion&&!r&&(f||s&&A),R=(0,K.GV)((0,U.qw)(g)),{onDoubleClick:M}=o7(),{isCardMarginsModalOpen:_,onCloseCardMarginsModal:T,onOpenCardMarginsModal:N}=t7();return(0,p.jsx)(m.u,{as:"div",style:{minHeight:r&&!o?"100vh":0},hideComments:!0,...e,children:(0,p.jsxs)(o4,{...i,children:[(0,p.jsx)(rp,{...i,children:(0,p.jsxs)(oO,{...i,...e,onDoubleClick:M,handle:(0,p.jsx)(z.A,{...e,handlePlacement:"custom","data-testid":"card-drag-handle",zIndex:nl.$.cardButtons,insetInlineStart:2,top:3,width:"18px",height:n6.PN,label:(0,p.jsxs)(eu.T,{spacing:0,children:[(0,p.jsx)(S.E,{color:"gray.400",children:(0,p.jsx)(em.x6,{id:"63lY3K",components:{0:(0,p.jsx)(S.E,{color:"white",as:"span"})}})}),(0,p.jsx)(S.E,{color:"gray.400",children:(0,p.jsx)(em.x6,{id:"COhrZ5",components:{0:(0,p.jsx)(S.E,{color:"white",as:"span"})}})})]})}),children:[(0,p.jsx)(nh,{...e}),(0,p.jsxs)(k.z,{pos:"absolute",insetInlineStart:8,insetInlineEnd:2.5,zIndex:nl.$.cardButtons,top:3,align:"start",contentEditable:!1,pointerEvents:"none",spacing:1.5,children:[E&&"responsive"===b&&(0,p.jsx)(av,{editor:n,getPos:t,...i,decorations:a,accentBackgroundMaskEffect:u,accentBackgroundMaskIntensity:h,onOpenCardMarginsModal:N}),E&&(0,p.jsx)(ro,{cardContentType:b,attrs:i.attrs,editor:n,getPos:t,node:e.node}),(0,p.jsx)(ep.h,{}),s?R?(0,p.jsx)(iE,{...e,...i,isDark:i.isDark,isInteracting:A,suggestions:R}):i.attrs.generatorInput?(0,p.jsx)(rs,{...e,...i,isDark:i.isDark,input:i.attrs.generatorInput,isInteracting:A}):null:null,(0,p.jsx)(ep.h,{}),L&&(0,p.jsx)(oW,{editor:n,cardId:g,decorations:a,getPos:t,hasNonEmptyCardNotes:f,isReadonly:!s})]}),(0,p.jsx)(c.$p,{dir:"ltr",className:(0,I.cx)(el._P,l&&"is-focused",o&&"is-nested",(r||x)&&"is-full-width",x&&!o&&!r&&"is-borderless",i.isDark&&"is-dark")}),_&&(0,p.jsx)(t3,{editor:n,cardNode:e.node,getPos:t,isOpen:_,onClose:T}),o&&(0,p.jsx)(o3,{top:[1,3],...i,...e})]})}),(0,p.jsx)(nr,{children:(0,p.jsx)(eh.L8,{isDark:(0,D.Mw)(i.theme),children:(0,p.jsx)(or,{display:!s||o||r?"none":"flex",editor:n,getPos:t,isNested:o})})})]})})};var le=n(70259),lt=n(21088),ln=n(23746),la=n(26189),li=n(83106),lr=n(86932);let lo=(0,L.memo)(e=>{let{decorations:t,editor:n,getPos:a,node:i}=e,r=(0,lt.st)(),o=(0,K.jL)(),{cardId:l,isPresentMode:s,isEditable:d,isMobileDevice:c}=(0,o9.f)(e),{title:u,text:g}=(0,le.d)({editor:n,node:i,cardId:l}),{previewContent:x}=e.node.attrs,f=""===x,b=null==u?void 0:u.replaceAll(la.n,e=>'<span class="emoji">'.concat(e,"</span>")),v=(0,K.GV)(ed.SJ),y=(0,N.bh)("h4",v),w=(0,lr.A3)(t),C=(0,L.useCallback)(e=>{e.stopPropagation(),s&&!d?(o((0,ed.mF)({attached:!1})),n.commands.descendIntoCurrentCard(a(),"push"),null==r||r.track(i$.VV.CARD_EXPANDED,{is_present_mode:!0,method:"click"})):((0,et.wE)(l,!1),setTimeout(()=>{if(!d||n.isDestroyed)return;let e=a();n.commands.selectInsideNodeAtPos(e)},50),null==r||r.track(i$.VV.CARD_EXPANDED,{is_present_mode:!1,method:"click"}))},[l,s,d,o,n,a,r]),j=f||!(null==g?void 0:g.trim());return(0,p.jsxs)(m.u,{...e,children:[(0,p.jsx)(z.A,{...e,"data-testid":"card-drag-handle",handlePlacement:"outside"}),(0,p.jsxs)(h.a,{mb:"0.25em",position:"relative",contentEditable:!1,userSelect:"none",role:"group","data-card-id":l,"data-export-as-image":!0,children:[(0,p.jsxs)(tN.e,{position:"absolute",insetInlineEnd:"0.75em",top:"0.75em","data-print-hidden":!0,variant:"unstyled",colorScheme:"gray",fontFamily:"body","data-thumbnail-hidden":!0,children:[d&&(0,p.jsx)(ll,{hidePreview:f,...e}),(0,p.jsx)(ls,{onClick:C})]}),(0,p.jsxs)(h.a,{cursor:"pointer",className:(0,I.cx)(el.QJ,"card-collapsed",w&&"expandable-selected"),_groupHover:ln.uQ,...ln.zQ,paddingX:c?"1em":"1.5em",paddingY:"1em",onClick:C,"data-collapsed-card":!0,"data-selection-ring":!0,"data-selection-background":!0,"data-content-reference":!0,sx:{backgroundColor:"var(--clickable-background-color)",boxShadow:"var(--card-border-shadow, 0px 0px 0px 1px var(--neutral-border-color)), var(--card-box-shadow, var(--clickable-shadow))",borderRadius:"calc(var(--card-border-radius) / 2)","@media print":{boxShadow:"none",border:"var(--card-border, 1px solid var(--neutral-border-color))"}},children:[(0,p.jsx)(S.E,{sx:y,noOfLines:1,marginInlineEnd:"1.75em",mb:"0.375em",className:(0,I.cx)(R.U6),children:b?(0,p.jsx)(S.E,{as:"span",dangerouslySetInnerHTML:{__html:li.W.sanitize(b)}}):u||(0,p.jsx)(S.E,{as:"span",color:"gray.400",children:(0,p.jsx)(em.x6,{id:"gLDJuJ"})})}),(0,p.jsxs)(k.z,{color:"var(--body-color-muted)",children:[(0,p.jsx)(S.E,{noOfLines:1,fontFamily:j?"body":void 0,fontSize:"0.9em",children:j?(0,p.jsx)(em.x6,{id:"4m3nxQ"}):g}),f&&(0,p.jsx)(E.g,{icon:e1.Jt$,size:"sm"})]})]})]})]})});lo.displayName="CollapsedCard";let ll=e=>{let{hidePreview:t,updateAttributes:n}=e,a=(0,K.GV)(ed.cS),i=(0,L.useCallback)(e=>{n&&(n({previewContent:t?null:""}),e.stopPropagation())},[n,t]);return(0,p.jsx)(eZ.$,{opacity:0,zIndex:+!a,transitionProperty:"opacity",transitionDuration:"normal",_groupHover:{opacity:1},sx:ln.Up,fontSize:"0.7em",onClick:i,className:ln.Gx,children:t?(0,p.jsx)(em.x6,{id:"fsyAH8"}):(0,p.jsx)(em.x6,{id:"Po0vX/"})})},ls=e=>{let{onClick:t}=e,n=(0,K.GV)(ed.cS);return(0,p.jsxs)(eZ.$,{"aria-label":e4.Ru._({id:"JjrOSL"}),className:ln.Gx,onClick:t,sx:ln.Up,zIndex:+!n,fontSize:"0.7em","data-testid":"expand-card-button",children:[(0,p.jsx)(E.g,{icon:e1.vQu,fontSize:"0.9em"}),(0,p.jsx)(S.E,{as:"span",_groupHover:{opacity:1,display:"inline"},opacity:"0",display:"none",marginInlineStart:2,children:(0,p.jsx)(em.x6,{id:"1A3EXy"})})]})},ld=e=>{let{editor:t,node:n}=e,{id:a}=n.attrs,i=(0,K.GV)((0,ed.WS)(a)),r=(0,K.GV)(ed.nD),o=(0,es.UT)("edit"),l=null==t?void 0:t.isThumbnail,{isStatic:s}=t;return!n.attrs.hidden||ec.D1||l||s||r&&o?i?(0,p.jsx)(lo,{...e}):(0,p.jsx)(o8,{...e}):null};(()=>{if(er)return;let e=ea.n.valid;ea.n.valid=t=>{if(!(0,ei.e)(t.doc).cardLayoutsEnabled)return e(t);let n=e(t);return!(n&&(t.nodeAfter&&(0,Q.sw)(t.nodeAfter)||t.nodeBefore&&(0,Q.sw)(t.nodeBefore)))&&n},er=!0})();let lc=e=>{if((0,J.Op)(e)||1===e.childCount&&(0,J.Op)(e.firstChild))return!0;if("blank"!==e.attrs.layout)return!1;let t=(0,Q.dT)(e);if(0===t.length)return!1;let n=t.find(e=>"body"===e.attrs.itemId);return!!n&&1===n.childCount&&(0,J.Op)(n.firstChild)},lu=e=>{let{newNode:t,newDecorations:n,oldNode:a,oldDecorations:i,updateProps:r}=e,o=JSON.stringify(t.attrs)!==JSON.stringify(a.attrs),l=(0,u.w_)(i,n),s=lc(t)!==lc(a);return(o||l||s)&&(console.debug("[cardUpdateFn] Card ".concat(t.attrs.id," updateProps will be called:"),{oldDecorations:i,newDecorations:n,decorationsChanged:l}),r()),!0},lp=l.bP.create({name:el.Qs,content:"(block | cardBlock)+ | (cardLayoutItemGroup{1,2} | cardImageItem | cardCodeItem) cardNotes?",group:"cardBlock",defining:!1,isolating:!0,selectable:!1,draggable:!0,priority:X.y.Card,containerHandle:!0,imageKeyPath:"background.image",allowGapCursor:!1,expandable:!0,addNodeView(){return(0,c.gu)(ld,{update:lu,ignoreMutation:e=>{let{mutation:t}=e,n=this.editor.state.selection,a=t.target instanceof HTMLElement?t.target:t.target.parentElement,i="selection"!==t.type&&lh(a),r="selection"===t.type&&n instanceof W.nh&&(0,ee.Bv)(n.node);return!!i||!!r}})},addProseMirrorPlugins(){return[(0,eo.qc)(this.editor)]},addOptions:()=>({isStatic:!1}),addAttributes:()=>({id:{},previewContent:{default:null},background:{default:$.SS,...(0,J.tb)("background")},container:{default:{},...(0,J.tb)("container")},cardSize:{default:"default",parseHTML:e=>e.getAttribute("card-size")||"default"},layout:{default:"blank",parseHTML:e=>e.getAttribute("image-layout")||e.getAttribute("layout")||"blank"},layoutTemplateColumns:{default:null,parseHTML:e=>e.getAttribute("layout-template-columns")||null,renderHTML:e=>({"layout-template-columns":e.layoutTemplateColumns})},layoutTemplateRows:{default:null,parseHTML:e=>e.getAttribute("layout-template-rows")||null,renderHTML:e=>({"layout-template-rows":e.layoutTemplateRows})},verticalAlign:{default:null,parseHTML:e=>e.getAttribute("vertical-align"),renderHTML:e=>({"vertical-align":e.verticalAlign})},generatorInput:{default:null,...(0,J.tb)("generatorInput")},fontScale:{default:null},cardMarginSettings:{default:{},...(0,J.tb)("cardMarginSettings")},hidden:{default:!1}}),addExtensions(){return[aD.$b.configure({callback:(e,t,n)=>{0!==t.length&&t.forEach(e=>{let{val:t}=e;console.debug("[Card.UniqueCardId] New card id(".concat(t,") created. Will be created in postgres through content service.")),(0,et.wV)(t)})},types:[this.name]})]},addCommands:()=>({}),parseHTML:()=>[{tag:"div[class=gamma-card]"},{tag:"section",getAttrs:lm()},{tag:"section[bookmark]",getAttrs:Y.Ll,getContent:Y.cn}],renderHTML(e){let{HTMLAttributes:t}=e;return["div",(0,l.KV)(t,{class:"gamma-card"}),0]},renderHTMLforAI(e){let{node:t,disableBookmarks:n}=e,a=(0,et.Wq)(t.attrs.id),i=(0,U.hn)((0,K.KA)().getState()),r=t.attrs;if(!1===a||i||n){var o,l,s,d;return["section",{id:n?void 0:r.id,"image-layout":r.layout,"layout-template-columns":null!=(o=r.layoutTemplateColumns)?o:void 0,"layout-template-rows":null!=(l=r.layoutTemplateRows)?l:void 0,"vertical-align":null!=(s=r.verticalAlign)?s:void 0,"background-color":null!=(d=(0,q.gK)(r.container.background))?d:void 0},0]}let c=(0,Y.vL)(t),u=(0,V.getCardTitle)(t.toJSON()),p=(0,en.o_)(t);return["section",{bookmark:c,title:u,accentPosition:t.attrs.layout,accentImage:(null==p?void 0:p.image)?(0,G.ve)(p.image):void 0}]}}),lh=e=>{var t;return(null==e?void 0:e.parentElement)&&(e.classList.contains(el.QJ)||(null==(t=e.parentElement.closest(".".concat(el._P,", .").concat(el.QJ)))?void 0:t.classList.contains(el.QJ)))},lm=()=>e=>{let t=e.getAttribute("id")||aD.Yv.generate(),n=e.getAttribute("background-color");return{id:t,container:n?{background:{color:{hex:n},type:Z.h.COLOR}}:void 0}};var lg=n(9922),lx=n.n(lg),lf=n(83817),lb=n.n(lf),lv=n(80102),ly=n(50709),lw=n(91242),lC=n(23513),lj=n(33201),lA=n(72492),lk=n(67864);let lS=(e,t,n)=>{let a=t.doc.resolve(e),i=t.doc.nodeAt(e),r=e+a.nodeAfter.nodeSize,o=t.doc.resolve(r),l=t.doc.nodeAt(r);if(!l||!(0,Q.jg)(l))return!1;let s=i&&(0,oB.eh)(i),d=(0,oB.eh)(l),c=null;d&&(c=s?lD(t.doc,a.pos,!0):i?a.pos+i.nodeSize-1:null);let u=lE(t,r);if(!u)return!1;t.delete(r,r+l.nodeSize);let p=lR(t,e,!0);if(c&&d){let e=(0,oB.PD)(o);if(e){let n=s?e.node.content:e.node;t.insert(c,n),t.setMeta("cardNotesHandled",!0)}}t.insert(p,u.node.content);let h={type:"merge-cards",contentPos:u.pos,insertPos:p};if(t.setMeta("annotationEvent",h),n.selection instanceof ea.n){let e=(0,lC.n)(t.doc.resolve(p));e&&t.setSelection(e)}return!0},lI=(e,t)=>{let n=t.doc.resolve(e);if(!n.nodeBefore)return!1;let a=e-n.nodeBefore.nodeSize,i=t.doc.nodeAt(a);if(!i||!(0,Q.jg)(i))return!1;let r=(0,oB.eh)(i),o=n.nodeAfter&&(0,oB.eh)(n.nodeAfter),l=null;o&&(l=r?lD(t.doc,a,!0):a+i.nodeSize-1);let s=lE(t,e);if(!s)return!1;t.delete(e,e+n.nodeAfter.nodeSize);let d=lR(t,a,!0);if(l&&o){let e=(0,oB.PD)(n);if(e){let n=r?e.node.content:e.node;t.insert(l,n),t.setMeta("cardNotesHandled",!0)}}t.insert(d,s.node.content);let c=(0,lC.n)(t.doc.resolve(d));c&&t.setSelection(c);let u={type:"merge-cards",contentPos:s.pos,insertPos:d};return t.setMeta("annotationEvent",u),!0},lE=(e,t)=>{let n=(0,en.dg)(e,t);return 0===Object.entries(n).length?{node:e.doc.nodeAt(t),pos:t}:n.body||null},lL=e=>{let t=(0,J.IV)(e,e=>"cardLayoutItem"===e.type.name&&"body"===e.attrs.itemId||"card"===e.type.name);return 0===t.length?null:t[0]},lR=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=(0,en.dg)(e,t),i=e.doc.resolve(t);if(0===Object.entries(a).length)return n?i.doc.resolve(i.start(i.depth+1)).end():t+1;if(!a.body)throw Error("Could not find card body at cardPos=".concat(t));let r=e.doc.resolve(a.body.pos);return n?r.doc.resolve(r.start(r.depth+1)).end():r.pos+1},lD=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=e.resolve(t),i=(0,oB.PD)(a);if(!i)return null;let r=e.resolve(i.pos);return n?r.doc.resolve(r.start(r.depth+1)).end():r.pos+1},lM=(e,t)=>{if(!e.empty)return!1;let n=e instanceof ea.n;if(!(0,l.eE)(e)&&!n)return!1;let{from:a,$from:i}=e;if(!t&&0!==i.parentOffset||t&&i.parentOffset!==i.parent.content.size)return!1;let r=lL(i);if(!r)return!1;if(n)return t?a===r.pos+r.node.nodeSize-1:a===r.pos+1;let o=["paragraph","heading","title"],s=!0;for(let e=i.depth;e>0;e--){let t=i.node(e);if("card"===t.type.name||(0,Q.sw)(t))break;if(!o.includes(t.type.name)){s=!1;break}}return!!s&&(t?a===r.pos+r.node.nodeSize-2:a===r.pos+2)},l_=/^(\*\*\*)/,lz=l.YY.create({name:"cardCommands",addCommands:()=>({resetCardSettings:e=>t=>{let{state:n,dispatch:a,chain:i}=t;if(!a)return!0;let r=i();return n.doc.descendants((t,n)=>{(0,lj.jg)(t)&&r.updateNestedAttributesAtPos(n,e)}),!0},splitCardAtSelection:()=>e=>(lT(e),!0),insertNestedCard:()=>e=>{let{state:t,chain:n,dispatch:a,editor:i}=e;if(!a)return!0;let{from:r,$from:o}=t.selection;return n().insertContentAndSelect((0,oa.G)().insertCardInside).command(e=>{let{tr:t}=e,n=(0,lk.ek)({editor:i,pos:r-o.parentOffset-1,tr:t});return n.length&&requestAnimationFrame(()=>{var e,t;null==(e=(t=i.commands).moveAnnotations)||e.call(t,n)}),!0}).run(),!0},convertToNestedCard:()=>e=>{let{state:t,dispatch:n,commands:a}=e;if(!n)return!0;let i=(0,lv.Im)(t.schema.nodes[lp.name])(t,n);return a.selectInsertedNode(),i},unnestCard:e=>t=>{let{state:n,dispatch:a,chain:i,tr:r}=t,o=n.doc.nodeAt(e);if(!o||!(0,lj.jg)(o))return!1;if(!a)return!0;let s=lE(r,e);if(!s)return!1;let d=r.doc.resolve(e),c=(0,l.eL)(d,lj.jg),u=(0,oB.PD)(d),p=null;u&&(p=c?lD(n.doc,c.pos,!0):null);let h=e+o.nodeSize,m=i();if(p&&u&&c){let e=(0,oB.eh)(c.node)?u.node.content:u.node;m.insertContentAt(p,e.toJSON()).setMeta("cardNotesHandled",!0)}return m.insertContentAt({from:e,to:h},s.node.toJSON().content).selectInsertedNode().command(t=>{let{tr:n}=t;return n.setMeta("annotationEvent",{type:"merge-cards",contentPos:s.pos,insertPos:e}),!0}).run(),!0},mergeCardsAtPos:e=>t=>{let{tr:n}=t,a=n.doc.nodeAt(e);return!!a&&!!(0,lj.jg)(a)&&lI(e,n)},mergeCardsOnDelete:e=>t=>{let{tr:n,state:a,dispatch:i}=t;if(!i)return!0;let{selection:r}=a,o=(0,l.KP)(lj.jg)(r);if(!o||!r.empty)return!1;try{if(!lM(r,e))return!1;return e?lS(o.pos,n,a):lI(o.pos,n)}catch(e){return console.debug("[CardCommands] mergeCardsOnDelete failed",e),!1}},insertCardAfter:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,oa.G)().insertCardInside;return t=>{let{state:n,chain:a,dispatch:i}=t;if(!i)return!0;let{selection:r}=n,o=(0,l.KP)(lj.jg)(r);if(!o)return!0;let{pos:s,node:d}=o,c=s+d.nodeSize;return a().insertContentAt(c,e).selectInsertedNode().scrollIntoView().run(),!0}},deleteCardIfEmpty:e=>t=>{let{tr:n,dispatch:a,state:i}=t;if(!a)return!0;let r=!1,{from:o,to:l}=i.selection;return i.doc.nodesBetween(o,l,(t,a)=>{if((0,lj.jg)(t)&&lc(t)&&a>el.$x){let i=n.doc.resolve(a).depth>1;n.deleteRange(a,a+t.nodeSize);let o=(0,lC.n)(n.doc.resolve(a+(i?0:e?1:-1)),e?1:-1);o&&n.setSelection(o),r=!0}}),r},deleteCard:e=>t=>{let{state:n,dispatch:a,tr:i}=t;if(!a)return!0;let r=n.doc.resolve(e),o=r.depth>1,l=r.nodeAfter;if(!l||!(0,lj.jg)(l))return console.error("[CardExtension.deleteCard] Cannot delete card. Node unknown"),!1;i.delete(e,e+l.nodeSize);let s=(0,lC.n)(i.doc.resolve(e-!o),-1);return s&&i.setSelection(s),!0},duplicateCard:e=>t=>{let{state:n,chain:a,editor:i}=t,r=n.doc.nodeAt(e);if(!r||!(0,lj.jg)(r))return console.error("[CardExtension.duplicateCard] Cannot duplicate card. Node unknown"),!1;let o=e+r.nodeSize,l=(0,lA.RE)(lx()(r.toJSON()));return a().insertContentAt(o,l,{updateSelection:!1}).command(e=>{let{tr:t}=e;return t.setMeta(ly._,!0),!0}).run(),setTimeout(()=>{i.chain().selectInsideNodeAtPos(o).focus().run()},200),!0},rearrangeCards:e=>{let{from:t,to:n,position:a}=e;return e=>{let i,{view:r,state:o,tr:l}=e,s=o.doc.resolve(n),d=o.doc.resolve(t),c=d.pos+d.nodeAfter.nodeSize,u=new W.nh(d),p=u.content();if((i="below"===a?s.pos+s.nodeAfter.nodeSize:"above"===a?s.pos:s.pos+s.nodeAfter.nodeSize-1)===d.pos)return l.setMeta("preventDispatch",!0),!0;l.delete(u.from,u.to);let h=l.mapping.map(i);l.replaceRangeWith(h,h,p.content.firstChild);let m=l.doc.resolve(h+1);l.setSelection(new W.nh(m));let g={type:"move",insertPos:h,insertPosRaw:i,pos:d.pos,end:c};return l.setMeta("annotationEvent",g).setMeta("rearrangeCards",!0),r.focus(),!0}},rearrangeCardsById:(e,t,n)=>a=>{var i;let{dispatch:r,tr:o,editor:l}=a;if(!r)return!0;let s=(0,Q.aJ)(l.state.doc);if(!s)return!1;let d=s.map(e=>e.node.attrs.id),c=t.filter(e=>d.includes(e)).map(e=>s.find(t=>t.node.attrs.id===e)).filter(e=>!!e),u=c.map(e=>({pos:e.pos,id:e.node.attrs.id})).filter(e=>{let{id:t}=e;return t&&"string"==typeof t}),p=null==(i=c[0])?void 0:i.node.attrs.id;if(!p)return!0;let h=Math.max(e.findIndex(e=>e===p),0),m=e[h-1],g=s.find(e=>e.node.attrs.id===m),x=h>0&&g?g.pos+g.node.nodeSize:s[h].pos;if(void 0===x)return!0;[...c].reverse().forEach(e=>{e&&o.replaceWith(x,x,e.node)}),c.forEach(e=>{if(!e)return;let t=o.mapping.map(e.pos);o.delete(t,t+e.node.nodeSize)});let f=(0,Q.aJ)(o.doc);if(!f)return!0;let b=f.map(e=>({pos:e.pos,id:e.node.attrs.id})).filter(e=>{let{id:n}=e;return t.includes(n)}),v=b.map(e=>{var t;let{id:n,pos:a}=e,i=null==(t=u.find(e=>e.id===n))?void 0:t.pos;return i?{id:n,oldPos:i,newPos:a}:null}).filter(e=>!!e);return o.setMeta("annotationEvent",{type:"rearrange-cards",rearrangedCardPositions:v,insertPos:x}).setMeta("rearrangeCards",!0).setMeta(rf,!0),lb()(b,u)||e9.zS.trackDocEvent(e9.VV.CARDS_REORDERED,{card_count:t.length,method:(null==n?void 0:n.viewPreference)==="film"?"filmstrip":"list-view"}),!0},updateThemeAccentImages:function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return n=>{var a;let{editor:i,commands:r}=n;if((null==(a=(0,a9.lI)(i).aiOptions.imageOptions)?void 0:a.provider)==="placeholder")return!0;let o=!e||0===e.length,l=0;return i.state.doc.descendants((n,a)=>{let i=(0,en.wL)(n);if(i||(0,lj.jg)(n)){let s=i&&n.attrs.background.type===Z.h.NONE;(n.attrs.background.source===aa.j||t&&i||s)&&(o?r.updateAttributesAtPos(a,{background:{type:i?Z.h.NONE:void 0}}):(r.updateNestedAttributesAtPos(a,{background:e[l%e.length]}),l++))}}),!0}},deleteCardsById:function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return n=>{let{editor:a,dispatch:i,tr:r}=n;if(!i)return!0;let o=(0,l.xe)(a.state.doc,t=>(0,lj.jg)(t)&&e.includes(t.attrs.id));if(!o.length)return!1;let s=o.map((e,t)=>({pos:e.pos,cardIndex:t}));o.forEach(e=>{let{node:t,pos:n}=e;r=r.delete(r.mapping.map(n),r.mapping.map(n+t.nodeSize))});let d=o[0].pos,c=(0,lw.s)(r.doc.resolve(d));return c&&(r=r.setSelection(c)),t&&r.setMeta("annotationEvent",{type:"filmstrip-cut",deleted:s}),r.setMeta(rf,!0),!0}},deleteCardsAfter:e=>t=>{let{editor:n,dispatch:a,commands:i}=t;if(!a)return!0;let r=(0,J.GY)(n.state.doc.firstChild,e=>(0,lj.jg)(e)).map(e=>e.node.attrs.id);if(null===e)return i.deleteCardsById(r);let o=r.indexOf(e),l=o>-1?r.slice(o+1):[];return 0===l.length||i.deleteCardsById(l)},selectInsideNextCard:e=>t=>{let{state:n,dispatch:a,commands:i}=t;if(!a)return!0;let{selection:r}=n,o=(0,J.IV)(r.$from,lj.jg)[0];if(!o||!r.empty)return!1;let l=n.doc.resolve(o.pos),s=l.index();if(e){if(s===l.parent.childCount-1)return!1;i.selectInsideNodeAtPos(o.pos+o.node.nodeSize)}else{if(0===s)return!1;let e=l.posAtIndex(s-1);i.selectInsideNodeAtPos(e,-1)}return!0}}),addInputRules:()=>[new l.fV({find:l_,handler:e=>{let{state:t,range:n}=e,{tr:a}=t;lT({tr:a.deleteRange(n.from,n.to),dispatch:!0})}})]}),lT=e=>{let{tr:t,dispatch:n}=e;if(!n)return;let a=(0,l.KP)(lj.jg)(t.selection);if(!a)return void console.error("Couldn't find parent card while splitting",t.selection);let{accent:i,body:r}=(0,en.dg)(t,a.pos);i&&r&&i.pos>r.pos&&(t.delete(i.pos,i.pos+i.node.nodeSize),t.insert(r.pos,i.node));let{selection:o}=t,{$from:s}=o,d=o.$from.parentOffset,c=o.from-d-1,u=o.$from.node().content.size-o.$from.parentOffset;t.setMeta(ly._,!0),t.setMeta("annotationEvent",{type:"split-card",splitPos:s.before()});let{node:p,depth:h}=a,{type:m,attrs:g}=p,x=s.depth-h+1,f=(0,oB.PD)(t.doc.resolve(a.pos));t.split(s.pos,x,[{type:m,attrs:{...g,layout:"blank"}}]);let b=(0,lw.t)(t,el.Qs).pos,v=t.doc.nodeAt(b).childCount;if(0===d&&(t.delete(c,c+t.doc.nodeAt(c).nodeSize),b=t.steps[t.steps.length-1].getMap().map(b)),0===u&&v>1){let e=b+1,n=t.doc.nodeAt(e);n&&"cardNotes"!==n.type.name&&"cardLayoutItem"!==n.type.name&&t.delete(e,e+n.nodeSize)}let y=(0,oB.PD)(t.doc.resolve(b));y&&t.delete(y.pos,y.pos+y.node.nodeSize);let w=(0,lC.n)(t.doc.resolve(b+1)),C=t.doc.nodeAt(a.pos),j=C&&a.pos+C.nodeSize-1;if(j&&f){let e=f.node;t.insert(j,e),t.setMeta("cardNotesHandled",!0)}w&&t.setSelection(w).scrollIntoView()};var lN=n(72688),lP=n(29614),lO=n(55978),lH=n(98088),lF=n(89703),lB=n(4522);let lV=e=>{var t,n;let{node:a,editor:i,getPos:r}=e,{image:o}=a.attrs,{src:l,tempUrl:s,uploadStatus:d,showPlaceholder:c}=o,u=(0,K.GV)(ed.nD),h=d===eT.A.Uploading,g=(0,K.GV)(ed.wC)===r3.w.SLIDE_VIEW,x=(0,lF.f)(),f=(0,ar.j8)(i,r),b=(0,L.useCallback)(()=>{u&&(f(),x({isOpen:!0}))},[u,x,f]),v=c||!l&&!s;return(0,p.jsx)(m.u,{...e,children:(0,p.jsxs)(rI.o,{className:"image-card",position:"relative",w:"100%",h:"100%",onClick:f,onDoubleClick:b,"data-selection-ring":!0,"data-selection-background":!0,"data-drag-handle":!0,onMouseDown:nC.Fw,borderRadius:"var(--card-border-radius)",bg:"black",overflow:"hidden",children:[v?(0,p.jsx)(lB.Pf,{w:"100%",css:{aspectRatio:"16 / 9"},isLoading:"queued"===o.loadImageStatus,loadingProvider:null==(t=o.loadImageParams)?void 0:t.provider,hasUploadError:"error"===o.loadImageStatus,promptPreview:null==(n=o.loadImageParams)?void 0:n.query}):(0,p.jsx)(nN.Me,{src:l||s||"",alt:"",h:g?"100vh":void 0,objectFit:"contain",resizeParams:{width:2e3,format:"jpg"}}),h&&u&&(0,p.jsx)(lB.Td,{}),d===eT.A.Error&&(0,p.jsx)(lB.Hy,{})]})})},lW=l.bP.create({name:"cardImageItem",atom:!0,selectable:!1,draggable:!1,isolating:!0,imageKeyPath:"image",accessoryImageKey:"image",addNodeView:()=>(0,c.gu)(lV,{update:u.z0}),parseHTML:()=>[{tag:"img[class=image-card][".concat(lP.A,"]"),getAttrs:e=>({image:(0,aY.K)(e)}),priority:1e3},{tag:"img[class=image-card]"}],addAttributes:()=>({id:(0,lO.e)(lH.z),image:{...(0,J.tb)("image"),default:{}}}),renderHTML(e){let{HTMLAttributes:t}=e;return["img",(0,l.KV)(t,{class:"image-card"})]},renderHTMLforAI(e){let{node:t}=e,{image:n}=t.attrs;return["img",{class:"image-card",prompt:n.query}]}});var lU=n(97481),lG=n.n(lU),lK=n(22115),lQ=n(49249),lZ=n(78893),lq=n(15587),l$=n(831),lJ=n.n(l$),lY=n(55786);let lX=(0,L.memo)(e=>{let{editor:t,onClose:n,handleAddCard:a,recentlyUsedTemplates:i}=e,r=(0,eQ.d)(),o=(0,rw.wz)("modal"),l=(0,L.useCallback)(e=>{r({status:"success",title:e4.Ru._({id:"WJGAWS"}),duration:1300,isClosable:!1,position:"top"}),n(),a(e,"modal")},[n,a,r]),s=i.filter(e=>!(0,rw.l2)(t,e)).slice(0,10);return(0,p.jsx)(eh.L8,{isDark:!1,children:(0,p.jsxs)(eg.aF,{isOpen:!0,onClose:n,size:{base:"5xl","2xl":"6xl"},children:[(0,p.jsx)(ex.m,{}),(0,p.jsxs)(ef.$,{children:[(0,p.jsx)(eC.s,{}),(0,p.jsx)(eb.r,{children:(0,p.jsx)(em.x6,{id:"HNcS3K"})}),(0,p.jsx)(ej.c,{pb:6,children:(0,p.jsxs)(ev.B,{spacing:6,children:[!!s.length&&(0,p.jsxs)(ev.B,{children:[(0,p.jsxs)(S.E,{color:"gray.600",children:[(0,p.jsx)(E.g,{icon:e1.a$,fixedWidth:!0})," ",(0,p.jsx)(em.x6,{id:"uabU9X"})]}),(0,p.jsx)(rb.x,{templateColumns:"repeat(auto-fill, minmax(calc(".concat(r4.lg," + 0.4em), 1fr))"),gap:3,children:s.map(e=>{let{jsonContent:t,id:n,name:a}=e;return(0,p.jsx)(oT,{isDark:!1,isSelected:!1,tooltip:a(),label:a(),onClick:()=>l(n),w:"auto",templateIcon:(0,p.jsx)(r6,{templateContent:t,isDark:!1,borderRadius:"base",size:"lg"})},n)})})]}),o.map(e=>{let{subcategory:n,items:a}=e;return(0,p.jsxs)(ev.B,{children:[(0,p.jsx)(S.E,{color:"gray.600",children:n}),(0,p.jsx)(rb.x,{templateColumns:"repeat(auto-fill, minmax(calc(".concat(r4.lg," + 0.4em), 1fr))"),gap:3,children:a.filter(e=>!(0,rw.l2)(t,e)).map(e=>{let{id:t,name:n,jsonContent:a}=e,r=!!i.find(e=>{let{id:n}=e;return n===t});return(0,p.jsx)(oT,{isDark:!1,isSelected:!1,tooltip:"".concat(n()," ").concat(r?e4.Ru._({id:"uabU9X"}):""),label:n(),onClick:()=>l(t),w:"auto",templateIcon:(0,p.jsx)(r6,{templateContent:a,isDark:!1,borderRadius:"base",size:"lg"}),boxShadow:"none"},t)})})]},n)})]})})]})]})})});var l0=n(59018),l1=n.n(l0);n(2623);let l2=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;return l1()([e,...t]).slice(0,n)},l4=(0,L.memo)(e=>{let{setCardContent:t,editor:n,isFocused:a,edgeLayoutsDisabled:i,isNested:r,isCardDark:o}=e,{isInOfflineMode:l}=(0,al.u)(),{isOpen:s,onClose:d,onOpen:c}=(0,t9.E)({id:"cardTemplatesModal"}),u=(0,oI.rd)(),h=o||u,[m,g]=(0,iN.M)(iP.E.recentlyUsedCardTemplateIds,[]),x=(0,L.useCallback)(function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"placeholder";t(e),"aiCardAfter"!==e&&g(l2(e,m));let a="placeholder"===n?i$.oU.CARD_TEMPLATE_PLACEHOLDER:i$.oU.CARD_TEMPLATE_MODAL;(0,lY.J)({nodeName:"card",key:e},a)},[t,m,g]),[f,b]=(0,L.useMemo)(()=>{let e=m.map(e=>(0,rw.iT)()[e]).filter(e=>!!e),t=(0,rw.wz)("placeholder").flatMap(e=>{let{items:t}=e;return t});return[lJ()([...e,...t],"id").filter(e=>!!e).filter(e=>!(0,rw.l2)(n,e,e=>{var t;let{jsonContent:n}=e;return i&&(0,en.sP)(null==(t=n.attrs)?void 0:t.layout)})),e]},[i,n,m]);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(eh.L8,{isDark:h,children:(0,p.jsx)(oc.S,{in:a||s,onAnimationComplete:()=>{var e,t;null==(e=(t=n.commands).refreshBubbleMenu)||e.call(t)},children:(0,p.jsxs)(ev.B,{overflow:"hidden",mx:16,mb:12,contentEditable:!1,onMouseDown:nC.Fw,cursor:"default",fontFamily:"body",color:"var(--body-color-muted)",children:[(0,p.jsx)(S.E,{fontSize:"sm",fontWeight:"normal",children:(0,p.jsx)(em.x6,{id:"3h21H3"})}),(0,p.jsxs)(rb.x,{templateColumns:"repeat(auto-fill, minmax(calc(".concat(r4.md," + var(--chakra-space-1-5)), 1fr))"),fontSize:"1rem",gap:2,children:[f.slice(0,r?2:4).map(e=>{let{id:t,jsonContent:n,name:a}=e;return(0,p.jsx)(oT,{tooltip:a(),isDark:h,templateIcon:(0,p.jsx)(r6,{templateContent:n,isDark:h,borderRadius:"base",maxH:"5em",overflow:"hidden"}),isSelected:!1,onClick:()=>x(t),w:"auto",minW:"auto",fontSize:"1em"},t)}),(0,p.jsx)(oT,{tooltip:e4.Ru._({id:"bHT6mZ"}),label:(0,p.jsx)(em.x6,{id:"iTylMl"}),isDark:h,templateIcon:(0,p.jsx)(E.g,{icon:eL.Qyz,fixedWidth:!0}),isSelected:!1,onClick:c,fontSize:"1em"}),!l&&(0,p.jsx)(oT,{isDark:h,templateIcon:(0,p.jsx)(E.g,{icon:eL.p7g,fixedWidth:!0}),label:(0,p.jsx)(em.x6,{id:"ziAjHi"}),tooltip:e4.Ru._({id:"tkZYgO"}),isSelected:!1,onClick:()=>{x("aiCardAfter")},fontSize:"1em"})]})]})})}),s&&(0,p.jsx)(lX,{editor:n,onClose:d,handleAddCard:x,recentlyUsedTemplates:b})]})});l4.displayName="ChooseCardTemplatePlaceholder";let l5=e=>{let{isNested:t,isMobileDevice:n,cardMarginSettings:a,cardAttrs:i}=e,r=(0,K.GV)(ed.Jq),{areElementsCurrentlyHiddenBySettings:o}=eK(i);return n||t||eN(a)||"webpage"===r||o},l6=(e,t)=>{let n=eW("top",e)?"top":"bottom",a=t["".concat(n,"Center")],i=t["".concat(n,"Left")],r=t["".concat(n,"Right")],o=eW("center",e);return!!a&&(!a||!!i||!!r||o)},l3=e=>{var t;let{element:n,position:a,cardId:i,shouldStretch:r,isWidthConstrained:o,containerHeight:l}=e,s=(0,K.GV)(ed.uF),{flex:d,text:c}=eB(a),u=(null==n?void 0:n.type)==="image"||(null==n?void 0:n.type)==="themeLogo",h=(null==n?void 0:n.type)==="text"||(null==n?void 0:n.type)==="cardNumbers",{logoSrc:m,logoImage:g}=tK(),x=(null==n?void 0:n.type)==="image"?null==(t=n.imageAttrs)?void 0:t.meta:null==g?void 0:g.meta,f=(null==n?void 0:n.type)==="image"?eF(n):m,b=f&&(0,nN.Ub)(f,nN.Rb,x)||f,v=(0,L.useMemo)(()=>i&&(null==n?void 0:n.type)==="cardNumbers"?eU(s.indexOf(i),n.startIndex,n.startNumber):"",[n,i,s]),y=null==x?void 0:x.aspect_ratio,w=(0,L.useMemo)(()=>oq(n,y),[n,y]),C=(0,K.GV)(ed.SJ),j=null==C?void 0:C.config.roundness,A=(0,L.useMemo)(()=>oJ(l,n,j,y,d),[n,j,l,y,d]);return!n&&eW("center",a)?null:(0,p.jsxs)(e6.s,{alignItems:"center",justifyContent:d,flex:r?1:void 0,flexShrink:u?0:void 0,flexBasis:u&&o?"calc(50% - ".concat(.25,"em)"):void 0,children:[h&&(0,p.jsxs)(S.E,{fontSize:"calc(".concat(.7,"em / var(--media-scale))"),ps:"calc(".concat(A.start,"em / var(--media-scale))"),pe:"calc(".concat(A.end,"em / var(--media-scale))"),opacity:.65,noOfLines:1,fontFamily:"var(--body-font)",color:"var(--body-color)",fontWeight:"var(--body-font-weight)",textAlign:c,children:["cardNumbers"===n.type&&v,"text"===n.type&&n.content]}),u&&b&&(0,p.jsx)(tk._,{src:b,h:"calc(".concat(w,"em / var(--media-scale))"),ps:"calc(".concat(A.start,"em / var(--media-scale))"),pe:"calc(".concat(A.end,"em / var(--media-scale))"),objectFit:"contain"})]})},l9=(e,t,n,a)=>{let i=eW("top",e);if("top"===t&&i)return null;if(!eW("center",e)||"left"!==t&&"right"!==t)return e;let r=i?"top":"bottom",o="left"===t?"".concat(r,"Left"):"".concat(r,"Right"),l="left"===t?"".concat(r,"Right"):"".concat(r,"Left");return eH(n[o],a)||eH(n[l],a)?eH(n[o],a)?o:eH(n[l],a)?l:e:null},l7=(e,t,n)=>Object.entries(e).reduce((a,i)=>{let[r,o]=i;if(eH(o,n))return a;let l=l9(r,t,e,n);return l?{...a,[l]:o}:a},{}),l8=(e,t,n,a)=>{if("left"!==n&&"right"!==n)return!1;let i=t["".concat(e,"Left")],r=t["".concat(e,"Center")],o=t["".concat(e,"Right")],l=!eH(i,a)&&((null==i?void 0:i.type)==="image"||(null==i?void 0:i.type)==="themeLogo"),s=!eH(o,a)&&((null==o?void 0:o.type)==="image"||(null==o?void 0:o.type)==="themeLogo");return l&&!r&&s},se=e=>{let{cardNode:t,isNested:n,isMobileDevice:a,displayLayout:i}=e,r=null==t?void 0:t.attrs,{cardMarginSettings:o}=(0,K.GV)(ed.Uu),{hideFromFirst:l,hideFromLast:s,...d}=o,c=l5({isNested:n,cardMarginSettings:o,isMobileDevice:a,cardAttrs:r}),{logoSrc:u}=tK(),m=l7(d,i,u),g=l8("top",m,i,u),x=l8("bottom",m,i,u),f=(0,K.GV)(ed.SJ),b=null==f?void 0:f.config.roundness,v=oX(o,b),y=(0,L.useMemo)(()=>oY(o),[o]),w=(0,L.useMemo)(()=>o$(b,y),[b,y]);return c?null:(0,p.jsxs)(h.a,{dir:"ltr",css:{"--margin-padding":"calc(".concat(w,"em / var(--media-scale))")},children:[(0,p.jsx)(k.z,{"data-card-margin-elements":"top",position:"absolute",pointerEvents:"none",justifyContent:"space-between",alignItems:"center",h:"calc(".concat(v,"em / var(--media-scale))"),p:"var(--margin-padding)",top:0,insetStart:0,insetEnd:0,spacing:"".concat(.5,"em"),overflow:"hidden",children:["topLeft","topCenter","topRight"].map(e=>(0,p.jsx)(l3,{element:m[e],position:e,cardId:null==t?void 0:t.attrs.id,shouldStretch:l6(e,m),isWidthConstrained:g,containerHeight:y},e))}),(0,p.jsx)(k.z,{"data-card-margin-elements":"bottom",position:"absolute",pointerEvents:"none",justifyContent:"space-between",alignItems:"center",h:"calc(".concat(v,"em / var(--media-scale))"),p:"var(--margin-padding)",bottom:0,insetStart:0,insetEnd:0,spacing:"".concat(.5,"em"),overflow:"hidden",children:["bottomLeft","bottomCenter","bottomRight"].map(e=>(0,p.jsx)(l3,{element:m[e],position:e,cardId:null==t?void 0:t.attrs.id,shouldStretch:l6(e,m),isWidthConstrained:x,containerHeight:y},e))})]})};var st=n(54604),sn=n(65280),sa=n(89884),si=n(54348),sr=n.n(si),so=n(53885),sl=n(28700),ss=n(45943),sd=n(34787),sc=n(38394),su=n(66607),sp=n(50535);let sh=(e,t)=>{if(!e.isEditable||!t.clipboardData)return!1;let n=t.clipboardData.getData("text/plain");if(!n||(0,ss.tE)(n))return!1;let a=t.clipboardData.getData("text/html");if(null==a?void 0:a.includes("data-pm-slice"))return!1;let{state:i}=e;if(i.selection.$from.parent.type.spec.code){let t=i.tr.insertText(n);return e.view.dispatch(t),!0}let r=t.clipboardData.getData("vscode-editor-data"),o=r?JSON.parse(r):void 0,l=null==o?void 0:o.mode;if(!(!a||"markdown"===l||sg(n)))return!1;let{from:s,to:d}=i.selection;return t.preventDefault(),e.commands.insertMarkdownAt({from:s,to:d},n)},sm=(e,t,n)=>{let a=sd.xI.parse(e),{slice:i}=(0,su.S)(a,t,n,{preserveWhitespace:!1});return i},sg=e=>{let t=e.match(/^```/gm);if(t&&t.length>1||e.match(/\[[^]+\]\(https?:\/\/\S+\)/gm)||e.match(/\[[^]+\]\(\/\S+\)/gm)||e.match(/^#{1,6}\s+\S+/gm))return!0;let n=e.match(/^\s*[\d-*].\s\S+/gm);return!!(n&&n.length>1||e.match(/^\s*-{3,}\s*$/gm))},sx=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:sv;t&&(sc.A.prototype.escape=e=>e);let a=n.turndown(e);return t&&(sc.A.prototype.escape=sy),a},sf=(e,t,n,a,i)=>{try{let r=e.slice(t,n).content,o=(0,sp.t8)(r,e.type.schema),l=document.createElement("div");l.appendChild(o);let s=l.innerHTML;return sx(s,a,i)}catch(a){return console.error("[caught] rangeToMarkdown: ",t,n,e.nodeSize,a),""}},sb=(e,t)=>{try{return e.getAttribute(t)}catch(e){return null}},sv=new sc.A({headingStyle:"atx",bulletListMarker:"-",codeBlockStyle:"fenced",hr:"---"}).remove(["style"]).addRule("list",{filter:["ul","ol"],replacement:function(e,t){let n=t.parentNode;return((null==n?void 0:n.nodeName.match(/^(UL|OL)$/i))&&(e="    "+e.replace(/^\n+/,"").replace(/\n+$/,"\n").replace(/\n/gm,"\n    ")),(null==n?void 0:n.nodeName)==="LI"&&n.lastElementChild===t)?"\n"+e:"\n\n"+e+"\n\n"}}).addRule("listItem",{filter:"li",replacement:function(e,t,n){e=e.replace(/^\n+/,"").replace(/\n+$/,"\n").replace(/\n/gm,"\n    ");let a=n.bulletListMarker||"-",i=a+" ",r=t.parentNode,o=sb(t,"indent");if(null!==o){let e=parseInt(o,10);!isNaN(e)&&e>0&&(i="    ".repeat(e)+i)}let l=sb(t,"variant");if(1===t.children.length&&t.children[0].nodeName.match(/^(UL|OL)$/i)&&t.textContent===t.children[0].textContent)i="    ";else if((null==r?void 0:r.nodeName)==="OL"){let e=r.getAttribute("start"),n=Array.prototype.indexOf.call(Array.prototype.filter.call(r.children,e=>"LI"===e.nodeName),t),o=e?Number(e)+n:n+1;i=i.replace(a,o+".")}else if("numbered"===l){let e=sb(t,"start")||1;i=i.replace(a,e+".")}return i+e+(t.nextSibling&&!/\n$/.test(e)?"\n":"")}}),sy=sc.A.prototype.escape,sw=l.YY.create({name:"clipboard",addProseMirrorPlugins(){let e=this.editor,t=e.state.schema,n=null;return[new W.k_({key:new W.hs("clipboard"),appendTransaction(e,t,n){let a=e.find(e=>"cut"===e.getMeta("uiEvent"));if(!a)return null;let i=(0,lC.i)(a);return i?n.tr.setSelection(i):null},props:{handleDOMEvents:{drop(e){n=e.dragging,requestAnimationFrame(()=>{n=null})}},clipboardSerializer:{serializeFragment:e=>(0,sp.t8)(e,this.editor.schema)},transformPastedHTML:a_.V,transformPasted:a=>{let i=(null==n?void 0:n.slice)?a:(0,aM.ne)(a,t);return sj(e,i)},handlePaste:(t,n,a)=>(0,ss.Mu)(e,n,a)||sh(e,n)||(0,sl.j)(t,n,a)}})]},addCommands(){return{insertMarkdownAt:(e,t)=>n=>{let{state:a,tr:i}=n;try{let n=sm(t,a.schema);return i.replaceRange(e.from,e.to,n),!0}catch(e){return console.warn("(caught) [Clipboard] insertMarkdownAt error",e),!1}},basicCut:e=>{let{from:t,to:n}=e;return e=>{let{state:a,tr:i}=e;return sC(a.doc.slice(t,n).content,this.editor,!0),i.deleteRange(t,n),!0}},copy:e=>{let{from:t,to:n}=e;return e=>{let{state:a}=e;return sC(a.doc.slice(t,n).content,this.editor,!1),!0}}}}}),sC=(e,t,n)=>{var a,i,r,o;let l=(0,sp.$R)(e,t.schema),s=e.firstChild;if(1===e.childCount&&!n){let e,t=(null==s?void 0:s.type.name)==="image",n=(null==s?void 0:s.type.name)==="cardAccentLayoutItem"&&(null==s||null==(r=s.attrs)||null==(i=r.background)?void 0:i.image),a=(null==s?void 0:s.type.name)==="smartLayoutCell"&&(null==s||null==(o=s.attrs)?void 0:o.image);t?e=s.attrs.src:n?e=null==s?void 0:s.attrs.background.image.src:a&&(e=null==s?void 0:s.attrs.image.src),e&&(0,az.qp)(e).catch(e=>{console.warn("Image clipboard copy failed, falling back to HTML:",e)})}null==(a=document.getSelection())||a.removeAllRanges(),sr()(l,{format:"text/html"});let d=so.q.getState(t.state);return d&&!n&&d.clearCutData(),l},sj=(e,t)=>{var n;let a=(0,ei.e)(e.state.doc),i=null==(n=t.toJSON())?void 0:n.content;if(!i||"document"!==i[0].type)return t;let r=(0,ei.e)(t.content.firstChild);return a.cardLayoutsEnabled&&!r.cardLayoutsEnabled?((0,J.Sn)(i,e=>{"card"===e.type&&(e.content=[{type:"cardLayoutItem",content:e.content}])}),aE.Ji.fromJSON(e.schema,{openStart:t.openStart+1,openEnd:t.openEnd+1,content:i})):t};var sA=n(95465);let sk=e=>{let{editor:t,cardNode:n,cardPos:a,cardId:i,displayLayout:r,hasCardNotesNode:o}=e,l=(0,eQ.d)(),s=(0,sn.T)(),d=(0,t8.u)("copyCardsToDeck"),c=(0,K.GV)(ed.nD),u=(0,sA.K)(),h=i===(0,K.GV)(ed.uF)[0],m=nY(t,a),g=(0,L.useCallback)(()=>{if(!t||!n)return;let e=t.state.doc.nodeAt(a),i=e&&(0,V.getCardTitle)(e.toJSON());t.chain().deleteCard(a).focus().run();let r=e4.Ru._({id:"0MWv65",values:{displayTitle:i?'"'.concat(i,'"'):"card"}}),o=e4.Ru._({id:"9uI/rE"}),s=l({title:(0,p.jsxs)(k.z,{children:[(0,p.jsx)(S.E,{noOfLines:1,children:r}),(0,p.jsx)(nf.N,{textDecoration:"underline",onClick:()=>{(0,e2.tN)(t.state),l.close(s)},children:o})]}),status:"info",duration:3e3,position:"top"})},[t,n,a,l]),x=(0,L.useCallback)(()=>{t&&n&&sC(aE.FK.from([n]),t,!1)},[t,n]),f=(0,L.useCallback)(()=>{t&&void 0!==a&&t.chain().mergeCardsAtPos(a).focus().run()},[t,a]),b=(0,L.useCallback)(()=>{if(!t||!n)return;let e=n.attrs,i={background:{type:Z.h.NONE,source:void 0},cardSize:void 0,verticalAlign:void 0,container:{...e.container,width:void 0,background:void 0},layout:"blank"};(0,ny.e)(t,a,i)},[t,n,a]),{setCardColor:v,currentColor:y,themeCardColor:w}=nB({editor:t,attrs:null==n?void 0:n.attrs,getPos:()=>a}),C=(0,L.useCallback)(()=>{if(!t||!i||!n)return;c&&!o&&(0,oB.ni)(t,a);let e=(0,oF.Ix)((0,K.KA)().getState());oH.emit("toggle",{clickedCardId:i,activeNotesCardId:e})},[t,i,n,a,o,c]),{onCopyLinkClick:j}=(0,sa.L)({cardId:null==n?void 0:n.attrs.id}),A=(0,L.useCallback)(()=>{t&&i&&j()},[t,i,j]);return(0,L.useMemo)(()=>t?[{key:"card-options",title:(0,p.jsx)(em.x6,{id:"kryGs+"})},{divider:!0},{key:"copy-card",label:(0,p.jsx)(em.x6,{id:"Bq0HJ4"}),icon:e1.jPR,onClick:x},...d?[{key:"copy-card-to-deck",label:(0,p.jsx)(em.x6,{id:"IAsTWw"}),icon:(0,p.jsx)(E.g,{icon:e1.Rvk,flip:"horizontal"}),onClick:()=>n&&s([n])}]:[],...h?[]:[{key:"merge-card-with-above",label:(0,p.jsx)(em.x6,{id:"lxx9kE"}),icon:e1.INu,onClick:f}],{divider:!0},{key:"change-card-color",label:(0,p.jsx)(em.x6,{id:"D/jD8b"}),icon:e1.fyG,items:[{key:"color-picker",element:e=>(0,p.jsx)(nF.b,{currentColor:null!=y?y:w,setColor:t=>{v(t),null==e||e()},source:"CardColor"})}]},{key:"reset-styling",label:(0,p.jsx)(em.x6,{id:"6hU6uw"}),icon:e1.ub2,onClick:b},{divider:!0},{key:"card-notes",label:(0,p.jsx)(em.x6,{id:"PFP9+0"}),icon:e1.bLf,onClick:C},{key:"copy-private-link",label:u?(0,p.jsx)(em.x6,{id:"F0YmUY"}):(0,p.jsx)(em.x6,{id:"j7DOt7"}),icon:e1.CQO,onClick:A},{divider:!0},{key:"layout",label:e4.Ru._({id:"rdU729"}),icon:e1.swh,items:nX.map(e=>({key:e,label:(0,nZ.Nu)(e),checked:r===e,icon:(0,p.jsx)(n1,{layout:e,isSelected:r===e}),onClick:()=>m(e)}))},{divider:!0},{key:"delete",label:(0,p.jsx)(em.x6,{id:"cnGeoo"}),icon:e1.yLS,onClick:g,color:"red.500"}]:[],[t,x,d,h,f,b,C,u,A,g,n,s,y,w,v,r,m])};var sS=n(27246);let sI=(e,t,n)=>{if(n)return{};if("behind"===e||"blank"===e)return{borderRadius:"var(--card-border-radius)"};if("left"===e)return"accent"===t?{borderLeftRadius:"var(--card-border-radius)"}:"body"===t?{borderRightRadius:"var(--card-border-radius)"}:{};if("right"===e)return"body"===t?{borderLeftRadius:"var(--card-border-radius)"}:"accent"===t?{borderRightRadius:"var(--card-border-radius)"}:{};if("top"===e||"mobileLeft"===e)return"body"===t?{borderBottomRadius:"var(--card-border-radius)"}:"accent"===t?{borderTopRadius:"var(--card-border-radius)"}:{};if("mobileRight"===e){if("accent"===t)return{borderBottomRadius:"var(--card-border-radius)"};if("body"===t)return{borderTopRadius:"var(--card-border-radius)"}}return{}},sE=e=>{var t;let n,{node:a,getPos:i,decorations:r,editor:o}=e,s=a.attrs,d=(0,e8.fW)(),u=(0,sS.Bn)(r);try{let e=i();n=(0,l.eL)(null==o?void 0:o.state.doc.resolve(e),Q.jg)}catch(e){console.error(e)}let{isNested:h,insideSideLayout:m,displayLayout:g,hasCardNotesNode:x,isCardDark:f}=(0,eo.tg)(r),b=(null==u?void 0:u.layout)==="blank",v=sI(u.layout,s.itemId,"full"===u.cardSize),y={flexDirection:"column",justifyContent:s.verticalAlign||"var(--card-vertical-align)"},w=(0,en.lH)(null==u?void 0:u.layout),C=w&&!w.items[s.itemId],[j]=(0,st.E)(u.cardId),A=(0,lq.v)(r),k=(0,K.GV)(ed.nD),S=(0,ns.DM)(r),I=(0,L.useCallback)(e=>{if(!n)return;let t=(0,rh.GO)()[e]||(0,rh.GO)().blankCard,{layoutTemplateColumns:a,...i}=n.node.attrs;t.attrs={...i,...t.attrs};let r=n.pos,l=n.pos+n.node.nodeSize;o.chain().insertContentAt({from:r,to:l},t,{updateSelection:!1}).selectInsertedNode().run()},[o,n]),E=sk({editor:o,cardNode:null==n?void 0:n.node,cardPos:null!=(t=null==n?void 0:n.pos)?t:0,cardId:null==n?void 0:n.node.attrs.id,displayLayout:g,hasCardNotesNode:x}),{onOpenContextMenu:R,onCloseContextMenu:D,menuProps:M}=(0,lZ.$)({editor:o,getPos:i}),_=(0,es.FX)();return(0,p.jsxs)(c.VR,{dir:d?"rtl":"ltr",as:"div",style:{...C?{display:"none"}:{}},children:[(0,p.jsxs)(e6.s,{"data-content-reference":!0,className:"card-layout-cell-bg",w:"100%",h:"100%",position:"relative","data-selection-ring":!0,"data-selection-background":!0,..."presentCurrent"!==j&&v,...y,children:[(0,p.jsx)(c.$p,{as:"div",style:{width:"100%"},onContextMenu:e=>{e.target===e.currentTarget&&R(e)}}),k&&A&&b&&(0,p.jsx)(l4,{isFocused:S,editor:o,setCardContent:I,edgeLayoutsDisabled:m,isNested:h,isCardDark:!!f}),(0,p.jsx)(se,{cardNode:null==n?void 0:n.node,displayLayout:g,isNested:h,isMobileDevice:_})]}),(0,p.jsx)(lK.tz,{menuItems:E,isOpen:M.isOpen,position:M.position,onClose:D,size:"small"})]})},sL=e=>{var t;let{hasImage:n,onEditImage:a,image:i,editor:r,isLoading:o,openEditBackgroundDrawer:l,borderProps:s,accentLayout:d,...c}=e,u=!!a;return n?null:(0,p.jsx)(e6.s,{align:"center",justify:"center",pos:"absolute",inset:0,role:"group",cursor:"default","data-layout-cut":"mobileLeft"===d?"top":d,...n?{}:{bgColor:"gray.200"},...c,children:!r.isThumbnail&&(0,p.jsx)(e6.s,{pos:"absolute",inset:0,justify:"center",align:"center",cursor:u?"default":void 0,onClick:a,children:(0,p.jsx)(h.a,{color:"gray.400",h:"100%",w:"100%",children:(0,p.jsx)(lB.Pf,{icon:ai.Fn[aa.j].icon,isUploading:!1,isLoading:o,loadingProvider:null==i||null==(t=i.loadImageParams)?void 0:t.provider,onSelectAndFocus:a,hasUploadError:!1,isAccentImageDrawer:!0,openEditBackgroundDrawer:l,h:"100%",w:"100%",hasQuickActions:"behind"!==d,...s})})})})};var sR=n(81880);let sD=e=>{let{background:t,rounded:n,resizeParams:a,cutLayout:i,isDark:r,bodyColor:o}=e,l=(0,q.FD)(t,r,a,o);return(0,p.jsx)(h.a,{position:"absolute",inset:"0",overflow:"hidden",borderRadius:n?"var(--box-border-radius)":"inherit","data-layout-cut":i,...l})},sM=e=>{var t,n;let{background:a,rounded:i,cutLayout:r}=e,o=a.image&&!(0,nN.SV)(a.image.src)&&!(null==(t=a.image.meta)?void 0:t.has_transparency),l=o?(0,q.FD)(a,!1,{width:400,blur:50,format:"jpg"}):void 0;return(0,p.jsx)(h.a,{position:"absolute",inset:"0","data-image-fit-bg":!0,overflow:"hidden",...l,borderRadius:i?"var(--box-border-radius)":"inherit",marginY:i?"1em":void 0,bgPosition:"center","data-layout-cut":r,children:o&&!(0,nN.md)((null==(n=a.image)?void 0:n.src)||void 0)&&(0,p.jsx)(h.a,{backdropFilter:"blur(6em)",inset:0,position:"absolute",borderRadius:"inherit","data-selection-ring":"inside"})})},s_=e=>{let{image:t,resizeParams:n,cutLayout:a,bodyColor:i}=e,{tempUrl:r,meta:o}=t,l=t.src?(0,nN.pO)(t.src,i):void 0,s=l&&(0,sR.D)(t)&&n?(0,nN.Ub)(l,n,o):l;return(0,p.jsx)(nN.Me,{src:s||void 0,fallbackSrc:r||void 0,borderRadius:"var(--box-border-radius)",pos:"relative",flex:"0 1 auto",minH:0,minW:0,width:"auto",maxW:"100%","data-layout-cut-fg":a,className:"reset-max-width-with-margins"})};var sz=n(84130),sT=n(35292),sN=n(10307),sP=n(5380),sO=n(70015);let sH=e=>{var t;let n,{editor:a,node:i,decorations:r,getPos:o}=e,s=i.attrs,d=(0,sS.Bn)(r),c=(0,nZ.jh)(s,null==d?void 0:d.layout),{changeFocalPoint:u,startRemoveBg:h,isRemovingBg:m}=(0,sP.c)({editor:a,getPos:o,backgroundRemovalId:null==d?void 0:d.cardId});try{n=(0,l.eL)(a.state.doc.resolve(o()),lj.jg)}catch(e){console.error(e)}let g=s.background.type===Z.h.IMAGE,{displayLayout:x}=(0,eo.tg)(r),f=nY(a,(null==n?void 0:n.pos)||0),b=(0,sT.l)(s.background.image),{toggleBuddyChatPanel:v,isBuddyChatPanelOpen:y}=(0,sN.n)(),w=(0,sO.d)({editor:a,getPos:o,node:i,includeCut:!1,imageSrc:null==(t=s.background.image)?void 0:t.src});return{contextMenuItems:[...g?[...w,{divider:!0},{key:"edit-image",label:g?e4.Ru._({id:"9IrgTy"}):e4.Ru._({id:"pVb3uA"}),icon:e1.MT7,onClick:()=>{let e=null==n?void 0:n.node.attrs.id;e&&nE.R.emit("toggleEditBackgroundDrawer",{openDrawer:!0,cardId:e})}},...b?[{key:"ask-ai",label:(0,p.jsx)(em.x6,{id:"vKZEFh"}),icon:eL.p7g,onClick:()=>{y||v(),setTimeout(()=>{sz.W.emit("prefillMessage",{message:""})},200)}}]:[],{key:"remove-background",label:m?e4.Ru._({id:"RdqLb7"}):e4.Ru._({id:"ylbfBl"}),icon:m?e1.z1G:e1.sAw,rightIcon:m?void 0:(0,p.jsx)(iB.G,{type:"removeBackground",ms:2,color:"gray.400"}),disabled:m,onClick:h},{key:"fit-image",label:"fit"===c?e4.Ru._({id:"2Ivw1n"}):e4.Ru._({id:"VPxUGR"}),icon:e1.GZ1,onClick:()=>{a.commands.updateAttributesAtPos(o(),{fitType:"fit"===c?"fill":"fit"})}},{key:"change-focus-point",label:e4.Ru._({id:"BmxaoW"}),icon:e1.xD0,onClick:()=>{let e=(0,aT.um)(i);u((0,aT.Df)(a,i,o(),e))},disabled:"fit"===c},{divider:!0}]:[],{key:"layout",label:e4.Ru._({id:"vR68Ol"}),icon:e1.swh,items:nX.map(e=>({key:e,label:(0,nZ.Nu)(e),icon:(0,p.jsx)(n1,{layout:e,isSelected:x===e}),onClick:()=>f(e)}))},{divider:!0},{key:"remove-accent-image",label:g?e4.Ru._({id:"sGYCGx"}):e4.Ru._({id:"6vLq+T"}),icon:g?e1.K3F:e1.yLS,onClick:()=>(0,nZ.kB)(a,o(),g),color:"red.500"}]}},sF={width:1200},sB=e=>{var t,n,a;let i=(0,K.GV)(ed.SJ),r=(null==(t=i.config)?void 0:t.accentBackgrounds)&&(null==(n=i.config)?void 0:n.accentBackgrounds.length)>0;return e.source||(null==(a=e.image)?void 0:a.source)||r?aa.j:nv.L},sV=e=>{let{editor:t,node:n,getPos:a}=e;(0,L.useEffect)(()=>{"cardLayoutItem"===n.type.name&&"accent"===n.attrs.itemId&&setTimeout(()=>{t.commands.command(e=>{let{tr:i}=e;return(0,en.OH)(i,a(),n,t.schema),!0})})},[t,a,n])},sW=e=>{var t,n,a,i,r;let{node:o,decorations:l,editor:s,getPos:d}=e,u=o.attrs,{background:h}=u;sV(e);let{openBackgroundTab:m,...g}=ax(),x=sB(h),f=(0,L.useCallback)(e=>{var t,n;s.commands.updateNestedAttributesAtPos(d(),e);let a=null==(t=l.find(e=>e.spec&&"cardId"in e.spec))?void 0:t.spec;(0,aC.Vc)({previous_attrs:(null==h?void 0:h.image)||{},new_attrs:(null==(n=e.background)?void 0:n.image)||{},image_type:"accent_background",replacement_method:"card_accent_drawer",doc_id:s.gammaDocId||"",node_id:null==a?void 0:a.cardId})},[s,d,h,l]),b=(0,L.useCallback)(e=>{s.commands.updateNestedAttributesAtPos(d(),{background:lG()({},h,{image:{...e,meta:{has_transparency:!0}}})})},[s,d,h]),{onCloseContextMenu:v,onOpenContextMenu:y,menuProps:w}=(0,lZ.$)({editor:s,getPos:d}),{contextMenuItems:C}=sH({editor:s,node:o,decorations:l,getPos:d}),{defaultFullBleed:j}=(0,K.GV)(ed.Uu),A=(0,sS.Bn)(l),{isDark:k,bodyColor:S,cardColor:I}=(0,_.a)(l),E=(0,K.GV)(ed.wC)!==r3.w.SLIDE_VIEW&&(null==A||!A.isNested)&&((null==A?void 0:A.cardSize)==="default"?"full"===j:(null==A?void 0:A.cardSize)==="full"),R=null==A?void 0:A.cardId,D=null==A?void 0:A.layout,M="behind"===D,z=s.isThumbnail?nN.p7:"right"===D||"left"===D||"top"===D||"mobileLeft"===D||"mobileRight"===D?sF:void 0,{bgRemovalInProgress:T}=(0,lQ._)({editor:s,id:R,src:null==(t=h.image)?void 0:t.src,updateAttributes:b}),N=(0,nZ.jh)(u,D),P=!!(0,en.lH)(D).items[u.itemId],O=sI(A.layout,u.itemId,"full"===A.cardSize),H="none"===h.type||h.type===Z.h.IMAGE&&!h.image||h.type===Z.h.IMAGE&&!(null==(n=h.image)?void 0:n.src)&&!(null==(a=h.image)?void 0:a.tempUrl),F="fit"===N&&h.image&&!H,B=(0,ar.j8)(s,d),{setBackgroundDrawerSourceKeyAction:V}=(0,ar.Bz)(),W=(null==(i=h.image)?void 0:i.loadImageStatus)==="queued",U=(0,K.GV)(ed.nD);(0,L.useEffect)(()=>nE.R.on("toggleEditBackgroundDrawer",e=>{let{openDrawer:t,cardId:n}=e;t&&n===R&&(V(x),m(!1))}),[x,R,m,V]);let G=null==(r=h.image)?void 0:r.uploadStatus,Q=(0,es.FX)(),q=!E||"fit"===N||Q?void 0:"left"===D||"right"===D?{borderRadius:"var(--box-border-radius)",marginY:"1em",height:"auto"}:"top"===D||"behind"===D?{width:"var(--editor-width)",position:"absolute",transform:"translateX(-50%)",left:"calc(50% - var(--doc-padding-left, 0px) / 2 + var(--doc-padding-right, 0px) / 2)"}:void 0,$=(0,L.useCallback)(e=>{(!(e.target instanceof Element)||e.target.closest("[data-card-layout]"))&&(B(),V(x),m(!1))},[x,B,m,V]);if(!P)return null;let J="mobileLeft"===D?"top":D;return(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)(c.VR,{as:"div",style:{display:E?"flex":void 0},children:[(0,p.jsxs)(e6.s,{"data-content-reference":!0,"data-change-focus-point-el":!0,className:"card-layout-cell-bg",w:"100%",h:"100%",onContextMenu:g.isOpen?void 0:y,"data-selection-ring":"inside","data-selection-background":!0,"data-card-layout":null==A?void 0:A.layout,"data-testid":"card-accent-layout-item","data-fit-type":N,position:"relative","data-drag-handle":!0,...O,...{flexDirection:"column",justifyContent:"center"},onClick:B,onDoubleClick:$,...q,bgSize:"fill"===N||M?"cover":"contain",p:"fill"===N||M?0:E?"1.5em":"1.25em",objectFit:"contain",css:{containerType:"size"},align:"center",justify:"center",children:[!F&&(0,p.jsx)(sD,{background:h,rounded:E&&!Q,resizeParams:z,cutLayout:J,isDark:k,bodyColor:S}),F&&(0,p.jsx)(sM,{background:h,rounded:E&&!Q,cutLayout:J}),F&&(0,p.jsx)(s_,{image:h.image,resizeParams:z,cutLayout:J,bodyColor:S}),M&&(0,p.jsx)(nI.TH,{background:h,cardColor:I}),U&&(0,p.jsx)(af,{editor:s,updateNestedAttributes:f,background:null==u?void 0:u.background,backFrom:R?{source:"accentBackgroundDrawer",id:R}:void 0,enableMask:M,isAccentImageDrawer:!0,...g}),(0,p.jsx)(sL,{isLoading:W,editor:s,hasImage:!H,image:h.image,onEditImage:U?B:void 0,openEditBackgroundDrawer:m,borderProps:O,accentLayout:null==A?void 0:A.layout,...O}),(G==eT.A.Uploading||T)&&U&&(0,p.jsx)(lB.Td,{removeBackground:T,scootRight:T&&("top"===D||"left"===D)}),G==eT.A.Error&&(0,p.jsx)(lB.Hy,{})]}),(0,p.jsx)(lK.tz,{menuItems:C,isOpen:w.isOpen,position:w.position,onClose:v,size:"small"})]})})},sU=e=>{let{node:t}=e;return"accent"===t.attrs.itemId?(0,p.jsx)(sW,{...e}):(0,p.jsx)(sE,{...e})},sG=l.bP.create({name:"cardAccentLayoutItem",group:"cardLayoutItemGroup",priority:X.y.CardAccentLayoutItem,selectable:!1,atom:!0,draggable:!0,imageKeyPath:"background.image",addAttributes:()=>({itemId:{default:"accent"},fitType:{parseHTML:e=>e.getAttribute("fitType")},background:{default:{type:Z.h.NONE},...(0,J.tb)("background")}}),addNodeView:()=>(0,c.gu)(sU,{update:u.z0}),parseHTML:()=>[{tag:"img[class=accent-image][bookmark]",getAttrs:e=>{let t=(0,Y.Ll)(e);return!!t&&{background:{type:Z.h.IMAGE,image:t,source:t.source}}}},{tag:"img[class=accent-image][".concat(lP.A,"]"),getAttrs:e=>{let t=(0,aY.K)(e);return{background:{type:Z.h.IMAGE,image:t,source:t.source}}}},{tag:"img[class=accent-image][src]",getAttrs:e=>({background:{type:Z.h.IMAGE,image:{src:e.getAttribute("src")||"",source:"image.custom"}}})},{tag:"img[class=accent-image][placeholder=true]",priority:70},{tag:"img[class=accent-image]"},{tag:"div[class=card-accent-layout-item]",context:"card/"}],renderHTMLforAI(e){let{node:t,disableBookmarks:n,HTMLAttributes:a}=e;if(n){var i;let e=t.attrs.background;return["img",{src:null==(i=e.image)?void 0:i.src,alt:e.image?(0,G.ve)(e.image):void 0,class:"accent-image",fitType:a.fitType}]}let r=t.attrs.background;return["img",{bookmark:r.image?(0,Y.vL)({attrs:r.image}):void 0,class:"accent-image",alt:r.image&&(0,G.ve)(r.image),fitType:a.fitType}]},renderHTML(e){let{HTMLAttributes:t}=e;return["div",(0,l.KV)(t,{class:"card-accent-layout-item"})]}});var sK=n(17275),sQ=n(97255),sZ=n(56603);let sq=new W.hs("cardLayoutResizing");class s${getActiveHandleAbs(e){return this.activeHandle?(0,sZ.d_)(e,this.activeHandle):null}reset(){return this.activeHandle=null,this.side=null,this.dragging=null,this}setHandle(e,t){return null===t.setHandle?(this.activeHandle=null,this.side=null):(this.activeHandle=(0,sZ.JO)(e,t.setHandle.pos),this.side=t.setHandle.side),this}setDragging(e){return this.dragging=e.setDragging,this}apply(e,t){let n=e.getMeta(sq);return n&&"setHandle"in n?this.setHandle(t,n):n&&"setDragging"in n?this.setDragging(n):n&&"reset"in n?this.reset():this}constructor(){this.activeHandle=null,this.dragging=null}}var sJ=n(39078),sY=n(38537);let sX=e=>sq.getState(e.state),s0=(e,t)=>{e.dispatch(e.state.tr.setMeta(sq,{setHandle:t}))},s1=(e,t)=>{e.dispatch(e.state.tr.setMeta(sq,{setDragging:t}))},s2=e=>{e.dispatch(e.state.tr.setMeta(sq,{reset:!0}))},s4=(e,t)=>{if(!e.editable||!t.target||t.target.closest(".column-resize-handle"))return;let n=sX(e);if(n.dragging)return;let a=function(e,t){let n=e.posAtCoords({left:t.clientX,top:t.clientY});if(!n||-1===n.inside)return null;let a=e.domAtPos(n.inside);if(!a)return null;let i=a.node.childNodes[a.offset];if(!i)return null;let r=e.state.doc.resolve(n.inside);if(!r.nodeAfter||!(0,Q.sw)(r.nodeAfter))return null;let o=(0,J.TK)(r,Q.jg)[0];if(!o)return null;let l=o.node.attrs.layout;if(!(0,en.lH)(l).allowResizing)return null;let s="top"===l,{left:d,right:c,bottom:u,top:p}=i.getBoundingClientRect();if(t.clientX-d<=5&&!s){let n=e.posAtCoords({left:t.clientX-10,top:t.clientY});if(!n)return null;let a=e.state.doc.nodeAt(n.inside);return a&&(0,Q.sw)(a)?"cardLayoutItem"===a.type.name?{pos:n.inside,side:"right"}:{pos:r.pos,side:"left"}:null}if(c-t.clientX<=5&&!s){let n=e.posAtCoords({left:t.clientX+10,top:t.clientY});if(!n)return null;let a=e.state.doc.nodeAt(n.inside);return a&&(0,Q.sw)(a)?"cardLayoutItem"===a.type.name?{pos:n.inside,side:"left"}:{pos:r.pos,side:"right"}:null}if(u-t.clientY<=5&&s){let n=e.posAtCoords({left:t.clientX,top:t.clientY+10});if(!n)return null;let a=e.state.doc.nodeAt(n.inside);return a&&(0,Q.sw)(a)&&"cardLayoutItem"===a.type.name?{pos:n.inside,side:"top"}:null}if(t.clientY-p<=5&&s){let n=e.posAtCoords({left:t.clientX,top:t.clientY+10});if(!n)return null;let a=e.state.doc.nodeAt(n.inside);if(!a||!(0,Q.sw)(a)||"cardLayoutItem"!==a.type.name)return null;let i=e.state.doc.resolve(n.inside).parent;return i&&"card"===i.type.name&&"top"===i.attrs.layout?{pos:n.inside,side:"top"}:null}return null}(e,t),i=n.getActiveHandleAbs(e.state),r=n.side;null===i&&null===a||a&&a.side===r&&a.pos===i||s0(e,a)},s5=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"x",a=e.domAtPos(t),i=a.node.childNodes[a.offset];return"x"===n?i.offsetWidth:i.offsetHeight},s6=(e,t)=>{let{node:n,offset:a}=e.domAtPos(t.start()),i=n.childNodes[a];do if(i&&i.classList&&i.classList.contains("node-card"))break;while(i=i.parentNode);return i},s3=(e,t,n)=>{let a=(0,en.lH)(n),i=t.querySelector('[data-node-view-content-inner="card"]');if("top"===n)return s7(e,i,n);let r=e.attrs,o=(null==i?void 0:i.style.gridTemplateColumns)||r.layoutTemplateColumns||a.grid.gridTemplateColumns;if(!o)return null;let l=o.split(" ");if(!l.length)return null;let s=l[0].includes("fr"),d=[];if(s){let e=l.map(e=>+e.replace("fr","")),t=e.reduce((e,t)=>e+t,0);d=e.map(e=>e/t*100)}else d=l.map(e=>+e.replace("%",""));return d},s9={sm:100,md:200,lg:300},s7=(e,t,n)=>{let a=(0,en.lH)(n),i=e.attrs,r=(null==t?void 0:t.style.gridTemplateRows)||i.layoutTemplateRows||a.grid.gridTemplateRows;if(!r)return null;let o=r.split(" ");if(!o.length)return null;let l=o[0],s=l.includes("var"),d=[];if(s){var c;let e=null==(c=l.split("-").at(-1))?void 0:c.slice(0,-1);e&&e in s9||(e="md"),d=[s9[e],0]}else d=o.map(e=>"auto"===e?0:Number.parseInt(e));return d},s8=l.bP.create({name:"cardLayoutItem",group:"cardLayoutItemGroup",content:"(block | cardBlock)+",selectable:!1,draggable:!1,isolating:!0,containerHandle:!0,priority:X.y.CardLayoutItem,addAttributes:()=>({itemId:{default:"body"}}),addNodeView:()=>(0,c.gu)(sU,{update:u.z0}),addCommands:()=>({handleCardAccentDelete:()=>e=>{let{state:t,commands:n}=e;if(!(0,l.BQ)(t.selection))return!1;let{node:a}=t.selection;if(!(0,en.wL)(a))return!1;let i=(0,l.KP)(Q.jg)(t.selection);return!!i&&n.setCardLayout(i.pos,"blank")},selectInsideCardBody:(e,t)=>n=>{let{state:a,tr:i,commands:r}=n,o=a.doc.nodeAt(e);if(!o||!(0,Q.jg)(o))return!1;let l=(0,en.dg)(i,e);if(0===Object.entries(l).length)return r.selectInsideNodeAtPos(e,t);let s=l.body;return!!s&&r.selectInsideNodeAtPos(s.pos,t)},setCardLayout:(e,t,n)=>a=>{let{tr:i,editor:r}=a;return(0,sK.c)(r,i,e,t,n)},removeCardLayout:e=>t=>{let{tr:n,editor:a}=t,i=(0,Q.W0)(a,e);return!!i&&(0,sK.c)(a,n,i.pos,"blank")}}),parseHTML:()=>[{tag:"div[class=card-layout-item]"},{tag:"div[class=body]",context:"card/"}],addProseMirrorPlugins(){return[(0,sS.OX)(this.editor),new W.k_({key:sq,state:{init:()=>new s$,apply:(e,t,n,a)=>t.apply(e,a)},props:{attributes:e=>null!==sq.getState(e).getActiveHandleAbs(e)?{class:"resize-cursor"}:{class:""},handleDOMEvents:{mousemove:(e,t)=>(s4(e,t),!1),mouseleave(e){let t=sX(e);return null===t.getActiveHandleAbs(e.state)||t.dragging||s0(e,null),!1},mousedown:(e,t)=>(!function(e,t){if(!e.editable)return;let n=sX(e),a=n.getActiveHandleAbs(e.state);if(null===a||n.dragging)return;let i=e.state.doc.resolve(a),r=i.node(),o=s6(e,i),l=o.querySelector('[data-node-view-content-inner="card"]');if(!l)return;let s=n.side,d=s&&["top","bottom"].includes(s)?"y":"x",c="x"===d?l.offsetWidth:l.offsetHeight,u=s5(e,a),p=s3(r,o,r.attrs.layout);if(!p)return;s1(e,{startX:t.clientX,startY:t.clientY,dragDirection:s&&["top","bottom"].includes(s)?"y":"x",startSize:u,colWidths:p,totalSize:c,colIndex:0});let h=null;function m(){window.removeEventListener("mouseup",m),window.removeEventListener("mousemove",g);let t=sX(e);if(t.dragging){if(null===h)return void s1(e,null);if(t.dragging)try{(function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"x",i=e.state.doc.resolve(t).before(),r=n.join(" "),o=e.state.tr.setNodeAttribute(i,"x"===a?"layoutTemplateColumns":"layoutTemplateRows",r);e.dispatch(o),function(e,t){let n=e.state.doc.resolve(t),a=s6(e,n).querySelector('[data-node-view-content-inner="card"]');a&&(a.style.gridTemplateColumns="",a.style.gridTemplateRows="")}(e,t)})(e,t.getActiveHandleAbs(e.state),h,t.dragging.dragDirection),s1(e,null)}catch(t){s2(e)}h=null}}function g(t){if(!t.which)return m();let n=sX(e),a=n.getActiveHandleAbs(e.state);if(!n.dragging||null===a)return;let{colWidths:i}=n.dragging,r=i[0],l={left:[10,25,37.5,50,62.5],right:[37.5,50,62.5,75,90],top:Object.values(s9)}[null!=s?s:"left"];if("top"===s){let e=r+(t.clientY-n.dragging.startY),a=l.findIndex((t,n,a)=>n===a.length-1||e<=(a[n+1]+t)/2),i=Object.keys(s9)[a];h=["var(--top-accent-height-".concat(i,")"),"auto"]}else{let e=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,{totalSize:a}=e,i="x"===e.dragDirection?t.clientX-e.startX:t.clientY-e.startY;return oK()(100*i/a/n,0)*n}(n.dragging,t,.1),a=r+e<l[0]?l[0]:r+e>l[l.length-1]?l[l.length-1]:l.find(t=>6.25>=Math.abs(t-r-e));h=(0,sJ.H0)(i,0,a-r,10).map(e=>"".concat(e,"%"))}(function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"x",a=e.querySelector('[data-node-view-content-inner="card"]');a&&(a.style["y"===n?"gridTemplateRows":"gridTemplateColumns"]=t.join(" "))})(o,h,d),(0,sY.i$)(o)}window.addEventListener("mouseup",m),window.addEventListener("mousemove",g),t.preventDefault()}(e,t),!1)},decorations(e){let t=sq.getState(e),n=t.getActiveHandleAbs(e);if(null!==n){let a=[];try{let i=document.createElement("div");i.className="column-resize-handle ".concat(t.side),a.push(sQ.NZ.widget(n+1,i));let r=e.doc.nodeAt(n);return a.push(sQ.NZ.node(n,n+r.nodeSize,{class:"has-column-resize-handle"})),sQ.zF.create(e.doc,a)}catch(e){return console.error("(caught) cardLayoutResizing error: ".concat(e.message)),sQ.zF.empty}}},nodeViews:{}}})]},renderHTML(e){let{HTMLAttributes:t}=e;return["div",(0,l.KV)(t,{class:"card-layout-item"}),0]},renderHTMLforAI(e){let{node:t}=e;return["div",{class:"body"},0]}});var de=n(53103),dt=n(1739),dn=n(2426),da=n(2320),di=n(20887),dr=n(59712);let dl=new W.hs("SlashMenu"),ds=(0,dr.e$)({name:"slashMenu",char:"/",pluginKey:dl,MenuComponent:di.a,priority:X.y.SlashMenu});var dd=n(99923);class dc extends c.Lz{updateProps(e){this.isDestroyed||this.renderer.updateProps(e)}mountEditor(){let e=this.editor,{nodeName:t,preventNodeOrExtensionTypes:n}=this.editorOptions,a=[...gT({isInnerEditor:!0}),ds,dt.mk,ns.bU,aT.Q8,dp.configure({outerEditor:e,getPos:this.getPos}),da.c,dn.bY].filter(e=>!n||!n.includes(e.name)).map(e=>e.name===t?e.extend({topNode:!0}):e);return this.innerEditor=new de.K({extensions:a,content:{type:t,content:this.node.content.toJSON(),attrs:lx()(this.node.attrs)},onBeforeCreate(a){let{editor:i}=a;i.schema.nodes={...e.schema.nodes},null==n||n.forEach(e=>{i.schema.nodes[e]&&delete i.schema.nodes[e]}),i.schema.marks={...e.schema.marks},i.schema.topNodeType=e.schema.nodes[t],i.extensionManager.schema=i.schema}}),this.innerEditor.gammaOrgId=e.gammaOrgId,this.innerEditor.gammaDocId=e.gammaDocId,this.innerEditor.parentEditor=e,this.innerEditor.view.updateState=function(e){if(!this.docView){this.state=e;return}this.updateStateInner(e,this.state.plugins!=e.plugins)},this.innerEditor.view.update=function(e){this.docView&&sQ.Lz.prototype.update.call(this,e)},this.updateProps({innerEditor:this.innerEditor}),this.innerEditor}destroy(){var e;this.isDestroyed=!0,null==(e=this.innerEditor)||e.destroy(),super.destroy()}update(e,t){var n;if(!e.sameMarkup(this.node))return!1;this.node=e;let a=null==(n=this.innerEditor)?void 0:n.view;if(!a)return!0;let i=a.state,r=e.content.findDiffStart(i.doc.content);if(null!=r){let{a:t,b:n}=e.content.findDiffEnd(i.doc.content),o=r-Math.min(t,n);o>0&&(t+=o,n+=o),a.dispatch(i.tr.replace(r,n,e.slice(r,t)).setMeta(dd.k,!0).setMeta("preventAutolink",!0))}return super.update(e,t)}stopEvent(e){return!!this.innerEditor&&this.innerEditor.view.dom.contains(e.target)}ignoreMutation(){return!0}get contentDOM(){return null}constructor(e,t,n){super(e,t,n),this.isDestroyed=!1,this.editorOptions=n,this.updateProps({mountEditor:()=>this.mountEditor(),destroyEditor:()=>{var e,t,n;null==(e=this.innerEditor)||e.destroy(),null==(t=(n=this.editor.commands).forceHideBubbleMenu)||t.call(n,!1),setTimeout(()=>{this.updateProps({innerEditor:void 0})})}})}}function du(e,t){return n=>new dc(e,n,t)}let dp=l.YY.create({name:"innerEditorExtension",addOptions:()=>({outerEditor:null,getPos:null}),addProseMirrorPlugins(){let{outerEditor:e,getPos:t}=this.options;return[new W.k_({appendTransaction:n=>{let a=n[0];if(!a)return null;if(!a.getMeta(dd.k)){let a=e.state.tr,i=d.Lm.offset(t()+1);for(let e=0;e<n.length;e++){let t=n[e].steps;for(let e=0;e<t.length;e++){let n=t[e],r=n.map(i);!r&&n instanceof d.Wg&&0==n.from&&(r=dh(n,i)),r&&a.step(r)}}if(a.setMeta(dd.R,!0).setMeta("preventAutolink",!0),a.docChanged){let t=!e.state.selection.eq(a.selection),n=e.state.selection instanceof W.U3;if(t&&n)try{a.setSelection(W.U3.create(a.doc,a.mapping.map(e.state.selection.from),a.mapping.map(e.state.selection.to)))}catch(e){console.error("[InnerEditorExtension] restore selection error",e)}e.view.dispatch(a)}}return null}})]},addKeyboardShortcuts(){let{outerEditor:e}=this.options;return{"Mod-z":()=>e.commands.undo(),"Mod-y":()=>e.commands.redo()}}}),dh=(e,t)=>{let n=t.mapResult(e.from,1),a=t.mapResult(e.to,-1),i=t.map(e.gapFrom,1),r=t.map(e.gapTo,1);return n.deletedAcross&&a.deletedAcross||i<n.pos||r>a.pos?null:new d.Wg(n.pos,a.pos,i,r,e.slice,e.insert,e.structure)},dm=e=>{let[t,n]=(0,L.useState)(null);return(0,L.useEffect)(()=>{if(!e)return;let t=e=>{let{editor:t}=e;n(t.state.selection)};t({editor:e});let a=rg()(t,200,{leading:!0});return e.on("selectionUpdate",a),()=>{e.off("selectionUpdate",a)}},[e]),{selection:t}},dg=(e,t)=>{try{let n=(0,l.eL)(e.state.doc.resolve(t),Q.jg),a=null==n?void 0:n.node;return null==a?void 0:a.attrs.id}catch(e){return}},dx=e=>{let{decorations:t,editor:n,getPos:a,destroyEditor:i,mountEditor:r}=e,o=(0,K.jL)();dm(n);let{mountEditor:l,activeNoteCardId:s}=(0,K.GV)(oF.rd),d=dg(n,a()),{isNested:c}=(0,eo.tg)(t),u=!c&&(0,oB.I5)(n,a()),p=s===d&&"function"==typeof r&&l===r,h=u&&!p&&!!r&&!c&&!n.isThumbnail;(0,L.useEffect)(()=>{h&&requestAnimationFrame(()=>{o((0,oF.Lz)({activeNoteCardId:d,mountEditor:r,destroyEditor:i}))})},[h,i,o,r,d])};var df=n(67200),db=n(24903);let dv=new W.hs("cardNotesPlugin"),dy=(e,t)=>new W.k_({key:dv,props:{attributes:()=>{let n=t.getState();return(0,oF.Iw)(n)&&!(0,oB.NO)(e)&&(0,ed.nD)(n)&&!e.isStatic?{class:"card-notes-active"}:{class:""}},decorations:n=>{let{doc:a,selection:i}=n,r=t.getState();if(!(0,oF.Iw)(r)||(0,oB.NO)(e)||!(0,ed.nD)(r)||e.isStatic)return;let o=(0,a6.hT)(e.state.doc,i.from);if(o)return sQ.zF.create(a,[sQ.NZ.node(o.pos,o.pos+o.node.nodeSize,{class:"card-notes-active-parent-card"})])}},appendTransaction:(t,n,a)=>{if((0,oB.NO)(e)||e.isThumbnail||e.isStatic)return;let i=a.tr;return((0,db.z)(t,n,a,i,"cardNotes"),dC(t,n,a,i),i.docChanged)?i:null}}),dw=e=>e.map(e=>{let t=0===e.slice.content.size;return e.from!==e.to&&t?{type:"delete",step:e}:e.from!==e.to||t?e.from===e.to||t?null:{type:"replace",step:e}:{type:"insert",step:e}}).filter(e=>!!e),dC=(e,t,n,a)=>{e.forEach(e=>{let i=e.steps.filter(e=>e instanceof d.Ln||e instanceof d.Wg);1!==i.length||(0,df.he)(e)||e.getMeta(dd.R)||e.getMeta("appendedTransaction")||e.getMeta("cardNotesHandled")||e.getMeta("rearrangeCards")||dw(i).filter(e=>"delete"===e.type||"replace"===e.type).forEach(e=>{let{step:i}=e,{from:r,to:o}=i;t.doc.nodesBetween(r,o,(e,i)=>{if("cardNotes"===e.type.name){var o;let s=t.doc.resolve(i),d=(0,l.eL)(s,Q.jg),c=(0,l.xe)(n.doc,e=>(0,Q.jg)(e)&&e.attrs.id===(null==d?void 0:d.node.attrs.id));if(!c[0])return;let u=(0,l.xe)(c[0].node,e=>"cardNotes"===e.type.name);if(u.length>0&&(null==(o=u[0])?void 0:o.node.content.eq(e.content))&&c[0].pos===(null==d?void 0:d.pos))return;let p=(0,a6.hT)(n.doc,r);if(!p)return void console.warn("[preventNotesDelete] parentCard not found");let h=n.doc.resolve(p.pos);if((0,oB.PD)(h)){let t=lD(n.doc,p.pos,!1);if(null===t)return void console.warn("[preventNotesDelete] insertPos not found");a.insert(t,e.content)}else{let t=p.pos+p.node.nodeSize-1;a.insert(t,e)}}})})})},dj=l.bP.create({name:"cardNotes",content:"cardNotesBlock+",selectable:!1,atom:!0,parseHTML:()=>[{tag:"div[class=card-notes]"},{tag:"notes"}],renderHTML(e){let{HTMLAttributes:t}=e;return["div",(0,l.KV)(t,{class:"card-notes"}),0]},renderHTMLforAI:()=>["notes",0],renderText:()=>"",addProseMirrorPlugins(){let e=(0,K.KA)();return[dy(this.editor,e)]},addNodeView(){return this.editor.shouldUsePublishedVersion?(0,c.gu)(()=>null):du(dx,{nodeName:this.name,preventNodeOrExtensionTypes:["dropCursor","smartLayout","doc","document","card","embed","slashMenu","mediaUpload","GammaMention"]})}});var dA=n(97139),dk=n.n(dA);let dS=e=>{let{node:t}=e,n=dk().sanitize(t.attrs.code),a=(0,K.GV)(ed.wC)===r3.w.SLIDE_VIEW;return(0,p.jsx)(m.u,{...e,children:(0,p.jsx)(e6.s,{className:"card-code-item",dangerouslySetInnerHTML:{__html:n},contentEditable:!1,direction:"column",justify:"center",sx:a?dI:void 0,onMouseDown:nC.Fw})})},dI={h:"100vh",overflowY:"auto"},dE=l.bP.create({name:"cardCodeItem",atom:!0,selectable:!1,draggable:!1,addAttributes:()=>({id:(0,lO.e)(lH.z),code:{default:""},aiGenerateStatus:{}}),addNodeView:()=>(0,c.gu)(dS,{update:u.z0}),parseHTML:()=>[{tag:"div[class=custom-code]"},{tag:"custom-code",content:"card/",getAttrs:e=>({code:e.innerHTML})}],renderHTML(e){let{HTMLAttributes:t}=e;return["div",(0,l.KV)(t,{class:"custom-code"})]},renderHTMLforAI(e){let{node:t}=e;return["custom-code",{},t.attrs.code]},addExtensions:()=>[dL]}),dL=ly.S.extend({name:"UniqueCodeCardId"}).configure({attributeName:"id",types:["codeCard"],initialValue:lH.z,filterTransaction:df.kz,pluginKey:new W.hs("UniqueCodeCardId")});var dR=n(5221),dD=n(99745);let dM=e=>(0,p.jsx)(h.a,{bg:"var(--body-color)",opacity:"0.4",borderRadius:"sm",...e});var d_=n(91176),dz=n(31090),dT=n(63902),dN=n(19546),dP=n(63255),dO=n(85732),dH=n(70006);let dF=(0,L.memo)(e=>{let{cardId:t,docId:n,editor:a,cards:i,level:r,showNested:o,isPresentMode:l}=e,s=(0,le.d)({cardId:t,editor:a}),d=(0,K.GV)(eM.Jo),c=(0,L.useCallback)(e=>{(0,dN.T)(a,e,t)},[a,t]),u=(0,dT.oR)(),m=(0,L.useMemo)(()=>{let e=(0,dH.Io)({cardId:t,docId:n,isPresentMode:l});return u?(0,dO.M7)({url:e,doc:d}):e},[t,n,d,l,u]),{listStyle:g,paddingStart:x,marginStart:f}=(0,dP.WI)(r);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(dz.B8,{mb:"0.5em",children:(0,p.jsx)(dz.ck,{listStyleType:g,ps:x,ms:f,children:(0,p.jsx)(h.a,{display:"inline",children:(0,p.jsx)(nf.N,{href:m,className:"link",role:"link",isExternal:!u,noOfLines:1,wordBreak:"break-word",onClick:c,display:"-webkit-inline-box",verticalAlign:"top",children:(null==s?void 0:s.title)||(0,p.jsx)(em.x6,{id:"wja8aL"})})})})}),o&&i.map(e=>(0,p.jsx)(dF,{cardId:e.id,cards:e.children,editor:a,level:r+1,showNested:o,docId:n,isPresentMode:l},e.id))]})});dF.displayName="CardTOCItem";let dB=e=>{let{node:t,editor:n,getPos:a}=e,{nested:i}=t.attrs,r=a(),o=(0,a6.hT)(n.state.doc,r),l=(0,K.GV)(a5.NG),s=(0,K.GV)((0,ed.xO)({cardId:null==o?void 0:o.node.attrs.id,showAll:ec.LD})).filter(e=>{let{id:t}=e;return!(null==l?void 0:l[t])}),d=(0,K.GV)(eM.Jo),c=(0,K.GV)(ed.wC),u=(0,K.GV)(ed.jO),g=c===r3.w.SLIDE_VIEW;return(0,p.jsx)(m.u,{...e,as:"div",children:(0,p.jsxs)(h.a,{cursor:"default",pointerEvents:u?"none":void 0,borderRadius:"var(--box-border-radius)","data-selection-ring":!0,className:"card-toc",children:[0===s.length&&(0,p.jsxs)(n8.F,{colorScheme:"gray",color:"gray.700",fontFamily:"body",fontSize:"1em",py:"0.75em",px:"1em",children:[(0,p.jsx)(ae._,{w:"1em",h:"1em",alignSelf:"center",me:"0.75em"}),(0,p.jsxs)(h.a,{children:[(0,p.jsx)(dR.X,{fontSize:"1em",lineHeight:"1.5em",children:(0,p.jsx)(em.x6,{id:"519v/x"})}),(0,p.jsx)(dD.T,{fontSize:"0.75em",lineHeight:"1.5em",children:(0,p.jsx)(em.x6,{id:"HmhQ3B"})})]})]}),s.map(e=>(0,p.jsx)(dF,{cardId:e.id,cards:e.children,editor:n,level:0,showNested:i,docId:(null==d?void 0:d.id)||"",isPresentMode:g},e.id))]})})},dV=e=>(0,p.jsx)(d_.V,{children:(0,p.jsxs)(eu.T,{spacing:"0.5em",align:"start",children:[(0,p.jsx)(dM,{h:"1em",w:"14em",bg:"var(--link-color)"}),(0,p.jsx)(dM,{h:"1em",w:"14em",bg:"var(--link-color)"}),(0,p.jsx)(dM,{h:"1em",w:"14em",bg:"var(--link-color)"}),(0,p.jsx)(dM,{h:"1em",w:"14em",bg:"var(--link-color)"})]})}),dW=l.bP.create({name:"tableOfContents",group:"block",atom:!0,selectable:!0,dynamic:!0,addAttributes:()=>({nested:{default:!1}}),parseHTML:()=>[{tag:"div[class=toc]"}],renderHTML(e){let{HTMLAttributes:t}=e;return["div",(0,l.KV)(t,{class:"toc"})]},addNodeView(){return this.editor.isThumbnail?(0,c.gu)(dV,{update:u.z0}):(0,c.gu)(dB,{update:u.z0})}});var dU=n(58495),dG=n(29421),dK=n(54992),dQ=n(85542),dZ=n(28620),dq=n(81498),d$=n(44646);let dJ={serialize(e){let{omitIds:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=["colgroup",{}],a=["tbody",{}],i=["table",{},n,a];return e.rows.forEach((i,r)=>{let o=["tr",{}];t||(o[1].id=i.id),a.push(o),e.columns.forEach(a=>{if(0===r){let{type:e,label:i,format:r,id:o,fixedType:l}=a,s=["col",{type:e,label:i,format:r,"fixed-type":l}];t||(s[1].id=o),n.push(s)}let l=e.getCell({column:a.id,row:i.id});o.push(["td",{type:l.type},["value",{},l.textValue]])})}),i},parse(e){let t=[],n=[],a=[];for(let i of e.children)switch(i.tagName){case"COLGROUP":t=[...i.children].filter(e=>"COL"===e.nodeName).map(e=>{var t;return new dZ.n({id:e.getAttribute("id")||void 0,type:e.getAttribute("type")||"label",label:e.getAttribute("label")||"",format:e.getAttribute("format")||"raw",fixedType:(null==(t=e.getAttribute("fixed-type"))?void 0:t.toLowerCase())==="true"})});break;case"TBODY":if(!t.length)throw Error("No columns defined before tbody");n=[...i.children].filter(e=>"TR"===e.nodeName).map(e=>{let n=new d$.N({id:e.getAttribute("id")||void 0});return!function(e,n){[...e.children].filter(e=>"TD"===e.nodeName).forEach((e,i)=>{let r=e.getElementsByTagName("value").item(0),o=t[i],l={row:n,column:o},s="data"===o.type?new dK.T(l):new dQ.l(l);s.textValue=(null==r?void 0:r.textContent)?r.textContent:"",a.push(s)})}(e,n),n})}return new dq.h({columns:t,rows:n,cells:a})}};var dY=n(8995),dX=n(14974),d0=n(26658),d1=n(23275),d2=n(36091);function d4(e){for(let t of e.columns)if(!t.isEmpty(e)&&"data"===t.type)return t;return null}function d5(e){for(let t of e.columns)if(!t.isEmpty(e)&&"label"===t.type)return t;return null}var d6=n(94297),d3=n(12180),d9=n(21959),d7=n(75906);let d8=e=>{let{direction:t="vertical",definition:n,textValue:a,x:i,y:r,width:o,height:l,bounds:s,offset:d={x:0,y:0},onPositionChange:c,invertColorOfInsideText:u}=e,h=(()=>{if(!n)return!1;let e=n.getDimensions(a),c=e.width+d.x,u=e.height+d.y;return"vertical"===t?n.inside?(n.rotate?c:u)+n.margin<l:r-(n.rotate?c:u)-n.margin<=0:n.inside?c+n.margin<o:i+c+n.margin+o>=s.width})(),m=(0,L.useMemo)(()=>({x:"vertical"===t?i+o/2+d.x:i+o+(n.margin+d.x)*(h?-1:1),y:"vertical"===t?r+(d.y+n.margin)*(h?1:-1):r+l/2+d.y}),[i,o,d.x,r,l,d.y,h,t,n.margin]);return((0,L.useEffect)(()=>{null==c||c(m)},[m]),n.hide)?null:(0,p.jsx)(d7.A,{pointerEvents:"none",...m,textAnchor:n.rotate?h?"end":"start":"vertical"===t?"middle":h?"end":"start",verticalAnchor:"vertical"===t?n.rotate?"middle":h?"start":"end":"middle",style:{...n.textStyles,userSelect:"none",filter:h&&u?"invert(1)":void 0},angle:270*!!n.rotate,children:a})};var ce=n(96784),ct=n(19034),cn=n(66490),ca=n(1860),ci=n(75415),cr=n(88678),co=n(50998),cl=n.n(co),cs=n(63674);let cd={top:8,bottom:2,right:1,left:4},cc=e=>{let{color:t,labelCells:n,dataCells:a,height:i,children:r,textColor:o,tickColor:l,tiny:s=!1,width:d,fontFamily:c="var(--body-font)",fontSize:u="var(--chakra-fontSizes-sm)",fontWeight:h="var(--body-font-weight)",margin:m=d3.PH,direction:g="vertical",hideLabels:x=!1,padding:f=0,labelPadding:b=.3,pullToZero:v=!0,onMouseMove:y,onMouseLeave:w,onMouseMoveInside:C,onMouseLeaveInside:j}=e,A=s?2:14,k=s?{top:1,right:0,bottom:2,left:0}:cd,S=s?{top:0,right:0,bottom:0,left:0}:m,I=!!s||x;s&&(u="2px",f=0);let E=s?.5:2,R=s?1:6,D=a.map(e=>e.data),M=a.reduce((e,t)=>{if("mixed"===e)return e;let n=t.getFormatter().type;return""===e||e===n?n:"mixed"},""),_=Math.max(...D),z=Math.min(...D),T=n.length?n:a.map(e=>({position:{row:e.position.row},textValue:""})),N=(0,L.useMemo)(()=>{let e="percentage"===M&&_<=100?100:null;return function(e,t,n,a){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;if(null!==i&&t>i&&(console.error("`capAt` MUST be larger than `max`",{capAt:i,max:t}),i=null),!a){let n=(0,ca.A)({range:[0,1],domain:[e,Math.max(t,0)]}).ticks();a=n.length<2?1:Math.abs(n[1]-n[0])}let r=(0,cs.yw)(Math.max(t,0),a,1),o=(0,cs.yw)(e,a,-1),l=(0,cs.yw)((r-o)/(n-1),a,1);l&&l!==a&&(o=(0,cs.yw)(o,l,-1));let s=[o];for(;s[s.length-1]<r&&(s.push(o+s.length*l),!(s.length>2*n)););return null!==i&&s[s.length-1]>=i?Array.from({length:n+1}).map((e,t)=>(o+(r-o)/n)*t):s}(v?Math.min(z,0):z,_,4,void 0,e)},[z,_,v,M]),P=a[0].format.bind(a[0]),O="vertical"===g?N.map(e=>a[0].format(e)):T.map(e=>cl()(e.textValue,{length:25,separator:" "})),H=(0,cs.Vr)(O,{fontFamily:c,fontSize:u,fontWeight:h}),F=I?0:H.maxWidth,B={top:S.top+k.top,right:S.right+k.right,bottom:S.bottom+E+(I?0:R+k.bottom),left:S.left+F+E+(I?0:R+k.left)},V=("vertical"===g?T:a).map(e=>{let{textValue:t}=e;return cl()(t,{length:25,separator:" "})}),{bottomTickValues:W,bottomLabels:U,rotateLabels:G,labelsHeight:K,splitIx:Q}=cu({em:A,textStyles:{fontFamily:c,fontSize:u,fontWeight:h},hideLabels:I,padding:f,height:i,width:d,margin:B,labelCells:T,labelStrings:V}),Z=i-B.top-B.bottom-K,q="horizontal"===g&&Z/O.length<A?(B.left-=F,[]):T.map(e=>{let{position:{row:t}}=e;return t}),$=d-B.left-B.right,J=T.map(e=>"".concat(e.position.row,":").concat(e.textValue)).join(","),{labelScale:Y,labelIndex:X}=(0,L.useMemo)(()=>({labelScale:(0,dX.A)({range:"vertical"===g?[0,$]:[0,Z],domain:T.map(e=>e.position.row),paddingInner:b,paddingOuter:.3}),labelIndex:Object.fromEntries(T.map(e=>[e.position.row,e]))}),[$,g,Z,J,b]),ee=(0,L.useMemo)(()=>{let e=N[0],t=N[N.length-1];return(0,ca.A)({range:"horizontal"===g?[z<0?f:0,$]:[Z-(z<0?f:0),E+f],round:!0,domain:[e,t]})},[N,Z,z,$,g,f,E]),et=(()=>{if(!C&&!j)return null;let e=e=>t=>{e(t,function(e,t){var n;let a=null!=(n=(0,cn.A)(e))?n:{x:e.clientX,y:e.clientY};return{svgCoords:a,axisCoords:{x:a.x-t.left,y:a.y-t.top}}}(t,B))};return{move:C&&e(C),leave:j&&e(j)}})();return(0,p.jsxs)("svg",{width:"100%",viewBox:"0 0 ".concat(d," ").concat(i),height:"100%",preserveAspectRatio:"none",overflow:"visible",onMouseMove:y,onMouseLeave:w,children:[N.map((e,n)=>"vertical"===g?(0,p.jsx)(ci.A,{from:{x:B.left,y:ee(e)+B.top},to:{x:d,y:ee(e)+B.top},stroke:t,opacity:0===e?.5:.2},n):(0,p.jsx)(ci.A,{from:{x:B.left+ee(e),y:B.top},to:{x:B.left+ee(e),y:Z},stroke:t,opacity:0===e?.5:.2},n)),et&&(0,p.jsx)(d0.A,{fill:"transparent",opacity:.2,x:B.left,y:B.top,height:Z,width:$,onMouseMove:et.move,onMouseLeave:et.leave}),r({labelScale:Y,dataScale:ee,yMax:Z,xMax:$,margin:{...B}}),(0,p.jsx)(dY.A,{children:"vertical"===g?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(ce.A,{top:B.top,left:B.left,scale:ee,stroke:t,rangePadding:z<0?-1*f:0,strokeWidth:E,tickValues:I?[]:N,tickFormat:P,tickLength:R,tickStroke:l||t,tickLabelProps:()=>({fill:o||t,textAnchor:"end",fontFamily:c,fontSize:u,fontWeight:h,dy:"0.33em",dx:s?0:-4,userSelect:"none"})}),(0,p.jsx)(ct.A,{top:Z+B.top,left:B.left,scale:Y,stroke:t,tickValues:W,tickFormat:(e,t)=>U[t],tickStroke:l||t,tickLabelProps:(e,n)=>({fill:o||t,fontFamily:c,fontSize:u,fontWeight:h,userSelect:"none",dy:4*!s,i:n}),strokeWidth:E,tickLength:R,tickComponent:e=>{let{x:t,y:n,i:a,dy:i,formattedValue:r,...o}=e;return(0,p.jsx)("g",{alignmentBaseline:"middle",...o,children:G||!Q[a]?(0,p.jsx)("text",{x:t,y:n,dy:i,transform:G?"rotate(-45, ".concat(t,", 0)"):"",textAnchor:G?"end":"middle",children:r}):(r||"").split(" ").map((e,r)=>(0,p.jsx)("text",{x:t,y:n+A*r,dy:i,textAnchor:"middle",children:e},"".concat(a,":").concat(r)))})}})]}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(ce.A,{top:B.top,left:B.left,scale:Y,stroke:t,strokeWidth:E,tickLength:R,tickValues:I?[]:q,tickFormat:e=>cl()(X[e].textValue,{length:25,separator:" "}),tickStroke:l||t,tickLabelProps:()=>({fill:o||t,textAnchor:"end",fontFamily:c,fontSize:u,fontWeight:h,dy:"0.33em",dx:s?0:-4,userSelect:"none"})}),(0,p.jsx)(ct.A,{top:Z+B.top,left:B.left,scale:ee,stroke:t,rangePadding:z<0?f:0,tickValues:I?[]:N,tickFormat:P,tickLength:R,tickStroke:l||t,tickLabelProps:(e,n)=>({fill:o||t,textAnchor:0===n?"end":"middle",fontFamily:c,fontSize:u,fontWeight:h,userSelect:"none",dy:4*!s}),strokeWidth:E})]})})]})},cu=e=>{let{em:t,textStyles:n,hideLabels:a,padding:i,height:r,width:o,margin:l,labelStrings:s,labelCells:d}=e,c=s.join(","),u=(o-l.left-l.right)/s.length,{fontFamily:p,fontSize:h,fontWeight:m}=n;return(0,L.useMemo)(()=>{let e=[...s],o={bottomTickValues:[],rotateLabels:!1,labelsHeight:0,splitIx:[],sliceWidth:u,bottomLabels:[]};if(a||u<=t+3)return o;let{widths:c,maxWidth:p}=(0,cs.Vr)(s,n),h=!1,m=t,g=d.map(e=>{let{position:{row:t}}=e;return t}),x=s.map((e,a)=>{if(h||c[a]<u-i)return!1;let{widths:r,maxWidth:o}=(0,cs.Vr)(e.split(" "),n);if(o>u-i)return h=!0,!0;let l=r.length*t;return l>m&&(m=l),!0});if(!h)return{bottomTickValues:g,rotateLabels:h,labelsHeight:m,splitIx:x,sliceWidth:u,bottomLabels:e};let f=e=>Math.cos(Math.PI/4)*e-(t+7);m=Math.sin(Math.PI/4)*p;let b=f(p);if(b>.3*r)return o;let v=e=>l.left+u*e+u/2;for(let t=0;t<s.length;t++){let a=v(t);if(a>b)break;if(f(c[t])>a){let i=(0,cs.jp)(s[t],e=>{let t=(0,cr.A)(e,n);if(null===t)return -1;let i=f(t);return i<a-10?1:i>a?-1:0});if(!i)return console.log("could not truncate"),o;e[t]=i}}return{bottomTickValues:g,bottomLabels:e,rotateLabels:h,labelsHeight:m,splitIx:x,sliceWidth:u}},[t,r,c,p,h,m,a,i,u])};var cp=n(77850);let ch=e=>{let{data:t,render:n,getColor:a,getOpacity:i,onMouseOver:r,onMouseLeave:o,onClick:l,onDoubleClick:s,textColor:d,position:c="bottom",width:u}=e,m=(0,L.useRef)(null),[g,x]=(0,L.useState)(0),[f,b]=(0,L.useState)(!1),v=["top","bottom"].includes(c)?{width:"100%",display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(".concat(g,"em, 1fr))"),justifyItems:f?"flex-start":"center",alignSelf:"stretch","& > div:first-child":{justifySelf:f?void 0:"flex-end"},"& > div:last-child":{justifySelf:f?void 0:"flex-start"}}:{height:"100%",flexDir:"column"},y=t.map(e=>n(e)).join("|");return(0,L.useEffect)(()=>{let e=0;if(!m.current)return;let t=(0,cs.us)(m.current);for(let t of m.current.querySelectorAll(":scope > div")){var n;t.style.width="min-content";let a=(null==(n=t.getClientRects()[0])?void 0:n.width)||0;t.style.width="",a>e&&(e=a)}x(parseFloat((e/t).toFixed(2)))},[y]),(0,L.useEffect)(()=>{b(!!m.current&&function(e){var t;let n=e.children;if(!n.length)return!1;let a=null==(t=n.item(0))?void 0:t.offsetTop;for(let e of n)if(e.offsetTop!==a)return!0;return!1}(m.current))},[u,g]),(0,p.jsx)(e6.s,{ref:m,sx:v,flexGrow:0,flexShrink:1,flexWrap:"wrap",alignContent:["left","top"].includes(c)?"flex-end":"flex-start",justifyContent:"center",gap:5,children:t.map((e,t)=>(0,p.jsxs)(k.z,{flexGrow:0,flexShrink:1,opacity:i?i(e,t):1,cursor:"pointer",onMouseOver:null==r?void 0:r(e,t),onMouseLeave:null==o?void 0:o(e,t),onClick:null==l?void 0:l(e,t),onDoubleClick:null==s?void 0:s(e,t),transition:"opacity ".concat(d3.UG,"s"),minW:"min-content",gap:2,alignItems:"flex-start",children:[(0,p.jsx)(h.a,{flex:"0 0 auto",as:cp.P.div,width:"1em",height:"1em",flexShrink:0,bg:a(e,t),borderRadius:"sm",animate:{backgroundColor:a(e,t)},children:" "}),(0,p.jsx)(S.E,{flex:"0 1 auto",fontSize:"1em",lineHeight:"1em",color:d,textAlign:"left",children:cl()(n(e),{length:30})})]},t))})};function cm(){let e=(0,L.useRef)(null);return(0,L.useEffect)(()=>()=>{e.current&&(clearTimeout(e.current),e.current=null)},[]),{clickHandler:t=>n=>{e.current||(e.current=setTimeout(()=>{e.current=null,t(n)},200))},doubleClickHandler:t=>n=>{e.current&&(clearTimeout(e.current),e.current=null),t(n)}}}let cg=e=>{let{showInlineLabels:t,dataCells:n,scale:a,textStyles:i,direction:r,labelMargin:o=5}=e,l=n.flatMap(e=>e.map(e=>e.textValue)),s=l.join("|"),d=a.bandwidth();return(0,L.useMemo)(()=>{if(!t)return;let e=n[0].length>1?(0,dX.A)({range:[0,d],domain:n[0].map(e=>e.textValue),paddingInner:.2}):a,s=(0,cs.Vr)(l,i),c="vertical"===r&&s.maxWidth+o>=e.bandwidth(),u="vertical"===r?c&&s.maxHeight+o>=e.bandwidth():s.maxHeight+o>=e.bandwidth(),p=Object.fromEntries(l.map((e,t)=>[e,t]));return{margin:o,rotate:c,hide:u,textStyles:i,getDimensions:e=>{let t=p[e];return{width:void 0===t?0:s.widths[t],height:void 0===t?0:s.heights[t]}},inside:!1}},[t,i,s,r,d,o])};var cx=n(8527),cf=n(2241),cb=n(25927),cv=n(41226);let cy=e=>{let{TooltipInner:t}=e,{showTooltip:n,tooltipOpen:a,tooltipLeft:i,tooltipTop:r,tooltipData:o,hideTooltip:l}=(0,cb.A)(),s={minW:"5rem",textAlign:"left",pointerEvents:"none",...(0,cx.V)("Tooltip")},d=(0,L.useRef)();return(0,L.useEffect)(()=>()=>{d.current&&clearTimeout(d.current)},[]),{mouseMoveHandler:(e,t)=>a=>{d.current&&clearTimeout(d.current);let i=t?t(e,a):(0,cs.OP)(a);n({tooltipData:{...e,position:e.position},tooltipTop:null==i?void 0:i.y,tooltipLeft:null==i?void 0:i.x})},mouseLeaveHandler:e=>e=>{d.current=window.setTimeout(()=>{l()},300)},renderTooltip:function(){return a&&o?(0,p.jsx)(cw,{style:{},top:r,left:i,sx:{...s,top:void 0,left:void 0,userSelect:"none",pointerEvents:"none"},position:"absolute",contentEditable:!1,suppressContentEditableWarning:!0,children:(0,p.jsx)(t,{...o})},Math.random()):null}}},cw=(0,cf.B)(cv.A,{shouldForwardProp:e=>["top","left","style","children"].includes(e)});var cC=n(68397);let cj=e=>{let{dispatch:t}=(0,L.useContext)(cC.uR),n=e.filter(e=>e instanceof dZ.n).map(e=>e.id),a=n.join(",");(0,L.useEffect)(()=>(t({type:"reportActiveColumnIds",payload:n}),()=>{t({type:"reportActiveColumnIds",payload:void 0})}),[a,t])},cA=function(){let{textColor:e="var(--body-color)",fontFamily:t="var(--body-font)",fontSize:n="var(--chakra-fontSizes-sm)",fontWeight:a="var(--body-font-weight)"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,L.useMemo)(()=>({fontFamily:t,fontSize:n,fontWeight:a,fill:e}),[e,t,n,a])},ck=e=>{let{showZero:t,data:n,dataColumns:a,animationDuration:i,barColors:r,textColor:o,direction:l,selectCell:s,tooltipEnter:d,tooltipLeave:c,dataScale:u,labelScale:h,yMax:m,xMax:g,margin:x,minValueGreaterThanZero:f,onDataClick:b,onDataDoubleClick:v,isThumbnail:y,focusedPosition:w,setFocusedPosition:C,showInlineLabels:j}=e,A=(0,d9.wQ)(a,"id"),k=cA({textColor:o}),S=n.rows.map(e=>e.getCells(n).filter(e=>!!A.get(e.position.column))),I=cg({dataCells:S,textStyles:k,scale:h,direction:l,showInlineLabels:j});return(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(dY.A,{top:x.top,left:x.left,children:n.rows.map((e,n)=>{let a="group-".concat(e.id);return(0,p.jsx)(cI,{animationDuration:i,barColors:r,data:S[n],showZero:t,yMax:m,xMax:g,dataScale:u,inlineLabels:I,labelScale:h,selectCell:s,direction:l,globalMinValueGreaterThanZero:f,tooltipEnter:d,tooltipLeave:c,onDataClick:b,onDataDoubleClick:v,borderRadius:y?1:5,focusedPosition:w,setFocusedPosition:C},a)})})})},cS=e=>{var t,n;let{TooltipInner:a,showZero:i=!0,data:r,textColor:o,accentColor:l,animationDuration:s=d3.UG,isThumbnail:d=!1,width:c,height:u,chartType:m,colorScheme:g=d3.gb,hideLabels:x,showInlineLabels:f,onDataClick:b,onDataDoubleClick:v,backgroundColor:y,chartOptions:w,onContextMenu:C}=e,j="horizontal-bar"===m?"horizontal":"vertical",{renderTooltip:A,mouseMoveHandler:k,mouseLeaveHandler:S}=cy({TooltipInner:a}),[I,E]=(0,L.useState)(null),R=d5(r),D=(null==R?void 0:R.getCells(r))||[],M=r.columns.filter(e=>{let{type:t}=e;return"data"===t}),_=M.map(e=>e.getCells(r)).flat(),z=M.length>1&&!x,T=Math.min(..._.map(e=>e.data).filter(e=>e>0)),N=M.map(e=>{let{id:t}=e;return t}),P=(0,d6.M)(l,N.length>1?N:[...new Set(_.map(e=>e.position.row))],g,{contrastColor:y}),O=(0,cs.jt)(d),H=null!=(t=w["vertical"===j?"bar":"horizontal-bar"])?t:{};return cj([R,...M]),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(h.a,{"data-test":"bar-chart-container",height:z?"calc(100% - ".concat(3,"em)"):"100%",cursor:"default",userSelect:"none",contentEditable:!1,onContextMenu:C,children:[(0,p.jsx)(cc,{width:c,height:z?u-3*O:u,labelCells:D,dataCells:_,color:o,textColor:o,tiny:d,direction:j,hideLabels:x,pullToZero:null==(n=H.axisPullToZero)||n,children:e=>(0,p.jsx)(ck,{showZero:i,barColors:P,data:r,textColor:o,dataColumns:M,animationDuration:s,direction:j,tooltipEnter:k,tooltipLeave:S,minValueGreaterThanZero:T,onDataClick:b,onDataDoubleClick:v,isThumbnail:d,focusedPosition:I,setFocusedPosition:E,showInlineLabels:f,...e})}),z&&(0,p.jsx)(ch,{width:c,data:M,render:e=>e.label,getColor:e=>P.get(e.id),textColor:o,onMouseOver:e=>()=>E({row:"_",column:e.id}),onMouseLeave:()=>()=>E(null)})]}),A()]})},cI=e=>{var t;let{animationDuration:n,barColors:a,data:i,showZero:r,yMax:o,xMax:l,dataScale:s,inlineLabels:d,labelScale:c,direction:u,globalMinValueGreaterThanZero:h,tooltipEnter:m,tooltipLeave:g,onDataClick:x,onDataDoubleClick:f,borderRadius:b,focusedPosition:v,setFocusedPosition:y}=e,{clickHandler:w,doubleClickHandler:C}=cm(),j=c.bandwidth(),A=c(null==(t=i[0])?void 0:t.position.row)||0,k=(0,L.useMemo)(()=>{let e=i.map(e=>e.position.column);return(0,dX.A)({range:[A,A+j],domain:e,paddingInner:.2*(e.length>1)})},[j,i,A]),S=r?s(h):0,I=e=>{let t=m(e);return n=>{t(n),y(e.position)}},E=e=>{let t=g(e);return e=>{t(e),y(null)}},R=e=>null!==v&&(i.length>1?v.column!==e.position.column:v.row!==e.position.row);return(0,p.jsx)(dY.A,{children:i.map(e=>{let t={dataScale:s,value:e,innerScale:k,yMax:o,xMax:l,scaledMinValueGreaterThanZero:S,showZero:r},{x:c,y:h,width:m,height:g,roundedCorners:v}="vertical"===u?function(e){var t,n;let{dataScale:a,value:i,innerScale:r,showZero:o,scaledMinValueGreaterThanZero:l}=e,s=Math.min(a.range()[0],a(0)),d=s-(null!=(t=a(i.data))?t:0),c=d,u=null!=(n=r(i.position.column))?n:0,p=s-c,h=r.bandwidth(),m={topLeft:!0,topRight:!0,bottomLeft:!1,bottomRight:!1};return o&&Math.abs(s-l)>12&&6>Math.abs(d)&&(c=6,a.domain()[0]<0?(p-=3,m.bottomLeft=!0,m.bottomRight=!0):p-=6),c<0&&(p+=c,m.topLeft=!1,m.topRight=!1,m.bottomLeft=!0,m.bottomRight=!0),{x:u,y:p,height:Math.abs(c),width:h,roundedCorners:m}}(t):function(e){let{dataScale:t,value:n,innerScale:a,showZero:i,scaledMinValueGreaterThanZero:r}=e,o=Math.max(t.range()[0],t(0)),l=o,s=a(n.position.column),d=t(n.data)-o,c=a.bandwidth(),u=d,p={topLeft:!1,topRight:!0,bottomLeft:!1,bottomRight:!0};return i&&r>12&&6>Math.abs(d)&&(u=6,t.domain()[0]<0&&(l-=3,p.bottomLeft=!0,p.topLeft=!0)),u<0&&(l+=u,p.bottomLeft=!0,p.bottomRight=!1,p.topLeft=!0,p.topRight=!1),{x:l,y:s,height:c,width:Math.abs(u),roundedCorners:p}}(t);return(0,p.jsx)(cE,{yMax:o,xMax:l,x:c,y:h,direction:u,width:m,height:g,radius:b,topLeft:v.topLeft,topRight:v.topRight,bottomRight:v.bottomRight,bottomLeft:v.bottomLeft,fill:a.get(i.length>1?e.position.column:e.position.row),label:d?{...d,label:e.textValue}:void 0,opacity:R(e)?.5:1,duration:n,onMouseLeave:E(e),onMouseMove:I(e),onClick:x?w(x.bind(void 0,e)):void 0,onDoubleClick:f?C(f.bind(void 0,e)):void 0,style:{cursor:"pointer",transition:"opacity .25s"}},e.key)})})},cE=e=>{let{duration:t=0,y:n,x:a,height:i,width:r,yMax:o,xMax:l,innerRef:s,direction:d,label:c,opacity:u,style:h,...m}=e,[g,x]=(0,L.useState)(0),[f,b]=(0,L.useState)(r),[v,y]=(0,L.useState)(n+i),[w,C]=(0,L.useState)(a);return(0,L.useEffect)(()=>{(0,d2.i)(g,i,{duration:t,onUpdate:e=>x(e)})},[i]),(0,L.useEffect)(()=>{(0,d2.i)(f,r,{duration:t,onUpdate:e=>b(e)})},[r]),(0,L.useEffect)(()=>{(0,d2.i)(w,a,{duration:t,onUpdate:e=>C(e)})},[a]),(0,L.useEffect)(()=>{(0,d2.i)(v,n,{duration:t,onUpdate:e=>y(e)})},[n]),(0,p.jsxs)(dY.A,{children:[(0,p.jsx)(d0.A,{height:"vertical"===d?Math.max(0,o):g,width:"horizontal"===d?Math.max(0,l):f,x:"vertical"===d?w:0,y:"vertical"===d?0:v,...m,onClick:void 0,onDoubleClick:void 0,style:void 0,opacity:0}),(0,p.jsxs)("g",{opacity:u,style:h,children:[(0,p.jsx)(d1.A,{height:g,width:f,x:w,y:v,innerRef:s,...m}),c&&(0,p.jsx)(d8,{direction:d,textValue:c.label,definition:c,width:f,height:g,x:w,y:v,invertColorOfInsideText:!0,bounds:{x:0,y:0,width:l,height:o}})]})]})};var cL=n(46979),cR=n(51600);let cD=e=>{var t,n;let{data:a,TooltipInner:i,isThumbnail:r=!1,width:o,height:l,accentColor:s,textColor:d,colorScheme:c=d3.gb,hideLabels:u,backgroundColor:m,chartOptions:g,onContextMenu:x,...f}=e,{renderTooltip:b,mouseMoveHandler:v,mouseLeaveHandler:y}=cy({TooltipInner:i}),[w,C]=(0,L.useState)(null),[j,A]=(0,L.useState)(null),k=d5(a),S=(null==k?void 0:k.getCells(a))||[],I=a.columns.filter(e=>{let{type:t}=e;return"data"===t}),E=I.map(e=>e.getCells(a)).flat(),R=I.map(e=>{let{id:t}=e;return t}),D=(0,d6.M)(s,R,c,{contrastColor:m}),M=(0,cs.jt)(r),_=I.length>1&&!u,z=_?l-3*M:l;return cj([k,...I]),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(h.a,{"data-test":"line-chart-container",height:_?"calc(100% - ".concat(3,"em)"):"100%",cursor:"default",contentEditable:!1,suppressContentEditableWarning:!0,userSelect:"none",onContextMenu:x,children:[(0,p.jsx)(cc,{width:o,height:z,color:d,textColor:d,tiny:r,labelCells:S,dataCells:E,hideLabels:u,labelPadding:0,pullToZero:null==(n=null==(t=g.line)?void 0:t.axisPullToZero)||n,onMouseMoveInside:r?void 0:(e,t)=>C(t.axisCoords),onMouseLeaveInside:r?void 0:()=>C(null),children:e=>(0,p.jsx)(cM,{data:a,dataColumns:I,width:o,height:z,isThumbnail:r,getColor:D.get.bind(D),textColor:d,tooltipEnter:v,tooltipLeave:y,hoverPosition:w,highlightedColumn:j,chartOptions:g,...f,...e})}),_&&(0,p.jsx)(ch,{width:o,data:I,getColor:e=>D.get(e.id),textColor:d,render:e=>e.label,onMouseOver:e=>()=>A(e.id),onMouseLeave:()=>()=>A(null)})]}),b()]})},cM=e=>{var t,n;let{labelScale:a,dataScale:i,data:r,dataColumns:o,isThumbnail:l,getColor:s,margin:d,tooltipEnter:c,tooltipLeave:u,chartOptions:{line:h={}},onDataClick:m,onDataDoubleClick:g,animationDuration:x=d3.UG,textColor:f,hoverPosition:b,highlightedColumn:v,showInlineLabels:y}=e,[w,C]=i.range(),[j,A]=(0,L.useState)(null),[k,S]=(0,L.useState)(null),I=cA({textColor:f}),E=(0,d9.wQ)(o,"id"),R=cg({dataCells:r.rows.map(e=>e.getCells(r).filter(e=>!!E.get(e.position.column))),textStyles:I,scale:a,direction:"vertical",showInlineLabels:1===o.length&&y,labelMargin:-2}),D=e=>{let{data:t,position:{row:n}}=e;return{x:a(n)+a.bandwidth()/2,y:i(t)}},M=e=>{let t=c(e),n=D(e);return a=>{t(a),A(n),S(e.position.row)}},_=e=>{let t=u(e);return e=>{t(e),A(null),S(null)}};return(0,p.jsxs)(dY.A,{left:d.left,top:d.top,children:[(0,p.jsx)("line",{y1:C,y2:w,x1:0,x2:0,strokeWidth:1,stroke:f,transform:"translate(".concat(null!=(n=null!=(t=null==j?void 0:j.x)?t:null==b?void 0:b.x)?n:0,", 0)"),style:{opacity:"".concat(b||j?.8:0),pointerEvents:"none",transition:"opacity ".concat(x,"s, transform ").concat(.15*!!j,"s")}}),o[0].getCells(r).map(e=>(0,p.jsx)(d0.A,{opacity:0,height:w,width:a.bandwidth(),x:a(e.position.row),y:C,onMouseMove:M(e),onMouseLeave:_(e)},"p-".concat(e.key))),o.map(e=>{let t=e.getCells(r);return(0,p.jsx)(c_,{cells:t,isThumbnail:l,color:s(e.id),xScale:a,yScale:i,onDataClick:m,onDataDoubleClick:g,lineOptions:h,animationDuration:x,onMouseMove:M,onMouseLeave:_,highlightedRow:k,highlightedColumn:v,inlineLabels:R,height:w},e.id)})]})},c_=e=>{var t;let{cells:n,color:a,xScale:i,yScale:r,onDataClick:o,onDataDoubleClick:l,onMouseMove:s,onMouseLeave:d,lineOptions:c={},animationDuration:u,isThumbnail:h,highlightedRow:m,highlightedColumn:g,inlineLabels:x,height:f}=e,{clickHandler:b,doubleClickHandler:v}=cm(),y=i.bandwidth(),[w,C]=(0,L.useState)({}),j=cz(n,r,u),A=e=>i(e.position.row)||0,k=e=>(!!m||!!g)&&(g?g!==e.position.column:m!==e.position.row);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(cR.A,{data:n,x:e=>A(e)+y/2,y:j,stroke:a,strokeWidth:2,style:{pointerEvents:"none",transition:"opacity ".concat(u,"s")},opacity:(t=n[0],(m||g)&&(g?g!==t.position.column:!!m))?.3:1}),!h&&n.map(e=>{let t=w[e.key],n=A(e)+i.bandwidth()/2,r=j(e);return(0,p.jsxs)("g",{style:{transition:"opacity ".concat(u,"s")},opacity:c.hideMarkers?0:k(e)?.3:1,children:[x&&!x.hide&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(d8,{textValue:e.textValue,definition:x,width:y,height:f,x:A(e),y:j(e),offset:{y:Math.min(.1*f,50),x:0},onPositionChange:t=>{C(n=>({...n,[e.key]:t}))}}),t&&(0,p.jsx)("line",{x1:n,y1:r,x2:t.x,y2:t.y+5*(t.y>r?-1:1),stroke:x.textStyles.fill})]}),(0,p.jsx)(cp.P.circle,{cx:n,cy:r,r:4,fill:a,stroke:a,style:{cursor:"pointer"},onMouseMove:s(e),onMouseLeave:d(e),onClick:o?b(o.bind(void 0,e)):void 0,onDoubleClick:l?v(l.bind(void 0,e)):void 0})]},"circle-".concat(e.key))})]})},cz=(e,t,n)=>{let a=(0,L.useRef)(Object.fromEntries(e.map(e=>[e.key,void 0]))),i=()=>e=>a.current[e.key],[r,o]=(0,L.useState)(()=>i());return(0,L.useEffect)(()=>{let r=t(0);if(0===r)return;let l=e.map(e=>{var l;let s=e.key;return(0,d2.i)(null!=(l=a.current[s])?l:r,t(e.data),{duration:n,ease:"easeOut",onUpdate:e=>{a.current[s]=e,o(()=>i())}})});return()=>{l.forEach(e=>{e.stop()})}},[e,t]),r||console.log("no getter"),r};var cT=n(99385),cN=n(31612);let cP=e=>{let{targetValue:t,initialValue:n=0,duration:a=d3.UG}=e,[i,r]=(0,L.useState)(n);return(0,L.useEffect)(()=>{let{stop:e}=(0,d2.i)(i,t,{duration:a,onUpdate:e=>{r(e)}});return()=>{e()}},[t]),i};var cO=n(5777);function cH(e,t){return e.x>=t.x&&e.x<=t.x+t.width&&e.y>=t.y&&e.y<=t.y+t.height}function cF(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return"number"==typeof t&&(t={x:t,y:t}),{...e,x:e.x+t.x*n,y:e.y+t.y*n}}class cB{get anchor(){let e=360*this.angle/(2*Math.PI);switch(!0){case e>=225&&e<=315:return{h:"middle",v:"end"};case e>=45&&e<=135:return{h:"middle",v:"start"};case e>135&&e<225:return{h:"end",v:"middle"};default:return{h:"start",v:"middle"}}}get key(){return this.cell.key}get closestCorner(){let e=this.angle,t=this.rect;return{x:e>=1.5*Math.PI||e<=Math.PI/2?t.x:t.x+this.width,y:e<=Math.PI?t.y:t.y+this.height}}get furthestCorner(){let e=this.angle,t=this.rect;return{x:e>=1.5*Math.PI||e<=Math.PI/2?t.x+this.width:t.x,y:e<=Math.PI?t.y+this.height:t.y}}getConnectionPoint(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this.rect,{x:n,y:a}=this.closestCorner,i=n/Math.cos(this.angle),r=a/Math.sin(this.angle),o=i;return cH({x:r*Math.cos(this.angle),y:a},t)?o=r:cH({x:n,y:i*Math.sin(this.angle)},t)||console.error("Line does not intersect rect"),{x:(o-e)*Math.cos(this.angle),y:(o-e)*Math.sin(this.angle)}}get rect(){var e,t,n;return{...(e=this._angle,cF({x:Math.cos(e)*(t=this.radius+this.offset),y:Math.sin(e)*t},null!=(n=this.anchorPos)?n:0)),width:this.width,height:this.height}}get angle(){return this._angle}set angle(e){this._angle=function(e){let t=e;for(;t<0;)t+=2*Math.PI;return t%(2*Math.PI)}(e)}getOverflowingRadius(){let e=this.boundingRect,t=this.furthestCorner;if(t.y<e.y||t.x<e.x||t.x>e.x+e.width||t.y>e.y+e.height){let n=Math.min(Math.abs(e.x/Math.cos(this.angle)),Math.abs(e.y/Math.sin(this.angle)));return Math.sqrt(t.x**2+t.y**2)-n}return 0}handleIntersection(e){let t=this.rect,n=e.rect,a=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=cF(e,n),i=cF(t,n),r=e=>{let t={x:"width",y:"height"}[e];return i[e]>a[e]?[i[e],Math.max(a[e]+a[t]-i[e],0)]:[a[e],Math.max(i[e]+i[t]-a[e],0)]},[o,l]=r("x"),[s,d]=r("y");return 0!==l&&0!==d&&cF({x:o,y:s,width:l,height:d},-1*n)}(n,t,this.radius);if(!a)return 0;let i=(a.x>n.x?a.width:-1*a.width)*Math.sign(t.x),r=0>Math.sign(t.y)?-((a.y>n.y?n.height-a.height+t.height:a.height)*1):a.y>n.y?a.height:n.height-a.height,o=i/Math.cos(this.angle),l=r/Math.sin(this.angle),s=Math.sign(o)===Math.sign(l)?Math.min(Math.max(o,0),Math.max(l,0)):Math.max(o,l);return this.offset+=s,this.offset}get anchorPos(){var e,t;return e={w:this.width,h:this.height},{x:"start"===(t=this.anchor).h?0:"middle"===t.h?-(e.w/2):-1*e.w,y:"start"===t.v?0:"middle"===t.v?-(e.h/2):-1*e.h}}constructor(e,t,n,a,i,r,o){this.cell=e,this.radius=n,this.label=a,this.width=i,this.height=r,this.boundingRect=o,this.offset=0,this.angle=t}}let cV=e=>{let{showLabels:t,cells:n,radius:a,textStyles:i,chartWidth:r,margin:o=20,...l}=e,s=n.map(e=>e.textValue).join("|");return(0,L.useMemo)(()=>{if(!t)return{labelPad:0,labels:[]};let e={x:-(r/2),y:-(r/2),width:r,height:r},s=(0,cO.rL)({value:e=>e.data,...l})(n),d=a,c=0,u=s.map(t=>{var n;let{startAngle:r,endAngle:o}=t,l=t.data,s=l.textValue,{width:d,height:u}=null!=(n=(0,cs.Z7)(s,i))?n:{width:0,height:0},p=new cB(l,(r+o)/2-Math.PI/2,a,s,d,u,e),h=p.getOverflowingRadius();return h>c&&(c=h),p}),p=c,h=c,m=0;for(;p>0&&m++<2;){let e=c;c=0,p=0,u.forEach((t,n)=>{t.radius=t.radius-e,0!==n&&(p+=t.handleIntersection(u[n-1])),n===u.length-1&&(p+=t.handleIntersection(u[0]));let a=t.getOverflowingRadius();a>c&&(c=a)}),h+=c,p+=c}let g=o+h;return a-g<.25*a?{labelPad:0,labels:[]}:{labelPad:g,labels:u}},[s,i,a,r,o,t])},cW=e=>{let{labels:t,radius:n,textStyles:a,colors:i,isFocused:r,explodeOffset:o,animationDuration:l=.2}=e;return(0,p.jsx)("g",{children:t.map((e,t)=>{let s=e.getConnectionPoint(5),d=r(e.cell.position),c=r(e.cell.position,!0),u="opacity ".concat(l,"s, transform ").concat(l,"s"),h=c?"translate(".concat(Math.cos(e.angle)*o,"px, ").concat(Math.sin(e.angle)*o,"px)"):"";return(0,p.jsxs)("g",{opacity:d?1:.5,style:{transition:u,transform:h},children:[(0,p.jsx)("line",{x1:Math.cos(e.angle)*n,y1:Math.sin(e.angle)*n,x2:s.x,y2:s.y,stroke:a.fill,strokeWidth:c?2:1}),(0,p.jsx)("circle",{cx:s.x,cy:s.y,r:3,fill:i[t],stroke:a.fill}),(0,p.jsx)("text",{dominantBaseline:"hanging",x:e.rect.x,y:e.rect.y+3,...a,fontWeight:c?"bold":"normal",pointerEvents:"none",style:{userSelect:"none"},children:e.label})]},e.key)})})},cU=e=>{var t;let{data:n,TooltipInner:a,colorScheme:i=d3.gb,isThumbnail:r=!1,width:o,height:l,chartType:s,textColor:d,accentColor:c,chartOptions:{donut:u,pie:h},hideLabels:m,showInlineLabels:g,onDataClick:x,onDataDoubleClick:f,animationDuration:b=d3.UG,backgroundColor:v,onContextMenu:y}=e,{dispatch:w}=(0,L.useContext)(cC.uR),{renderTooltip:C,mouseMoveHandler:j,mouseLeaveHandler:A}=cy({TooltipInner:a}),k={top:15,right:15,bottom:15,left:15},S=d4(n),I=d5(n),E=S?S.getCells(n).filter(e=>!e.isEmpty):[];cj([I,S]),(0,L.useEffect)(()=>{let e="pie-no-labels";return I||m||w((0,cN.TD)(e4.Ru._({id:"gMgGUM"}),{severity:"warning",id:e,dismissable:!1})),()=>{w((0,cN.sA)(e))}},[I,m,w]),(0,L.useEffect)(()=>{let e="pie-single-row";return 1===E.length&&w((0,cN.TD)(e4.Ru._({id:"uHTxZb"}),{severity:"info",id:e,dismissable:!0})),()=>{w((0,cN.sA)(e))}},[E.length,w]);let R=E.map(e=>{let{position:t}=e;return t.row}),D=(0,d6.M)(c,R,i,{contrastColor:v,minContrast:1.3}),[M,_]=(0,L.useState)(null),z=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return M?M.row===e.row&&M.column==M.column:!t};r&&(k.top=5,k.right=5,k.bottom=5,k.left=5);let T=r||m||!I,[N,P]=o<l?[o,o]:[l,l],O=N-k.left-k.right,H=P-k.top-k.bottom,F=Math.min(O,H)/2,B=O/2,V=cP({targetValue:"donut"===s?(null==u?void 0:u.radius)||.5:1,initialValue:1,duration:b}),W=null!=(t=null==h?void 0:h.legendPosition)?t:"bottom",U=cA(),{labelPad:G,labels:K}=cV({showLabels:g,cells:E,radius:F,textStyles:U,chartWidth:O,sort:null}),Q=F-G,Z=Q*V,q=e=>(0,p.jsx)(cK,{cells:E,colors:D,donutThickness:Z,duration:b,isDummy:e,isFocused:z,isThumbnail:r,onClick:x,onDoubleClick:f,radius:Q,setFocus:_,tooltipEnter:j,tooltipLeave:A}),$=["top","left"].includes(W),J=["right","left"].includes(W),Y="".concat(J?"row":"column").concat($?"-reverse":"");return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(e6.s,{height:"100%","data-test":"pie-chart-container",cursor:"default",contentEditable:!1,suppressContentEditableWarning:!0,userSelect:"none",flexDirection:Y,gap:1,justifyContent:$?"flex-end":"flex-start",onContextMenu:y,children:[(0,p.jsx)("svg",{style:{aspectRatio:"1",minHeight:"2em",overflow:"hidden"},viewBox:"0 0 ".concat(N," ").concat(P),children:(0,p.jsx)(dY.A,{top:H/2+k.top,left:B+k.left,children:(0,p.jsxs)(p.Fragment,{children:[q(!0),q(!1),(0,p.jsx)(cW,{labels:K,isFocused:z,radius:Q,textStyles:U,colors:[...D.values()],explodeOffset:15})]})})}),!T&&(0,p.jsx)(ch,{width:o,position:W,data:E,getColor:e=>D.get(e.position.row),render:e=>{let{position:{row:t}}=e;return n.getCellOrThrow({row:t,column:I.id}).label},textColor:d,getOpacity:e=>z(e.position)?1:.2,onMouseOver:e=>()=>_(e.position),onMouseLeave:()=>()=>_(null)})]}),C()]})},cG=e=>{let{arc:t,duration:n=.2,path:a,getColor:i,tooltipEnter:r,tooltipLeave:o,onClick:l,onDoubleClick:s,focused:d,setFocused:c,isThumbnail:u,radius:h,isDummy:m,isDonut:g,...x}=e,{startAngle:f,endAngle:b}=t,v=i(t.data),[y,w]=(0,L.useState)(f),[C,j]=(0,L.useState)(f),[A,k]=(0,L.useState)(v),{clickHandler:S,doubleClickHandler:I}=cm();(0,L.useEffect)(()=>{(0,d2.i)(y,[y,b],{duration:n,onUpdate:e=>w(e)})},[b]),(0,L.useEffect)(()=>{(0,d2.i)(C,[C,f],{duration:n,onUpdate:e=>j(e)})},[f]),(0,L.useEffect)(()=>{(0,d2.i)(A,v,{duration:n,onUpdate:e=>k(e)})},[v]);let E=d?u?4:15:0,R=(C+y)/2,D=E>0?"translate(".concat(Math.sin(R)*E,", ").concat(-(Math.cos(R)*E*1),")"):"";return(0,p.jsx)("g",{transform:D,style:{transition:"transform ".concat(n,"s")},children:(0,p.jsx)("path",{d:a({...t,startAngle:C,endAngle:y}),fill:A,stroke:m||g?"transparent":"var(--card-color)",strokeWidth:.02*h,strokeLinecap:"round",strokeLinejoin:"round",onMouseMove:e=>{c(!0),null==r||r(t.data)(e)},onMouseLeave:e=>{c(!1),null==o||o(t.data)(e)},onClick:l?S(l.bind(void 0,t.data)):void 0,onDoubleClick:s?I(s.bind(void 0,t.data)):void 0,...x})})},cK=e=>{let{cells:t,colors:n,donutThickness:a,duration:i,isDummy:r,isFocused:o,isThumbnail:l,onClick:s,onDoubleClick:d,radius:c,setFocus:u,tooltipEnter:h,tooltipLeave:m}=e;return(0,p.jsx)(cT.A,{data:t,outerRadius:c,innerRadius:r?0:c-a,pieValue:e=>{let{data:t}=e;return t},pieSort:null,pieSortValues:null,padAngle:r?0:.016*(a<c),children:e=>{let{arcs:t,...g}=e;return t.map(e=>(0,p.jsx)(cG,{arc:e,...g,radius:c,isDonut:a<c,focused:!r&&o(e.data.position,!0),setFocused:t=>{u(t?e.data.position:null)},getColor:e=>r?"transparent":n.get(e.position.row),tooltipEnter:h,tooltipLeave:m,duration:r?0:i,isThumbnail:l,onClick:s,onDoubleClick:d,isDummy:!!r},e.data.key))}})};var cQ=n(5872),cZ=n(14389),cq=n(61651),c$=n(45002);let cJ=e=>{let{isResizing:t,onResizing:n,setIsResizing:a,cloneBoxProps:i={},showResizeControls:r,disableCloning:o,children:l,...s}=e,d=(0,L.useRef)(null),c=(0,L.useRef)(null),u=(0,L.useRef)(void 0);return(0,L.useEffect)(()=>{if(!o&&(!0===t&&c.current&&u.current&&c.current.appendChild(u.current),!t&&u.current)){var e;null==(e=u.current.parentNode)||e.removeChild(u.current)}},[t]),(0,p.jsxs)(p.Fragment,{children:[t&&!o?(0,p.jsx)(h.a,{filter:"blur(15px)",...i,ref:c,width:"100%",height:"100%",position:"relative","data-test":"resize-placeholder"}):(0,p.jsx)(h.a,{ref:d,width:"100%",height:"100%",filter:t?"blur(4px) opacity(0.75)":void 0,children:l}),r&&(0,p.jsx)(c$.u4,{setIsResizing:e=>{if(!o&&e){var t;u.current=null==(t=d.current)?void 0:t.cloneNode(!0);let e=u.current;e&&(e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.width="auto",e.style.height="auto")}a(e)},onResizing:function(e){for(var t=arguments.length,a=Array(t>1?t-1:0),i=1;i<t;i++)a[i-1]=arguments[i];let{width:r,height:o}=e,l=u.current;if(!l)return;let s={width:l.offsetWidth,height:l.offsetHeight},d=r/s.width,c=o/s.height;l.style.transform="scale(".concat(d,", ").concat(c,")"),l.style.transformOrigin="top left",null==n||n(e,...a)},...s})]})};var cY=n(59557),cX=n(72104);let c0=e=>{var t,n;let{state:a,dispatch:i}=(0,L.useContext)(cC.uR),[r,o]=(0,L.useState)(new Date),l=(0,L.useRef)(!1),s=a.feedback;return((0,L.useEffect)(()=>{if(!(null==s?void 0:s.length))return;let e=[],t=s.filter(t=>{let n=t.dismissable;return n instanceof Date&&(!(n<=r)||(e.push(t.id),!1))});e.length&&i((0,cN.sA)(...e)),!l.current&&t.length&&(l.current=setTimeout(()=>{l.current=!1,o(new Date)},1e3))},[s,r,i]),null==(t=a.feedback)?void 0:t.length)?(0,p.jsx)(ev.B,{marginY:2,...e,children:null==(n=a.feedback)?void 0:n.map(e=>(0,p.jsxs)(n8.F,{marginBottom:1,status:e.severity,children:[(0,p.jsx)(ae._,{}),(0,p.jsx)(dD.T,{flexGrow:1,children:e.message}),e.dismissable&&(0,p.jsx)(cX.U,{cursor:"pointer",onClick:()=>{i((0,cN.sA)(e.id))}})]},e.id))}):null};var c1=n(23907),c2=n(71024),c4=n.n(c2);let c5=c4()(async()=>(await Promise.all([n.e(7585),n.e(7155),n.e(1940)]).then(n.bind(n,61940))).DataEditor,{loadableGenerated:{webpack:()=>[61940]},ssr:!1,loading:()=>(0,p.jsx)(e6.s,{m:5,h:"100%",justifyContent:"center",children:(0,p.jsx)(tS.y,{size:"lg"})})}),c6=e=>(0,p.jsx)(c5,{...e}),c3=(0,cC.en)(e=>{let{onChange:t,onClose:n,data:a,isOpen:i,renderChart:r,attributes:o,updateAttributes:l,accentColor:s,selectedCell:d,cardColor:c}=e,u=(0,K.GV)(ed.SJ),m=(0,D.Ik)((0,D.fQ)(u));return(0,p.jsxs)(n9._s,{placement:"bottom",onClose:n,isOpen:i,trapFocus:!0,isFullHeight:!0,returnFocusOnClose:!1,children:[(0,p.jsx)(ex.m,{}),(0,p.jsxs)(n7.z,{borderTopRadius:"xl",h:"calc(var(--100vh) - 24px)",transitionDuration:{enter:"0.4s"},children:[(0,p.jsx)(eC.s,{}),(0,p.jsxs)(ej.c,{p:0,h:"100%",overflow:"auto","data-testid":"chart-editor-body",display:"flex",flexDir:"column",children:[(0,p.jsx)(eb.r,{children:(0,p.jsx)(em.x6,{id:"44wbJb"})}),(0,p.jsxs)(e6.s,{direction:{base:"column",xl:"row-reverse"},overflow:"auto",gap:5,px:5,children:[(0,p.jsxs)(e6.s,{direction:{base:"column",lg:"row",xl:"column"},width:{base:"auto",xl:"40%","2xl":"30%"},gap:5,children:[(0,p.jsx)(h.a,{flexGrow:{base:1,xl:0},flexShrink:0,flexBasis:"auto",borderRadius:"md",overflow:"hidden",children:(0,p.jsx)(h.a,{background:c,borderRadius:"md",padding:8,maxWidth:"100%",h:"xs",children:(0,p.jsx)(h.a,{as:cY.A,position:"relative",children:e=>{let{width:t,height:n}=e;return r({data:a,width:t,height:n,textColor:m})}})})}),(0,p.jsx)(h.a,{background:"gray.50",borderRadius:"md",children:(0,p.jsx)(c1.z,{attributes:o,updateAttributes:l,accentColor:s})})]}),(0,p.jsx)(ew.c,{display:{base:"block",xl:"none"}}),(0,p.jsxs)(h.a,{flexGrow:1,zIndex:1,overflow:{xl:"auto"},children:[(0,p.jsx)(c6,{onChange:t,data:a||dq.h.createEmpty(2,3),selectedCell:d}),(0,p.jsx)(c0,{})]})]})]})]})]})}),c9=e=>{let t=(0,L.useRef)(!1),[n,a]=(0,L.useState)(!1);(0,L.useEffect)(()=>{if(t.current||null===e)return;let n=!1;e.columns.forEach((t,a)=>{let i=e.getCellAtIndex({row:0,column:a});n=(0,d9.aH)(i,e)||n}),t.current=!0,n&&a(n)},[e])},c7=e=>{let{editor:t,node:n,getPos:a}=e,i=(0,L.useCallback)(()=>{t.commands.selectNodeAtPos(a()),t.chain().deleteSelectionAndSelectNear().run()},[t,a]),{attrs:r}=n,o=!!r.data,l=r.colorScheme,s=r.chartType,d=e=>{t.commands.selectNodeAtPos(a()),t.chain().updateAttributes("chart",e).focus().run()},c=(0,sO.d)({editor:t,node:n,getPos:a});return[{key:"chart-options",title:(0,p.jsx)(em.x6,{id:"nuBbBr"})},{divider:!0},...c,{divider:!0},{key:"edit-chart",label:o?(0,p.jsx)(em.x6,{id:"BhcOHV"}):(0,p.jsx)(em.x6,{id:"UHoZ5e"}),icon:e1.zLW,onClick:()=>{t.commands.selectNodeAtPos(a()),t.commands.editSelectedChart()}},{divider:!0},{key:"change-color-scheme",label:(0,p.jsx)(em.x6,{id:"q3f9iw"}),icon:e1.wIs,items:[{key:"default",label:e4.Ru._({id:"ovBPCi"}),check:!l,onClick:()=>{d({colorScheme:void 0})}},...Object.entries(d3.fA).map(e=>{let[t,n]=e;return{key:t,label:n.label(),check:t===l,onClick:()=>{d({colorScheme:t})}}})]},{key:"horizontal-alignment",label:(0,p.jsx)(em.x6,{id:"9ms+e0"}),icon:e1.ecg,items:rH.gj.map(e=>{let{name:n,key:a,icon:i,checkActive:r,apply:o}=e;if(r&&o)return{key:a,label:n(),check:r(t),icon:i,onClick:()=>{o(t)}}}).filter(Boolean)},{divider:!0},{key:"switch-chart-type",label:(0,p.jsx)(em.x6,{id:"U2Nq+R"}),icon:e1.$Fj,items:Object.entries(d3.XD).map(e=>{let[t,{label:n,icon:a}]=e;return{key:t,label:n(),icon:a,check:s===t,onClick:()=>d({chartType:t})}})},{divider:!0},{key:"delete",label:(0,p.jsx)(em.x6,{id:"cnGeoo"}),icon:e1.yLS,onClick:i,color:"red.500"}]},c8=e=>{let{node:t,editor:n,selected:a,updateAttributes:i,decorations:r,getPos:o}=e,{chartType:l,colorScheme:s,data:d,dimensions:c={ratio:.5},hideLabels:u,showInlineLabels:g,chartAttributes:x={},horizontalAlign:f}=t.attrs,b=(0,L.useMemo)(()=>{try{return d?dG.A.parse(d):null}catch(e){return console.error("[DATALOSS] Error parsing serialized chart",e),console.log(d),null}},[d]),v=(0,K.CU)(),y=(0,K.GV)(ed.Cl),w=(0,es.FX)(),C=(0,K.GV)(ed.Ik),j=(0,es.CJ)(n),A=(0,K.GV)(ed.r9),k=y&&j&&C,{theme:I,cardColor:E}=(0,_.a)(r),{ref:R,isResizing:M,setIsResizing:z,resizeableSx:T}=(0,c$.Y3)(n),N=(0,L.useCallback)(e=>{i({dimensions:{width:e.width,height:e.height}})},[i]),[P,O]=(0,L.useState)(d3.UG);c9(b),(0,L.useEffect)(()=>{M?O(0):setTimeout(()=>{O(d3.UG)},1e3*d3.UG)},[M]);let H=n.isThumbnail||!1,[F,B]=(0,L.useState)(),V=!H&&A===t.attrs.id,W=e=>{if(e)return void v.dispatch((0,ed.Jr)({chartId:t.attrs.id}));v.dispatch((0,ed.Jr)({chartId:null}))},U=(0,L.useMemo)(()=>{switch(l){case"pie":case"donut":return cU;case"line":return cD;default:return cS}},[l]),G=(0,D.Ik)((0,D.VH)(I)),Q=e=>{y&&C&&(B(e),W(!0))};(0,L.useEffect)(()=>{F&&(null==b?void 0:b.getCell(F.position))!==F&&B(void 0)},[F,V]);let Z=e=>{var t;let{data:n,width:a,height:i,textColor:r="var(--body-color)",showEditInPlaceholder:o=!1,onContextMenu:c=()=>{}}=e,m=n&&(null==(t=cL.K.nonEmpty(n))?void 0:t.data);return!m||!d4(m)||m.isEmpty()?(0,p.jsx)(un,{setEditing:o?W:void 0,onContextMenu:c}):(0,p.jsx)(U,{animationDuration:P,data:m,colorScheme:s||void 0,width:a,height:i,accentColor:G,textColor:r,chartOptions:x,onDataDoubleClick:Q,hideLabels:u,showInlineLabels:g,backgroundColor:E,onContextMenu:c,TooltipInner:e=>(0,p.jsx)(p.Fragment,{children:d.columns.map(t=>{var n;return(0,p.jsxs)(h.a,{as:"p",mb:1,children:[t.label&&(0,p.jsxs)(S.E,{as:"b",children:[t.label,": "]}),(0,p.jsx)(S.E,{as:"span",children:null==(n=m.getCell({row:e.position.row,column:t.id}))?void 0:n.textValue},t.id)]},t.id)})}),chartType:l,isThumbnail:H})},q=ue(c),$="width"in c?c.width:cZ.St;w&&($=Math.min($,cZ.St/2));let J=$*q,Y=(0,rH.yp)(f),X=c7(e),{onOpenContextMenu:ee,onCloseContextMenu:et,menuProps:en}=(0,lZ.$)({editor:n,getPos:o});return(0,nt.l)()?(0,p.jsx)(m.u,{as:"div",...e,children:(0,p.jsxs)(e6.s,{w:"100%",dir:(0,rH.fZ)(r,f),className:cQ.S,sx:T,css:Y,direction:"column",onDoubleClick:()=>{k&&W(!0)},_focusWithin:{shadow:"outline"},children:[(0,p.jsxs)(h.a,{ref:R,className:"chart",borderRadius:"var(--box-border-radius)","data-content-reference":!0,"data-selection-ring":!0,"data-selection-background":!0,maxW:"100%",minW:"min(10em, 100%)",minH:"min(10em, 100%)",width:!function(e){return"width"in e&&"height"in e}(c)?"calc(100% * var(--media-scale))":ut(c.width),aspectRatio:"1/".concat(q),position:"relative","data-drag-handle":!0,"data-scale-preview":!0,children:[(0,p.jsx)(cJ,{showResizeControls:k&&a,imageWrapperRef:R,isResizing:M,setIsResizing:z,updateResizeAttrs:N,refreshDeps:[t.attrs],disableCloning:!0,keepRatio:!1,children:b?Z({data:b,width:$,height:J,showEditInPlaceholder:!H&&y,onContextMenu:ee}):(0,p.jsx)(un,{setEditing:H||!y?void 0:W})}),(0,p.jsx)(c3,{renderChart:Z,cardColor:E,data:b,isOpen:V,onClose:()=>W(!1),onChange:e=>{i({data:dG.A.serialize(e)})},attributes:t.attrs,updateAttributes:i,accentColor:G,selectedCell:F})]}),(0,p.jsx)(lK.tz,{menuItems:X,isOpen:en.isOpen,position:en.position,onClose:et,size:"small"})]})}):(0,p.jsx)(h.a,{w:$,h:J})},ue=e=>"ratio"in e?e.ratio:e.height/e.width,ut=e=>"calc(".concat(e," * var(--font-size) / 16)"),un=e=>{let{setEditing:t,onContextMenu:n}=e,a=(0,oI.rd)();return(0,p.jsxs)(eu.T,{spacing:3,justify:"center",contentEditable:!1,color:a?cq.N.DARK_COLOR:cq.N.LIGHT_COLOR,h:"100%",backgroundColor:a?cq.N.DARK_BG:cq.N.LIGHT_BG,borderRadius:"var(--box-border-radius)","data-testid":"chart-placeholder",onContextMenu:n,children:[(0,p.jsx)(E.g,{size:"2x",icon:iM.s67}),t&&(0,p.jsx)(eZ.$,{size:"xs",fontFamily:"body",onClick:()=>t(!0),children:(0,p.jsx)(em.x6,{id:"UHoZ5e"})})]})};var ua=n(70666);let ui=()=>(0,dU.Ak)(5),ur=new W.hs("UniqueMediaId"),uo=ly.S.extend({name:"UniqueChartId"}).configure({attributeName:"id",types:["chart"],initialValue:ui,filterTransaction:df.kz,pluginKey:ur}),ul=l.bP.create({name:"chart",group:"cardBlock layoutBlock",selectable:!0,draggable:!0,addNodeView:()=>(0,c.gu)(c8,{update:u.z0}),addAttributes:()=>({id:(0,lO.e)(()=>(0,dU.Ak)(5)),chartType:{default:"bar"},chartAttributes:{...(0,J.tb)("chartAttributes"),default:{}},colorScheme:{isRequired:!1},dimensions:{...(0,J.tb)("dimensions"),default:{ratio:.56}},hideLabels:{isRequired:!1,default:!1},showInlineLabels:{isRequired:!1,default:!1},data:{...(0,J.tb)("data")}}),addCommands:()=>({insertChart:(e,t)=>n=>{let{dispatch:a,editor:i,commands:r}=n;if(!a)return!1;let{schema:o}=i,l=o.nodes.chart,s=ui(),d=l.createChecked({id:s,chartType:e,data:t&&e?(0,ua.$)(e):void 0});return r.insertContent(d.toJSON())},editSelectedChart:()=>e=>{let{state:t}=e,n=t.selection;if(!(n instanceof W.nh)||!us(n.node))return!1;let a=n.node;return(0,K.KA)().dispatch((0,ed.Jr)({chartId:a.attrs.id})),!0}}),addExtensions:()=>[uo],parseHTML(){return[{tag:'div[data-type="'.concat(this.name,'"]')},{tag:"chart",getAttrs(e){try{if("string"==typeof e)return!1;let t=[...e.children].find(e=>"TABLE"===e.nodeName);if(!t)return null;let n=dJ.parse(t);if(!n)return{};return{data:dG.A.serialize(n)}}catch(e){return console.error("[caught]",e),!1}}}]},renderHTMLforAI(e){let{node:t,HTMLAttributes:n}=e,{"data-data":a,...i}=n,r=["chart",(0,l.KV)(this.options.HTMLAttributes,i)];return t.attrs.data&&r.push(dJ.serialize(dG.A.parse(t.attrs.data))),r},renderHTML(e){let{HTMLAttributes:t}=e;return["div",(0,l.KV)({"data-type":this.name},this.options.HTMLAttributes,t)]}}),us=e=>"chart"===e.type.name;var ud=n(32973);let uc=n(76931).Ay.extend({priority:X.y.Code,inclusive:!1,addKeyboardShortcuts(){return{"Mod-Shift-C":()=>this.editor.commands.toggleCode()}}});var uu=n(16842),up=n(88608),uh=n(45143);let um=e=>{let[t,n]=(0,L.useState)(new Date),a=(0,L.useRef)(!1);return(0,L.useEffect)(()=>{a.current&&n(new Date),a.current=!0;let e=setInterval(()=>{n(new Date)},6e4);return()=>{clearInterval(e)}},[e]),t},ug=e=>{var t;let n=(0,uh.h5)({base:4,md:8})||8,{node:a,decorations:i}=e,{showTime:o,hiddenContributorIds:l}=a.attrs,s=(0,K.GV)(ed.zB),d=(0,L.useMemo)(()=>(s||[]).filter(e=>!l.includes(e.user.id)),[s,l]),c=(0,eD.En)(),u=(0,K.GV)(eM.Jo),h=null==u?void 0:u.editedTime,g=um(h).toISOString(),x=d.length-n,f=(0,rH.fZ)(i),b=null!=(t=e.node.attrs.horizontalAlign)?t:"rtl"===f?"right":"left",v=(0,L.useMemo)(()=>({left:"rtl"===f?"row-reverse":"row",center:"column",right:"rtl"===f?"row":"row-reverse"})[b],[f,b]);return(0,p.jsx)(p.Fragment,{children:d.length>0&&(0,p.jsx)(m.u,{...e,as:"div",children:(0,p.jsxs)(e6.s,{dir:f,userSelect:"none",contentEditable:!1,justify:"flex-start",align:"center",direction:v,borderRadius:"var(--box-border-radius)","data-selection-ring":"padded","data-selection-background":!0,children:[(0,p.jsxs)(uu.Z,{sx:{".avatar-overflow-activator":{height:"1.6em",width:"1.6em",minH:"1.6em",minW:"1.6em",fontSize:"inherit",span:{fontSize:"0.68em"}}},children:[d.slice(0,n).map(e=>(0,p.jsx)(eh.Vc,{width:"1.6em",height:"1.6em",fontSize:"inherit",size:"sm",shadow:"base",sx:{"@media print":{shadow:"none"}},borderWidth:"1px",name:e.user.displayName,label:c&&e.user.displayName?e4.Ru._({id:"bxVoEp",values:{0:e.user.displayName,1:(0,up.Gx)(e.lastEdited,g)}}):" ",src:e.user.profileImageUrl},e.user.id)),x>0&&(0,p.jsx)(eh.oQ,{tooltipLabel:e4.Ru._({id:"25VyZX"}),count:x,avatars:d.map(e=>({name:e.user.displayName||"",id:e.user.id,profileImageUrl:e.user.profileImageUrl||"",color:"white"})),disabled:!0})]}),(0,p.jsxs)(e6.s,{direction:"column",marginInline:"0.5em",lineHeight:"1.4",textAlign:b,children:[(0,p.jsx)(S.E,{className:"contributors-list",children:1===d.length?(0,p.jsx)(em.x6,{id:"t490IT",values:{0:d[0].user.displayName}}):(0,p.jsx)(em.x6,{id:"KNjuGh",values:{0:d.length}})}),!r.$.GAMMA_PUPPETEER_SERVICE&&h&&o&&(0,p.jsx)(S.E,{fontSize:"0.75em",children:c?(0,p.jsx)(em.x6,{id:"gUWkFH",values:{0:(0,up.Gx)(h,g)}}):" "})]})]})})})},ux=e=>{var t;let n=null!=(t=e.node.attrs.horizontalAlign)?t:"left",a=(0,L.useMemo)(()=>({left:"row",center:"column",right:"row-reverse"})[n],[n]);return(0,p.jsx)(d_.V,{children:(0,p.jsxs)(e6.s,{direction:a,alignItems:"center",gap:"1em",children:[(0,p.jsx)(dM,{borderRadius:"full",boxSize:"4em"}),(0,p.jsx)(dM,{h:"2em",w:"14em"})]})})},uf=l.bP.create({name:"contributors",group:"block",atom:!0,selectable:!0,dynamic:!0,addAttributes:()=>({showTime:{default:!0},hiddenContributorIds:{default:[],...(0,J.tb)("hiddenContributorIds")}}),addCommands:()=>({toggleShowTime:()=>e=>{let{commands:t,state:n}=e,{selection:a}=n;if(!(a instanceof W.nh))return!1;let{node:i}=a;return"contributors"===i.type.name&&(t.updateAttributes("contributors",{showTime:!i.attrs.showTime}),!0)},toggleOneContributorVisibility:e=>t=>{let{commands:n,state:a}=t,i=(0,K.KA)().getState(),r=(0,ed.zB)(i);if(!r||1===r.length)return!1;let{selection:o}=a;if(!(o instanceof W.nh))return!1;let{hiddenContributorIds:l}=o.node.attrs,s=[];if(l.includes(e))s=l.filter(t=>t!==e);else{if(l.length+1===r.length)return!1;s=[...l,e]}return n.updateAttributes("contributors",{hiddenContributorIds:s}),!0},toggleAllContributorsVisibility:()=>e=>{let{commands:t,state:n}=e,a=(0,K.KA)().getState(),i=(0,ed.zB)(a);if(!i||1===i.length)return!1;let{selection:r}=n;if(!(r instanceof W.nh))return!1;let{hiddenContributorIds:o}=r.node.attrs,l=[];if(o.length>0)l=[];else{let e=(0,ed.JV)(a);l=i.filter(t=>t.user.id!==(null==e?void 0:e.id)).map(e=>e.user.id)}return t.updateAttributes("contributors",{hiddenContributorIds:l}),!0}}),parseHTML:()=>[{tag:"div[class=contributors]"}],renderHTML(e){let{HTMLAttributes:t}=e;return["div",(0,l.KV)(t,{class:"contributors"})]},addNodeView(){return this.editor.isThumbnail?(0,c.gu)(ux,{update:u.z0}):(0,c.gu)(ug,{update:u.z0})}});var ub=n(73971);let uv="125em",uy=e=>{let{svg:t,theme:n}=e;if(!t)return null;let a=(0,ub.k)(n);return(0,p.jsx)(h.a,{dangerouslySetInnerHTML:{__html:t},"data-testid":"diagram-svg",sx:{svg:{width:"100%",height:"auto",maxH:uv,...a}}})};var uw=n(28647),uC=n(74355),uj=n(88839),uA=n(55292);let uk=c4()(async()=>(await Promise.all([n.e(8683),n.e(7547),n.e(678),n.e(629)]).then(n.bind(n,60629))).Tldraw,{loadableGenerated:{webpack:()=>[60629]},ssr:!1}),uS=e=>{let{theme:t=uA.z}=e,n=(0,nM.ZI)(t),a=(0,ub.k)(t),i=(0,uj.M)(t),r={fill:i.shapeFill,strokeWidth:i.shapeBorder};return(0,p.jsx)(e6.s,{sx:{...n,"--tl-font-draw":"var(--body-font)",fontFamily:"var(--body-font)",fontWeight:"var(--body-font-weight)",...a,"--tl-text-outline":"transparent","--color-background":"var(--card-color)"},position:"relative",h:"100%",w:"100%",className:"highlight-mask",children:(0,p.jsx)(uk,{...e,defaultStyles:r})})},uI=async e=>{let t=Array.from(e.getCurrentPageShapeIds()),n=await e.getSvg(t,{padding:8,scale:1});if(n)return console.debug("generated svg",n),n},uE=(e,t,n)=>{e&&t&&(Array.from(e.getCurrentPageShapeIds()).length>0?e.updateShapes(t):e.createShapes(t),n&&e.updateAssets(n))},uL=(e,t)=>{e.user.updateUserPreferences({isDarkMode:(0,D.Mw)(t)}),setTimeout(()=>{e.zoomToFit()})},uR=e=>{let{isOpen:t,isEditable:n,onClose:a,isDrawingEditorActive:i,setDrawingEditorActive:r,editor:o,...l}=e,{node:s,updateAttributes:d}=l,{assets:c,shapes:u}=s.attrs,h=(0,K.GV)(ed.SJ),[m,g]=(0,L.useState)();(0,L.useEffect)(()=>{m&&uE(m,u,c)},[u,c,m,d]);let x=(0,L.useCallback)(e=>{g(e),window.tldrawEditor=e,uL(e,h)},[h]),f=(0,L.useCallback)(async()=>{if(!m)return;let e=await uI(m);e?d({svg:e.outerHTML}):d({svg:null})},[m,d]),b=(0,L.useCallback)(()=>{m&&d({shapes:m.getCurrentPageShapes(),assets:m.getAssets(),version:2})},[d,m]),v=(0,eD.lW)(b,500),y=(0,L.useCallback)(()=>{n&&f(),r(!1),a()},[a,f,r,n]);return(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)(eh._s,{placement:"bottom",onClose:y,isOpen:t,trapFocus:!0,isFullHeight:!0,returnFocusOnClose:!1,children:[(0,p.jsx)(eh.QP,{}),(0,p.jsxs)(eh.zj,{dir:"ltr",borderTopRadius:"xl",h:"calc(var(--100vh) - 24px)",onAnimationComplete:e=>{"enter"==e&&r(!0)},transition:{enter:{duration:.4}},overflow:"hidden",children:[(0,p.jsx)(eh.ys,{p:0,h:"100%",overflow:"hidden","data-testid":"drawing-editor-body",children:i?(0,p.jsx)(uS,{onMount:x,onChange:n?v:void 0,orgId:o.gammaOrgId,theme:h}):(0,p.jsx)(e6.s,{align:"center",justify:"center",w:"100%",h:"100%",children:(0,p.jsx)(tS.y,{size:"xl"})})}),(0,p.jsx)(eh.s1,{zIndex:400,backgroundColor:"white","data-testid":"drawing-editor-close"})]})]})})};var uD=n(98968);let uM=e=>{let{editor:t,node:n,getPos:a}=e,{id:i,fullWidthBlock:r}=n.attrs,o=(0,L.useCallback)(()=>{t.commands.selectNodeAtPos(a()),t.chain().deleteSelectionAndSelectNear().run()},[t,a]),l=(0,L.useCallback)(()=>{t.commands.selectNodeAtPos(a()),(0,uC.CD)(i,!0)},[t,a,i]),s=(0,sO.d)({editor:t,node:n,getPos:a});return{contextMenuItems:[{key:"diagram-options",title:(0,p.jsx)(em.x6,{id:"i+ShMB"})},{divider:!0},...s,{divider:!0},{key:"edit-diagram",label:(0,p.jsx)(em.x6,{id:"SsJ/l2"}),icon:e1.MT7,onClick:l},{divider:!0},{key:"add-comment",label:(0,p.jsx)(em.x6,{id:"oFsfkI"}),icon:e1.DN2,onClick:()=>{t.commands.selectNodeAtPos(a()),(0,uD.wG)(t.state.selection)}},{divider:!0},{key:"align",label:(0,p.jsx)(em.x6,{id:"9ms+e0"}),icon:e1.ecg,disabled:r,items:rH.gj.map(e=>{let{name:n,key:a,icon:i,checkActive:o,apply:l}=e;return{key:a,check:null==o?void 0:o(t),icon:i,label:n(),onClick:()=>{l&&l(t),r&&t.commands.updateAttributes("diagram",{fullWidthBlock:!1})}}})},{divider:!0},{key:"delete",label:(0,p.jsx)(em.x6,{id:"cnGeoo"}),icon:e1.yLS,onClick:o,color:"red.500"}]}},u_=e=>{let{node:t,updateAttributes:n,selected:a,editor:i,getPos:r,decorations:o}=e,{width:l,meta:s,id:d,horizontalAlign:c,svg:u,shapes:g}=t.attrs,x=(0,K.GV)(ed.Cl),f=(0,K.GV)(ed.Ik),b=(0,es.CJ)(i),v=x&&b&&f,y=(0,K.GV)(ed.Xu),w=!!y&&y===d,[C,j]=(0,L.useState)(!1),A=(0,K.GV)(ed.SJ),k=(0,oI.rd)(),{ref:S,setIsResizing:I,resizeableSx:R}=(0,c$.Y3)(i),{onOpenContextMenu:D,onCloseContextMenu:M,menuProps:_}=(0,lZ.$)({editor:i,getPos:r}),{contextMenuItems:z}=uM({editor:i,node:t,getPos:r}),T=(0,L.useCallback)(()=>{(0,uC.CD)(d,!0)},[d]),N=(0,L.useCallback)(()=>{i.chain().setNodeSelection(r()).focus().run()},[i,r]),P=(0,L.useCallback)(()=>{(0,uC.CD)(null,!1)},[]),O=(0,L.useCallback)((e,a)=>{n({...t.attrs,fullWidthBlock:void 0===a?t.attrs.fullWidthBlock:a,...e})},[t.attrs,n]),H=l||(null==s?void 0:s.width),F=!u,B=g&&g.length>0,{isFullWidth:V}=(0,uw.D)(o),W=(0,rH.yp)(V?"center":c);return(0,p.jsxs)(m.u,{...e,as:"div",children:[(0,p.jsxs)(e6.s,{dir:(0,rH.fZ)(o,c),w:"100%",className:cQ.S,css:{...W,".pptx-exporting-image":{".textbox":{visibility:"hidden"}}},sx:R,direction:"column",_focusWithin:{shadow:"outline"},onContextMenu:D,children:[(0,p.jsxs)(h.a,{ref:S,className:"diagram",borderRadius:"var(--box-border-radius)","data-content-reference":!0,"data-selection-ring":!0,"data-selection-background":!0,w:V?"calc(100% * var(--media-scale))":H?"calc(".concat(H," * var(--font-size) / 16)"):"100%",maxW:"100%",h:"auto",maxH:uv,position:"relative",minH:F?"6em":"auto","data-drag-handle":!0,children:[v&&a&&!V&&(0,p.jsx)(c$.u4,{imageWrapperRef:S,setIsResizing:I,updateResizeAttrs:O,refreshDeps:[t.attrs]}),(0,p.jsx)(uy,{svg:u,theme:A}),v&&!w&&!F&&(0,p.jsx)(h.a,{cursor:"default",position:"absolute",inset:"0",zIndex:"1",onClick:N,onDoubleClick:T}),F&&(0,p.jsxs)(eu.T,{spacing:3,justify:"center",contentEditable:!1,color:k?cq.N.DARK_COLOR:cq.N.LIGHT_COLOR,h:"7em",backgroundColor:k?cq.N.DARK_BG:cq.N.LIGHT_BG,borderRadius:"var(--box-border-radius)","data-testid":"drawing-placeholder",onDoubleClick:x?T:void 0,children:[(0,p.jsx)(E.g,{size:"2x",icon:iM.qTS}),x&&(0,p.jsx)(eZ.$,{size:"xs",onClick:T,fontFamily:"body",children:B?(0,p.jsx)(em.x6,{id:"3IPx8n"}):(0,p.jsx)(em.x6,{id:"trQ3Gx"})})]})]}),w&&(0,p.jsx)(uR,{...e,isOpen:w,isEditable:x,onClose:P,isDrawingEditorActive:C,setDrawingEditorActive:j})]}),(0,p.jsx)(lK.tz,{menuItems:z,isOpen:_.isOpen,position:_.position,onClose:M,size:"small"})]})},uz=l.bP.create({name:"diagram",group:"block",atom:!0,selectable:!0,draggable:!0,addAttributes:()=>({id:(0,lO.e)(uN),shapes:{...(0,J.tb)("shapes")},assets:{...(0,J.tb)("assets"),default:{}},meta:{...(0,J.tb)("meta"),default:{}},width:{},svg:{}}),parseHTML:()=>[{tag:"div[class=diagram]"},{tag:"diagram[bookmark]",getAttrs:Y.Ll}],renderHTMLforAI(e){let{node:t}=e;return["diagram",{bookmark:(0,Y.vL)(t)}]},renderHTML(e){let{HTMLAttributes:t}=e;return["div",(0,l.KV)(t,{class:"diagram"})]},addCommands(){let e=this.name,t=t=>{let{selection:n}=t;return n instanceof W.nh&&n.node.type.name===e?n.node:void 0};return{editSelectedDiagramBlock:()=>e=>{let{state:n}=e,a=t(n);return a&&(0,K.KA)().dispatch((0,ed.v5)({drawingId:a.attrs.id})),!0}}},addExtensions:()=>[uP],addNodeView:()=>(0,c.gu)(u_,{update:u.z0})}),uT=new W.hs("UniqueMediaId"),uN=()=>(0,dU.Ak)(5),uP=ly.S.extend({name:"UniqueDiagramId"}).configure({attributeName:"id",types:["diagram"],initialValue:uN,filterTransaction:df.kz,pluginKey:uT});var uO=n(36811);let uH=()=>(0,p.jsx)(c.VR,{as:"div",children:(0,p.jsx)(h.a,{contentEditable:!1,borderRadius:"var(--box-border-radius)","data-selection-ring":"padded","data-selection-background":!0,"data-drag-handle":!0,py:"0.25em",position:"relative",transform:"translateY(0.25em)",children:(0,p.jsx)(ew.c,{backgroundColor:"var(--body-color-muted)",height:"0.125em",opacity:1})})}),uF=/^(---|___|—-)/,uB=l.bP.create({name:"divider",group:"block cardNotesBlock",atom:!0,selectable:!0,draggable:!0,parseHTML:()=>[{tag:'hr[class="divider"]'}],renderHTML(e){let{HTMLAttributes:t}=e;return["hr",(0,l.KV)(t,{class:"divider"})]},addNodeView:()=>(0,c.gu)(uH),addInputRules(){return[(0,uO.wN)({find:uF,type:this.type})]}});var uV=n(4014),uW=n(70315);let uU=function(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0],{cardMarginSettings:t}=(0,K.GV)(ed.Uu),n=eP(t);return e&&n};var uG=n(3912);let uK=e=>{let{files:t}=e;return(0,p.jsx)(p.Fragment,{children:t.map(e=>(0,p.jsx)("link",{rel:"preload",href:e,as:"font",crossOrigin:""},e))})},uQ=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"@font-face {\n  font-family: 'Eudoxus Sans';\n  src: url('".concat(e,"/fonts/EudoxusSans-Bold.woff2') format('woff2'),\n    url('").concat(e,"/fonts/EudoxusSans-Bold.woff') format('woff');\n  font-weight: bold;\n  font-style: normal;\n  font-display: block;\n}\n@font-face {\n  font-family: 'Eudoxus Sans';\n  src: url('").concat(e,"/fonts/EudoxusSans-Regular.woff2') format('woff2'),\n    url('").concat(e,"/fonts/EudoxusSans-Regular.woff') format('woff');\n  font-weight: normal;\n  font-style: normal;\n  font-display: block;\n}\n@font-face {\n  font-family: 'Eudoxus Sans';\n  src: url('").concat(e,"/fonts/EudoxusSans-Light.woff2') format('woff2'),\n    url('").concat(e,"/fonts/EudoxusSans-Light.woff') format('woff');\n  font-weight: 300;\n  font-style: normal;\n  font-display: block;\n}\n@font-face {\n  font-family: 'Eudoxus Sans';\n  src: url('").concat(e,"/fonts/EudoxusSans-ExtraBold.woff2') format('woff2'),\n    url('").concat(e,"/fonts/EudoxusSans-ExtraBold.woff') format('woff');\n  font-weight: 800;\n  font-style: normal;\n  font-display: block;\n}\n@font-face {\n  font-family: 'Eudoxus Sans';\n  src: url('").concat(e,"/fonts/EudoxusSans-ExtraLight.woff2') format('woff2'),\n    url('").concat(e,"/fonts/EudoxusSans-ExtraLight.woff') format('woff');\n  font-weight: 200;\n  font-style: normal;\n  font-display: block;\n}\n@font-face {\n  font-family: 'Eudoxus Sans';\n  src: url('").concat(e,"/fonts/EudoxusSans-Medium.woff2') format('woff2'),\n    url('").concat(e,"/fonts/EudoxusSans-Medium.woff') format('woff');\n  font-weight: 500;\n  font-style: normal;\n  font-display: block;\n}\n")},uZ=["/fonts/EudoxusSans-Bold.woff","/fonts/EudoxusSans-Bold.woff2","/fonts/EudoxusSans-Regular.woff","/fonts/EudoxusSans-Regular.woff2","/fonts/EudoxusSans-Light.woff","/fonts/EudoxusSans-Light.woff2","/fonts/EudoxusSans-ExtraBold.woff","/fonts/EudoxusSans-ExtraBold.woff2","/fonts/EudoxusSans-ExtraLight.woff","/fonts/EudoxusSans-ExtraLight.woff2","/fonts/EudoxusSans-Medium.woff","/fonts/EudoxusSans-Medium.woff2"],uq=uZ.map(e=>"".concat(r.$.FRONTEND_URL).concat(e)),u$=e=>{let{shouldUsePublishedVersion:t}=e,n=uQ(t?r.$.FRONTEND_URL:"");return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(tl.mL,{styles:n}),(0,p.jsx)(uK,{files:t?uq:uZ})]})},uJ=e=>{let{fonts:t}=e,n=(0,dT.oR)(),a=null==t?void 0:t.find(e=>"Eudoxus Sans"===e.id),i=(0,L.useMemo)(()=>lJ()((null==t?void 0:t.filter(e=>e.url))||[],"url"),[t]);return(0,p.jsxs)(p.Fragment,{children:[a?(0,p.jsx)(u$,{shouldUsePublishedVersion:n}):null,i.map(e=>(0,p.jsx)(nf.N,{as:"link",href:e.url,rel:"stylesheet","data-gamma-font":e.id},e.url))]})},uY=e=>{let{theme:t}=e;return(0,p.jsx)(uJ,{fonts:null==t?void 0:t.fonts})};var uX=n(55616),u0=n(81136);let u1=(0,L.memo)(e=>{let{theme:t,id:n}=e,a=(0,D.Mw)(t);return(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)("filter",{id:n||"soft3d-small-inner-shadow",children:[(0,p.jsx)("feFlood",{floodColor:a?"rgba(0, 0, 0, 0.6)":"rgba(0, 0, 0, 0.15)",result:"flood1"}),(0,p.jsx)("feComposite",{operator:"out",in2:"SourceGraphic",in:"flood1",result:"composite1"}),(0,p.jsx)("feMorphology",{operator:"dilate",radius:.5,in:"composite1",result:"morphology1"}),(0,p.jsx)("feGaussianBlur",{stdDeviation:1.5,in:"morphology1",result:"blur1"}),(0,p.jsx)("feOffset",{dx:2,dy:2,in:"blur1",result:"offset1"}),(0,p.jsx)("feFlood",{floodColor:a?"rgba(255, 255, 255, 0.1)":"rgba(255, 255, 255, 0.75)",result:"flood2"}),(0,p.jsx)("feComposite",{operator:"out",in2:"SourceGraphic",in:"flood2",result:"composite2"}),(0,p.jsx)("feMorphology",{operator:"dilate",radius:.5,in:"composite2",result:"morphology2"}),(0,p.jsx)("feGaussianBlur",{stdDeviation:1.5,in:"morphology2",result:"blur2"}),(0,p.jsx)("feOffset",{dx:-2,dy:-2,in:"blur2",result:"offset2"}),(0,p.jsxs)("feMerge",{children:[(0,p.jsx)("feMergeNode",{in:"offset1"}),(0,p.jsx)("feMergeNode",{in:"offset2"})]}),(0,p.jsx)("feComposite",{operator:"atop",in2:"SourceGraphic"})]})})});u1.displayName="Soft3DSmallOuterShadow";let u2=(0,L.memo)(e=>{let{theme:t}=e,n=(0,nM.ZI)(t),a=(0,D.fQ)(t),i=(0,D.VH)(t);return(0,p.jsx)(h.a,{as:"svg",width:"0",height:"0",sx:n,children:(0,p.jsxs)("defs",{children:[(0,p.jsx)(u4,{theme:t}),(0,p.jsx)(u4,{theme:t,rtl:!0}),(0,p.jsx)(u5,{theme:t}),(0,p.jsx)(u5,{theme:t,rtl:!0}),(0,p.jsx)(u3,{color:(0,D.Ik)(i),id:"theme-accent-color-fill"}),(0,p.jsx)(u3,{color:(0,D.Ik)(a),id:"theme-body-color-fill"}),(0,p.jsx)(u9,{theme:t})]})})});u2.displayName="ThemeSVGDefs";let u4=(0,L.memo)(e=>{let{theme:t,rtl:n}=e,a=(0,D.VH)(t);return"linear-gradient"!==a.type?null:(0,p.jsx)(u6,{gradient:a,id:n?"theme-accent-gradient-linear-rtl":"theme-accent-gradient-linear",rtl:n})});u4.displayName="ThemeAccentGradientLinearDef";let u5=(0,L.memo)(e=>{let{theme:t,rtl:n}=e,a=(0,D.VH)(t),i=(0,uj.M)(t);if("linear-gradient"!==a.type)return null;let r=(0,D.Mw)(t),o=(0,D.Oq)(t),l="semi"===i.shapeFill?(0,u0.nz)(a,o,.5):a,s=(0,u0.Hh)(l,r?.25:.9);return s?(0,p.jsx)(u6,{gradient:s,id:n?"theme-accent-background-gradient-linear-rtl":"theme-accent-background-gradient-linear",rtl:n}):null});u5.displayName="ThemeAccentBackgroundGradientLinearDef";let u6=(0,L.memo)(e=>{let{gradient:t,id:n,rtl:a}=e,i=(a?180-t.angle:t.angle)*Math.PI/180,r=50+50*Math.cos(i+Math.PI),o=50+50*Math.sin(i+Math.PI),l=50+50*Math.cos(i),s=50+50*Math.sin(i);return(0,p.jsx)("linearGradient",{id:n,x1:"".concat(r,"%"),y1:"".concat(o,"%"),x2:"".concat(l,"%"),y2:"".concat(s,"%"),children:t.stops.map((e,t)=>{let{color:n,position:a}=e;return(0,p.jsx)("stop",{offset:"".concat(a,"%"),stopColor:n},t)})})});u6.displayName="LinearGradientDef";let u3=(0,L.memo)(e=>{let{color:t,id:n}=e;return t?(0,p.jsxs)("filter",{id:n,children:[(0,p.jsx)("feFlood",{floodColor:t,result:"flood"}),(0,p.jsx)("feComposite",{in:"flood",in2:"SourceAlpha",operator:"in"})]}):null});u3.displayName="ColorFillDef";let u9=(0,L.memo)(e=>{let{theme:t}=e,n=(0,uj.M)(t);return(0,p.jsx)(p.Fragment,{children:"soft3d"===n.shapeShadow&&(0,p.jsx)(u1,{theme:t,id:"theme-shape-shadow"})})});u9.displayName="ThemesV3SVGDefs";let u7=()=>(0,es.FX)()?1:1.125;var u8=n(39385);let pe=e=>e.state.selection instanceof W.nh&&(0,u8.J)(e.state.selection.node)?void e.chain().focus(e.state.selection.from).blur().run():e.commands.blur();var pt=n(21290),pn=n(34807);let pa=()=>{let e=(0,K.GV)(ed.wC)===r3.w.SLIDE_VIEW,{src:t,width:n,height:a,paddingY:i,paddingX:r}=pc();if(!t)return null;let o=(0,nN.Ub)(t,nN.oc),l=e?{position:"absolute",right:"".concat(r,"px"),top:"".concat(i,"px"),justify:"end",align:"start",width:"".concat(n,"px"),height:"".concat(a,"px")}:{position:"sticky",left:"".concat(r,"px"),top:"calc(100% - ".concat(a,"px - ").concat(i,"px)"),justify:"start",width:"".concat(n,"px"),height:"".concat(a,"px")};return(0,p.jsx)(e6.s,{...l,className:"logo",zIndex:nl.$.customerLogo,borderRadius:"md",contentEditable:!1,userSelect:"none",children:(0,p.jsx)(tk._,{src:o,maxH:"100%",maxW:"100%",transitionProperty:"width, height",transitionDuration:"normal",pointerEvents:"none","data-testid":"customer-logo","data-customer-logo-image":!0,objectFit:"contain",objectPosition:e?"top right":"bottom left"})})},pi=()=>{let{src:e,width:t,height:n}=pr((0,K.GV)(ed.SJ),pd);if(!e)return null;let a=(0,nN.Ub)(e,nN.oc);return(0,p.jsx)(e6.s,{w:"100%",justify:"center",align:"center",mt:6,mb:8,"data-id":"customer-logo-wrapper",children:(0,p.jsx)(tk._,{src:a,w:"".concat(t,"px"),zIndex:nl.$.customerLogo,h:"".concat(n,"px"),transitionProperty:"width, height",transitionDuration:"normal",pointerEvents:"none",objectFit:"contain",objectPosition:"bottom"})})},pr=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ps,n=1,a=e.logoUrl,{logoImage:i}=e.config;if(i&&i.meta){var r;n=ty()(i.meta.aspect_ratio||i.meta.width/i.meta.height,.5,3),a=null!=(r=i.src)?r:a}if(!a)return{width:0,height:0,paddingY:0,paddingX:0};let o=Math.sqrt(t/n),l=t>8e3?30:t>5e3?24:18;return{width:Math.round(o*n),height:Math.round(o),paddingY:l,paddingX:l,src:a}},po={base:900,lg:2500,xl:4900,"2xl":8100,"3xl":1e4},pl={base:1600,md:2500,lg:4225,xl:7225,"2xl":9025,"4xl":12100},ps=4900,pd=5625,pc=()=>{let e=(0,K.GV)(ed.wC)===r3.w.SLIDE_VIEW,t=(0,pn.A)(e?pl:po),n=ec.rS?ps:ec.hQ?8100:t,a=(0,K.GV)(ed.SJ),i=(0,es.FX)();return{...pr(a,n),position:e?"top-right":i?"bottom":"bottom-left"}},pu=e=>(0,K.GV)(t=>{if((0,ed.wC)(t)!==r3.w.SLIDE_VIEW)return null;let n=(0,ed.FI)(t);if(!n||!(null==n?void 0:n.cardId))return null;let[a]=(0,l.xe)(e.state.doc,e=>(0,Q.jg)(e)&&e.attrs.id===n.cardId);if(!a)return console.warn("[usePresentingCardBackground] Unexpectedly couldnt find presentingCard ".concat(n.cardId)),null;let i=(0,J.TK)(e.state.doc.resolve(a.pos+1),e=>(0,Q.jg)(e)&&e.attrs.background&&!e.attrs.background.inside).pop();return i?i.node.attrs.background:(console.warn("[usePresentingCardBackground] Unexpectedly couldnt find card at pos ".concat(a.pos)),null)},lb());var pp=n(29143);let ph=(0,cp.P)(h.a),pm=(e,t)=>{let n=!!(e&&t),a=!!(e&&!t),i=!!(!e&&t),r=(0,L.useRef)(n);return(0,L.useEffect)(()=>{r.current=n},[n,!!(!e&&!t)]),[a||i?r.current:n,n]},pg=e=>{let{editor:t,node:n,updateAttributes:a}=e,i=(0,om.d4)(ed.wC),r=(0,K.GV)(ed.nD),o=(0,om.d4)(ed.cS),l=(0,om.d4)(ed.$i),s=(0,K.GV)(ed.SJ),d=i===r3.w.SLIDE_VIEW,u=pu(t),{background:m}=n.attrs,g=(0,es.FX)(),x=u7(),[f,b]=pm(d,l);(0,L.useEffect)(()=>{!n.attrs.docId&&t.gammaDocId&&a({...n.attrs,docId:t.gammaDocId})},[n.attrs,t,a]);let v=(0,uX.S)(s,r),y=(0,D.Mw)(s),w=(0,q.fS)(s,m),C=(0,q.FD)(w,y,t.isThumbnail?nN.p7:void 0),j=(0,q.FD)(d&&u&&u.type!==Z.h.NONE?u:w,y,t.isThumbnail?nN.p7:void 0);console.debug("%c[DocComponent] Doc is rerendering","background-color: chartreuse",{isPresentModeReady:b,isPresentModeReadyLagging:f,presentingCardId:l});let A=pc(),k={width:"100%",'[data-animate-value="doc"]':{display:f?"none":void 0},...A.src&&d?{"--logo-push-x":"".concat(A.width+2*A.paddingX,"px"),"--logo-push-y":"".concat(A.height+2*A.paddingY,"px")}:void 0},S=(0,L.useCallback)(e=>{let n=e.target;return(!n.closest(".".concat(el.p$))||!!n.getAttribute("data-outside-card-body"))&&(pe(t),!0)},[t]);(0,L.useEffect)(()=>uG.WC.on("keydown","DOC_BLUR",e=>!!(0,uW.Ay)("Esc")(e)&&!!t.isFocused&&(t.commands.blur(),e.preventDefault(),!0)),[t]);let E=(0,es.UT)("comment"),R=uU(!g),M=!g&&!d&&!R,_=(0,t8.u)("insertWidgetBottom")?pt.PX:pt.C9;return(0,p.jsxs)(c.VR,{as:"div","data-testid":"doc-node-root",style:{height:"100%"},children:[(0,p.jsx)(uY,{theme:s}),(0,p.jsx)(u2,{theme:s}),(0,p.jsx)(h.a,{onMouseDown:S,h:"100%",children:(0,p.jsxs)(e6.s,{className:"doc-content-wrapper",direction:"column",align:"center",pos:"relative",pb:g||d||!E?"0px":o?pt.bc:_,sx:v,onDragOver:nC.JO,minH:pp.env.STORYBOOK?"auto":"calc(var(--100vh) - var(--editor-padding-top, 0px))",children:[(0,p.jsx)(px,{...C}),M&&(0,p.jsx)(e6.s,{alignSelf:"start",pos:"absolute",inset:"0",h:"100%",children:(0,p.jsx)(pa,{})}),(0,p.jsx)(uV.N,{children:(0,p.jsx)(ph,{className:"motion-present-mode-bg","data-doc-background-element-present-mode":!0,"data-export-master":!0,position:"fixed",zIndex:nl.$.presentBg,top:0,left:0,right:0,h:"100%",initial:{opacity:0},animate:{opacity:1},exit:{opacity:1},visibility:b?"visible":"hidden",transition:el.Dt,css:ec.D1?void 0:{scrollbarGutter:"stable",overflow:"scroll"},...j},"presenting-background-"+l)}),(0,p.jsx)(e6.s,{sx:k,justify:"center",className:(0,I.cx)("document-content",d?"is-present-mode":"is-doc-mode"),css:{"--viewport-scale-factor":"".concat(x)},pt:"var(--doc-padding-top)",children:(0,p.jsx)(c.$p,{style:{width:"100%"}})}),g&&(0,p.jsx)(pi,{})]})})]})},px=e=>{let t=(0,es.FX)(),n=(0,op.mG)()||t,a=(0,op.mG)()?{style:{touchAction:"none",display:"contents"}}:{};return(0,p.jsx)(e6.s,{"data-doc-background-element":!0,position:"absolute",w:"var(--editor-width)",h:"100%",contentEditable:!1,userSelect:"none",clipPath:"inset(0)",top:0,left:0,...a,children:(0,p.jsx)(h.a,{"data-testid":"doc-background",width:"100%",height:"100%",position:"fixed",...n?{top:"0px"}:{},...e})})};var pf=n(92828);let pb=l.bP.create({name:"doc",topNode:!0,content:"document"}),pv=l.bP.create({name:"document",content:"card+",isolating:!0,defining:!0,selectable:!1,addAttributes:()=>({aiOptions:{default:pf.C.aiOptions,...(0,J.tb)("aiOptions")},docId:{},background:{default:pf.C.background,...(0,J.tb)("background")},docFlags:{default:pf.C.docFlags,...(0,J.tb)("docFlags")},format:{},customCode:{default:pf.C.customCode,...(0,J.tb)("customCode")},settings:{default:pf.C.settings,...(0,J.tb)("settings")},generateStatus:{default:pf.C.generateStatus},generateInfo:{default:pf.C.generateInfo,...(0,J.tb)("generateInfo")}}),addCommands:()=>({updateDocumentSettings:e=>t=>{let{commands:n}=t;return n.updateNestedAttributesAtPos(0,{settings:e})}}),addNodeView:()=>(0,c.gu)(pg,{update:u.z0,ignoreMutation:e=>{let{mutation:t}=e,n=t.target instanceof HTMLElement?t.target:t.target.parentElement,a="selection"!==t.type&&py(n);return console.debug("[Document.ignoreMutation] isMutationOutsideDocContent:",a),!!a}}),parseHTML:()=>[{tag:"div[class=gamma-doc]"}],renderHTML(e){let{HTMLAttributes:t}=e;return["div",(0,l.KV)(t,{class:"gamma-doc"}),0]}}),py=e=>{let t=null==e?void 0:e.parentElement;return!!t&&!t.closest(".document-content")};var pw=n(47687),pC=n.n(pw),pj=n(39822),pA=n(46510),pk=n(19297),pS=n(55424),pI=n(90278),pE=n(8376);class pL{destroy(){this.handlers.forEach(e=>{let{name:t,handler:n}=e;return this.editorView.dom.removeEventListener(t,n)})}update(e,t){null!=this.cursor&&t.doc!=e.state.doc&&(this.cursor.pos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){var t,n,a,i,r;(((null==e?void 0:e.pos)||null)!=(null==(t=this.cursor)?void 0:t.pos)||(null==e?void 0:e.type)!=(null==(n=this.cursor)?void 0:n.type)||(null==e?void 0:e.side)!=(null==(a=this.cursor)?void 0:a.side))&&(this.cursor=e,null==e?(null==(r=this.element)||null==(i=r.parentNode)||i.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){var e;let t,n;if(null==this.cursor||!this.editorView)return;let a=this.editorView.state.doc.resolve(this.cursor.pos),i,r=()=>"";if("gallery"==this.cursor.type&&(null==(e=this.cursor.node)?void 0:e.type.name)!=="gallery")i=this.cursor.rect,r=()=>e4.Ru._({id:"pl+vw2"});else if("blankRect"==this.cursor.type)i=this.cursor.rect,r=()=>"";else if("smartLayoutVariant"==this.cursor.type)i=this.cursor.rect,r=()=>e4.Ru._({id:"hErHGD"});else if("column"==this.cursor.type||"gallery"==this.cursor.type||"smartLayout"==this.cursor.type){let e=this.cursor.rect;if(!e)return;let t="right"==this.cursor.side||"bottom"==this.cursor.side,n=t?a.nodeAfter:a.nodeBefore,r=n&&((0,pk.NJ)(n)||(0,pS.q)(n))?0:this.width;if("right"==this.cursor.side||"left"==this.cursor.side){let n=t?e.right+r:e.left-r;i={top:e.top,bottom:e.bottom,left:n-this.width/2,right:n+this.width/2}}else{let n=t?e.bottom+r:e.top-r;i={left:e.left,right:e.right,top:n-this.width/2,bottom:n+this.width/2}}}else if(!a.parent.inlineContent){let e=a.nodeBefore,t=a.nodeAfter;if(e||t){let n=this.editorView.nodeDOM(this.cursor.pos-(e?e.nodeSize:0));if(!n||!(n instanceof Element))return;let a=n.getBoundingClientRect(),r=e?a.bottom:a.top;e&&t&&(r=(r+this.editorView.nodeDOM(this.cursor.pos).getBoundingClientRect().top)/2),i={left:a.left,right:a.right,top:r-this.width/2,bottom:r+this.width/2}}}if(!i){let e=this.editorView.coordsAtPos(this.cursor.pos);i={left:e.left-this.width/2,right:e.left+this.width/2,top:e.top,bottom:e.bottom}}let o=this.editorView.dom.offsetParent;if(this.element||(this.element=o.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none; background-color: "+this.color),o&&(o!=document.body||"static"!=getComputedStyle(o).position)){let e=o.getBoundingClientRect();t=e.left-o.scrollLeft,n=e.top-o.scrollTop}else t=-pageXOffset,n=-pageYOffset;this.element.style.left=i.left-t+"px",this.element.style.top=i.top-n+"px",this.element.style.width=i.right-i.left+"px",this.element.style.height=i.bottom-i.top+"px",this.element.dataset.type=this.cursor.type,this.element.innerHTML=r()}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){var t,n,a,i,r,o,l,s,d,c;if(!this.editorView.editable)return;let u=(0,pj.nA)(this.editorView,e,null==(t=this.editorView.dragging)?void 0:t.slice);if(u){this.setCursor({...u,type:"blankRect"}),this.scheduleRemoval(5e3);return}let p=(0,pI.fc)(this.editorView,e,null==(n=this.editorView.dragging)?void 0:n.slice);if(p){this.setCursor({...p,type:"blankRect"}),this.scheduleRemoval(5e3);return}if((0,pA.Vk)(this.editorView,e,null==(a=this.editorView.dragging)?void 0:a.slice))return void this.scheduleRemoval(20);let h=(0,uD.tz)(this.editorView,e,null==(i=this.editorView.dragging)?void 0:i.slice,!this.editorView.dragging);if(h){this.setCursor({...h,type:"gallery"}),this.scheduleRemoval(5e3);return}let m=(0,pk.ds)(this.editorView,e,null==(r=this.editorView.dragging)?void 0:r.slice);if(m){this.setCursor({...m,type:"column"}),this.scheduleRemoval(5e3);return}let g=(0,pj.ZL)(this.editorView,e,null==(o=this.editorView.dragging)?void 0:o.slice);if(g){this.setCursor({...g,type:"blankRect"}),this.scheduleRemoval(5e3);return}let x=(0,pI.TS)(this.editorView,e,null==(l=this.editorView.dragging)?void 0:l.slice);if(x){this.setCursor({...x,type:"smartLayoutVariant"}),this.scheduleRemoval(5e3);return}let f=(0,pI.eL)(this.editorView,e,null==(s=this.editorView.dragging)?void 0:s.slice);if(f){this.setCursor({...f,type:"smartLayout"}),this.scheduleRemoval(5e3);return}let b=(0,a6.M7)(this.editorView,e,null==(d=this.editorView.dragging)?void 0:d.slice);if(b){this.setCursor({pos:b.pos,type:"default"}),this.scheduleRemoval(5e3);return}let v=(0,pE.M)(this.editorView,e,null==(c=this.editorView.dragging)?void 0:c.slice);null===v?this.setCursor(null):(this.setCursor({pos:v,type:"default"}),this.scheduleRemoval(5e3))}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){e.target!=this.editorView.dom&&this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}constructor(e,t){this.cursor=null,this.element=null,this.timeout=null,this.editorView=e,this.width=t.width||1,this.color=t.color||"black",this.class=t.class,this.handlers=["dragover","dragend","drop","dragleave"].map(t=>{let n=e=>this[t](e);return e.dom.addEventListener(t,n),{name:t,handler:n}}),this.dragover=pC()(this.dragover,100,{trailing:!1}).bind(this)}}let pR=l.YY.create({name:"dropCursor",addOptions:()=>({color:"currentColor",width:1,class:null}),addProseMirrorPlugins(){return[function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new W.k_({key:new W.hs("dropCursor"),view:t=>new pL(t,e)})}(this.options)]}}).configure({color:"var(--chakra-ring-color)",width:3,class:"ProseMirror-dropcursor"});var pD=n(93766),pM=n(34806);let p_=e=>{let{svg:t,isDark:n,font:a}=e,i=(0,L.useMemo)(()=>(0,pM.k)(n),[n]),r=(0,L.useMemo)(()=>(0,pM.I)(a),[a]);return t?(0,p.jsx)(h.a,{dangerouslySetInnerHTML:{__html:t},"data-testid":"drawing-svg",sx:{svg:{width:"100%",height:"auto",text:r,...i}}}):null};var pz=n(81089);let pT=["tl-centered-g"],pN=async e=>{let t=await e.getSvg(e.shapes.map(e=>e.id),{padding:1});if(t)return pT.forEach(e=>{var n;null==(n=t.querySelector(".".concat(e)))||n.classList.remove(e)}),t.querySelectorAll(":not(mask)[id]").forEach(e=>e.removeAttribute("id")),t},pP=e=>{let{isOpen:t,isEditable:n,onClose:a,font:i,isDark:r,isDrawingEditorActive:o,setDrawingEditorActive:l,...s}=e,{node:d,updateAttributes:c}=s,{page:u,assets:h}=d.attrs,[m,g]=(0,L.useState)();(0,L.useEffect)(()=>{(0,uC.IN)(m,u,h)},[u,h,m,c]);let x=(0,L.useCallback)(e=>{g(e),window.tldrawEditor=e,(0,uC.Wp)(e,!0)},[]),f=(0,L.useCallback)(async()=>{if(!m)return;let e=await pN(m);if(!e)return;c({svg:e.outerHTML});let t=JSON.stringify({page:m.document.pages.page,assets:m.document.assets});console.debug("[DrawingEditor] Generated SVG",{svgSize:e.outerHTML.length,jsonSize:t.length,svgEl:e})},[m,c]),b=(0,L.useCallback)(()=>{m&&c({page:m.document.pages.page,assets:m.document.assets})},[c,m]),v=(0,eD.lW)(b,500),y=(0,L.useCallback)(()=>{n&&f(),l(!1),a()},[a,f,l,n]);return(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)(eh._s,{placement:"bottom",onClose:y,isOpen:t,trapFocus:!0,isFullHeight:!0,returnFocusOnClose:!1,children:[(0,p.jsx)(eh.QP,{}),(0,p.jsxs)(eh.zj,{borderTopRadius:"xl",h:"calc(var(--100vh) - 24px)",onAnimationComplete:e=>{"enter"==e&&l(!0)},transition:{enter:{duration:.4}},children:[(0,p.jsx)(eh.ys,{p:0,h:"100%",overflow:"hidden","data-testid":"drawing-editor-body",children:o?(0,p.jsx)(pz.UG,{readOnly:!n,showPages:!1,onMount:x,onChangePage:n?v:void 0,autofocus:!1,isDark:r,font:i}):(0,p.jsx)(e6.s,{align:"center",justify:"center",w:"100%",h:"100%",children:(0,p.jsx)(tS.y,{size:"xl"})})}),(0,p.jsx)(eh.s1,{zIndex:2,backgroundColor:"white","data-testid":"drawing-editor-close"})]})]})})},pO=(0,cp.P)(h.a),pH=e=>{let{node:t,updateAttributes:n,selected:a,editor:i,getPos:r,decorations:o}=e,{width:l,meta:s,id:d,horizontalAlign:c,svg:u,page:g}=t.attrs,x=(0,K.GV)(ed.Cl),f=(0,K.GV)(ed.Ik),b=(0,es.CJ)(i),v=x&&b&&f,y=(0,K.GV)(ed.Xu),w=!!y&&y===d,[C,j]=(0,L.useState)(!1),A=(0,K.GV)(ed.SJ),{isDark:k}=(0,n_.mm)(A),S=(0,nM.ZI)(A)["--body-font"],{ref:I,setIsResizing:R,resizeableSx:D,onLayoutAnimationStart:M,onLayoutAnimationComplete:_}=(0,c$.Y3)(i),z=(0,L.useCallback)(()=>{(0,uC.CD)(d,!0)},[d]),T=(0,L.useCallback)(()=>{i.chain().setNodeSelection(r()).focus().run()},[i,r]),N=(0,L.useCallback)(()=>{(0,uC.CD)(null,!1)},[]),P=(0,L.useCallback)((e,a)=>{n({...t.attrs,fullWidthBlock:void 0===a?t.attrs.fullWidthBlock:a,...e})},[t.attrs,n]),O=l||(null==s?void 0:s.width),H=!u,F=g&&Object.keys(g.shapes).length>0,{isFullWidth:B}=(0,uw.D)(o),V=(0,rH.yp)(B?"center":c);return(0,p.jsx)(m.u,{...e,as:"div",children:(0,p.jsxs)(e6.s,{w:"100%",className:cQ.S,css:V,sx:D,direction:"column",_focusWithin:{shadow:"outline"},children:[(0,p.jsxs)(pO,{ref:I,className:"drawing",borderRadius:"var(--box-border-radius)","data-content-reference":!0,"data-selection-ring":!0,"data-selection-background":!0,w:B?"100%":O?"calc(".concat(O," * var(--font-size) / 16)"):"100%",maxW:"100%",h:"auto",position:"relative",layout:!0,layoutDependency:c,transition:{duration:.15},onLayoutAnimationStart:M,onLayoutAnimationComplete:_,minH:H?"6em":"auto","data-drag-handle":!0,children:[v&&a&&!B&&(0,p.jsx)(c$.u4,{imageWrapperRef:I,setIsResizing:R,updateResizeAttrs:P,refreshDeps:[t.attrs]}),!C&&(0,p.jsx)(p_,{font:S,svg:u,isDark:k}),v&&!w&&!H&&(0,p.jsx)(h.a,{cursor:"default",position:"absolute",inset:"0",zIndex:"1",onClick:T,onDoubleClick:z}),H&&(0,p.jsxs)(eu.T,{spacing:3,justify:"center",contentEditable:!1,color:"gray.400",h:32,backgroundColor:"blackAlpha.50",borderRadius:"var(--box-border-radius)","data-testid":"drawing-placeholder",children:[(0,p.jsx)(E.g,{size:"2x",icon:e1.qTS}),x&&(0,p.jsx)(eZ.$,{size:"xs",onClick:z,children:F?"Open diagram":"Add diagram"})]})]}),w&&(0,p.jsx)(pP,{...e,isOpen:w,isEditable:x,onClose:N,isDark:k,font:S,isDrawingEditorActive:C,setDrawingEditorActive:j})]})})},pF=new W.hs("UniqueMediaId"),pB=ly.S.extend({name:"UniqueDrawingId"}).configure({attributeName:"id",types:["drawing"],initialValue:uC.rZ,filterTransaction:df.kz,pluginKey:pF}),pV=l.bP.create({name:"drawing",group:"block",atom:!0,selectable:!0,draggable:!0,addAttributes:()=>({id:(0,lO.e)(uC.rZ),page:{...(0,J.tb)("page")},assets:{...(0,J.tb)("assets"),default:{}},meta:{...(0,J.tb)("meta"),default:{}},fullWidthBlock:{default:!1},width:{},svg:{}}),parseHTML:()=>[{tag:"div[class=drawing]"},{tag:"tldraw",getAttrs:e=>{try{let t=new pD.mf,n=JSON.parse(e.innerHTML);return t.insertContent(n,{select:!1}),{page:t.document.pages[t.currentPageId],assets:t.assets}}catch(t){return console.error("(caught) Error parsing Tldraw paste",t,e.innerHTML),!1}}},{tag:"drawing[bookmark]",getAttrs:Y.Ll}],renderHTMLforAI(e){let{node:t}=e;return["drawing",{bookmark:(0,Y.vL)(t)}]},renderHTML(e){let{HTMLAttributes:t}=e;return["div",(0,l.KV)(t,{class:"drawing"})]},addCommands(){this.name;let e=e=>{let{selection:t}=e;return t instanceof W.nh&&("drawing"===t.node.type.name||"diagram"===t.node.type.name)?t.node:void 0};return{editSelectedDrawingBlock:()=>t=>{let{state:n}=t,a=e(n);return a&&(0,K.KA)().dispatch((0,ed.v5)({drawingId:a.attrs.id})),!0}}},addExtensions:()=>[pB],addNodeView:()=>(0,c.gu)(pH,{update:u.z0})}),pW=l.YY.create({name:"dynamicNodes",extendNodeSchema(e){var t;return{dynamic:null!=(t=(0,l.gk)((0,l.iI)(e,"dynamic",e)))&&t}}}),pU=l.YY.create({name:"fixRequiredAttrs",onBeforeCreate(){Object.values(this.editor.schema.nodes).forEach(e=>{Object.values(e.attrs||{}).forEach(e=>{void 0===e.default&&(e.hasDefault=!1)})})}});var pG=n(12117),pK=n(87379),pQ=n(89603);let pZ=e=>{if("footnote"!==e.$anchor.doc.type.name&&!e.empty&&!(0,pQ.uI)(e)&&(0,l.eE)(e)){let e=(0,pQ.bk)();if(!e)return;let t=document.querySelector('[data-footnote-popover-id="'.concat(e,'"] .ProseMirror'));t&&t.contains(document.activeElement)||(0,pQ.Wj)(null,!1)}},pq=(e,t,n,a)=>{if(!e.some(e=>e.docChanged))return;let{doc:i}=n,r=[],o=[];i.nodesBetween(0,n.doc.content.size,(e,t,n)=>{"footnote"===e.type.name&&r.push({from:t,to:t+e.nodeSize,node:e,parent:n}),e.marks.forEach(a=>{"footnoteLabel"===a.type.name&&o.push({from:t,to:t+e.nodeSize,mark:a,parent:n})})}),o.filter(e=>{let{mark:t,parent:n}=e;return!r.find(e=>{let{node:a,parent:i}=e;return a.attrs.noteId===t.attrs.noteId&&i===n})}).forEach(e=>{let{from:t,to:n,mark:i}=e;return a.removeMark(t,n,i)});let s=e=>(0,l.I2)("footnoteLabel",n.schema).create({noteId:e});o.filter(e=>{let{mark:t}=e;return!t.attrs.noteId}).forEach(e=>{let{mark:t,from:n,to:i}=e,l=r.find(e=>{let{node:t,from:n}=e,a=n>=i,r=!o.find(e=>{let{mark:n}=e;return n.attrs.noteId==t.attrs.noteId});return a&&r});l&&a.removeMark(n,i,t).addMark(n,i,s(l.node.attrs.noteId))}),Object.entries(iy()(r,e=>{let{node:t}=e;return t.attrs.noteId})).forEach(e=>{let[t,n]=e;if(1==n.length||!t)return;let i=o.filter(e=>{let{mark:n}=e;return n.attrs.noteId===t});n.slice(1).forEach((e,t)=>{let{from:n}=e,r=(0,pQ.pN)();a.setNodeMarkup(n,void 0,{noteId:r});let o=i[t+1];o&&(a.removeMark(o.from,o.to,o.mark),a.addMark(o.from,o.to,s(r)))})})},p$=new W.k_({key:new W.hs("footnote"),appendTransaction:(e,t,n)=>{let{selection:a}=n;a.eq(t.selection)||pZ(a);let i=n.tr;return((0,db.z)(e,t,n,i),pq(e,t,n,i),i.docChanged)?(console.debug("[FootnotePlugin] Applied steps",i.steps),i):null}});var pJ=n(88136),pY=n(15253),pX=n(28543),p0=n(49251),p1=n(36464),p2=n(6046);let p4=(e,t,n)=>{let a=(0,K.GV)(ed.DH);(0,ng.j)({ref:n,enabled:!!(n&&a===t),handler(e){var t,n;(null==(t=e.target)?void 0:t.closest("[data-footnote-view]"))||(null==(n=e.target)?void 0:n.closest("[data-footnote-label]"))||i(!1)}});let i=(0,L.useCallback)(n=>{var i,r;let o=e.state.selection,s=(0,l.eE)(o)&&!o.empty,d=(null==(i=document.activeElement)?void 0:i.closest(".footnote-popover"))||!!(null==(r=document.activeElement)?void 0:r.closest("[data-in-editor-focus]")),c=void 0!==n?n:a!==t;d||(c&&!s?(0,pQ.N3)(t,!0):!1===c&&(0,pQ.N3)(t,!1))},[e.state.selection,a,t]);return{onClick:i}},p5=e=>{let{node:t,editor:n,innerEditor:a,selected:i}=e,{noteId:r}=t.attrs,o=(0,L.useRef)(null),l=(0,K.GV)(ed.DH),s=(0,K.GV)(ed.Cl),d=(0,dT.oR)(),{onClick:u}=p4(n,r,o);(0,L.useEffect)(()=>{a&&a.setEditable(s)},[s,a]);let m=!!l&&l===r,g=(0,L.useCallback)(()=>(0,pQ.Wj)(r,!1),[r]);(0,L.useEffect)(()=>{if(!a)return;let e=()=>{setTimeout(()=>{(0,J.We)(a)||g()},20)};return a.on("blur",e),()=>{a.off("blur",e)}},[a,g]);let x=!(0,oB.NO)(n),f=(0,L.useCallback)(()=>{x&&u()},[x,u]);return(0,p.jsx)(c.VR,{as:"span","data-testid":"footnote-nodeview-wrapper",children:(0,p.jsxs)(tg.A,{isOpen:m,onClose:g,placement:"top",gutter:8,isLazy:!0,lazyBehavior:"unmount",autoFocus:!1,closeOnBlur:!1,closeOnEsc:!1,returnFocusOnClose:!1,children:[(0,p.jsx)(tx.W,{children:(0,p.jsx)(S.E,{as:"span",onClick:f,_after:{content:"counter(footnote)",counterIncrement:"footnote",position:"relative",bottom:"0.6em",fontSize:"0.8em",shadow:i&&x?"outline":void 0,borderRadius:"sm"},pl:"1px",className:"footnote",contentEditable:!1,"data-footnote-view":!0,cursor:x?"pointer":void 0})}),x&&(0,p.jsx)(nx.Z,{children:(0,p.jsxs)(tf.h,{zIndex:"popover",shadow:"md",borderRadius:"md",border:"1px solid",borderColor:"gray.200",w:"500px",maxW:"100vw","data-footnote-popover-test-id":r,p:0,ref:o,children:[(0,p.jsx)(pJ.R,{}),(0,p.jsx)(tb.e,{position:"relative",zIndex:"1",p:0,className:"footnote-popover","data-footnote-popover-id":r,children:d?(0,p.jsx)(p9,{...e,onClose:g}):(0,p.jsx)(p3,{...e,editable:s,onClose:g})}),(0,p.jsx)(h.a,{position:"absolute",top:"-".concat(8,"px"),bottom:"-".concat(8,"px"),left:0,right:0,zIndex:"0"})]})})]})})},p6=lG()({},pX.q,{".ProseMirror":{px:8,py:4,overflow:"hidden auto",maxH:"300px",maxW:"100%",borderRadius:"md"}}),p3=e=>{let{editor:t,innerEditor:n,mountEditor:a,destroyEditor:i,node:r,editable:o,getPos:s,onClose:d}=e,{noteId:c}=r.attrs,u=(0,L.useCallback)(()=>t.commands.convertNoteToCard(c),[t,c]),m=(0,L.useCallback)(()=>{t.chain().focus().setNodeSelection(s()).deleteSelection().run()},[t,s]);(0,L.useEffect)(()=>{if(a&&i)return a(),()=>{i()}},[a,i]);let g=(0,K.GV)(ed.SJ),x=(0,nM.ZI)(g,"#FFFFFF");if(!n)return null;let f=(0,l.xe)(t.state.doc,e=>e.marks.some(e=>"footnoteLabel"===e.type.name&&e.attrs.noteId===c)).length>0;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(h.a,{className:el._P,sx:p6,position:"relative",_focusWithin:{shadow:o?"outline":void 0},borderRadius:"md",css:x,children:[(0,p.jsx)(p2.$,{editor:n,className:"highlight-mask"}),(0,p.jsx)(p0.G,{editor:n}),(0,p.jsxs)(tN.e,{size:"sm",colorScheme:"gray",variant:"ghost",position:"absolute",right:4,top:2,onMouseDown:nC.Fw,spacing:0,children:[o&&(0,p.jsxs)(eq.W,{autoSelect:!1,isLazy:!0,children:[(0,p.jsx)(e$.I,{as:eJ.K,icon:(0,p.jsx)(E.g,{icon:e1.Dwc}),minW:6,h:6,isRound:!0,backgroundColor:"white"}),(0,p.jsx)(nx.Z,{children:(0,p.jsxs)(eY.c,{"data-in-editor-focus":!0,zIndex:"dropdown",children:[f&&(0,p.jsx)(e0.D,{icon:(0,p.jsxs)("span",{className:"fa-layers fa-fw",children:[(0,p.jsx)(E.g,{icon:eL.vti,fixedWidth:!0}),(0,p.jsx)(E.g,{icon:eL.dmS,inverse:!0,transform:"shrink-8"})]}),onClick:u,children:(0,p.jsx)(em.x6,{id:"p/s15o"})}),(0,p.jsx)(e0.D,{icon:(0,p.jsx)(E.g,{icon:e1.yLS,fixedWidth:!0}),color:"red.500",onClick:m,children:(0,p.jsx)(em.x6,{id:"sHHbXH"})})]})})]}),(0,p.jsx)(eJ.K,{"aria-label":e4.Ru._({id:"j+JKcM"}),icon:(0,p.jsx)(E.g,{icon:e1.GRI}),minW:6,h:6,isRound:!0,onClick:d,backgroundColor:"white"})]})]}),(0,p.jsx)(p1.Ht,{editor:n})]})},p9=e=>{let{mountEditor:t,destroyEditor:n,onClose:a}=e,i=(0,L.useMemo)(()=>{if(t)return t()},[t]);(0,L.useEffect)(()=>{if(n)return()=>n()},[n]);let r=(0,K.GV)(ed.SJ),o=(0,nM.ZI)(r,"#FFFFFF");return i?(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)(h.a,{className:el._P,sx:p6,position:"relative",borderRadius:"md",css:o,children:[(0,p.jsx)(pY.N,{editor:i}),(0,p.jsx)(tN.e,{size:"sm",colorScheme:"gray",variant:"ghost",position:"absolute",right:4,top:2,onMouseDown:nC.Fw,spacing:0,children:(0,p.jsx)(eJ.K,{"aria-label":e4.Ru._({id:"j+JKcM"}),icon:(0,p.jsx)(E.g,{icon:e1.GRI}),minW:6,h:6,isRound:!0,onClick:a,backgroundColor:"white"})})]})}):null};var p7=n(65674);let p8=l.CU.create({name:"footnoteLabel",inclusive:!1,excludes:"link underline",priority:X.y.FootnoteLabel,parseHTML:()=>[{tag:"span[class=footnote-label][bookmark]",getAttrs:Y.Ll},{tag:"span[class=footnote-label]"}],renderHTML(e){let{HTMLAttributes:t}=e;return["span",(0,l.KV)(t,{class:"footnote-label"}),0]},renderHTMLforAI(e){let{mark:t}=e;return["span",{class:"footnote-label",bookmark:(0,Y.vL)(t)},0]},addAttributes:()=>({noteId:{rendered:!1}}),addProseMirrorPlugins(){return[(0,p7.f)(this,he)]}}),he=e=>{let{node:t,editor:n,children:a}=e,{noteId:i}=t.attrs,r=(0,dT.oR)(),{onClick:o}=p4(n,i),l=!(0,oB.NO)(n),s=(0,L.useCallback)(()=>{l&&o()},[l,o]);return(0,p.jsx)(c.VR,{as:"span",className:"footnote-label-view",children:(0,p.jsx)(S.E,{as:"span",className:"footnote-label",onClick:s,"data-footnote-label":!0,cursor:l?"pointer":void 0,children:r?a:(0,p.jsx)(c.$p,{as:"span"})})})},ht=/(?:^|\s)((?:\^)((?:[^^]+))(?:\^))$/,hn=l.bP.create({name:"footnote",content:"(block | footnoteBlock)+",group:"inline",atom:!0,inline:!0,priority:X.y.Footnote,parseHTML:()=>[{tag:"span[class=footnote]",getContent:(e,t)=>aE.FK.fromJSON(t,JSON.parse(e.getAttribute("data-content")||"{}"))},{tag:"div[class=imported-footnote]"},{tag:"footnote[bookmark]",getAttrs:Y.Ll,getContent:Y.cn}],renderHTML(e){let{node:t,HTMLAttributes:n}=e;return["span",(0,l.KV)(n,{class:"footnote","data-content":JSON.stringify(t.content.toJSON())})]},renderHTMLforAI(e){let{node:t}=e;return["footnote",{bookmark:(0,Y.vL)(t)}]},addAttributes(){return{noteId:{parseHTML:e=>{let t=(0,Y.Ll)(this.storage)(e);return t&&t.noteId?t.nodeId:(0,pQ.pN)()},default:void 0}}},addNodeView:()=>du(p5,{nodeName:"footnote",preventNodeOrExtensionTypes:["doc","document","card"]}),addInputRules(){var e;return[(e={find:ht,nodeType:this.type,markType:this.editor.schema.marks.footnoteLabel},new l.fV({find:e.find,handler:t=>{let{state:n,range:a,match:i}=t,{tr:r}=n,o=i[i.length-1],s=i[0],d=a.to;if(o){let t=s.search(/\S/),i=a.from+s.indexOf(o),c=i+o.length;if((0,l.hO)(a.from,a.to,n.doc).filter(t=>t.mark.type.excluded.find(n=>n===e.markType&&n!==t.mark.type)).filter(e=>e.to>i).length)return;c<a.to&&r.delete(c,a.to),i>a.from&&r.delete(a.from+t,i),d=a.from+t+o.length;let u=(0,pQ.pN)();(0,pQ.Wj)(u,!0);let p=e.nodeType.createAndFill({noteId:u},aE.FK.empty);r.insert(d,p),r.addMark(a.from+t,d,e.markType.create({noteId:u})),r.removeStoredMark(e.markType)}}}))]},addKeyboardShortcuts:()=>({Enter:e=>{let{editor:t}=e;if(!(0,pQ.uI)(t.state.selection))return!1;let n=t.state.selection.node.attrs.noteId;return(0,pQ.Wj)(n,!0),!0},Escape:()=>{let e=(0,pQ.bk)();return!!e&&((0,pQ.Wj)(e,!1),!0)},"Mod-Alt-f":e=>{let{editor:t}=e;return t.commands.toggleFootnote()}}),addProseMirrorPlugins:()=>[p$],addCommands:()=>({convertNoteToCard:e=>t=>{let{chain:n,state:a}=t,{doc:i}=a,r=(0,l.xe)(i,t=>"footnote"===t.type.name&&t.attrs.noteId===e);if(1!==r.length)throw Error("Found the wrong number of footnotes nodes: ".concat(r));let{node:o,pos:s}=r[0],d=(0,l.ve)(i.resolve(s-1),a.schema.marks.footnoteLabel,{noteId:o.attrs.noteId});if(!d)return console.error("Couldnt find the corresponding footnote mark",{node:o,pos:s}),!1;let c=i.textBetween(d.from,d.to),u={type:"card",attrs:{id:aD.Yv.generate()},content:[{type:"heading",attrs:{level:1},content:[{type:"text",text:c}]},...o.content.toJSON()]},p=new URL(window.location.href);p.hash="card-".concat(u.attrs.id),(0,et.wE)(u.attrs.id,!1);let h=i.content.size-1;return n().setTextSelection(d).unsetMark("footnoteLabel").setLink({href:p.toString()}).insertContentAt(h,u).command(e=>{let{tr:t}=e,n=(0,lw.s)(t.doc.resolve(h));return n&&t.setSelection(n),!0}).deleteRange({from:s,to:s+o.nodeSize}).focusDelayed().run()},toggleFootnote:()=>e=>{let{chain:t,state:n,editor:a}=e;if(a.isActive("footnoteLabel"))return t().toggleMark("footnoteLabel").focus().run();let i=(0,pQ.pN)();return(0,pQ.Wj)(i,!0),(0,pK.b)().push(()=>{var e,t;null==(e=(t=a.commands).forceHideBubbleMenu)||e.call(t,!0),ha(i)},"toggleFootnote"),t().setMark("footnoteLabel",{noteId:i}).insertContentAt(n.selection.to,{type:"footnote",attrs:{noteId:i},content:[{type:"paragraph"}]}).run()}})}),ha=e=>{let t=document.querySelector('[data-footnote-popover-id="'.concat(e,'"] .ProseMirror'));if(!t)return;t.focus();let n=window.getSelection();if(!n)return;let a=document.createRange();a.setStart(t,0),a.setEnd(t,0),n.removeAllRanges(),n.addRange(a)};var hi=n(24392),hr=n(70815),ho=n(91892);let hl=/(?:^|\s)((?:_)((?:[^_]+))(?:_))$/,hs=/(?:^|\s)((?:__)((?:[^__]+))(?:__))$/,hd=ho.Ay.extend({addInputRules(){return[(0,l.OX)({find:hl,type:this.type}),(0,l.OX)({find:hs,type:this.type})]}});function hc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=t>0,{parent:a,doc:i}=e,r=e.start(),o=e.after();if(a.type.spec.isolating){let e=i.resolve(n?o-1:r),t=(0,lC.n)(e,n?1:-1);if(n){let e=i.resolve(t.to).node();if(e&&e.isTextblock&&0===e.content.size)return t.to+1}return n?t.to:t.from}let l=e.start(e.depth-1);return hc(e.doc.resolve(l),t)}var hu=n(72055);let hp=e=>{let t=hc(e,-1);return e.pos===t?el.$x:t},hh=(e,t)=>{let n=hc(t,1);return t.pos===n?e.state.doc.content.size-el.$x:n},hm=l.YY.create({name:"KeyMapOverride",priority:X.y.KeyMapOverride,addOptions:()=>({addSelectionKeyMaps:!1}),addKeyboardShortcuts(){let e=()=>this.editor.commands.first(e=>{let{commands:t}=e;return[()=>t.handleCardAccentDelete(),()=>{var e;return null==(e=t.handleSmartLayoutDelete)?void 0:e.call(t,!0,!1)},()=>t.deleteSelectionAndSelectNear(-1),()=>t.deleteSelection(),e=>{let{view:t,state:n,dispatch:a}=e;return(0,hu.o6)(n,a,t)},()=>t.unwrapQuoteOnDelete(),e=>{let{view:n,state:a,tr:i}=e,r=t.joinBackward();return r&&i.setMeta("annotationEvent",{type:"join-backward",joinPos:a.selection.from,atBeginning:n.endOfTextblock("backward")}),r},()=>t.selectNodeBackward(),()=>t.handleLayoutDelete(!1),()=>t.handleButtonDelete(!0),()=>t.deleteCardIfEmpty(!1)]}),t=()=>this.editor.commands.first(e=>{let{commands:t}=e;return[()=>t.handleCardAccentDelete(),()=>{var e;return null==(e=t.handleSmartLayoutDelete)?void 0:e.call(t,!0,!0)},()=>t.deleteSelectionAndSelectNear(),()=>t.deleteSelection(),e=>{let{view:n,state:a,tr:i}=e,r=t.joinForward();return r&&i.setMeta("annotationEvent",{type:"join-forward",joinPos:a.selection.from,atEnd:n.endOfTextblock("forward")}),r},()=>t.selectNodeForward(),()=>t.handleLayoutDelete(!0),()=>t.handleButtonDelete(!0),()=>t.deleteCardIfEmpty(!0)]}),n={};return this.options.addSelectionKeyMaps&&(n={"Mod-a":e=>{let{editor:t}=e,{selection:n}=t.state;if(n instanceof W.nh&&n.node.type.spec.isolating)return t.commands.selectAll();let a=hc(t.state.selection.$from,-1),i=hc(t.state.selection.$to,1);return n.from===a&&n.to===i?t.commands.selectAll():(t.commands.command(e=>{let{tr:t}=e;return t.setSelection(W.U3.create(t.doc,a,i)),!0}),!0)},"Mod-ArrowUp":e=>{let{editor:t}=e,n=hp(t.state.selection.$from);if(!n)return!1;let a=t.state.doc.resolve(n),i=(0,lC.n)(a);return!!i&&t.chain().command(e=>{let{tr:t}=e;return t.setSelection(i),!0}).scrollIntoView().run()},"Mod-Shift-ArrowUp":e=>{let{editor:t}=e,n=hp(t.state.selection.$from);return!!n&&t.chain().setTextSelection({from:n,to:t.state.selection.to}).scrollIntoView().run()},"Mod-ArrowDown":e=>{let{editor:t}=e,n=hh(t,t.state.selection.$to),a=t.state.doc.resolve(n),i=(0,lC.n)(a);return!!i&&t.chain().command(e=>{let{tr:t}=e;return t.setSelection(i),!0}).scrollIntoView().run()},"Mod-Shift-ArrowDown":e=>{let{editor:t}=e,n=hh(t,t.state.selection.$to);return t.chain().setTextSelection({from:t.state.selection.from,to:n}).scrollIntoView().run()},"Shift-Mod-a":e=>{let{editor:t}=e;return t.commands.selectAll()}}),{...n,Enter:()=>this.editor.commands.first(e=>{let{commands:t}=e;return[()=>t.newlineInCode(),()=>t.createParagraphNear(),()=>t.liftEmptyBlock(),e=>{let{view:n,state:a,tr:i}=e;return i.setMeta("annotationEvent",{type:"split-block",splitPos:a.selection.from,atBeginning:n.endOfTextblock("backward")}),t.splitBlock()}]}),Backspace:e,"Mod-Backspace":e,"Shift-Backspace":e,Delete:t,"Mod-Delete":t,Space:()=>this.editor.commands.first(e=>{let{commands:t}=e;return[()=>t.handleSpaceToZoom()]})}}});l.YY.create({name:"UndoInputRuleKeymap",priority:X.y.UndoInputRuleKeymap,addKeyboardShortcuts:()=>({"Shift-Mod-a":e=>{let{editor:t}=e;return t.commands.selectAll()},"Mod-z":e=>{let{editor:t}=e;return t.commands.undoInputRule()},Backspace:e=>{let{editor:t}=e;return t.commands.undoInputRule()},"Mod-Backspace":e=>{let{editor:t}=e;return t.commands.undoInputRule()}})});let hg=l.YY.create({name:"KeyBoardCatchall",priority:X.y.KeyBoardCatchall,addKeyboardShortcuts:()=>({Tab:e=>{let{editor:t}=e;return t.view.hasFocus()},"Shift-Tab":e=>{let{editor:t}=e;return t.view.hasFocus()}}),addProseMirrorPlugins:()=>[new W.k_({key:new W.hs("KeyBoardCatchall"),props:{handleKeyDown:(e,t)=>uG.WC.handleKeydown(t)}})]});var hx=n(71029),hf=n(1636),hb=n(61679),hv=n(21982),hy=n(55847);let hw=e=>{var t,n,a;let{variant:i,editor:r,node:o,getPos:s,deco:d,options:c}=e,u=o.attrs,{id:h}=u,{editImage:m,startRemoveBg:g,isRemovingBg:x,changeFocalPoint:f}=(0,sP.c)({editor:r,backgroundRemovalId:h,getPos:s}),b=null;try{b=r.state.doc.resolve(s())}catch(e){b=null}let v=b?(0,l.eL)(b,pS.M):null,{imageType:y,imageSlot:w}=i,C=(0,sT.l)(null!=(n=u.image)?n:void 0)&&w&&"image"===y,{toggleBuddyChatPanel:j,isBuddyChatPanelOpen:A}=(0,sN.n)(),{addColumnBefore:I,addColumnAfter:R,canChangeFocusPointAndRemoveBackground:D,hasImage:M,addDirection:_,parentVariant:z,cellOptions:T,handleDelete:N,selectParent:P,duplicateNode:O,updateAttributes:H}=(0,sP.m)({editor:r,node:o,parentNode:null==v?void 0:v.node}),F=(0,L.useMemo)(()=>M?[{key:"edit-image",label:"icon"===y?(0,p.jsx)(em.x6,{id:"JE/4q/"}):(0,p.jsx)(em.x6,{id:"9IrgTy"}),icon:e1.MT7,onClick:m},...C?[{key:"ask-ai",label:(0,p.jsx)(em.x6,{id:"vKZEFh"}),icon:eL.p7g,onClick:()=>{A||j(),setTimeout(()=>{sz.W.emit("prefillMessage",{message:""})},200)}}]:[],...D?[{key:"remove-background",disabled:x,label:x?(0,p.jsx)(em.x6,{id:"RdqLb7"}):(0,p.jsx)(em.x6,{id:"ylbfBl"}),icon:e1.sAw,onClick:g},{key:"change-focus-point",label:(0,p.jsx)(em.x6,{id:"BmxaoW"}),icon:e1.zTK,onClick:()=>f(h)}]:[],{divider:!0}]:[],[M,m,g,D,x,f,h]),B=(0,L.useMemo)(()=>(null==z?void 0:z.cellOptions.length)?null==z?void 0:z.cellOptions.map(e=>{var t,n;if(e.checkEnabled&&!e.checkEnabled({options:c,attrs:u}))return null;let a=null!=(n=T[e.key])?n:null==(t=e.defaultValue)?void 0:t.call(e,{ctx:"menu"});return e.ControlMenu?e.ControlMenu(a,t=>{H(s(),{options:{...T,[e.key]:t}})},e):null}).filter(e=>null!==e):[],[T,s,c,null==z?void 0:z.cellOptions,H,u]),V=(0,sO.d)({editor:r,getPos:s,node:o,includeCut:!1,imageSrc:null==(t=u.image)?void 0:t.src}),W=null!=(a=d.index)?a:0;return{contextMenuItems:[{key:"title",title:(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(S.E,{children:(0,p.jsx)(em.x6,{id:"wIRP9h",values:{0:i.name()}})}),(0,p.jsxs)(k.z,{gap:1,children:[(0,p.jsx)(E.g,{icon:e1.qUw}),(0,p.jsx)(S.E,{children:(0,p.jsx)(em.x6,{id:"y/5CE8",values:{0:W+1}})})]})]})},{divider:!0},...V,{divider:!0},...F,{key:"add-item-before",label:(0,p.jsx)(em.x6,{id:"w7mkyz"}),icon:(0,p.jsx)(E.g,{icon:e1.UiS,rotation:"bottom"===_?void 0:270}),onClick:()=>I(s())},{key:"add-item-after",label:(0,p.jsx)(em.x6,{id:"1e37Dl"}),icon:(0,p.jsx)(E.g,{icon:e1.UiS,rotation:"bottom"===_?180:90}),onClick:()=>R(s()+o.nodeSize)},{key:"duplicate",label:(0,p.jsx)(em.x6,{id:"euc6Ns"}),icon:e1.jPR,onClick:()=>O(s()+o.nodeSize)},{divider:!0},...B.length?[...B,{key:"divider",divider:!0}]:[],{key:"edit-layout",label:(0,p.jsx)(em.x6,{id:"UUpX+c"}),icon:e1.Hmw,onClick:()=>P(s())},{divider:!0},{key:"delete",label:(0,p.jsx)(em.x6,{id:"cnGeoo"}),icon:e1.yLS,onClick:N,color:"red.500"}]}};var hC=n(48369);let hj=e=>{var t,n;let{node:a,decorations:i,editor:r,getPos:o}=e,l=r.state.selection,s=l.node&&!!(0,pS.M)(l.node),{options:d,...u}=a.attrs,g=(0,hy.fw)(i),x=(0,hC.BJ)(g.smartLayoutAttrs.variantKey),{Cell:f}=x,b=(0,K.GV)(ed.SJ),v=(0,pI.aG)(g.smartLayoutAttrs,g.direction),{firstChildSize:y}=(0,T.P)(i),w=g.index===g.numCells-1,C=(0,K.GV)(ed.nD),j=(0,ns.DM)(i),A="number"==typeof g.emphasizedIndex&&g.emphasizedIndex!==g.index,k=(0,L.useCallback)(()=>{let e=o(),t=r.state.doc.nodeAt(o());t&&r.commands.insertSmartLayoutCell(e+t.nodeSize)},[r,o]),I=x.addDirection?x.addDirection(v):"right",[R,D]=(0,ov.yz)(g.direction),M=(0,L.useCallback)(()=>{C&&r.commands.selectNodeAtPos(o())},[r,o,C]),_=u.image,N=(0,L.useCallback)(e=>{r.commands.updateNestedAttributesAtPos(o(),{image:lG()({},_,e,{meta:{has_transparency:!0}})})},[r,o,_]),{bgRemovalInProgress:P}=(0,lQ._)({editor:r,id:u.id,src:null==_?void 0:_.src,updateAttributes:N}),{onOpenContextMenu:O,onCloseContextMenu:H,menuProps:F}=(0,lZ.$)({editor:r,getPos:o}),{contextMenuItems:B}=hw({variant:x,editor:r,node:a,getPos:o,deco:g,options:d}),V=(0,L.useMemo)(()=>({onClick:e=>{e.target===e.currentTarget&&M()},cursor:C?"pointer":"default"}),[M,C]);return(0,p.jsxs)(m.u,{...e,children:[(0,p.jsx)(h.a,{display:"contents",position:"relative","data-spotlight-parent":!0,className:A?"smart-layout-cell-not-emphasized":"",onContextMenu:s?void 0:O,style:{...(0,rH.AS)(v.horizontalAlign||(null==(t=x.baseHorizontalAlign)?void 0:t.call(x,{dir:g.direction})),g.direction)},children:(0,p.jsxs)(f,{cellOptions:d,layoutOptions:v,theme:b,...g,...u,...e,firstChildSize:y,isFocused:j,selectCell:M,variant:x,selectCellForElementProps:V,dragHandle:(0,p.jsx)(z.A,{...e,handlePlacement:null!=(n=x.dragHandlePlacement)?n:"top","data-testid":"smart-layout-cell-drag-handle",label:(0,p.jsx)(e6.s,{direction:"column",align:"center",children:(0,p.jsx)(em.x6,{id:"YkfVHA",components:{0:(0,p.jsx)(S.E,{color:"gray.500"})}})})}),children:[(0,p.jsx)(c.$p,{style:{maxWidth:"100%",wordBreak:"break-word"}}),C&&w&&(0,p.jsx)(e6.s,{position:"absolute",..."bottom"===I?{bottom:-3,[D]:0,width:"100%",height:6,justify:"center"}:{[D]:-3,bottom:0,height:"100%",width:6,align:"center"},opacity:"0",transitionProperty:"opacity",transitionDuration:"normal",zIndex:"1",className:"add-button",children:(0,p.jsx)(eh.Tz,{label:(0,p.jsx)(em.x6,{id:"NQ8llq"}),placement:"top",children:(0,p.jsx)(eJ.K,{icon:(0,p.jsx)(E.g,{icon:e1.QLR}),"aria-label":e4.Ru._({id:"NQ8llq"}),position:"absolute",size:"xs",variant:"plain",isRound:!0,onClick:k,onMouseDown:nC.Fw})})}),P&&C&&(0,p.jsx)(hv.Td,{removeBackground:P})]})}),(0,p.jsx)(lK.tz,{isOpen:F.isOpen,onClose:H,menuItems:B,position:F.position,size:"small"})]})},hA=l.bP.create({name:"smartLayoutCell",content:"(block | smartLayoutBlock)+",isolating:!0,selectable:!1,containerHandle:!0,imageKeyPath:"image",accessoryImageKey:"image",addAttributes:()=>({id:(0,lO.e)(lH.z),options:{default:{},...(0,J.tb)("options")},width:{default:null},image:{default:null,...(0,J.tb)("image")},label:{default:null,parseHTML:e=>e.getAttribute("label")||e.getAttribute("number")}}),parseHTML:()=>[{tag:"div[class=layout-item]"},{tag:"div",context:"smartLayout/",getAttrs:e=>hk(e)},{tag:"smart-layout-item",getAttrs:e=>hk(e)}],renderHTML(e){let{HTMLAttributes:t}=e;return["div",(0,l.KV)(t,{class:"layout-item"}),0]},renderHTMLforAI(e){let{node:t,disableBookmarks:n}=e,{image:a,options:i,...r}=t.attrs,o={};Object.keys(i).forEach(e=>{o[e]="string"==typeof i[e]?i[e]:JSON.stringify(i[e])});let l={...r,...o};if(a){let e=(0,hb.D)(a.source)?"icon":"img";return n?["smart-layout-item",{...l,id:void 0},[e,{src:a.src,alt:(0,G.ve)(a)}],["div",0]]:["smart-layout-item",l,[e,{bookmark:(0,Y.vL)({attrs:a}),alt:(0,G.ve)(a)}],["div",0]]}return["smart-layout-item",l,0]},addNodeView:()=>(0,c.gu)(hj,{update:u.z0})}),hk=e=>{let t,n=e.getAttribute("label")||e.getAttribute("number"),a=e.parentElement;t=(null==a?void 0:a.tagName.toLowerCase())==="smart-layout"?a.getAttribute("variant"):(null==a?void 0:a.tagName.toLowerCase())||(null==a?void 0:a.getAttribute("variant"));let i=(0,hC.BJ)(null!=t?t:void 0),r=((null==i?void 0:i.options.map(e=>e.key))||[]).reduce((t,n)=>{let a=e.getAttribute(n);if(a)try{t[n]=JSON.parse(a)}catch(e){t[n]=a}return t},{});return{image:hS(e,i),label:n,options:r}},hS=(e,t)=>{var n;if(!t.imageSlot)return;let a=null;if("image"===t.imageType&&(null==(n=e.firstElementChild)?void 0:n.tagName.toLowerCase())==="img"?a=e.firstElementChild:"icon"===t.imageType&&(a=e.querySelector(":scope >icon")),!a)return;let i=null;try{let e=JSON.parse(a.getAttribute(lP.A)||"null");e&&(i=e)}catch(e){console.warn("Failed to parse ai-parsed-attrs:",e)}if(a.getAttribute("bookmark")){let e=(0,Y.Ll)(a);e&&(i=e)}let r=a.getAttribute("src");if(r&&(i={src:r,source:"image.custom"}),i)return a.remove(),i};var hI=n(92938),hE=n(46617);let hL=e=>{let{doc:t}=e,n=[];return t.descendants((e,t)=>{if(e.type.name!==hE.BM)return;n.push(sQ.NZ.node(t,t+e.nodeSize,{},{isLayoutDecoration:!0}));let a=e.attrs.colWidths,i=e.attrs.backgroundColor;return e.forEach((e,r,o)=>{let l=t+1+r,s={isLayoutCellDecoration:!0,colWidth:a[o],colIndex:o,layoutBackgroundColor:i};n.push(sQ.NZ.node(l,l+e.nodeSize,{},s))}),!1}),sQ.zF.create(t,n)},hR=e=>{let t=e.find(e=>e.spec.isLayoutCellDecoration);return t?t.spec:(console.error("[LayoutCell] Decoration not found. This should never happen!",e),{isLayoutCellDecoration:!0,colWidth:0,colIndex:0,layoutBackgroundColor:null})},hD=(e,t)=>{let n=(0,K.GV)(ed.SJ),a=null!=t?t:e,i=a&&(0,nM.ZI)(n,a),r=(0,L.useMemo)(()=>{if(a)return{margin:"0 0.5em",paddingInlineStart:"1em",paddingInlineEnd:"1em"}},[a]);return{backgroundColor:a,themeVars:i,marginStyles:r}},hM=e=>{let{node:t,decorations:n}=e,{verticalAlign:a,backgroundColor:i}=t.attrs,{layoutBackgroundColor:r}=hR(n),{backgroundColor:o,themeVars:l,marginStyles:s}=hD(r,i);return(0,p.jsxs)(c.VR,{className:"grid-cell",style:{position:"relative",justifyContent:a,...l,...s,...o&&{backgroundColor:"var(--card-background-color)",borderRadius:"var(--card-border-radius)"}},"data-selection-ring":!0,children:[(0,p.jsx)(z.A,{handlePlacement:"top",...e,"data-testid":"column-drag-handle",label:(0,p.jsx)(e6.s,{direction:"column",align:"center",children:(0,p.jsx)(em.x6,{id:"zWdF4l",components:{0:(0,p.jsx)(S.E,{color:"gray.500"})}})})}),(0,p.jsx)(c.$p,{})]})},h_=l.bP.create({name:"gridCell",content:"(block | layoutBlock)+",definingAsContext:!0,isolating:!0,selectable:!1,containerHandle:!0,parseHTML:()=>[{tag:"div[class=column]"},{tag:"div",context:"gridLayout/"}],addAttributes:()=>({verticalAlign:null,backgroundColor:{default:null,parseHTML:e=>e.getAttribute("data-background-color")||null,renderHTML:e=>{let t=e.backgroundColor;return t?{"data-background-color":t}:{}}}}),renderHTML(e){let{HTMLAttributes:t}=e;return["div",(0,l.KV)(t,{class:"column"}),0]},addNodeView:()=>(0,c.gu)(hM,{update:u.z0})});var hz=n(64056),hT=n(53138),hN=n(36145);class hP{constructor(e=null){this.dragging=e}}let hO=new W.hs("layoutPlugin"),hH=e=>new W.k_({key:hO,state:{init:()=>new hP,apply:(e,t)=>t},appendTransaction:(e,t,n)=>{if(!e.some(e=>e.docChanged))return null;let a=e.find(e=>e.selectionSet),i=n.tr;if(n.doc.descendants((e,t)=>{if("gridLayout"===e.type.name&&1==e.childCount){let n=i.mapping.map(t);i.replaceWith(n,i.mapping.map(t+e.nodeSize),e.child(0).content).setMeta("annotationEvent",{type:"unwrap-node",pos:n})}}),!i.docChanged)return null;if(a){let e=a.selection.$from.depth-i.selection.$from.depth,t=(0,lC.n)(i.doc.resolve(a.selection.from-e));t&&i.setSelection(t)}return i},props:{decorations:e=>hL(e),handleDOMEvents:{drop(t,n){var a,i,r,o,l;let s=null==(a=t.dragging)?void 0:a.annotations;if(!hO.getState(t.state))return!1;let d=null==(i=t.dragging)?void 0:i.slice,c=null,u=null,p=(0,hN.p$)(n).filter(hN.KS);try{u=(0,pA.Vk)(t,n,d),c=(0,pk.ds)(t,n,d)}catch(e){return!1}try{let{selection:a}=t.state,i=!a.empty&&0===p.length,h=null==d?void 0:d.content.toJSON(),m=[];if(p.length>0&&(h=(m=(0,hT.kT)(e,p)).map(e=>e.content)),!h)return!1;if((null==(r=h[0])?void 0:r.type)==="image"&&(null==(o=h[0].attrs)?void 0:o.resize)&&(u||c)&&(h[0].attrs.resize={}),(null==c?void 0:c.node.type.name)==="gridCell"){let{node:t,pos:a,side:r}=c,o="left"===r?a:a+t.nodeSize,d=(null==(l=h[0])?void 0:l.type)==="gridCell",u=null==s?void 0:s.origNodePos,p=u&&d?(0,pk.rP)(u,o,e):void 0,g=d?h:{type:"gridCell",content:h},x=e.chain().insertContentAt({from:o,to:o},g,{updateSelection:!1});return p&&x.updateNestedAttributesAtPos(p.parentPos,{colWidths:p.colWidths}),x.command(e=>{let{tr:t}=e;return i&&t.deleteSelection(),s&&t.setMeta("annotationEvent",{type:"drop",dragging:s,droppedBlockPos:o+ +!d}),!0}).focusMapped(o,1).run(),m.length>0&&m.forEach(e=>{e.upload()}),n.preventDefault(),!0}if(!u&&!c)return;let{node:g,pos:x,side:f}=u||c;if(x>a.from&&x<a.to)return n.preventDefault(),!0;let b=(0,hz.eq)({view:t,from:x,to:x+g.nodeSize,node:g}),{contentToInsert:v,focusOffset:y}=u?{contentToInsert:(0,hz.Sm)({horizontalAlign:b,eventTarget:n.target,node:g,newContent:h,editor:e}),focusOffset:(0,hz.Cn)({eventTarget:n.target,horizontalAlign:b,nodeSize:g.nodeSize,editor:e})}:{contentToInsert:(0,pA.wC)({side:f,pasteContent:h,node:g}),focusOffset:(0,pA.M5)({side:f,node:g})};e.chain().insertContentAt({from:x,to:x+g.nodeSize},v,{updateSelection:!1}).command(n=>{let{tr:a}=n;if(i){let e=t.state.selection,n=a.mapping.map(e.from),i=a.mapping.map(e.to);a.delete(n,i)}if(s){let n="left"===f&&d?d.size:g.nodeSize,i=(0,lk.U5)({side:f,view:t,tr:a,dragging:s,dropPos:x,dropNode:g,leftContentSize:n});requestAnimationFrame(()=>{var t,n;null==(t=(n=e.commands).moveAnnotations)||t.call(n,i)})}return!0}).focusMapped(x,y).run(),m.length>0&&m.forEach(e=>{e.upload()})}catch(e){console.error("(caught) [LayoutPlugin] handleDrop error:",e)}return n.preventDefault(),!0}}}}),hF=new W.hs("layoutResizing");class hB{getActiveHandleAbs(e){return this.activeHandle?(0,sZ.d_)(e,this.activeHandle):null}reset(){return this.activeHandle=null,this.dragging=null,this}setHandle(e,t){return null===t.setHandle?this.activeHandle=null:this.activeHandle=(0,sZ.JO)(e,t.setHandle),this}setDragging(e){return this.dragging=e.setDragging,this}apply(e,t){let n=e.getMeta(hF);return n&&"setHandle"in n?this.setHandle(t,n):n&&"setDragging"in n?this.setDragging(n):n&&"reset"in n?this.reset():this}constructor(e=null,t=null){this.activeHandle=e,this.dragging=t}}let hV=e=>hF.getState(e.state),hW=(e,t)=>{e.dispatch(e.state.tr.setMeta(hF,{setHandle:t}))},hU=(e,t)=>{e.dispatch(e.state.tr.setMeta(hF,{setDragging:t}))},hG=e=>{e.dispatch(e.state.tr.setMeta(hF,{reset:!0}))},hK=(e,t)=>{if(!e.editable||!t.target||t.target.closest(".column-resize-handle"))return;let n=hV(e);if(n.dragging)return;let a=function(e,t){var n;let a=e.posAtCoords({left:t.clientX,top:t.clientY});if(!a||-1===a.inside)return null;let i=e.domAtPos(a.inside);if(!i)return null;let r=i.node.childNodes[i.offset];if(!r)return null;let o=e.state.doc.resolve(a.inside);if((null==(n=o.nodeAfter)?void 0:n.type.name)!=="gridCell")return null;let l=(0,e8.ix)(),{left:s,right:d}=r.getBoundingClientRect(),c=d-t.clientX,u=t.clientX-s;if(l?c<=5:u<=5){let t=e.state.doc.resolve(o.before(o.depth)),n=hQ((0,pk.Ob)(t),e=>e.pos===o.pos);return(null==n?void 0:n.pos)||null}return(l?u<=5:c<=5)?o.pos:null}(e,t);a!==n.getActiveHandleAbs(e.state)&&hW(e,a)},hQ=(e,t)=>{for(let n=0;n<e.length;n++)if(t(e[n])){if(0===n)return null;return e[n-1]||null}return null},hZ=(e,t)=>{let n=e.domAtPos(t);return n.node.childNodes[n.offset].offsetWidth},hq=(e,t)=>{let{node:n,offset:a}=e.domAtPos(t.start()),i=n.childNodes[a];do if(i&&i.classList&&i.classList.contains("node-gridLayout"))break;while(i=i.parentNode);return i},h$=e=>{let{getPos:t,updateAttributes:n,editor:a,node:i}=e,r=a.state.doc.resolve(t()),o=(0,pk.Ob)(r);(0,L.useEffect)(()=>{o.length!==i.attrs.colWidths.length&&setTimeout(()=>{n({colWidths:(0,sJ.I)(o.length)})},0)},[i,o,n])},hJ=e=>{let{node:t,editor:n,getPos:a}=e,i=t.content.childCount,r=(0,K.GV)(ed.Cl),o=(0,es.FX)();h$(e);let l=i%2==0,s=Math.min((0,uh.h5)({base:1,sm:l?2:1,md:l?2:3,lg:4})||4,i),d=(0,L.useCallback)(()=>{n.commands.addLayoutCell(a())},[n,a]),u=i<hE.ZS&&r,h=o?"100%":(t.attrs.colWidths||[]).map(e=>"".concat(e,"%")).join(" ");return(0,p.jsx)(m.u,{...e,children:(0,p.jsxs)(rO.r,{className:(0,I.cx)("grid-col-controls",r&&"is-editable"),columns:s,gap:"var(--grid-border)",position:"relative",gridTemplateColumns:h,"data-selection-ring":!0,children:[(0,p.jsx)(c.$p,{className:"layout-content"}),(0,p.jsx)(z.A,{...e,handlePlacement:"outside",label:e4.Ru._({id:"Szg6OU"}),"data-testid":"layout-drag-handle"}),(0,p.jsx)(e6.s,{position:"absolute",top:"0",h:"100%",align:"center",w:6,insetInlineEnd:-3,className:"add-column",opacity:"0",transitionProperty:"opacity",transitionDuration:"normal",children:u&&(0,p.jsx)(eh.Tz,{label:(0,p.jsx)(em.x6,{id:"AgvHni"}),placement:"top",children:(0,p.jsx)(eJ.K,{icon:(0,p.jsx)(E.g,{icon:e1.QLR}),"aria-label":e4.Ru._({id:"AgvHni"}),position:"absolute",size:"xs",variant:"plain",isRound:!0,zIndex:"1",onClick:d})})})]})})},hY=l.bP.create({name:hE.BM,content:"gridCell{1, ".concat(hE.ZS,"}"),group:"cardBlock",defining:!1,isolating:!0,selectable:!1,priority:X.y.Layout,containerHandle:!0,parseHTML:()=>[{tag:"div[class=columns]"},{tag:"columns"}],renderHTML(e){let{HTMLAttributes:t}=e;return["div",(0,l.KV)(t,{class:"columns"}),0]},renderHTMLforAI(e){let{node:t}=e;return["columns",{colWidths:JSON.stringify(t.attrs.colWidths)},0]},addAttributes(){let e="colWidths";return{colWidths:{default:[],parseHTML:e=>{let t=0;e.childNodes.forEach(e=>{"DIV"===e.nodeName&&t++});try{var n;let a=null!=(n=e.getAttribute("colWidths"))?n:e.getAttribute("data-colWidths");if(a){let e=JSON.parse(a);if(Array.isArray(e)&&e.length===t&&e.every(e=>"number"==typeof e))return(0,sJ.fF)(e,10,100),e}}catch(e){console.error("Error parsing AI generated colWidths",e)}return(0,sJ.I)(t)},renderHTML:t=>{let n=t[e];return n?{["data-".concat(e)]:JSON.stringify(n)}:{}}},fullWidthBlock:{default:!1},backgroundColor:{default:null,parseHTML:e=>e.getAttribute("data-background-color")||null,renderHTML:e=>{let t=e.backgroundColor;return t?{"data-background-color":t}:{}}}}},addNodeView:()=>(0,c.gu)(hJ,{update:u.R$,ignoreMutation:hx.I}),addProseMirrorPlugins(){return[hH(this.editor),new W.k_({key:hF,state:{init:()=>new hB,apply:(e,t,n,a)=>t.apply(e,a)},props:{attributes:e=>null!==hF.getState(e).getActiveHandleAbs(e)?{class:"resize-cursor"}:{class:""},handleDOMEvents:{mousemove:(e,t)=>!!t8.of.get("layoutResizing")&&(hK(e,t),!1),mouseleave(e){if(!t8.of.get("layoutResizing"))return!1;let t=hV(e);return null===t.getActiveHandleAbs(e.state)||t.dragging||hW(e,null),!1},mousedown:(e,t)=>!!t8.of.get("layoutResizing")&&(!function(e,t){if(!e.editable)return;let n=hV(e),a=n.getActiveHandleAbs(e.state);if(null===a||n.dragging)return;let i=e.state.doc.resolve(a),r=[...i.node().attrs.colWidths],o=(0,pk.xK)(i),l=hZ(e,a),s=hq(e,i),d=s.offsetWidth;hU(e,{startX:t.clientX,startWidth:l,colWidths:r,tableWidth:d,colIndex:o});let c=null;function u(t){window.removeEventListener("mouseup",u),window.removeEventListener("mousemove",p);let n=hV(e);if(n.dragging){if(null===c)return void hU(e,null);if(n.dragging)try{let t=n.getActiveHandleAbs(e.state);(function(e,t,n){let a=e.state.doc.resolve(t).before(),i=e.state.tr.setNodeMarkup(a,void 0,{colWidths:[...n]}).setMeta("annotationEvent",{type:"update-node-attrs",pos:a});e.dispatch(i),function(e,t){let n=e.state.doc.resolve(t),a=hq(e,n).querySelector(".grid-col-controls");a&&(a.style.gridTemplateColumns="")}(e,t)})(e,t,c),hU(e,null)}catch(t){hG(e)}c=null}}function p(t){if(!t.which)return u(t);let n=hV(e),a=n.getActiveHandleAbs(e.state);if(!n.dragging||null===a)return;let{colIndex:i,colWidths:r}=n.dragging,o=function(e,t){let{tableWidth:n}=e,a=t.clientX-e.startX,i=(0,e8.ix)()?-a:a;return oK()(100*i/n,0)}(n.dragging,t);(function(e,t){let n=e.querySelector(".grid-col-controls");n&&(n.style.gridTemplateColumns=t.map(e=>"".concat(e,"%")).join(" "))})(s,c=(0,sJ.H0)(r,i,o,15)),(0,sY.i$)(s)}window.addEventListener("mouseup",u),window.addEventListener("mousemove",p),t.preventDefault()}(e,t),!1)},decorations(e){let t=hF.getState(e).getActiveHandleAbs(e);if(null!==t){let n=[];try{let a=document.createElement("div");return a.className="column-resize-handle",n.push(sQ.NZ.widget(t+1,a)),sQ.zF.create(e.doc,n)}catch(e){return console.error("(caught) layoutResizing error: ".concat(e.message)),sQ.zF.empty}}},nodeViews:{}}})]},addCommands(){var e=this;return{useLayoutPreset:(e,t)=>n=>{let{dispatch:a,tr:i,commands:r,view:o}=n;if(!a)return!0;let s=(0,pk.DF)(i.doc.resolve(e));if(!s)return!0;let d=(0,pk.Ob)(s),c=t.length-d.length,u=[];for(;0!==c;){if(c<0){let t=(0,pk.nX)(i.doc.resolve(e),-1),n=t.nodeAfter;i.deleteRange(t.pos,t.pos+n.nodeSize),u=[...1===n.childCount&&(0,l.Op)(n.firstChild)?[]:n.content.toJSON(),...u],c++;continue}if(c>0){r.addLayoutCell(s.pos,!1),c--;continue}}i.setNodeAttribute(e,"colWidths",t);let p=(0,pk.nX)(i.doc.resolve(s.pos),-1);if(!p||!p.nodeAfter)return!0;let h=p.pos+p.nodeAfter.nodeSize-1;if(r.insertContentAt(h,u,{updateSelection:!1}),i.selection.from>h||i.selection.to>h){let e=i.doc.resolve(p.pos+1).end(),t=(0,lC.n)(i.doc.resolve(e),-1);t&&i.setSelection(t)}let m=hq(o,s);return m&&(0,sY.i$)(m),!0},insertLayout:e=>t=>{let{dispatch:n,commands:a}=t;if(!n)return!0;let i=Array.from(Array(e),e=>hX);return a.insertContentAndSelect({type:"gridLayout",attrs:{colWidths:(0,sJ.I)(e)},content:i})},addLayoutCell:function(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return n=>{let{chain:a,state:i}=n,r=i.doc.nodeAt(e);if(!r||r.type.name!==hY.name)return!1;let o=e+r.nodeSize-1,{colWidths:l}=r.attrs,s=l.length,d=oK()(100/(s+1),2),c=(0,sJ.KJ)(l,s,d,15),u=a().insertContentAt(o,hX,{updateSelection:!1});return t&&u.selectInsertedNode(),u.command(t=>{let{tr:n}=t;return n.setNodeAttribute(e,"colWidths",c),!0}).run(),!0}},handleLayoutDelete:function(t){let n=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return a=>{let{tr:i,dispatch:r,state:o}=a;if(!r)return!0;let s=(0,l.KP)(e=>e.type.name===h_.name)(o.selection),d=(0,l.KP)(e=>e.type.name===hY.name)(o.selection);if(!s||!d)return!1;if(!n||(0,J.mf)(s.node)){if(2==d.node.childCount){let t=s.node===d.node.child(0),n=t?d.node.child(1):d.node.child(0),a=t?d.start+d.node.child(0).nodeSize+1:d.start+1,r=a+n.content.size;i.replaceWith(d.pos,d.pos+d.node.nodeSize,n.content);let o=(0,lC.n)(i.doc.resolve(d.pos+(t?0:n.content.size)),t?1:-1);o&&i.setSelection(o);let l=(0,lk.es)({insertPos:d.pos,contentPos:a,contentEnd:r,editor:e.editor});requestAnimationFrame(()=>{var t,n;null==(t=(n=e.editor.commands).moveAnnotations)||t.call(n,l)})}else{let e=i.doc.resolve(s.pos);(0,hI.K)(i,e,t),i.setNodeAttribute(d.pos,"colWidths",(0,sJ.XC)(d.node.attrs.colWidths,[(0,pk.xK)(e)]))}return!0}let{parent:c}=o.selection.$from;return!!(o.selection.empty&&c.isTextblock&&(0,l.Op)(c))&&c==s.node.firstChild&&!t&&(i.deleteRange(o.selection.$from.before(),o.selection.$from.after()),!0)}},goToNextLayoutCell:e=>t=>{let{tr:n,state:a}=t,i=(0,l.KP)(e=>e.type.name===h_.name||e.type.name===hA.name)(a.selection),r=(0,l.KP)(e=>e.type.name===hY.name||e.type.name===hf.o.name)(a.selection);if(!i||!r)return!1;let o=a.doc.resolve(i.pos),s=e?o.index()+1:o.index()-1;if(s<0||s>=o.parent.childCount)return!1;let d=o.posAtIndex(s);return n.setSelection(W.LN.near(a.doc.resolve(d))),!0}}},addKeyboardShortcuts:()=>({Tab:e=>{let{editor:t}=e;return!t8.of.get("arrowAutocomplete")&&t.commands.goToNextLayoutCell(!0)},"Shift-Tab":e=>{let{editor:t}=e;return!t8.of.get("arrowAutocomplete")&&t.commands.goToNextLayoutCell(!1)}})}),hX={type:"gridCell",content:[{type:"paragraph"}]};var h0=n(9893);let h1=e=>{let{node:t,decorations:n}=e,{fontSize:a,placeholder:i}=t.attrs;return(0,p.jsx)(m.u,{dir:(0,rH.fZ)(n),...e,children:(0,p.jsx)(c.$p,{as:"li","data-testid":"bullet-list-item","data-font-size":a,"data-placeholder":i})})};var h2=n(43944),h4=n(91656);let h5=/^\s*([-*])\s$/,h6=l.bP.create({name:h4.e.Bullet,content:"inline*",defining:!0,group:"block cardNotesBlock",selectable:!1,allowFontSizes:"body",addNodeView:()=>(0,c.gu)(h1,{as:"ul",update:u.z0,updateWrapperEl:(e,t)=>{e.setAttribute("indent",t.node.attrs.indent)}}),addOptions:()=>({HTMLAttributes:{}}),addAttributes:()=>({indent:{default:0},fontSize:pG.mD}),addInputRules(){return[(0,h2.aW)({find:h5,type:this.type},this.editor.state.schema)]},addKeyboardShortcuts:()=>({"Mod-Shift-8":e=>{let{editor:t}=e;return t.commands.setListItems({variant:h4.e.Bullet})},"Mod-.":e=>{let{editor:t}=e;return t.commands.setListItems({variant:h4.e.Bullet})}}),parseHTML(){return[{tag:'li[variant="'.concat(this.name,'"]')}]},renderHTML(e){let{HTMLAttributes:t}=e;return["li",(0,l.KV)(this.options.HTMLAttributes,t,{variant:this.name}),0]}}),h3=[e=>e.toString(),e=>String.fromCharCode(96+e),e=>(function(e){let t={M:1e3,CM:900,D:500,CD:400,C:100,XC:90,L:50,XL:40,X:10,IX:9,V:5,IV:4,I:1},n="";for(let a of Object.keys(t)){let i=Math.floor(e/t[a]);e-=i*t[a],n+=a.repeat(i)}return n})(e).toLowerCase()],h9=e=>{var t;let{decorations:n,node:a}=e,{indent:i,fontSize:r,placeholder:o}=a.attrs,l=null==(t=n.find(e=>e.spec.listNumber))?void 0:t.spec.listNumber,s=(h3[i%h3.length]||h3[0])(l);return(0,p.jsx)(m.u,{dir:(0,rH.fZ)(n),...e,children:(0,p.jsx)(c.$p,{as:"li","data-list-counter":s,"data-font-size":r,"data-placeholder":o})})},h7=/^(\d+)\.\s$/,h8=l.bP.create({name:h4.e.Numbered,content:"inline*",defining:!0,group:"block cardNotesBlock",selectable:!1,allowFontSizes:"body",addOptions:()=>({HTMLAttributes:{}}),addNodeView:()=>(0,c.gu)(h9,{as:"ol",update:u.z0,updateWrapperEl:(e,t)=>{e.setAttribute("indent",t.node.attrs.indent)}}),addAttributes:()=>({indent:{default:0},fontSize:pG.mD}),addInputRules(){return[(0,h2.aW)({find:h7,type:this.type},this.editor.state.schema)]},addKeyboardShortcuts:()=>({"Mod-/":e=>{let{editor:t}=e;return t.commands.setListItems({variant:h4.e.Numbered})},"Mod-Shift-7":e=>{let{editor:t}=e;return t.commands.setListItems({variant:h4.e.Numbered})}}),parseHTML(){return[{tag:'li[variant="'.concat(this.name,'"]')}]},renderHTML(e){let{HTMLAttributes:t}=e;return["li",(0,l.KV)(this.options.HTMLAttributes,t,{variant:this.name}),0]}}),me=e=>{let{decorations:t,node:n,updateAttributes:a}=e,i=(0,K.GV)(eM.Jo),r=(0,aN.Iy)("edit",i),{checked:o,fontSize:l,placeholder:s}=n.attrs;return(0,p.jsx)(m.u,{dir:(0,rH.fZ)(t),...e,children:(0,p.jsxs)(S.E,{as:"li",color:o?"var(--body-color-muted)":void 0,textDecoration:o?"line-through":void 0,transition:"color 250ms ease-out",position:"relative",className:"todo","data-font-size":l,children:[(0,p.jsx)(t5.S,{contentEditable:!1,suppressContentEditableWarning:!0,isChecked:o,onChange:e=>{r&&a({checked:e.target.checked})},position:"absolute"}),(0,p.jsx)(c.$p,{as:"span",className:"todo-content","data-placeholder":s})]})})},mt=/^\s*\[[ ]?\]\s$/,mn=/^\s*\[x\]\s$/,ma=l.bP.create({name:h4.e.Todo,addOptions:()=>({HTMLAttributes:{}}),content:"inline*",defining:!0,group:"block cardNotesBlock",selectable:!1,allowFontSizes:"body",addAttributes:()=>({indent:{default:0},checked:{default:!1},fontSize:pG.mD}),addNodeView:()=>(0,c.gu)(me,{as:"ul",update:u.z0,updateWrapperEl:(e,t)=>{e.setAttribute("indent",t.node.attrs.indent)}}),addInputRules(){return[(0,h2.aW)({find:mt,type:this.type,getAttributes:{checked:!1}},this.editor.state.schema),(0,h2.aW)({find:mn,type:this.type,getAttributes:{checked:!0}},this.editor.state.schema)]},addKeyboardShortcuts:()=>({"Mod-,":e=>{let{editor:t}=e;return t.commands.setListItems({variant:h4.e.Todo})},"Mod-Shift-9":e=>{let{editor:t}=e;return t.commands.setListItems({variant:h4.e.Todo})}}),parseHTML(){return[{tag:'li[variant="'.concat(this.name,'"]')}]},renderHTML(e){let{HTMLAttributes:t}=e;return["li",(0,l.KV)(this.options.HTMLAttributes,t,{variant:this.name}),0]}});var mi=n(62964);let mr=(0,L.forwardRef)((e,t)=>{let{dimensions:n,enforceMinDimensions:a,isThumbnail:i,isLoading:r,children:o,...l}=e,s=(0,t8.u)("enableVirtualization"),d=(0,oI.rd)();if(!s)return(0,p.jsx)(p.Fragment,{children:o});let c=n?{width:"".concat(n.width,"px"),height:"".concat(n.height,"px")}:{};return(!0===r||a)&&(c.minHeight=c.height),void 0!==r&&(c.height=void 0,c.width=void 0),(0,p.jsxs)(e6.s,{backgroundColor:!1===r?"transparent":d?"whiteAlpha.200":"blackAlpha.200",ref:t,position:!1!==r?"relative":"static",transition:"background-color .2s",...c,...l,children:[o,!1!==r&&(0,p.jsx)(tS.y,{position:"absolute",top:"50%",insetStart:"50%",colorScheme:"gray",size:i?"xs":"md"})]})});mr.displayName="VirtualizedPlaceholder";var mo=n(23460);class ml{static observeElement(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return"function"!=typeof IntersectionObserver?()=>{}:ml.instance.doObserveElement(...t)}static get instance(){return ml._instance||(ml._instance=new ml),ml._instance}doObserveElement(e,t,n){let{rootMargin:a="0px 0px 0px 0px",root:i=null}=n,r=this.getObserverForRoot(i,a);return this.callbacksMap.has(r)||this.callbacksMap.set(r,new Map),this.callbacksMap.get(r).set(e,t),r.observe(e),()=>{this.disconnect(e,a,i)}}disconnect(e,t,n){var a,i;let r=this.getObserverForRoot(n,t,!0);if(!r)return;r.unobserve(e);let o=this.callbacksMap.get(r);o&&o.delete(e),(null==o||!o.size)&&(r.disconnect(),this.callbacksMap.delete(r),null==(a=this.intersectionObserversMap.get(n))||a.delete(t),(null==(i=this.intersectionObserversMap.get(n))?void 0:i.size)||this.intersectionObserversMap.delete(n))}getObserverForRoot(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!this.intersectionObserversMap.has(e)){if(n)return;this.intersectionObserversMap.set(e,new Map)}let a=this.intersectionObserversMap.get(e);if(!a.has(t)){if(n)return;a.set(t,new IntersectionObserver(this.intersectionCallback.bind(this),{root:e,rootMargin:t}))}return a.get(t)}intersectionCallback(e,t){let n=new Map,a=this.callbacksMap.get(t);a&&(e.forEach(e=>{n.has(e.target)||n.set(e.target,[]),n.get(e.target).push(e)}),n.forEach((e,t)=>{try{var n;null==(n=a.get(t))||n(e)}catch(e){console.error(e)}}))}constructor(){this.intersectionObserversMap=new Map,this.callbacksMap=new Map}}ml._instance=null;class ms{get stats(){let e={};return this.entries.forEach(t=>{var n;let{status:a}=t;e[a]=(null!=(n=e[a])?n:0)+1}),e}static get instance(){return ms._instance||(ms._instance=new ms),ms._instance}constructor(){this.entries=new Map,r.$.DEBUG_ENABLED&&"object"==typeof globalThis&&(globalThis.gammaInViewportStats=this)}}ms._instance=void 0;let md=function(){var e,t,n;let{intersectionMargin:a="100% 0px 100% 0px",memoGroup:i,...r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=(0,t8.u)("enableVirtualization"),l=(0,L.useId)(),s=(0,L.useRef)(),d=(0,L.useRef)(),c=o?r.dimensions?"HIDDEN":"PENDING":"VISIBLE",[u,p]=(0,L.useState)(c),h=(0,L.useRef)(u),[m,g]=(0,L.useState)(null!=(n=r.dimensions)?n:void 0),x=(0,L.useMemo)(()=>{let e=()=>{if("HIDDEN"===h.current&&s.current){let e=s.current.getBoundingClientRect();g({width:e.width,height:e.height})}p(h.current)},t=null;return function(n){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300;h.current=n,t&&(clearTimeout(t),t=null),t=setTimeout(()=>{t=null,e()},a)}},[]),f=null==r?void 0:r.loading,b=(e,t)=>{var n,i;if(!o){x("VISIBLE"),null==(n=d.current)||n.call(d);return}if(!e||f){null==(i=d.current)||i.call(d);return}let r=(0,mo.Hc)(e,t);d.current=ml.observeElement(e,e=>{var t;let n=null!=(t=h.current)?t:"PENDING",a=e.find(e=>e.isIntersecting);if("VISIBLE"!==n&&a)return void x("VISIBLE");"HIDDEN"===n||a||x("HIDDEN",1500)},{root:r,rootMargin:a})},v=(0,L.useCallback)(()=>{if(!s.current){var e;null==(e=d.current)||e.call(d);return}if(!r.loading){if(b(s.current,i),!r.dimensions&&!m){let e=s.current.getBoundingClientRect();g({width:e.width,height:e.height})}"PENDING"===h.current&&x("HIDDEN")}},[x,r.loading,null==(e=r.dimensions)?void 0:e.width,null==(t=r.dimensions)?void 0:t.height,null==m?void 0:m.width,null==m?void 0:m.height,i]),y=(0,L.useCallback)(e=>{s.current!==e&&(s.current=e,v())},[v]);return(0,L.useEffect)(()=>{var e;return ms.instance.entries.set(l,{status:u,el:null!=(e=s.current)?e:null}),()=>{ms.instance.entries.delete(l)}},[u,l]),{inViewport:"PENDING"===u?void 0:"VISIBLE"===u,ref:y,dimensions:m}},mc=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,K.GV)(ed.OG),n=(0,K.GV)(ed.$i),a=!1!==e.memoGroup&&(t?"".concat(e.memoGroup?"".concat(e.memoGroup,":"):"","presenting:").concat(n):void 0);return md({...e,memoGroup:a})};var mu=n(89263);let mp=e=>{let{attrs:t,inGallery:n,shouldDisableClick:a}=e,i=(0,ee.lQ)(t),r=t.displayStyle,o=(0,dT.oR)(),l=(0,ee.eb)(t,"preview"===r&&!n),{handleOpenLinkWithInterstitial:s,handleOpenNativeLinkWithInterstitial:d,linkUrlSafe:c}=(0,mu.E)(i),u="newTab"===l&&!a;return(0,L.useMemo)(()=>u?{url:o?i:c,handleOpenLinkWithInterstitial:s,handleOpenNativeLinkWithInterstitial:d}:void 0,[s,d,c,i,u,o])};var mh=n(71093),mm=n(36062),mg=n(73737);let mx=e=>{let{enterZoom:t,zoomBoxProps:n,url:a,handleOpenLink:i,handleOpenInNewTab:r}=e,o=(0,K.GV)(ed.nD);return ec.D1?null:!o&&i&&a?(0,p.jsx)(mm.Q,{inset:0,w:"100%",h:"100%",position:"absolute",zIndex:1,cursor:"pointer",children:(0,p.jsx)(mm.r,{onClick:i,href:a,target:"_blank",rel:"noopener"})}):(0,p.jsx)(mg.K,{enterZoom:t,doubleClickNonZoomHandler:o?r:void 0,...n})};var mf=n(92739);let mb={allowPopups:!1,noSandbox:!1,preventScroll:void 0},mv=e=>{let{initialUrl:t,frameRef:n,iframeOptions:a,backgroundColor:i="white",onLoad:r,...o}=e,{allowPopups:l,preventScroll:s,noSandbox:d}=a||mb;return(0,p.jsx)(e6.s,{w:"100%",h:"100%",direction:"column",background:i,...o,children:(0,p.jsx)("iframe",{ref:n,src:t,frameBorder:"0",width:"100%",height:"100%",allow:"encrypted-media; camera; microphone",allowFullScreen:!0,title:"Embedded app",sandbox:d?void 0:"allow-forms allow-scripts allow-same-origin allow-modals allow-pointer-lock ".concat(l?"allow-popups":""),scrolling:s?"no":void 0,style:{flex:1},onLoad:()=>{null==r||r()}})})},my=(()=>{let e=e=>e.replace(/^https?:/,""),t=null,n=new Map,a={capture:!0,passive:!0},i=i=>{let r=e(i);n.delete(r),0===n.size&&t&&(window.removeEventListener("message",t,a),t=null)};return(r,o)=>{if(n.set(e(r),o),t)return()=>i(r);let l=Math.floor(519*Math.random());return t=t=>{if("https://if-cdn.com"===t.origin)try{let a=JSON.parse(t.data);if(!("context"in a))return;a.messageId=Math.floor(519*Math.random()),a.listenerId=l;let i=e(a.context);if(n.has(i))return void n.get(i)(a)}catch(e){console.error(e)}},window.addEventListener("message",t,a),()=>i(r)}})();function mw(e){return!!e&&"if-cdn.com"===new URL(e).host}let mC=e=>{let[t,n]=(0,L.useState)(null),a="function"==typeof e,i={resizeSettled:!1,loadFired:!1,preloadStart:Number.NEGATIVE_INFINITY,loadStart:Number.NEGATIVE_INFINITY,triggered:!1},r=(0,L.useRef)({...i}),o=(0,L.useRef)(e),l=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],{preloadStart:t,loadStart:n,resizeSettled:a,loadFired:i,triggered:l}=r.current,s=performance.now()-t,d=performance.now()-n;if(!l&&(e||a&&i)){var c;console.debug("[embed] firing onLoad ".concat(d,"ms after frame load"),{preloadDelta:s,loadDelta:d}),r.current.triggered=!0,null==(c=o.current)||c.call(o);return}};return(0,L.useEffect)(()=>{o.current=e},[e]),(0,L.useEffect)(()=>{if(!a||!mw(t))return()=>{r.current={...i}};r.current.preloadStart=performance.now();let e=null,n=my(t,e=>{e&&"object"==typeof e&&"height"in e&&o.push(e.height),s(o.length?200:1e3)}),o=[],s=t=>{e&&(clearTimeout(e),e=null),r.current.resizeSettled||(e=setTimeout(()=>{e=null,r.current.resizeSettled=!0,n(),l()},t))};return s(1e3),()=>{e&&(clearTimeout(e),e=null),n(),r.current={...i}}},[t,a]),{handlePreload:e=>(n(e),()=>{r.current.loadStart=performance.now(),r.current.loadFired=!0,l(!mw(e))})}},mj=e=>{let{html:t,onLoad:n,...a}=e,{handlePreload:i}=mC(n),r=(0,L.useRef)({frame:null,listener:null});return(0,p.jsx)(h.a,{position:"relative",role:"group",className:"html-embed-viewer","data-selection-ring":"inside","data-selection-background":!0,borderRadius:"var(--box-border-radius)",contentEditable:!1,dangerouslySetInnerHTML:{__html:t},ref:e=>{if(!e){r.current.frame&&r.current.listener&&r.current.frame.removeEventListener("load",r.current.listener),r.current={frame:null,listener:null};return}let t=null==e?void 0:e.getElementsByTagName("iframe");if((null==t?void 0:t.length)!==1){null==n||n();return}let a=t.item(0),o=a.src;if(a===r.current.frame)return;r.current.frame&&r.current.listener&&r.current.frame.removeEventListener("load",r.current.listener);let l=i(o);r.current={frame:a,listener:l},a.addEventListener("load",l)},...a})},mA=e=>{let{frameRef:t,node:n,isStealth:a=!1,isDark:i}=e,r=(0,ee.lQ)(n.attrs),{handleOpenLinkWithInterstitial:o}=(0,mu.E)(r);return(0,p.jsxs)(e6.s,{direction:"row",background:i?"gray.700":"gray.50",align:"center",borderBottom:"1px solid",borderColor:i?"gray.600":"gray.200",w:"100%",p:1,zIndex:2,position:a?"absolute":"relative",transitionProperty:"common",transitionDuration:"normal",opacity:+!a,_hover:{opacity:1},fontFamily:"body",children:[(0,p.jsx)(to.p,{size:"xs",value:r,border:"0",noOfLines:1,color:i?"gray.200":"gray.600",pointerEvents:"none",readOnly:!0}),(0,p.jsxs)(tN.e,{size:"xs",spacing:1,variant:"ghost",colorScheme:"gray",ml:2,children:[(0,p.jsx)(eh.Tz,{label:(0,p.jsx)(em.x6,{id:"HpK/8d"}),placement:"top",children:(0,p.jsx)(eJ.K,{isRound:!0,"aria-label":e4.Ru._({id:"HpK/8d"}),icon:(0,p.jsx)(E.g,{icon:e1.yek}),onClick:()=>{if(!t.current)return;let e=t.current.src;t.current.src="about:blank",setTimeout(()=>{t.current&&(t.current.src=e)},50)}})}),(0,p.jsx)(eh.Tz,{label:(0,p.jsx)(em.x6,{id:"Alx2/L"}),placement:"top",children:(0,p.jsx)(eJ.K,{isRound:!0,"aria-label":e4.Ru._({id:"Alx2/L"}),icon:(0,p.jsx)(E.g,{icon:e1.vMs}),onClick:o})})]})]})};var mk=n(23103);let mS=e=>{let{isZoomed:t,useStealthNav:n,onLoad:a,opacity:i,...r}=e,{node:o}=r,l=(0,L.useRef)(null),{colorMode:s}=(0,ay.G6)(),d="dark"===s,c=(0,es.FX)(),{url:u,proxy:h,source:m,embed:g}=o.attrs,x=(0,mk.B)(m),f=x.rewriteEmbedUrl&&u?x.rewriteEmbedUrl(u):u,b=h?(0,mk.l)(f):f||"about:blank",{isUntrusted:v}=(0,mf.i)(b);return x.preferHtml&&(null==g?void 0:g.html)?(0,p.jsx)(mj,{html:g.html,w:t?"100%":void 0,onClick:t?nC.dG:void 0,onLoad:a,opacity:i,...x.minWidth?{minW:"min(".concat(x.minWidth,", 100vw, 100%)"),left:"50%",transform:"translateX(-50%)"}:void 0}):v?(0,p.jsx)(e6.s,{h:"100%",w:"100%",align:"center",justify:"center",children:"unknown embed"}):(0,p.jsxs)(e6.s,{direction:"column",h:"100%",w:"100%",maxW:"var(--media-maxW)",maxH:"var(--media-maxH)",borderRadius:t?"lg":"var(--box-border-radius)",border:"1px solid",borderColor:d?"gray.600":"gray.200",overflow:"hidden",position:"relative","data-content-reference":!0,"data-selection-ring":"inside","data-selection-background":!0,className:(0,I.cx)("embed-viewer"),onClick:t?nC.dG:void 0,children:[(0,p.jsx)(mA,{...r,frameRef:l,isDark:d,isStealth:n}),!t&&(0,p.jsx)(mh.zA,{...r,frameRef:l}),(0,p.jsx)(mv,{initialUrl:b,frameRef:l,iframeOptions:x.iframeOptions,onLoad:a,css:{aspectRatio:c?"1 / 1.618":"1.618 / 1"},flex:"1"})]})};var mI=n(42276);let mE=(0,cp.P)(h.a),mL=(0,cp.P)(e6.s),mR=e=>{let{node:t,editor:n,decorations:a}=e,i=t.attrs,{source:o,embed:l,displayStyle:s,id:d,sourceUrl:c}=i,u=(0,mk.B)(o),{isZoomed:g,enterZoom:x,exitZoom:f}=(0,mh.RL)(d),b="inline"===s&&u.preferHtml&&(null==l?void 0:l.html),v=(0,uD.NZ)(e),y=(0,es.FX)(),w=(0,K.GV)(ed.nD),C=(0,ns.DM)(a)||!n.view.hasFocus(),j=(0,t8.u)("virtualizeEmbeds"),[A,k]=(0,L.useState)(!1),S=!r.$.GAMMA_PUPPETEER_SERVICE&&(b||"inline"===s)&&!v&&!(y&&u.forcePreviewOnMobile),{handleOpenLinkWithInterstitial:E,handleOpenNativeLinkWithInterstitial:R,url:D}=mp({attrs:i,inGallery:v,shouldDisableClick:!!(u.inlineInteractive&&S)})||{},M=!v&&!n.isThumbnail,{inViewport:_,ref:z,dimensions:T}=mc();return j&&S&&!n.isThumbnail&&"embed.gdrive"!==u.key&&!1===_?(!0===A&&k(!1),(0,p.jsx)(m.u,{...e,as:"div",children:(0,p.jsx)(mr,{ref:z,dimensions:T})})):(0,p.jsxs)(m.u,{...e,children:[(0,p.jsxs)(mE,{h:"100%",w:"calc(100% * var(--media-scale))",className:(0,I.cx)("embed-preview",!b&&!(u.inlineInteractive&&S)&&ln.Gx),"data-export-as-image":!0,"data-export-link":c,position:"relative",overflow:b&&u.minWidth?"visible":"hidden","data-drag-handle":!0,ref:z,children:[S&&n.isThumbnail?(0,p.jsx)(mI.a6,{...e}):v?(0,p.jsx)(mI.x6,{...e}):S?(0,p.jsx)(mr,{isLoading:!A,dimensions:T,enforceMinDimensions:"embed.twitter"===u.key,flexDir:"column",children:(0,p.jsx)(mS,{...e,opacity:+!!A,onLoad:()=>{k(!0)},useStealthNav:!0})}):(0,p.jsx)(mI.Ch,{...e}),u.inlineInteractive&&!y&&S?(0,p.jsx)(h.a,{position:"absolute",inset:0,zIndex:1,pointerEvents:w&&!C&&"inline"===s?"auto":"none",cursor:"default"}):u.inlineInteractive&&y&&S?(0,p.jsx)(p.Fragment,{}):(0,p.jsx)(mx,{enterZoom:x,handleOpenLink:R,handleOpenInNewTab:E,url:D})]}),M&&(0,p.jsx)(mh.Gx,{isZoomed:g,exitZoom:f,editor:n,children:(0,p.jsx)(mL,{h:"100%",w:"100%",direction:"column",justify:"center",align:"center",children:(0,p.jsx)(mS,{...e,onLoad:()=>{k(!0)},isZoomed:!0})})})]})},mD=l.bP.create({name:"embed",group:"block media",atom:!0,draggable:!0,selectable:!0,expandable:!0,addNodeView:()=>(0,c.gu)(mR,{update:u.z0}),addAttributes:()=>({id:(0,lO.e)(lH.z),url:{},source:{default:tE.Jp.key},thumbnail:{...(0,J.tb)("thumbnail")},embed:{...(0,J.tb)("embed")},meta:{...(0,J.tb)("meta")},proxy:{},sourceUrl:{},displayStyle:{default:"preview"},fullWidthBlock:{default:!1},clickBehavior:{default:null}}),parseHTML:()=>[{tag:"div[class=embed]"},{tag:"iframe[bookmark]",getAttrs:Y.Ll}],renderHTML(e){let{HTMLAttributes:t,node:n}=e;return["div",(0,l.KV)(t,{class:"embed"}),["a",{href:(0,ee.lQ)(n),target:"_blank"},(0,ee.JY)(n)]]},renderHTMLforAI(e){let{node:t,disableBookmarks:n}=e;return n?["iframe",{src:t.attrs.url}]:["iframe",{bookmark:(0,Y.vL)(t)}]},addCommands:()=>({replaceEmbedsById:(e,t)=>n=>{let{editor:a,chain:i}=n,r=(0,l.xe)(a.state.doc,t=>"embed"===t.type.name&&t.attrs.id===e),o=i();return r.forEach(e=>{let{pos:n,node:a}=e;o.insertContentAt({from:n,to:n+a.nodeSize},t,{updateSelection:!1})}),o.run(),!0},updateEmbedsById:(e,t)=>n=>{let{editor:a,chain:i}=n,r=(0,l.xe)(a.state.doc,t=>("embed"===t.type.name||"video"===t.type.name)&&t.attrs.id===e),o=i();return r.forEach(e=>{let{pos:n}=e;o.updateAttributesAtPos(n,{thumbnail:t.thumbnail})}),o.run(),!0},insertEmbedAndFetchMetadata:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return a=>{let{commands:i,editor:r}=a,o=(0,lH.z)();i.insertContent({type:"embed",attrs:{id:o,url:e,sourceUrl:e,displayStyle:null!=t?t:"preview",meta:{title:"Loading..."}}},{updateSelection:!1});let l=!1;return(0,mi.Yq)(e,e=>{if(l)return void r.commands.updateEmbedsById(o,e);let n=ai.Fn[e.source];r.commands.replaceEmbedsById(o,{type:(null==n?void 0:n.nodeName)||"embed",attrs:{...e,id:o,displayStyle:null!=t?t:"video"===n.nodeName?"inline":"preview"}}),l=!0}).catch(t=>{console.warn("(caught) insertEmbedAndFetchMetadata error fetching url",t,e),n&&r.commands.replaceEmbedsById(o,e)}),!0}}})});var mM=n(45176);let m_="gallery-prevent-flex";class mz{constructor(e=null){this.dragging=e}}let mT=new W.hs("galleryPlugin"),mN=e=>new W.k_({key:mT,state:{init:()=>new mz,apply:(e,t)=>t},props:{handleDOMEvents:{drop(e){var t;let n=null==(t=e.dragging)?void 0:t.annotations,a=mT.getState(e.state);if(!a)return!1;a.dragging=n}},decorations:e=>{let{doc:t}=e,n=[];return t.descendants((e,t,a)=>{if((0,uD.Pb)(e))n.push(sQ.NZ.node(t,t+e.nodeSize,{class:"gallery-layout-".concat(e.attrs.layout)},{children:e.content}));else if((0,uD.Pb)(a)){var i;let r="image"===e.type.name&&(null==(i=e.attrs.resize)?void 0:i.clipType)==="circle";n.push(sQ.NZ.node(t,t+e.nodeSize,{class:r?m_:""},{inGallery:!0,layout:a.attrs.layout,dimensions:a.attrs.dimensions,thumbHeight:a.attrs.thumbHeight,thumbSpacing:a.attrs.thumbSpacing}))}}),sQ.zF.create(t,n)},handlePaste:(e,t,n)=>{let{selection:a,schema:i}=e.state;if(!(a instanceof W.nh&&(0,uD.Pb)(a.node)))return!1;if((0,uD.jG)(i,n,t)){let t=e.state.tr.setSelection(W.U3.create(e.state.doc,a.to-1));e.dispatch(t)}return!1},handleDrop:(t,n,a)=>{let i,r=mT.getState(t.state),o=null==r?void 0:r.dragging;r&&(r.dragging=null);try{if(!(i=(0,uD.tz)(t,n,a,!1)))return!1}catch(e){return console.error("(caught) [GalleryPlugin] handleDrop checkGalleryDropTarget error:",e),!1}try{let{selection:n}=t.state,r=a.content.toJSON(),{pos:l,side:s,node:d}=i,c=!n.empty,u=r.some(e=>{var t;return"image"===e.type&&!(null==(t=e.attrs)?void 0:t.src)}),p=c&&!u;if(d&&(0,uD.Pb)(d)){let t="left"===s?l:l+1;e.chain().insertContentAt({from:t,to:t},r,{updateSelection:!1}).command(n=>{let{tr:a}=n;if(p&&a.deleteSelection(),o){let n=e.state.tr;n.deleteSelection(),a.setMeta("annotationEvent",{type:"drop",dragging:o,droppedBlockPos:n.mapping.map(t)})}return!0}).focusMapped(t).run()}else if(d&&(0,ee.Bv)(d)){let n="left"===s?[...r,d.toJSON()]:[d.toJSON(),...r];e.chain().insertContentAt({from:l,to:l+d.nodeSize},{type:"gallery",content:n},{updateSelection:!1}).command(n=>{let{tr:a}=n;if(p&&a.deleteSelection(),o){let n=(0,lk.Q4)({side:s,view:t,tr:a,dragging:o,dropPos:l,dropNode:d});requestAnimationFrame(()=>{var t,a;null==(t=(a=e.commands).moveAnnotations)||t.call(a,n)})}return!0}).run()}}catch(e){console.error("(caught) [GalleryPlugin] handleDrop error:",e)}return!0}}});var mP=n(76694),mO=n(84979),mH=n(38636);let mF=e=>e&&tE.Dc[e]?tE.Dc[e]:tE.GQ,mB=16/9,mV=e=>{let{isZoomed:t,onLoad:n,opacity:a,position:i="relative",...r}=e,{node:o}=r,{embed:l,source:s,sourceUrl:d}=o.attrs,c=mF(s),u=(0,L.useRef)(null),m=c.preferHtml&&(null==l?void 0:l.html),g=(null==l?void 0:l.height)&&!(null==l?void 0:l.width),x=(null==l?void 0:l.height)&&(null==l?void 0:l.width)?l.width/l.height:(null==l?void 0:l.aspectRatio)||mB,f=t?{width:"min(var(--media-maxW), calc(var(--media-maxH) * ".concat(x,"))"),height:"video.tiktok"===s?void 0:g?l.height:"min(var(--media-maxH), calc(var(--media-maxW) / ".concat(x,"))"),alignContent:"center"}:m?{width:"100%"}:g?{height:l.height}:{height:0,pb:"".concat(100/x,"%")},b=(null==l?void 0:l.url)||o.attrs.embedUrl||d,v=c&&c.rewriteEmbedUrl&&b?c.rewriteEmbedUrl(b):b;return(0,p.jsxs)(h.a,{position:i,opacity:a,"data-content-reference":!0,"data-drag-handle":!0,...f,onClick:t?nC.dG:void 0,transition:"opacity .2s",children:[!t&&(0,p.jsx)(mh.zA,{...r,frameRef:u}),m?(0,p.jsx)(mj,{html:l.html,w:t?"100%":void 0,onClick:t?nC.dG:void 0,onLoad:n,...c.minWidth?{minW:"min(".concat(c.minWidth,", 100vw, 100%)"),left:"50%",transform:"translateX(-50%)"}:void 0,maxW:c.maxWidth}):(0,p.jsx)(mv,{initialUrl:v,backgroundColor:"none",borderRadius:"var(--box-border-radius)",overflow:"hidden","data-content-reference":!0,"data-selection-ring":"inside","data-selection-background":!0,className:(0,I.cx)("video-player"),onLoad:n,iframeOptions:{preventScroll:!0,...c.iframeOptions},position:"absolute",inset:0,frameRef:u})]})},mW=e=>{let{node:t,editor:n}=e,a=t.attrs,{source:i,embed:o,displayStyle:l,id:s,sourceUrl:d}=a,{isZoomed:c,enterZoom:u,exitZoom:g}=(0,mh.RL)(s),x=(0,uD.NZ)(e),f=(0,mk.B)(i),b=(0,t8.u)("virtualizeEmbeds"),[v,y]=(0,L.useState)(!1),w=!r.$.GAMMA_PUPPETEER_SERVICE&&"inline"===l,C="inline"===l&&f.preferHtml&&(null==o?void 0:o.html),j=!x&&!n.isThumbnail,{handleOpenLinkWithInterstitial:A,handleOpenNativeLinkWithInterstitial:k,url:S}=mp({attrs:a,inGallery:x,shouldDisableClick:w&&!x})||{},{inViewport:E,ref:R,dimensions:D}=mc();return b&&w&&!1===E&&!n.isThumbnail?(!0===v&&y(!1),(0,p.jsx)(m.u,{...e,as:"div",children:(0,p.jsx)(mr,{ref:R,dimensions:D})})):(0,p.jsxs)(m.u,{...e,as:"div",children:[(0,p.jsx)(h.a,{h:"100%",w:"calc(100% * var(--media-scale))",className:(0,I.cx)("embed-preview",!w&&ln.Gx),"data-export-as-image":!0,"data-export-link":d,position:"relative",overflow:C&&f.minWidth?"visible":"hidden",ref:R,children:n.isThumbnail?(0,p.jsx)(mI.a6,{...e}):x?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(mx,{enterZoom:u,url:S,handleOpenLink:k,handleOpenInNewTab:A}),(0,p.jsx)(mI.x6,{...e})]}):w?(0,p.jsx)(mr,{isLoading:!v,dimensions:D,children:(0,p.jsx)(mV,{opacity:+!!v,position:"static",onLoad:()=>{y(!0)},...e})}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(mx,{enterZoom:u,url:S,handleOpenLink:k,handleOpenInNewTab:A}),(0,p.jsx)(mI.Ch,{...e})]})}),j&&(0,p.jsx)(mh.Gx,{isZoomed:c,exitZoom:g,editor:n,children:(0,p.jsx)(e6.s,{width:"var(--media-maxW)",height:"var(--media-maxH)",direction:"column",align:"center",justify:"center",children:(0,p.jsx)(mV,{onLoad:()=>{y(!0)},...e,isZoomed:!0})})})]})},mU=l.bP.create({name:"video",group:"block media",atom:!0,draggable:!0,selectable:!0,expandable:!0,addNodeView:()=>(0,c.gu)(mW,{update:u.z0}),addAttributes:()=>({id:(0,lO.e)(lH.z),embedUrl:{},source:{},thumbnail:{...(0,J.tb)("thumbnail")},embed:{...(0,J.tb)("embed")},meta:{...(0,J.tb)("meta")},sourceUrl:{},displayStyle:{default:"inline"},fullWidthBlock:{default:!1},clickBehavior:{default:null}}),parseHTML:()=>[{tag:"div[class=video]"},{tag:"video[bookmark]",getAttrs:Y.Ll}],addStorage:()=>({bookmarks:{}}),renderHTMLforAI(e){let{node:t,disableBookmarks:n}=e;return n?["video",{src:(0,ee.lQ)(t)}]:["video",{bookmark:(0,Y.vL)(t)}]},renderHTML(e){let{HTMLAttributes:t,node:n}=e;return["div",(0,l.KV)(t,{class:"video"}),["a",{href:(0,ee.lQ)(n),target:"_blank"},(0,ee.JY)(n)]]}});var mG=n(80215);let mK=e=>{let{editor:t,node:n,getPos:a}=e,i=(0,L.useCallback)(()=>{t.commands.selectNodeAtPos(a()),t.chain().deleteSelectionAndSelectNear().run()},[t,a]),r=(0,mG.N_)(),o=n.attrs.layout;return{contextMenuItems:[...(0,sO.d)({editor:t,node:n,getPos:a}),{divider:!0},{key:"add-comment",label:(0,p.jsx)(em.x6,{id:"oFsfkI"}),icon:e1.DN2,onClick:()=>{t.commands.selectNodeAtPos(a()),(0,uD.wG)(t.state.selection)}},{divider:!0},{key:"layout",label:(0,p.jsx)(em.x6,{id:"vR68Ol"}),icon:e1.Qyz,items:Object.entries(r).map(e=>{let[i,r]=e;return{key:i,label:(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(S.E,{children:r.title}),(0,p.jsx)(S.E,{fontSize:"xxs",color:"gray.500",children:r.description})]}),icon:i===o?e1.e68:void 0,onClick:()=>{t.commands.selectNodeAtPos(a()),(0,mG.mF)(i,n.attrs,t,t.state.selection)}}})},{key:"add-image",label:(0,p.jsx)(em.x6,{id:"pVb3uA"}),icon:e1.HuL,onClick:()=>{t.commands.selectNodeAtPos(a()),(0,uD.hk)(a,t)}},{divider:!0},{key:"delete",label:(0,p.jsx)(em.x6,{id:"cnGeoo"}),icon:e1.yLS,onClick:i,color:"red.500"}]}},mQ=(0,cp.P)(e6.s),mZ=e=>{let{node:t,editor:n,getPos:a}=e,i=t.attrs,r=(0,es.FX)(),o=(0,uD.yg)(e),l=0===o.length,s=(0,oI.rd)(),d=l?mM.Aj:r?mM.XJ:i.thumbHeight||mM.Aj,u=i.layout,h="grid"===u?i.dimensions||"square":void 0,g=(0,rH.lI)(i.horizontalAlign||"center"),{isZoomed:x,isZoomComplete:f,exitZoom:b,zoomedId:v,setZoomedId:y}=(0,mh.$B)(o.map(e=>e.attrs.id)),w=(0,K.GV)(ed.nD),C=(0,L.useRef)(null),j=(0,mP.z)(C,e=>(0,uD.HI)(n.view,e)),{onOpenContextMenu:A,onCloseContextMenu:k,menuProps:I}=(0,lZ.$)({editor:n,getPos:a}),{contextMenuItems:R}=mK({editor:n,node:t,getPos:a}),D=(0,L.useCallback)(e=>{e.stopPropagation(),e.preventDefault(),(0,uD.hk)(a,n)},[a,n]),M=(0,L.useCallback)(e=>{var t;n.isEditable&&(null==(t=e.target.closest(".gallery, .block"))?void 0:t.classList.contains("gallery"))&&n.commands.selectNodeAtPos(a())},[n,a]),_=(0,L.useMemo)(()=>"grid"===u?{overflow:"hidden",aspectRatio:"square"===h?"1":"landscape"===h?"4/3":"3/4"}:"logo"===u?{height:void 0}:{h:"".concat(d,"em"),flex:i.stretchFill||null===i.stretchFill?"1 1 auto":void 0},[u,h,d,i.stretchFill]),T=(0,L.useMemo)(()=>"grid"===u?{justifyContent:"center",display:"grid",gridTemplateColumns:1===o.length?"repeat(auto-fit, ".concat(i.thumbHeight,"em)"):o.length<6?i.thumbHeight>=mM.Vj/(1+.1*o.length)?"repeat(auto-fit, minmax(".concat(i.thumbHeight,"em, 1fr))"):"repeat(auto-fit, ".concat(i.thumbHeight,"em)"):"repeat(auto-fit, minmax(".concat(i.thumbHeight,"em, 1fr))"),gap:i.thumbHeight>=mM.Vj/2?"".concat(mM.I0,"em"):i.thumbHeight<=mM.Vj/3?"".concat(mM.I0/1.25,"em"):"".concat(mM.I0/1.5,"em")}:{gap:i.thumbHeight<=mM.Aj/3?"".concat(mM.I0/2,"em"):i.thumbHeight<=mM.Aj/2?"".concat(mM.I0/1.5,"em"):"".concat(mM.I0,"em"),display:"flex",flexDirection:"row",flexWrap:"wrap",alignItems:"center",placeContent:g,w:o.length>=3&&(null===i.stretchFill||i.stretchFill)?"100%":void 0},[u,i.thumbHeight,i.stretchFill,g,o.length]);return(0,p.jsxs)(m.u,{...e,children:[(0,p.jsxs)(e6.s,{onContextMenu:w?A:void 0,className:"gallery",cursor:"default",onClick:M,ref:C,align:g,direction:"column",position:"relative","data-selection-ring":!0,"data-selection-background":!0,...l?j:{},css:{"--media-maxH":"flex"===u?"".concat(d,"em"):void 0,"--media-maxW":"100%"},w:"100%",sx:{".gallery-content":{w:"100%",display:"flex"===u?"contents":void 0},"[data-node-view-content-inner=gallery]":{...T,".block":{..._,["&.".concat(m_)]:{flex:"0 0 auto"},my:0,transitionProperty:"filter",transitionDuration:"normal",_hover:{[":not(.block-mediaPlaceholder) > :not(.".concat(mO.T,")")]:{filter:"brightness(0.9)"}},"[data-node-view-wrapper]":{h:"100%"}},".block-mediaPlaceholder":{overflow:"visible"}},".block-gallery.is-focused & .placeholder":{bg:s?cq.N.DARK_GALLERY_BG:cq.N.LIGHT_GALLERY_BG},".placeholder":{minW:"flex"===u?"12em":"logo"===u?"6em":void 0,h:"logo"===u?(0,uD.w5)(i.thumbHeight,i.thumbSpacing):void 0}},children:[l?(0,p.jsxs)(eu.T,{spacing:3,h:"".concat(d,"em"),justify:"center",contentEditable:!1,color:s?cq.N.DARK_COLOR:cq.N.LIGHT_COLOR,className:"gallery-placeholder","data-testid":"gallery-placeholder",userSelect:"none",children:[(0,p.jsx)(E.g,{size:"2x",icon:iM.yvG}),w?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(eZ.$,{size:"xs",onClick:D,onMouseDown:nC.Fw,children:"Add images"}),(0,p.jsx)(S.E,{color:s?cq.N.DARK_ICON_COLOR:cq.N.LIGHT_ICON_COLOR,fontSize:"sm",textAlign:"center",children:(0,p.jsx)(em.x6,{id:"oyPIji"})})]}):null]}):(0,p.jsx)(c.$p,{className:"gallery-content"}),w&&!l&&(0,p.jsx)(e6.s,{position:"absolute",bottom:"0",h:"grid"===u||"logo"===u?"100%":"".concat(d,"em"),align:"center",w:6,insetEnd:-3,className:"add-image",opacity:"0",transitionProperty:"opacity",zIndex:"tooltip",transitionDuration:"normal",children:(0,p.jsx)(eh.Tz,{label:(0,p.jsx)(em.x6,{id:"P5MuiB"}),placement:"top",children:(0,p.jsx)(eJ.K,{icon:(0,p.jsx)(E.g,{icon:e1.QLR}),"aria-label":e4.Ru._({id:"P5MuiB"}),position:"absolute",size:"xs",variant:"plain",isRound:!0,onClick:D})})}),(0,p.jsx)(z.A,{...e,handlePlacement:"outside",label:e4.Ru._({id:"wnA/4R"})}),(0,p.jsx)(lK.tz,{menuItems:R,isOpen:I.isOpen,position:I.position,onClose:k,size:"small"})]}),(0,p.jsx)(mh._M,{isZoomed:x,isZoomComplete:f,exitZoom:b,zoomedId:v,setZoomedId:y,editor:n,children:o.filter(e=>e.attrs.id).map(e=>{let{id:t}=e.attrs,a=e.type.name;return{id:t,thumbnail:"image"===a?(0,p.jsx)(mH.F,{imageAttrs:e.attrs,objectFit:"cover",isThumbnail:!0}):(0,p.jsx)(mI.x6,{node:e}),full:(0,p.jsx)(e6.s,{justify:"center",align:"center",h:"100%",w:"100%",children:"image"===a?(0,p.jsx)(mH.F,{isZoomed:!0,imageAttrs:e.attrs}):"video"===a?(0,p.jsx)(mQ,{width:"var(--media-maxW)",height:"var(--media-maxH)",direction:"column",align:"center",justify:"center",children:(0,p.jsx)(mV,{isZoomed:!0,node:e,decorations:[],editor:n})}):(0,p.jsx)(mQ,{h:"100%",w:"100%",direction:"column",justify:"center",align:"center",children:(0,p.jsx)(mS,{isZoomed:!0,node:e,decorations:[],editor:n})})})}})})]})},mq=l.bP.create({name:"gallery",group:"cardBlock layoutBlock",content:"media*",isolating:!0,draggable:!0,selectable:!0,priority:X.y.Gallery,containerHandle:!0,expandable:!0,addNodeView:()=>(0,c.gu)(mZ,{update:u.z0,ignoreMutation:hx.I}),addAttributes:()=>({thumbHeight:{default:mM.Aj},fullWidthBlock:{default:!1},layout:{default:"flex"},stretchFill:{},dimensions:{default:"square"},thumbSpacing:{default:mM.mj}}),addProseMirrorPlugins(){return[mN(this.editor)]},parseHTML:()=>[{tag:"div[class=gallery]"},{tag:"gallery"}],renderHTMLforAI(e){let{node:t}=e;return["gallery",{thumbHeight:t.attrs.thumbHeight},0]},renderHTML(e){let{HTMLAttributes:t}=e;return["div",(0,l.KV)(t,{class:"gallery"}),0]}});var m$=n(12354),mJ=n(61250);let mY=l.YY.create({name:"media",addExtensions:()=>[lH.p],addCommands:()=>({handleSpaceToZoom:()=>e=>{let{state:t}=e;if(t.selection instanceof W.nh&&(0,ee.Bv)(t.selection.node)){let e=(0,K.KA)(),{id:n}=t.selection.node.attrs;return!!(n&&(0,mJ.iZ)(n)(e.getState()))||(e.dispatch((0,ed.a)({nodeId:t.selection.node.attrs.id})),!0)}return!1}})});var mX=n(8224),m0=n(22004);let m1=["paragraph","heading","title","bullet","numbered","todo","toggleSummary"],m2=l.YY.create({name:"placeholderText",addGlobalAttributes:()=>[{types:m1,attributes:{placeholder:{default:null,keepOnSplit:!1,rendered:!1}}}],addCommands:()=>({removeFilledPlaceholders:()=>e=>{let{tr:t,dispatch:n}=e;return!n||(t.doc.descendants((e,n)=>{e.attrs.placeholder&&e.textContent&&(console.debug("Removing placeholder",e.attrs.placeholder,"at",n,"with content",e.textContent),t.setNodeAttribute(n,"placeholder",null))}),!0)}}),onUpdate(){m4(this.editor)}}),m4=rg()(e=>{e.isEditable&&e.commands.removeFilledPlaceholders()},100,{maxWait:1e3});var m5=n(7631),m6=n(6639),m3=n(68469),m9=n(93298),m7=n(62e3),m8=n(54958);let ge=new W.hs("smartDiagram"),gt=e=>{let t=e.find(e=>e.spec.isSmartDiagramDecoration);return t?t.spec:{isSmartDiagramDecoration:!0,selectedKeyPath:void 0,isSelected:!1,layoutContainerSize:1}},gn=()=>new W.k_({key:ge,props:{decorations(e){let{doc:t,selection:n}=e,a=[];return t.descendants((t,i)=>{if("smartDiagram"!==t.type.name)return;let r=(0,hy.JD)(e.doc.resolve(i)),{isSelected:o,selectedKeyPath:l}=ga(n,t);a.push(sQ.NZ.node(i,i+t.nodeSize,{},{isSmartDiagramDecoration:!0,isSelected:o,selectedKeyPath:l,layoutContainerSize:r}))}),sQ.zF.create(t,a)}}}),ga=(e,t)=>e instanceof W.nh&&e.node===t?{isSelected:!0}:e instanceof m8.n&&e.node===t?{isSelected:!0,selectedKeyPath:e.keyPath}:{isSelected:!1,selectedKeyPath:void 0};class gi extends L.Component{static getDerivedStateFromError(e){return{hasError:!0,errMessage:e.message}}componentDidCatch(e,t){console.error("BlockErrorBoundary caught an error:",e,t)}render(){return this.state.hasError?(0,p.jsx)(h.a,{fontFamily:"monospace",p:"1em",bg:"red.500",color:"white",borderRadius:"var(--box-border-radius)",fontSize:"1em",children:"Error rendering block: "+this.state.errMessage}):this.props.children}constructor(e){super(e),this.state={hasError:!1,errMessage:""}}}let gr=e=>{let{node:t}=e,{templateKey:n,aiGenerateStatus:a,data:i}=t.attrs;if(!(0,eD.En)())return null;if("queued"===a||!n)return(0,p.jsx)(m.u,{...e,children:(0,p.jsx)(lB.Pf,{isLoading:!0,loadingProvider:"aiGenerated",borderRadius:"var(--box-border-radius)",h:"10em"})});let r=n?(0,aF.FV)(n):void 0;return r&&("error"!==a||i)?(0,p.jsx)(m.u,{...e,children:(0,p.jsx)(gi,{errorMessage:"Unable to render smart diagram",children:(0,p.jsx)(go,{...e,template:r})})}):(0,p.jsx)(m.u,{...e,children:(0,p.jsx)(lB.Pf,{hasUploadError:!0,borderRadius:"var(--box-border-radius)",h:"10em"})})},go=e=>{let{node:t,editor:n,decorations:a,updateAttributes:i,getPos:r,template:o}=e,l=t.attrs,{data:s,horizontalAlign:d,showIcons:c}=l,u=o.Component,h=(0,K.GV)(ed.nD),m=(0,K.GV)(ed.SJ),{isSelected:g,selectedKeyPath:x,layoutContainerSize:f}=gt(a),b=n.isFocused,v=(0,L.useCallback)(e=>{let t=r();try{var a;let i=null==(a=n.state.doc.nodeAt(t))?void 0:a.attrs,r=null==i?void 0:i.data;if(!r)return;let o=JSON.parse(JSON.stringify(r)),l=e(o);if(JSON.stringify(l)===JSON.stringify(r))return;let s=n.state.tr;s.setNodeAttribute(t,"data",l).setSelection(W.LN.fromJSON(s.doc,n.state.selection.toJSON())),n.view.dispatch(s)}catch(e){console.error("Error updating smart diagram data",e)}},[r,n]),y=(0,L.useCallback)(e=>{let t=null==e?void 0:e.target;if(null==t||!t.closest("[data-in-editor-focus]"))try{n.commands.selectNodeAtPos(r())}catch(e){console.error("Error selecting node",e)}},[r,n]),w=(0,L.useCallback)(e=>{i({...t.attrs,...e}),y()},[t.attrs,i,y]),C=(0,L.useCallback)(e=>{let t=r(),a=n.state.doc.resolve(t),i=new m8.n(a,e);n.view.dispatch(n.state.tr.setSelection(i))},[r,n]),j=(0,rH.fZ)(a,d),A=(0,rH.Up)(a);return(0,p.jsx)(u,{data:s,theme:m,updateData:v,updateResizeAttrs:w,selectItem:C,selectNode:y,editor:n,isNodeSelected:!!(g&&!x&&b),selectedKeyPath:null!=x?x:null,alignDirection:j,svgDirection:A,isEditable:h,attrs:l,layoutContainerSize:f,showIcons:c})},gl=l.bP.create({name:"smartDiagram",group:"block",isolating:!0,defining:!0,atom:!0,selectable:!0,addAttributes:()=>({id:(0,lO.e)(lH.z),templateKey:{default:null},data:{default:{},...(0,J.tb)("data")},width:{default:null},showIcons:{default:!0},aiGenerateParams:{default:null,...(0,J.tb)("aiGenerateParams")},aiGenerateStatus:{default:null}}),renderHTML(e){let{HTMLAttributes:t}=e;return["div",(0,l.KV)(t,{class:"smart-diagram"})]},renderHTMLforAI(e){let{node:t,HTMLAttributes:n}=e;return["smart-diagram",{...n,"data-data":void 0},JSON.stringify(t.attrs.data,null,2)]},parseHTML:()=>[{tag:"div[class=smart-diagram]"},{tag:"smart-diagram[".concat(lP.A,"]"),getAttrs:aY.K},{tag:"smart-diagram",getAttrs:e=>{let t=e.textContent;if(!t)return!1;try{return{data:JSON.parse(t)}}catch(e){return!1}}}],addNodeView:()=>(0,c.gu)(gr,{update:u.z0}),addProseMirrorPlugins:()=>[gn()],addCommands(){return{insertSmartDiagram:e=>{let{attrs:t,selectedText:n,allowGeneration:a=!0}=e;return e=>{let{chain:i,state:r}=e,o=(0,K.KA)().getState(),s=(0,m6.Wt)("locale")(o)||(0,m7.J)(),d=(0,ir.xt)(s),{selection:c}=r,u=(0,l.KP)(e=>"smartLayout"===e.type.name)(c),p=(0,l.eL)(r.doc.resolve(c.from),e=>"gridLayout"===e.type.name),h=c.from,m=u||p;m&&(h=m.pos+m.node.nodeSize);let g=n;if(!n&&a){let e=sf(r.doc,Math.max(c.from-1e3,0),c.from),t=(0,m9.p9)(e).slice(-200);g=(0,m9.$0)(t)}let x={aiGenerateParams:{prompt:"Generate a smart diagram based on the following text: ".concat(g),language:d},aiGenerateStatus:"queued"};return i().insertContentAt(h,{type:this.name,attrs:{...t,templateKey:t.templateKey,id:(0,lH.z)(),...a?x:{}}}).selectInsertedNode().command(e=>{let{state:t,tr:n}=e,a=n.selection.from,i=t.doc.nodeAt(a),r=(0,l.eL)(t.doc.resolve(a),Q.jg);return!!i&&!!r&&(aq({editor:this.editor,rootNode:r.node,interactionId:(0,m3.$)()}),!0)}).run()}},updateSmartDiagramData:(e,t,n)=>a=>{let{chain:i}=a;return i().updateAttributeKeyPathAtPos(e,"data."+t,n).run()}}}});var gs=n(95663),gd=n(35616),gc=n(61964);let gu=l.YY.create({name:"TableCommands",addCommands:()=>({selectColumn:e=>t=>{let{tr:n,dispatch:a}=t;if(!a)return!0;let{doc:i}=n,r=i.resolve(e),o=gc.rn.colSelection(r);return n.setSelection(o),!0},selectRow:e=>t=>{let{tr:n,dispatch:a}=t;if(!a)return!0;let{doc:i}=n,r=i.resolve(e),o=gc.rn.rowSelection(r);return n.setSelection(o),!0},selectTable:e=>t=>{let{tr:n,dispatch:a}=t;if(!a)return!0;let{doc:i}=n,r=i.resolve(e),o=gc.rn.colSelection(r),l=gc.rn.rowSelection(o.$anchorCell,o.$headCell);return n.setSelection(l),!0}})}),gp=l.bP.create({name:"tableCell",addOptions:()=>({HTMLAttributes:{}}),content:"(block | tableBlock)+",addAttributes:()=>({colspan:{default:1},rowspan:{default:1}}),tableRole:"cell",isolating:!0,selectable:!1,parseHTML:()=>[{tag:"td"},{tag:"th"}],renderHTML(e){let{HTMLAttributes:t}=e;return["td",(0,l.KV)(this.options.HTMLAttributes,t),0]}}),gh=e=>(0,p.jsxs)(c.VR,{className:"table-row-wrapper",style:{display:"contents"},children:[(0,p.jsx)("th",{style:{position:"relative",padding:0},children:(0,p.jsx)(gm,{...e})}),(0,p.jsx)(c.$p,{as:"div",className:"table-row-content",style:{display:"contents"}})]}),gm=(0,L.memo)(e=>{let{...t}=e,{getPos:n,editor:a}=t;return(0,p.jsx)(e6.s,{height:"100%",align:"center",contentEditable:!1,suppressContentEditableWarning:!0,children:(0,p.jsx)(z.A,{...t,handlePlacement:"custom",label:e4.Ru._({id:"9c44h0"}),onClick:()=>{let e=n()+1;a.chain().focus().selectRow(e).run()},insetInlineStart:"-0.5em",top:"1em",zIndex:"3","data-testid":"table-row-control"})})});gm.displayName="RowControl";let gg=l.bP.create({name:"tableRow",addOptions:()=>({HTMLAttributes:{}}),selectable:!1,content:"tableCell+",tableRole:"row",containerHandle:!0,addNodeView:()=>(0,c.gu)(gh,{update:u.z0,as:"tr"}),parseHTML:()=>[{tag:"tr"}],renderHTML(e){let{HTMLAttributes:t}=e;return["tr",(0,l.KV)(this.options.HTMLAttributes,t),0]}});var gx=n(97984),gf=n(17406);let gb=e=>{let{node:t,decorations:n}=e,{level:a,horizontalAlign:i,placeholder:r}=t.attrs,o=r||(a===gv.DefaultTitle?e4.Ru._({id:"wja8aL"}):e4.Ru._({id:"MHrjPM"}));return(0,p.jsx)(m.u,{...e,style:{display:"flex",flexDirection:"column",...(0,rH.yp)(i)},children:(0,p.jsx)(c.$p,{dir:(0,rH.fZ)(n),level:a,className:(0,I.cx)("title",R.U6),"data-placeholder":o,style:{minWidth:"min(100%, 10em)",...(0,rH.O8)(i)}})})};var gv=function(e){return e[e.DefaultTitle=1]="DefaultTitle",e[e.LargeTitle=2]="LargeTitle",e[e.XLargeTitle=3]="XLargeTitle",e}({});let gy=e=>{switch(e){case 1:default:return"md";case 2:return"lg";case 3:return"xl"}},gw=e=>{switch(e){case"md":default:return 1;case"lg":return 2;case"xl":return 3}},gC=l.bP.create({name:"title",content:"inline*",group:"block cardNotesBlock",defining:!0,selectable:!1,addAttributes:()=>({level:{default:1}}),addNodeView:()=>(0,c.gu)(gb,{update:u.z0}),parseHTML:()=>[{tag:"h1[class=title]"},{tag:"display[size]",getAttrs:e=>({level:gw(e.getAttribute("size"))})}],addInputRules(){return(0,gf.Y5)().map(e=>{let[,t]=e,{inputRegex:n,level:a}=t;return n?(0,uO.JJ)({find:n,type:this.type,getAttributes:{level:a}}):null}).filter(e=>!!e)},renderHTML(e){let{HTMLAttributes:t}=e;return["h1",(0,l.KV)(t,{class:"title"}),0]},renderHTMLforAI(e){let{HTMLAttributes:t}=e,{level:n=1,...a}=t,i=gy(n);return["display",{...a,size:i},0]}});var gj=n(53891);let gA=()=>new W.k_({key:new W.hs("TogglePlugin"),props:{handlePaste(e,t,n){let{selection:a,tr:i}=e.state,r=(0,l.KP)(gj.Rv)(a);if(!r)return!1;let o=null,s=null,d=[];if(n.content.descendants(e=>{e.isTextblock&&(o?d.push(e):(o=e.content,s=(0,rN.NA)(e)||null))}),!o)return;s&&i.setNodeAttribute(r.pos,"fontSize",s),i.replaceSelection(aE.Ji.maxOpen(o));let c=i.mapping.map(r.pos+r.node.nodeSize);i.replaceRange(c,c,aE.Ji.maxOpen(aE.FK.fromArray(d)));let u=(0,lC.i)(i,-1);return u&&i.setSelection(u),e.dispatch(i),!0},decorations(e){let{doc:t}=e,n=[];return t.descendants((e,t,a)=>{if(!a||!(0,gj.Rv)(e))return;let i=(0,J.F2)(a.content).slice(1).every(e=>(0,J.Op)(e)),r=sQ.NZ.node(t,t+e.nodeSize,{},{isToggleDecoration:!0,toggleId:a.attrs.id,isEmpty:i});n.push(r)}),sQ.zF.create(t,n)}}}),gk=e=>{var t;return(null==(t=e.find(e=>e.spec.isToggleDecoration))?void 0:t.spec)||{}},gS="1.5em",gI=e=>{let{node:t,decorations:n}=e,{level:a,fontSize:i,placeholder:r,horizontalAlign:o}=t.attrs,{toggleId:l="",isEmpty:s}=gk(n),d=(0,rH.yp)(o),u=(0,rH.fZ)(n),[h]=(0,ov.yz)(u),g=(0,K.GV)(ed.nD),x=(0,K.GV)(ed.jO),f=(0,K.GV)((0,ed.q)(l))||x,b=(0,L.useCallback)(()=>{(0,gj.bG)(l,!f)},[l,f]);return(0,p.jsx)(m.u,{...e,hideComments:!f,children:(0,p.jsxs)(S.E,{as:"div",dir:u,display:"flex",flexDirection:"column",position:"relative",onClick:g?void 0:b,cursor:g?void 0:"pointer",style:{display:"flex",flexDirection:"column",...(0,rH.yp)(o)},children:[(0,p.jsx)(eZ.$,{[h]:"calc(0.125em - ".concat(gS,")"),position:"absolute",variant:"ghost",colorScheme:"gray",color:s?"var(--body-color-muted)":"var(--body-color)",onClick:g?b:void 0,contentEditable:!1,onMouseDown:nC.Fw,fontSize:"1em",lineHeight:"inherit",height:"100%",px:2,marginStart:-2,minW:"unset","data-testid":"toggle-button",children:(0,p.jsx)(S.E,{transform:"rotate(".concat(f?90:180*("rtl"===u),"deg)"),transformOrigin:"center",transitionProperty:"transform",transitionDuration:"normal",fontSize:"0.75em",children:(0,p.jsx)(E.g,{icon:eL.ijD})})}),(0,p.jsx)(c.$p,{dir:u,level:a,"data-placeholder":r||e4.Ru._({id:"JFciKP"}),"data-font-size":i,className:(0,I.cx)((0,rN.Ii)(i)&&R.U6),style:{minWidth:"min(100%, 10em)",textAlign:d.textAlign,...(0,rH.O8)(o)}})]})})},gE=l.bP.create({name:"toggleSummary",content:"inline*",selectable:!1,marks:"bold italic underline code footnoteLabel strike textColor highlight",allowFontSizes:"heading body",addAttributes:()=>({fontSize:pG.mD}),addNodeView:()=>(0,c.gu)(gI,{update:u.z0}),renderHTML(e){let{HTMLAttributes:t}=e;return["summary",t,0]},parseHTML:()=>[{tag:"summary"}]}),gL=e=>{let{decorations:t,node:n}=e,a=(0,rH.fZ)(t),[i]=(0,ov.yz)(a),r=(0,K.GV)(ed.jO),o=(0,K.GV)((0,ed.q)(n.attrs.id))||r;return(0,p.jsx)(m.u,{...e,hideComments:o,readOnly:!o,children:(0,p.jsxs)(h.a,{dir:a,ps:gS,position:"relative","data-open":!!o,className:"toggle",borderRadius:"var(--box-border-radius)","data-selection-ring":"padded",children:[(0,p.jsx)(c.$p,{}),o&&(0,p.jsx)(h.a,{position:"absolute",[i]:"0.375em",bottom:"0.25em",top:"2.5em",borderStart:"1px solid",borderColor:"var(--neutral-border-color)"})]})})};var gR=n(55860);let gD=/^\s*([+])\s$/,gM=l.bP.create({name:"toggle",group:"layoutBlock calloutBlock cardBlock smartLayoutBlock tableBlock",content:"toggleSummary (block | layoutBlock)+",selectable:!1,isolating:!0,priority:X.y.Toggle,expandable:!0,addNodeView:()=>(0,c.gu)(gL,{update:u.z0}),addProseMirrorPlugins:()=>[gA()],addAttributes:()=>({id:(0,lO.e)(gR.n)}),addInputRules(){var e;return[(e={find:gD,innerType:this.editor.schema.nodes.toggleSummary,outerType:this.type,getInnerAttributes:e=>({fontSize:(0,rN.NA)(e)}),getOuterAttributes:()=>{let e=(0,gR.n)();return(0,gj.bG)(e,!0),{id:e}}},new l.fV({find:e.find,handler:t=>{let{state:n,range:a,match:i}=t,r=n.doc.resolve(a.from);if(!r.node(-1).canReplaceWith(r.index(-1),r.indexAfter(-1),e.outerType))return;let o=(0,l.gk)(e.getOuterAttributes,void 0,r.parent)||{},s=(0,l.gk)(e.getInnerAttributes,void 0,r.parent)||{},d=n.tr.delete(a.from,a.to),c=d.doc.resolve(a.from),u=c.parent,p=e.outerType.createAndFill(o,[e.innerType.create(s,u.content)]);d.replaceWith(c.before(),c.after(),p);let h=(0,lC.n)(d.doc.resolve(a.from));h&&d.setSelection(h)}}))]},addCommands(){var e=this;return{unwrapToggle:()=>e=>{let{state:t,editor:n,tr:a}=e;if(!n.isActive("toggleSummary"))return!1;let{selection:i,schema:r}=t,o=(0,l.KP)(gj.p8)(i);if(!o||o.start+1!==i.from||!i.empty)return!1;let s=(0,J.F2)(o.node.content),d=s[0],{type:c,level:u}=(0,rN.o)(d.attrs.fontSize),p=["heading"===c?r.nodes.heading.create({level:u},d.content):r.nodes.paragraph.create({fontSize:d.attrs.fontSize},d.content)].concat(s.slice(1));a.replaceWith(o.pos,o.pos+o.node.nodeSize,aE.FK.from(p)).setMeta("annotationEvent",{type:"unwrap-node",pos:o.pos});let h=a.doc.resolve(o.pos),m=(0,lw.s)(h);return m&&a.setSelection(m),!0},joinBackwardInToggle:()=>e=>{let{state:t,editor:n,chain:a}=e;if(n.isActive("toggleSummary"))return!1;let{selection:i}=t,r=(0,l.KP)(gj.p8)(i);if(!r)return!1;let o=(0,J.F2)(r.node.content).slice(1);return!!i.empty&&0===i.$from.parentOffset&&1===o.length&&(a().command(e=>{let{tr:t}=e,a=t.doc.resolve(r.pos+1).end();return t.insert(a,n.schema.nodes.paragraph.create()),!0}).joinBackward(),!0)},wrapWithToggle:function(t){let n=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return a=>{let i,{state:r,tr:o}=a,{doc:l,selection:s,schema:d}=r,c=s.$from.blockRange(s.$to);if(!c)return!1;let u=[];l.nodesBetween(s.from,s.to,(e,t,n)=>{if(n===c.parent)return u.push(e),!1});let p=[];if(!t&&u[0].isTextblock&&u[0].textContent.length<100){let e=(0,rN.NA)(u[0]);i=d.nodes.toggleSummary.create({fontSize:e},u[0].content),p=u.slice(1)}else{let e=t?d.text(t):null;i=d.nodes.toggleSummary.create(null,e),p=u}let h=(0,gR.n)();n&&(0,gj.bG)(h,!0);let m=e.editor.schema.nodes.toggle.createAndFill({id:h},aE.FK.fromArray([i,...p]));if(!m)return!1;let{start:g,end:x}=c;o.replaceRangeWith(g,x,m).setMeta("annotationEvent",{type:"wrap-nodes",start:g,end:x,level:1});let f=(0,lw.t)(o);if(!f)return!1;let b=(0,lw.s)(f,-1);return b&&o.setSelection(b),!0}},enterInToggle:()=>e=>{let{editor:t,state:n,chain:a}=e;if(!t.isActive("toggle"))return!1;let i=(0,l.KP)(gj.p8)(n.selection);if(!i||(0,gj.vb)(i.node.attrs.id))return!1;let{selection:r}=t.state,{$from:o}=r;if(o.parentOffset===o.parent.nodeSize-2){let e=i.pos+i.node.nodeSize;return a().insertContentAt(e,{type:"paragraph"}).selectInsertedNode().run(),!0}return(0,gj.bG)(i.node.attrs.id,!0),!0}}},addKeyboardShortcuts:()=>({Enter:e=>{let{editor:t}=e;return t.commands.enterInToggle()},Backspace:e=>{let{editor:t}=e;return t.commands.first(e=>{let{commands:t}=e;return[()=>t.unwrapToggle(),()=>t.joinBackwardInToggle()]})}}),addExtensions:()=>[gR.D,gE],renderHTML(e){let{HTMLAttributes:t}=e;return["details",t,0]},parseHTML:()=>[{tag:"details"}]}),g_=n(99696).A.extend({parseHTML:()=>[{tag:"u"},{style:"text-decoration=underline"},{style:"text-decoration-line=underline"}]});var gz=n(95017);let gT=function(){let{isInnerEditor:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[pb,pv,rx.T,lp,lN.QJ.configure({enabled:!r.$.GAMMA_PUPPETEER_SERVICE}),et.iM,lz,s8,sG,lW,dE,dj,gz.n,i.E,hi.B,h0.N.configure({openOnClick:!1}),uc,u8.z,y,hd,g_,gs.n,h2.B8,h6,h8,ma,gC,hr.DZ,m0.f,x,B,ud.N,rH.wq,gx.f,w.$,A,gx.r,pG.Z4,m2,gd.X.extend({resizable:!0,allowTableNodeSelection:!0}),gg,gp,gu,ul,mY,lB.Ud,m$._V,mU,mD,pV,uz,mq,mX.M9,mX.BF,mX.lw,dt.Hf,uB,hY,h_,hf.o,hA,gl,hn,p8,uf,dW,gM,pW,lq.h,o.a,pU,sw,pR,a.v,m5.a,hm.configure({addSelectionKeyMaps:!e}),hg]}},94920:(e,t,n)=>{"use strict";n.d(t,{U:()=>l,h:()=>o});var a=n(6029),i=n(55729);let r=(0,i.createContext)({state:{navItemPreviewRefMap:{}},setNavItemPreviewRef:()=>{throw Error("context not initialized")},editor:null,setEditor:()=>{throw Error("context not initialized")}}),o=e=>{let{children:t}=e,[n,o]=(0,i.useState)(null),[l,s]=(0,i.useState)({navItemPreviewRefMap:{}}),d=i.useMemo(()=>{let e=[],t=null,n=()=>{let n;t=null;let a={...l.navItemPreviewRefMap},i=!1;for(;n=e.shift();){let[e,t]=n;a[e]!==t&&(a[e]=t,i=!0)}i&&s(e=>({...e,navItemPreviewRefMap:a}))},a=()=>{t&&(clearTimeout(t),t=null)};return(i,r)=>{a(),e.push([i,r]),t=setTimeout(n,0)}},[l.navItemPreviewRefMap]);return(0,a.jsx)(r.Provider,{value:{state:l,setNavItemPreviewRef:d,editor:n,setEditor:o},children:t})};function l(){return(0,i.useContext)(r)}},94922:(e,t,n)=>{"use strict";n.d(t,{Eg:()=>y,Fm:()=>f,OH:()=>b,dg:()=>h,in:()=>d,l0:()=>p,lH:()=>u,o_:()=>w,sP:()=>l,tZ:()=>c,wL:()=>v,zr:()=>s});var a=n(52762),i=n(15607),r=n(47665),o=n(15597);let l=e=>["left","right"].includes(e),s=e=>{let{layout:t,parentCards:n,isMobileDevice:a}=e;return a&&"left"===t?"mobileLeft":a&&"right"===t?"mobileRight":l(t)&&d(n)?"blank":t},d=e=>e.some(e=>l(e.attrs.layout)),c=e=>{let t=u(e),n={};return Object.entries(t.items).forEach(e=>{var t;let[a,i]=e,r=null!=(t=null==i?void 0:i.style)?t:{gridArea:a};n['> [data-layout-item-id="'.concat(a,'"]')]=r}),n},u=e=>o.qA[null!=e?e:"blank"]||o.qA.blank,p=e=>{let t={},n=e.pos,a=e.nodeAfter;return a?a.descendants((e,a)=>{if(!(0,r.sw)(e))return!1;t[e.attrs.itemId]={node:e,pos:n+1+a}}):console.error("[getCardLayoutItems] could not find card node at pos ".concat(n)),t},h=(e,t)=>p(e.doc.resolve(t)),m=(e,t,n)=>{let a=e.doc.resolve(t.pos+1),i=a.blockRange(e.doc.resolve(a.end()));i&&e.wrap(i,[{type:n.nodes.cardLayoutItem}]).setMeta("annotationEvent",{type:"wrap-nodes",start:i.start,end:i.end,level:1})},g=(e,t,n,a)=>{let i=n.nodes.cardLayoutItem.createAndFill({itemId:"body",...a});e.insert(t+1,i)},x=(e,t,n,i)=>{let r=n.nodes.cardAccentLayoutItem.createAndFill({itemId:"accent",background:{type:a.h.NONE},...i});e.insert(t+1,r)},f=(e,t,n,a)=>{let i=e.doc.nodeAt(t),o=h(e,t);if("responsive"===(0,r.g6)(i)){if(0===Object.keys(o).length){m(e,{node:i,pos:t},n),a.items.accent&&x(e,t,n);return}a.items.body&&!o.body&&g(e,t,n),a.items.accent&&!o.accent?x(e,t,n):o.accent&&"cardLayoutItem"===o.accent.node.type.name&&b(e,o.accent.pos,o.accent.node,n)}},b=(e,t,n,a)=>{e.replaceRangeWith(t,t+n.nodeSize,a.nodes.cardAccentLayoutItem.createAndFill({...n.attrs}))},v=e=>"cardAccentLayoutItem"===e.type.name&&"accent"===e.attrs.itemId,y=e=>"cardLayoutItem"===e.type.name&&"body"===e.attrs.itemId,w=e=>{let t=(0,i.GY)(e,v)[0];if(t)return t.node.attrs.background}},95011:(e,t,n)=>{"use strict";n.d(t,{t:()=>r});var a=n(45666),i=n(67097);class r{getKey(e){let{query:t,provider:n,options:a}=e;return"".concat(n,"__").concat(t,"__").concat(JSON.stringify(a))}markUsed(e){this.usedImages.add(e)}isUsed(e){return this.usedImages.has(e)}async findImage(e){let t,n=!(arguments.length>1)||void 0===arguments[1]||arguments[1];if(e.loadImageId){let t=this.foundImages.get(e.loadImageId);if(t)return t}await this.loadImageResults(e);let a=this.getKey(e);return this.validImagePromises.has(a)?(t=this.validImagePromises.get(a).then(()=>this.findValidImage(e)),this.validImagePromises.set(a,t)):t=this.findValidImage(e),this.validImagePromises.set(a,t),t.then(t=>(t&&n&&this.markUsed(t.imageUrl),t&&e.loadImageId&&this.foundImages.set(e.loadImageId,t),t))}async findValidImage(e){let t=this.getKey(e);for(let e of this.results.get(t)){let{image:t}=e;if(!this.isUsed(t.imageUrl)&&(void 0===e.isValid&&(e.isValid=await (0,i.Ef)(t.imageUrl)),e.isValid))return e.image}return null}async loadImageResults(e){let{query:t,provider:n,options:r,count:o}=e,l=this.getKey({query:t,provider:n,options:r});if(this.results.has(l))return;if(this.requestPromises.has(l))return void await this.requestPromises.get(l);this.debugRequests.push(l);let s=(0,a.g)({query:t,count:o,options:r,provider:n}).then(e=>e.filter(e=>(0,i.zk)(e.imageUrl))).then(e=>{let t=e.map(e=>({image:e,isValid:void 0}));return this.results.set(l,t),e});this.requestPromises.set(l,s),await s}debugInfo(){return{requests:this.debugRequests}}constructor(){this.usedImages=new Set,this.results=new Map,this.requestPromises=new Map,this.validImagePromises=new Map,this.debugRequests=[],this.generateImagePromises=new Map,this.foundImages=new Map}}},95017:(e,t,n)=>{"use strict";n.d(t,{n:()=>s});var a=n(37243),i=n(42725),r=n.n(i),o=n(64022),l=n.n(o);let s=a.YY.create({name:"updateAttributesAtPos",addCommands:()=>({updateAttributesAtPos:(e,t)=>n=>{let{tr:a}=n;return Object.entries(t).forEach(t=>{let[n,i]=t;a.setNodeAttribute(e,n,i)}),!0},updateNestedAttributesAtPos:(e,t)=>n=>{let{tr:a}=n,i=a.doc.nodeAt(e);return!!i&&(Object.entries(t).forEach(t=>{let[n,r]=t,o=l()(r)?{...i.attrs[n],...r}:r;a.setNodeAttribute(e,n,o)}),!0)},updateAttributeKeyPathAtPos:(e,t,n)=>a=>{var i;let{tr:o,state:l}=a,s=null==(i=l.doc.nodeAt(e))?void 0:i.attrs;if(!s)return!1;let d=JSON.parse(JSON.stringify(s));return Object.entries(r()(d,t,n)).forEach(t=>{let[n,a]=t;o.setNodeAttribute(e,n,a)}),!0}})})},95465:(e,t,n)=>{"use strict";n.d(t,{K:()=>o});var a=n(91938),i=n(58809),r=n(25839);let o=()=>{var e,t;let n=(0,r.GV)(i.Jo);if(!n)return!1;let o=a.$.SHARE_TOKEN,l=null==(e=n.accessLinks)?void 0:e.some(e=>""===e.token),s=null==(t=n.accessLinks)?void 0:t.some(e=>null===e.permission);return!!o||!!l&&!s}},95571:(e,t,n)=>{"use strict";n.d(t,{CO:()=>s,tL:()=>c,xE:()=>d});var a=n(6830),i=n(28615),r=n(58328),o=n(62452),l=n(82327);let s={boxShadow:"var(--card-shadow)",backdropFilter:"var(--card-backdrop-filter)",backgroundColor:"var(--card-background-color)",borderRadius:"var(--card-border-radius)","@media print":{boxShadow:"var(--card-box-shadow)",border:"var(--card-border)"}},d={backdropFilter:"var(--card-backdrop-filter)",backgroundColor:"var(--card-background-color)",borderRadius:"0"},c=e=>{let{cardColor:t,config:n,theme:s}=e,d=(0,o.ZY)(t),c=(0,o.Ik)(t),u=(0,o.Bc)(n),p=(i.hQ||i.rS)&&"frosted"===n.cardTransparency?.95:.75,h=r.T5[n.roundness].cardRadius,{cardBorderEm:m,cardShadowSizeEm:g}=r.ws[n.cardBorder],x=(0,o.Ik)((0,o.J1)(s)),f=m>0&&"sm"===n.roundness?"1px":"".concat(h,"em"),{shadow:b,pdfShadow:v}=r.Jm[n.cardShadow||"default"],y=i.rS&&!v?void 0:"soft3d"===n.cardShadow?(0,l.m)(c):b,w=0===m?void 0:"0 0 0 ".concat(m,"em ").concat(x),C=d?(0,a.Pf)(c,20):(0,a.Pf)(c,-5);return{"--card-background-color":u?(0,a.$3)(c,p):c,"--card-border-color":x,"--card-backdrop-filter":"frosted"!==n.cardTransparency||i.hQ||i.rS?"none":"blur(20px) saturate(170%)","--card-border":0===m?void 0:"var(--card-border-width) solid var(--card-border-color)","--card-border-width":"".concat(m,"em"),"--card-border-radius":f,"--card-shadow-distance":"".concat(g,"em"),"--card-border-shadow":w,"--card-box-shadow":y,"--card-shadow":[w,y].filter(e=>!!e).join(", "),"--clickable-background-color":"none"===n.shapeFill?(0,a.$3)(C,.4):(0,a.$3)(C,.6)}}},95663:(e,t,n)=>{"use strict";n.d(t,{n:()=>a});let a=n(35658).Ay.extend({parseHTML:()=>[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration=line-through",consuming:!1},{style:"text-decoration-line=line-through",consuming:!1}],addKeyboardShortcuts(){return{"Mod-Shift-x":()=>this.editor.commands.toggleStrike()}}})},95714:(e,t,n)=>{"use strict";n.d(t,{Dh:()=>f,ZI:()=>x});var a=n(84462),i=n.n(a),r=n(17006),o=n(6830),l=n(28615),s=n(58328),d=n(62452),c=n(90098),u=n(92382),p=n(81136),h=n(95571),m=n(45214);let g=(e,t)=>{let n=void 0!==t,a=!e.config.disableReadabilityAdjustment||n,i=n?s._m:d.H5,r=n?4.5:3,l=t?{type:"solid",color:t}:(0,d.Tn)(e),c=(0,d.Ik)(l),u=t?(0,o.$p)(t):(0,d.Mw)(e),p=(0,d.CD)(e)[0],h=(0,d.Ik)(p),m=a?(0,d.Vj)(p,c,r,!1):p,g=(0,d.Jh)(e),x=a?(0,d.Vj)(g,c,r,!1):g,f=(0,d.Ik)(x),b=(0,d.jO)(e),v=a?(0,d.Vj)(b,c,r,!1):b,y=(0,d.Ik)(v),w=(0,d.fQ)(e),C=a?(0,d.Vj)(w,c,i,n):w,j=(0,d.Ik)(C),A=(0,o.$p)(j),k=(0,d.Lz)(e),S=a?(0,d.Vj)(k,c,r,n):k,I=(0,d.Ik)(S);return{bodyColorReadable:C,bodyColorSolid:j,isBodyColorDark:A,headingColorReadable:S,headingColorSolid:I,linkColorReadable:x,linkColorSolid:f,buttonColorReadable:v,buttonColorSolid:y,primaryColor:p,primaryColorReadable:m,primaryColorSolid:h,cardColor:l,cardColorSolid:c,isCardDark:u}},x=i()((e,t)=>{var n,a;let{bodyFont:i,headingFont:x,fonts:f}=e,b=(0,u.vt)(f,i)||s.z8.bodyFont,v=(0,u.vt)(f,x)||s.z8.headingFont,{bodyColorReadable:y,bodyColorSolid:w,isBodyColorDark:C,headingColorReadable:j,primaryColorReadable:A,primaryColorSolid:k,primaryColor:S,linkColorSolid:I,buttonColorReadable:E,buttonColorSolid:L,cardColorSolid:R,cardColor:D,isCardDark:M}=g(e,t),_=(0,c.M)(e),z=(0,h.tL)({cardColor:D,config:_,theme:e}),T=(0,m.n3)({bodyColor:y,cardColor:D,config:_,theme:e}),N=(0,m.gt)({config:_}),P=(0,m.QI)({cardColor:D,config:_}),O="linear-gradient"!==S.type?void 0:"semi"===_.shapeFill?(0,p.nz)(S,R,.5):S,H=(0,p.Hh)(O,M?.25:.9),F=M?(0,o.Pf)(k,10):(0,o.Pf)(k,-10),B=M?(0,o.Pf)(k,-10):(0,o.Pf)(k,10);return{...z,...T,...N,...P,"--body-font":'"'.concat(b,'"'),"--heading-font":'"'.concat(v,'"'),"--heading-font-weight":(0,u.Kn)(e,"heading"),"--body-font-weight":(0,u.Kn)(e,"body"),"--letter-spacing-body":l.hQ?0:e.config.letterSpacingBody?"".concat(e.config.letterSpacingBody,"em"):void 0,"--letter-spacing-heading":l.hQ?0:e.config.letterSpacingHeading?"".concat(e.config.letterSpacingHeading,"em"):void 0,"--line-height-body":null!=(n=e.config.lineHeightBody)?n:r.Uw,"--line-height-heading":null!=(a=e.config.lineHeightHeading)?a:r.eL,"--heading-transform":e.config.headingTransform,"--accent-color":k,"--accent-color-dim":F,"--accent-color-light":B,"--accent-color-readable":(0,d.Ik)(A),"--accent-gradient":(0,p.yh)(A),"--accent-gradient-fill":(0,p.yh)(S),"--accent-gradient-background":(0,p.yh)(H),"--accent-color-background-muted":M?(0,o.PE)(k,.15):(0,o.PE)(k,.9),"--expandable-hover-background":(0,o.$3)(I,.1),"--neutral-border-color":M?"var(--chakra-colors-whiteAlpha-400)":"var(--chakra-colors-blackAlpha-200)","--neutral-background-color":M?(0,o.Pf)(R,5):(0,o.Pf)(R,-5),"--button-color":L,"--button-gradient":(0,p.yh)(E),"--button-color-inverted":(0,o.$p)(L)?"#fff":"#000","--link-color":I,"--link-color-hover":(0,o.$p)(I)?(0,o.Zt)(I,10):(0,o.Zt)(I,-10),"--link-box-shadow":"0 0 0px 3px ".concat((0,o.$3)(I,1)),"--body-color":w,"--body-color-muted":(0,o.$3)(w,.5),"--body-color-inverted":M?"#000":"#fff","--link-color-inverted":(0,o.$p)(I)?"#fff":"#000","--highlight-color-dark":M?"var(--body-color)":"var(--body-color-inverted)","--highlight-color-light":M?"var(--body-color-inverted)":"var(--body-color)","--highlight-link-color-hover-dark":M?(0,o.Zt)(w,C?10:-10):(0,o.Zt)("#fff",-10),"--highlight-link-color-hover-light":M?(0,o.Zt)("#000",10):(0,o.Zt)(w,C?10:-10),"--heading-color":(0,d.Ik)(j),"--heading-gradient":(0,p.yh)(j),"--card-color":R,"--card-color-mask":(0,o.$3)(R,(0,o.$p)(R)?.8:.85),"--placeholder-button-bg-color":M?(0,o.Lm)("gray.700"):(0,o.Lm)("gray.200"),"--placeholder-button-bg-hover-color":M?(0,o.Lm)("gray.600"):(0,o.Lm)("gray.300"),"--placeholder-button-text-color":M?(0,o.Lm)("gray.300"):(0,o.Lm)("gray.400"),"--placeholder-button-text-hover-color":M?(0,o.Lm)("gray.200"):(0,o.Lm)("gray.700")}}),f=i()(g)},96177:(e,t,n)=>{"use strict";n.d(t,{Ll:()=>d,S0:()=>s,pS:()=>l,q9:()=>c});var a=n(6830),i=n(28615),r=n(69883),o=n(68247);let l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"var(--card-color)";if(!e)return{};let o=0==t?e:(0,r.x)(e),l=e;return{"--shape-bg-color-override":0===t?void 0:1===t?e:i.hQ?(0,a.$3)(e,t):"color-mix(in oklab, ".concat(e," ").concat(100*t,"%, ").concat(n,")"),"--shape-border-color-override":o}},s=e=>{if(!e)return{textColor:void 0,textColorVars:void 0};let t=(0,a.$p)(e)?"#fff":"#000",n=d(t);return{textColor:t,textColorVars:n}},d=e=>{if(e)return{"--shape-text-color":e,"--shape-fill-text-color":e,"--body-color":e,"--heading-color":e,"--link-color":e,"--link-color-inverted":(0,a.$p)(e)?"#fff":"#000","--link-color-hover":(0,a.$p)(e)?(0,a.Zt)(e,10):(0,a.Zt)(e,-10)}},c=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(!e)return;let n=l(e,t);if(0===t)return n;let{textColor:a,textColorVars:i}=s(e),r=a?(0,o.U2)(a):void 0;return{...n,...i,...r}}},96197:(e,t,n)=>{"use strict";n.d(t,{CG:()=>E,D8:()=>I,JD:()=>g,Kl:()=>h,L0:()=>y,QN:()=>f,Qg:()=>k,Tn:()=>D,_G:()=>S,_t:()=>u,cq:()=>p,gC:()=>x,i4:()=>w,lD:()=>L,rO:()=>R,uC:()=>A,w7:()=>v});var a=n(94289),i=n(63867),r=n(23513),o=n(46675),l=n(39078),s=n(61292),d=n(48413),c=n(14503);function u(e){let t=(0,c.t6)(e),n=t.node(-1),a=t.start(-1),i=d.J.get(n);return{...e instanceof o.HT?i.rectBetween(e.$anchorCell.pos-a,e.$headCell.pos-a):i.findCell(t.pos-a),map:i,table:n,tableStart:a}}function p(e,t){let{tableStart:n,col:a,table:i,colMinPercent:r,newColSize:o=20}=t,u=d.J.get(i),p=a>0?-1:0;(0,c.Ui)(u,i,a+p)&&(p=0==a||a==u.width?null:0);for(let t=0;t<u.height;t++){let r=t*u.width+a;if(a>0&&a<u.width&&u.map[r-1]==u.map[r]){let o=u.map[r],l=i.nodeAt(o);e.setNodeMarkup(e.mapping.map(n+o),void 0,(0,c.uH)(l.attrs,a-u.colCount(o))),t+=l.attrs.rowspan-1}else{let o=null==p?(0,s.e)(i.type.schema).cell:i.nodeAt(u.map[r+p]).type,l=u.positionAt(t,a,i);e.insert(e.mapping.map(n+l),o.createAndFill())}}let{colWidths:h}=i.attrs,m=(0,l.KJ)(h,a,o,r);return h.length===m.length?(e.setMeta("preventDispatch",!0),!1):(e.setNodeMarkup(n-1,void 0,{colWidths:[...m]}),!0)}function h(e,t,n){if(!(0,c.aH)(e))return!1;let a=u(e);if(0==a.left&&a.right==a.map.width)return!1;let r=[];for(let e=a.right-1;!function(e,t,n){let{map:a,tableStart:i,table:r}=t,o=e.mapping.maps.length;for(let t=0;t<a.height;){let l=t*a.width+n,s=a.map[l],d=r.nodeAt(s);if(n>0&&a.map[l-1]==s||n<a.width-1&&a.map[l+1]==s)e.setNodeMarkup(e.mapping.slice(o).map(i+s),void 0,(0,c.Pn)(d.attrs,n-a.colCount(s)));else{let t=e.mapping.slice(o).map(i+s);e.delete(t,t+d.nodeSize)}t+=d.attrs.rowspan}}(t,a,e),r.push(e),e!=a.left;e--)a.table=a.tableStart?t.doc.nodeAt(a.tableStart-1):t.doc,a.map=d.J.get(a.table);let o=(0,l.XC)(a.table.attrs.colWidths,r);if(t.setNodeMarkup(a.tableStart-1,void 0,{colWidths:o}),a.right===a.map.width){let e=a.tableStart+a.map.positionAt(0,a.left-1,a.table),n=t.doc.resolve(e),r=i.LN.near(n);t.setSelection(r)}return n&&n(t),!0}function m(e,t,n){let{map:a,tableStart:i,table:r}=t,o=i;for(let e=0;e<n;e++)o+=r.child(e).nodeSize;let l=[],d=n>0?-1:0;(function(e,t,n){let a=(0,s.e)(t.type.schema).header_cell;for(let i=0;i<e.width;i++)if(t.nodeAt(e.map[i+n*e.width]).type!=a)return!1;return!0})(a,r,n+d)&&(d=0==n||n==a.height?null:0);for(let t=0,o=a.width*n;t<a.width;t++,o++)if(n>0&&n<a.height&&a.map[o]==a.map[o-a.width]){let n=a.map[o],l=r.nodeAt(n).attrs;e.setNodeMarkup(i+n,void 0,(0,c.ob)(l,"rowspan",l.rowspan+1)),t+=l.colspan-1}else{let e=null==d?(0,s.e)(r.type.schema).cell:r.nodeAt(a.map[o+d*a.width]).type;l.push(e.createAndFill())}return e.insert(o,(0,s.e)(r.type.schema).row.create(null,l)),e}function g(e,t){if(!(0,c.aH)(e.selection))return!1;if(t){let n=u(e.selection);t(m(e.tr,n,n.top))}return!0}function x(e,t){if(!(0,c.aH)(e.selection))return!1;if(t){let n=u(e.selection);t(m(e.tr,n,n.bottom))}return!0}function f(e,t,n){if(!(0,c.aH)(e))return!1;let a=u(e);if(0==a.top&&a.bottom==a.map.height)return!1;for(let e=a.bottom-1;!function(e,t,n){let{map:a,table:i,tableStart:r}=t,o=0;for(let e=0;e<n;e++)o+=i.child(e).nodeSize;let l=o+i.child(n).nodeSize,s=e.mapping.maps.length;e.delete(o+r,l+r);for(let t=0,o=n*a.width;t<a.width;t++,o++){let l=a.map[o];if(n>0&&l==a.map[o-a.width]){let n=i.nodeAt(l).attrs;e.setNodeMarkup(e.mapping.slice(s).map(l+r),void 0,(0,c.ob)(n,"rowspan",n.rowspan-1)),t+=n.colspan-1}else if(n<a.width&&l==a.map[o+a.width]){let o=i.nodeAt(l),d=o.type.create((0,c.ob)(o.attrs,"rowspan",o.attrs.rowspan-1),o.content),u=a.positionAt(n+1,t,i);e.insert(e.mapping.slice(s).map(r+u),d),t+=o.attrs.colspan-1}}}(t,a,e),e!=a.top;e--)a.table=a.tableStart?t.doc.nodeAt(a.tableStart-1):t.doc,a.map=d.J.get(a.table);if(a.bottom===a.map.height){let e=a.tableStart+a.map.positionAt(a.top-1,0,a.table),n=t.doc.resolve(e),r=i.LN.near(n);t.setSelection(r)}return n&&n(t),!0}function b(e){let t=e.content;return 1==t.childCount&&t.firstChild.isTextblock&&0==t.firstChild.childCount}function v(e,t){let n=e.selection;if(!(n instanceof o.HT)||n.$anchorCell.pos==n.$headCell.pos)return!1;let i=u(e.selection),{map:r}=i;if(function(e,t){let{width:n,height:a,map:i}=e,r=t.top*n+t.left,o=r,l=(t.bottom-1)*n+t.left,s=r+(t.right-t.left-1);for(let e=t.top;e<t.bottom;e++){if(t.left>0&&i[o]==i[o-1]||t.right<n&&i[s]==i[s+1])return!0;o+=n,s+=n}for(let e=t.left;e<t.right;e++){if(t.top>0&&i[r]==i[r-n]||t.bottom<a&&i[l]==i[l+n])return!0;r++,l++}return!1}(r,i))return!1;if(t){let n=e.tr,l={},s=a.FK.empty,d,u;for(let e=i.top;e<i.bottom;e++)for(let t=i.left;t<i.right;t++){let a=r.map[e*r.width+t],o=i.table.nodeAt(a);if(!l[a])if(l[a]=!0,null==d)d=a,u=o;else{b(o)||(s=s.append(o.content));let e=n.mapping.map(a+i.tableStart);n.delete(e,e+o.nodeSize)}}if(n.setNodeMarkup(d+i.tableStart,void 0,(0,c.ob)((0,c.uH)(u.attrs,u.attrs.colspan,i.right-i.left-u.attrs.colspan),"rowspan",i.bottom-i.top)),s.size){let e=d+1+u.content.size,t=b(u)?d+1:e;n.replaceWith(t+i.tableStart,e+i.tableStart,s)}n.setSelection(new o.HT(n.doc.resolve(d+i.tableStart))),t(n)}return!0}function y(e,t){var n;let a=(0,s.e)(e.schema);return(n=e=>{let{node:t}=e;return a[t.type.spec.tableRole]},(e,t)=>{let a,i,r=e.selection;if(r instanceof o.HT){if(r.$anchorCell.pos!=r.$headCell.pos)return!1;a=r.$anchorCell.nodeAfter,i=r.$anchorCell.pos}else{if(!(a=(0,c.HF)(r.$from)))return!1;i=(0,c.KW)(r.$from).pos}if(1==a.attrs.colspan&&1==a.attrs.rowspan)return!1;if(t){let l,s=a.attrs,d=[],p=s.colwidth;s.rowspan>1&&(s=(0,c.ob)(s,"rowspan",1)),s.colspan>1&&(s=(0,c.ob)(s,"colspan",1));let h=u(e.selection),m=e.tr;for(let e=0;e<h.right-h.left;e++)d.push(p?(0,c.ob)(s,"colwidth",p&&p[e]?[p[e]]:null):s);for(let e=h.top;e<h.bottom;e++){let t=h.map.positionAt(e,h.left,h.table);e==h.top&&(t+=a.nodeSize);for(let i=h.left,r=0;i<h.right;i++,r++)(i!=h.left||e!=h.top)&&m.insert(l=m.mapping.map(t+h.tableStart,1),n({node:a,row:e,col:i}).createAndFill(d[r]))}m.setNodeMarkup(i,n({node:a,row:h.top,col:h.left}),d[0]),r instanceof o.HT&&m.setSelection(new o.HT(m.doc.resolve(r.$anchorCell.pos),l&&m.doc.resolve(l))),t(m)}return!0})(e,t)}function w(e,t){return function(n,a){var i;if(!(0,c.aH)(n.selection))return!1;let r=(0,c.t6)(n.selection);if((null==(i=r.nodeAfter)?void 0:i.attrs[e])===t)return!1;if(a){let i=n.tr;n.selection instanceof o.HT?n.selection.forEachCell((n,a)=>{n.attrs[e]!==t&&i.setNodeMarkup(a,void 0,(0,c.ob)(n.attrs,e,t))}):i.setNodeMarkup(r.pos,void 0,(0,c.ob)(r.nodeAfter.attrs,e,t)),a(i)}return!0}}function C(e,t,n){let a=t.map.cellsInRect({left:0,top:0,right:"row"==e?t.map.width:1,bottom:"column"==e?t.map.height:1});for(let e=0;e<a.length;e++){let i=t.table.nodeAt(a[e]);if(i&&i.type!==n.header_cell)return!1}return!0}function j(e,t){if((t=t||{useDeprecatedLogic:!1}).useDeprecatedLogic)return function(t,n){if(!(0,c.aH)(t.selection))return!1;if(n){let a=(0,s.e)(t.schema),i=u(t.selection),r=t.tr,o=i.map.cellsInRect("column"==e?new d.r(i.left,0,i.right,i.map.height):"row"==e?new d.r(0,i.top,i.map.width,i.bottom):i),l=o.map(e=>i.table.nodeAt(e));for(let e=0;e<o.length;e++)l[e].type==a.header_cell&&r.setNodeMarkup(i.tableStart+o[e],a.cell,l[e].attrs);if(0==r.steps.length)for(let e=0;e<o.length;e++)r.setNodeMarkup(i.tableStart+o[e],a.header_cell,l[e].attrs);n(r)}return!0};return function(t,n){if(!(0,c.aH)(t.selection))return!1;if(n){let a=(0,s.e)(t.schema),i=u(t.selection),r=t.tr,o=C("row",i,a),l=C("column",i,a),c=+!!("column"===e?o:"row"===e&&l),p="column"==e?new d.r(0,c,1,i.map.height):"row"==e?new d.r(c,0,i.map.width,1):i,h="column"==e?l?a.cell:a.header_cell:"row"==e?o?a.cell:a.header_cell:a.cell;i.map.cellsInRect(p).forEach(e=>{let t=e+i.tableStart,n=r.doc.nodeAt(t);n&&r.setNodeMarkup(t,h,n.attrs)}),n(r)}return!0}}let A=j("row",{useDeprecatedLogic:!0}),k=j("column",{useDeprecatedLogic:!0}),S=j("cell",{useDeprecatedLogic:!0});function I(e){return function(t,n){if(!(0,c.aH)(t.selection))return!1;let a=function(e,t){if(t<0){let t=e.nodeBefore;if(t)return e.pos-t.nodeSize;for(let t=e.index(-1)-1,n=e.before();t>=0;t--){let a=e.node(-1).child(t);if(a.childCount)return n-1-a.lastChild.nodeSize;n-=a.nodeSize}}else{if(e.index()<e.parent.childCount-1)return e.pos+e.nodeAfter.nodeSize;let t=e.node(-1);for(let n=e.indexAfter(-1),a=e.after();n<t.childCount;n++){let e=t.child(n);if(e.childCount)return a+1;a+=e.nodeSize}}}((0,c.t6)(t.selection),e);if(null==a)return!1;if(n){let e=t.doc.resolve(a);n(t.tr.setSelection(i.U3.between(e,(0,c.fx)(e))).scrollIntoView())}return!0}}function E(e,t,n){let a=e.$anchor;for(let e=a.depth;e>0;e--)if("table"==a.node(e).type.spec.tableRole){t.delete(a.before(e),a.after(e)).scrollIntoView();let i=(0,r.i)(t);return i&&t.setSelection(i),n&&n(t),!0}return!1}let L=(e,t,n)=>e instanceof o.HT&&!!(e.isSelectingAllCells()&&e.everyCell(b))&&E(e,t,n),R=(e,t,n)=>e instanceof o.HT&&!!e.isRowSelection()&&!!e.everyCell(b)&&f(e,t,n),D=(e,t,n)=>e instanceof o.HT&&!!e.isColSelection()&&!!e.everyCell(b)&&h(e,t,n)},97984:(e,t,n)=>{"use strict";n.d(t,{f:()=>l,r:()=>s});var a=n(37243),i=n(84548),r=n(6830),o=n(38934);let l=i.Ay.extend({name:"highlight",priority:o.y.Highlight,excludes:"textColor highlight",addAttributes:()=>({variant:{},hex:{}}),addCommands(){var e;return{...null==(e=this.parent)?void 0:e.call(this),setHighlightColor:e=>t=>{let{commands:n}=t;return n.setMark(this.name,{hex:e,variant:null})}}},parseHTML:()=>[{tag:"mark[class=highlight]"},{tag:"mark[highlight-color]",getAttrs(e){let t=e.getAttribute("highlight-color");return!!t&&{hex:t}}}],renderHTML(e){let{HTMLAttributes:t,mark:n}=e,i=n.attrs.hex&&(0,r.$p)(n.attrs.hex),o="var(".concat(i?"--highlight-color-dark":"--highlight-color-light",")"),l=["--highlight-color: ".concat(n.attrs.hex),"color: ".concat(o),"--link-color: ".concat(o),"--link-color-hover:".concat("var(".concat(i?"--highlight-link-color-hover-dark":"--highlight-link-color-hover-light",")"))].join("; ");return["mark",(0,a.KV)(this.options.HTMLAttributes,t,{class:"highlight",style:l})]},renderHTMLforAI(e){let{mark:t}=e;return["mark",{"highlight-color":t.attrs.hex}]}}).configure({multicolor:!0}),s=a.CU.create({name:"textColor",excludes:"highlight textColor",priority:o.y.TextColor,addAttributes:()=>({variant:{},hex:{}}),addCommands(){return{setTextColor:e=>t=>{let{commands:n}=t;return n.setMark(this.name,{hex:e,variant:null})}}},parseHTML:()=>[{tag:"span[class=textColor]"},{tag:"span[text-color]",getAttrs(e){let t=e.getAttribute("text-color");return!!t&&{hex:t}}}],renderHTML(e){let{HTMLAttributes:t,mark:n}=e;return["span",(0,a.KV)(t,{class:"textColor",style:n.attrs.hex?"--text-color: ".concat(n.attrs.hex):void 0})]},renderHTMLforAI(e){var t;let{mark:n}=e;return["span",{"text-color":null!=(t=n.attrs.hex)?t:n.attrs.variant}]}})},98071:(e,t,n)=>{"use strict";n.d(t,{JH:()=>u,Nu:()=>h,jh:()=>c,kB:()=>p});var a=n(77650),i=n(37243),r=n(21157),o=n.n(r),l=n(52762),s=n(33201),d=n(94922);let c=(e,t)=>{var n,a;let{background:i,fitType:r}=e,{allowFit:o}=(0,d.lH)(t);return o?r||((null==i||null==(a=i.image)||null==(n=a.meta)?void 0:n.has_transparency)?"fit":"fill"):"fill"},u=(e,t)=>{var n;let{allowFit:a}=(0,d.lH)(t);return a&&(null==(n=e.background)?void 0:n.type)===l.h.IMAGE},p=(e,t,n)=>{let a=(0,i.eL)(e.state.doc.resolve(t),s.jg);t&&(n?e.commands.updateAttributesAtPos(t,{background:{type:l.h.NONE}}):(null==a?void 0:a.pos)&&(e.commands.setCardLayout(a.pos,"blank"),e.commands.selectInsideCardBody(a.pos)))},h=e=>"blank"===e?a.Ru._({id:"6JcK6b"}):"behind"===e?a.Ru._({id:"SQOVlA"}):a.Ru._({id:"T8aKxO",values:{0:o()(e)}})},98088:(e,t,n)=>{"use strict";n.d(t,{p:()=>d,z:()=>s});var a=n(58495),i=n(63867),r=n(67200),o=n(50709);let l=new i.hs("UniqueMediaId"),s=()=>(0,a.Ak)(5),d=o.S.extend({name:"UniqueMediaId"}).configure({attributeName:"id",types:["image","embed","video","smartLayoutCell","mediaPlaceholder","cardImageItem"],initialValue:s,filterTransaction:r.kz,pluginKey:l})},98701:(e,t,n)=>{"use strict";n.d(t,{K8:()=>D,i4:()=>R,pt:()=>L});var a=n(55729),i=n(91938);class r extends Error{constructor(e,t){super(e),this.name="StreamError",this.code="stream_error",t&&(this.code=t)}}class o extends r{constructor(e){super(e),this.name="StreamTimeoutError",this.code="timeout"}}class l extends r{constructor(e){super(e),this.name="StreamOnOpenError",this.code="on_open"}}class s extends r{constructor(e){super(e),this.name="StreamUnexpectedCloseError",this.code="unexpected_close"}}var d=n(91285);async function c(e,t){let n,a=e.getReader();for(;!(n=await a.read()).done;)t(n.value)}function u(){return{data:"",event:"",id:"",retry:void 0}}let p="text/event-stream",h="last-event-id";function m(e){let t=e.headers.get("content-type");if(!(null==t?void 0:t.startsWith(p)))throw Error("Expected content-type to be ".concat(p,", Actual: ").concat(t))}class g extends d.Rv{constructor(){super({transform:async(e,t)=>{if("error"===e.event)return void t.error(new r("StreamError message received: ".concat(JSON.stringify(e)),e.data));t.enqueue(e)}})}}class x extends Error{constructor(e){super(),this.timeout=e}}var f=n(5541);async function b(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=i.$.API_HOST+"/ai/v2/render-generation",r={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),signal:null==(t=n.abortController)?void 0:t.signal};return(await y(a,r,n)).result}let v=e=>new Promise(t=>setTimeout(t,e)),y=async(e,t,n)=>{let{timeout:a=null,maxRetries:i=3,retryAttempts:r=0,abortController:o}=n,s=o||new AbortController,d=null;null!=a&&(d=setTimeout(()=>{s.abort()},a));let c=()=>{d&&clearTimeout(d)},u=await (0,f.X)(e,{credentials:"include",...t,signal:s.signal});if(u.ok){let e=await u.json();return c(),e}if(c(),u.status>=400&&u.status<500&&429!==u.status)throw new l("Unable to complete request");if(r++<i){let n=1e3*Math.pow(2,Math.max(r-1,0));return await v(n),y(e,t,{timeout:a,retryAttempts:r,maxRetries:i,abortController:o})}throw Error("Unable to complete request, status="+u.status)};var w=n(58495),C=n(42673),j=n(27002);let A=(e,t)=>{let n=e.getReader(),a=async()=>{var e,i,r;try{let{done:r,value:o}=await n.read();if(r)null==(i=t.onDone)||i.call(t);else{null==(e=t.onMessage)||e.call(t,o),a();return}}catch(e){null==(r=t.onError)||r.call(t,e instanceof Error?e:Error(e))}};a()};(0,w.d_)("0123456789abcdefghijklmnopqrstuvwxyz",16);let k=(e,t,n)=>{t.skipCapturingErrors||j.of.get("disableAiErrorLogging")||(0,C.EJ)(e,n)};var S=n(17859);class I extends d.Rv{getContent(){return this.content}constructor(e){super({start:()=>{var t;null==(t=e.onStart)||t.call(e)},transform:async(t,n)=>{var a,i,r;"content"===t.event&&(this.content+=t.data,null==(a=e.onContent)||a.call(e,this.content)),"done"===t.event&&(null==(i=e.onComplete)||i.call(e,this.content)),"cancel"===t.event&&(null==(r=e.onCancel)||r.call(e)),n.enqueue(t)},flush(){var t;null==(t=e.onFlush)||t.call(e)}}),this.content=""}}var E=n(6181);let L=(e,t)=>({generate:(0,a.useCallback)(n=>R({...n,promptKey:e,opts:t}),[t,e])}),R=e=>{let{promptKey:t,opts:n,variables:a,interactionId:r,workspaceId:f}=e,{cancel:b,stream:v}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=i.$.API_HOST+"/ai/v2/generation",a={"Content-Type":"application/json"};return t.streamId&&(a["gamma-chat-completion-stream-id"]=t.streamId),function(e,t,n){var a;let i=n.retries||0,r=n.backoff||1e3,f=n.timeout||null,b=null!=(a=n.streamResumingEnabled)&&a,v=0,y=new AbortController,w=!1,C=!1,j=!1,A=null,k=!1,S=()=>r*Math.pow(2,Math.max(v-1,0)),I={};return b&&(I["gamma-stream-resuming-enabled"]="true"),{stream:new d.ZY({async start(n){null!=f&&(A=setTimeout(()=>{k=!0,y.abort(),n.error(new o("Stream timed out after ".concat(f,"ms")))},f));let{headers:a,...r}=t;(function(e,t){let{signal:n,headers:a,onopen:i,onmessage:r,onclose:o,onerror:l,openWhenHidden:s,fetch:d,...g}=t;return new Promise((t,x)=>{let f,b={...a};function v(){f.abort(),document.hidden||k()}b.accept||(b.accept=p),s||document.addEventListener("visibilitychange",v);let y=1e3,w=0;function C(){document.removeEventListener("visibilitychange",v),window.clearTimeout(w),f.abort()}null==n||n.addEventListener("abort",()=>{C(),t()});let j=null!=d?d:window.fetch,A=null!=i?i:m;async function k(){var n,a;f=new AbortController;try{let a,i,l,s,d=await j(e,{...g,headers:b,signal:f.signal});await A(d),await c(d.body,(n=function(e,t,n){let a=u(),i=new TextDecoder,r=!1;return function(o,l){if(0===o.length)null==n||n(a),a=u(),r=!1;else if(l>0){let n=i.decode(o.subarray(0,l)),s=l+(32===o[l+1]?2:1),d=i.decode(o.subarray(s));switch(n){case"data":r?a.data=a.data+"\n"+d:(a.data=d,r=!0);break;case"event":a.event=d;break;case"id":e(a.id=d);break;case"retry":let c=parseInt(d,10);isNaN(c)||t(a.retry=c)}}}}(e=>{e?b[h]=e:delete b[h]},e=>{y=e},r),s=!1,function(e){void 0===a?(a=e,i=0,l=-1):a=function(e,t){let n=new Uint8Array(e.length+t.length);return n.set(e),n.set(t,e.length),n}(a,e);let t=a.length,r=0;for(;i<t;){s&&(10===a[i]&&(r=++i),s=!1);let e=-1;for(;i<t&&-1===e;++i)switch(a[i]){case 58:-1===l&&(l=i-r);break;case 13:s=!0;case 10:e=i}if(-1===e)break;n(a.subarray(r,e),l),r=i,l=-1}r===t?a=void 0:0!==r&&(a=a.subarray(r),i-=r)})),null==o||o(),C(),t()}catch(e){if(!f.signal.aborted)try{let t=null!=(a=null==l?void 0:l(e))?a:y;window.clearTimeout(w),w=window.setTimeout(k,t)}catch(e){C(),x(e)}}}k()})})(e,{openWhenHidden:!0,credentials:"include",...r,headers:{...a,...I},signal:y.signal,onopen:async e=>{if(!e.ok||e.headers.get("content-type")!==p)if(e.status>=400&&e.status<500&&429!==e.status)y.abort(),n.error(new l("Unable to complete request"));else if(v++<i&&!w)throw new x(S());else y.abort(),n.error(new l("Unable to complete request"))},onmessage(e){if(j){C||(C=!0,console.log("[AIStream] enqueue cancel event",{...e,event:"cancel",data:""}),n.enqueue({...e,event:"cancel",data:""}),n.close(),y.abort());return}k||(n.enqueue(e),w=!0)},onclose(){A&&(clearTimeout(A),A=null);try{n.close()}catch(e){console.debug("[AIStream] Failed to close stream controller:",e)}},onerror(e){if(e instanceof x){if(j)throw console.error("Stream cancelled - not retrying"),Error("Stream cancelled");return e.timeout}if(e instanceof Error){if(console.error("Uncaught stream error",e),!b)throw e;if(v++<i)return S();throw e}if(w){let e="Stream closed unexpectedly";throw console.error("Uncaught stream error",e),new s(e)}}}).catch(e=>{A&&(clearTimeout(A),A=null),j||n.error(e)})}}).pipeThrough(new g),cancel:()=>{j||(j=!0)}}}(n,{method:"POST",headers:a,body:JSON.stringify(e)},t)}({promptKey:t,variables:a,interactionId:r=r||(0,S.$F)(),workspaceId:f},{timeout:n.timeout}),y=new I(n),w=v.pipeThrough(y);return{cancel:b,promise:new Promise((e,a)=>{A(w,{onError(e){var i;null==(i=n.onError)||i.call(n,e),k(e,n,{customErrorType:"streamJsxGeneration",promptKey:t,interactionId:r}),a(e)},onDone(){e(y.getContent())}})})}},D=e=>{let{promptKey:t,variables:n,interactionId:a,workspaceId:i=(0,E.gx)(),opts:r={}}=e;return b({promptKey:t,interactionId:a=a||(0,S.$F)(),workspaceId:i,variables:n},r)}},98874:(e,t,n)=>{"use strict";n.d(t,{mw:()=>i,rO:()=>o,vG:()=>r});var a=n(77650);let i=15,r=10,o=()=>({sm:{targetColumns:4,label:()=>a.Ru._({id:"4Revpc"}),width:r},md:{targetColumns:3,label:()=>a.Ru._({id:"agPptk"}),width:i},lg:{targetColumns:2,label:()=>a.Ru._({id:"k7rCa/"}),width:20},xl:{targetColumns:1,label:()=>a.Ru._({id:"vp6Yr4"}),width:25}})},98968:(e,t,n)=>{"use strict";n.d(t,{HI:()=>S,IG:()=>v,Im:()=>w,NZ:()=>f,Pb:()=>m,hk:()=>R,jG:()=>I,ni:()=>b,qK:()=>x,tz:()=>A,w5:()=>L,wG:()=>j,yL:()=>y,yg:()=>C});var a=n(37243),i=n(94289);n(55729);var r=n(89703),o=n(17928),l=n(73014),s=n(15607),d=n(67864),c=n(47665),u=n(45943),p=n(36145),h=n(50861);let m=e=>"gallery"===e.type.name,g=e=>(0,a.eL)(e,m),x=e=>!!g(e),f=e=>{let{decorations:t}=e;return t.some(e=>e.spec.inGallery)},b=e=>{let{decorations:t}=e;return t.some(e=>"grid"===e.spec.layout)},v=e=>{var t;let{decorations:n}=e;return null==(t=n.find(e=>e.spec.thumbHeight))?void 0:t.spec.thumbHeight},y=e=>{var t;let{decorations:n}=e;return null==(t=n.find(e=>e.spec.thumbSpacing))?void 0:t.spec.thumbSpacing},w=e=>{let{decorations:t}=e;return t.some(e=>"logo"===e.spec.layout)},C=e=>{var t;let{decorations:n}=e,a=null==(t=n.find(e=>e.spec.children))?void 0:t.spec.children;return a?(0,s.F2)(a):[]},j=e=>{let t=(0,d.rV)(e.$from);t&&!(0,c.jg)(t.node)?o.LF.emit(o.DN.CREATE_COMMENT_FROM_SELECTION,{selectionPos:e.from,parentPos:t.pos,text:(0,l.Lo)(e.node)}):o.LF.emit(o.DN.CREATE_COMMENT_FROM_SELECTION,{selectionPos:e.from,parentPos:e.from,text:(0,l.Lo)(e.node)})},A=(e,t,n,a)=>{let i,r;if(n&&!k(n,e.state.schema))return null;let o=e.posAtCoords({left:t.clientX,top:t.clientY});if(!o)return null;let{doc:l}=e.state,{pos:d}=o,c=l.resolve(d),u=g(c);if(u&&u.node.childCount>0)d=o.pos,(i=(0,s.q0)(d,e))||d!=u.pos+u.node.nodeSize-1||(d-=1,i=(0,s.q0)(d,e)),r=u.node;else{d=o.inside;try{r=l.resolve(d).nodeAfter}catch(e){return null}if(!r||!(0,h.Bv)(r)||r==(null==n?void 0:n.content.firstChild)||a)return null;let t=c.parent;if(t&&!E(e.state.schema,t))return null;if("image"===r.type.name){var p;let t=e.nodeDOM(d);i=null==t||null==(p=t.querySelector("[data-node-image-testid]"))?void 0:p.getBoundingClientRect()}else i=(0,s.q0)(d,e)}if(!i)return null;let m=t.clientX-i.left,x=i.right-t.clientX,f=m>x?"right":"left";return("left"==f?m<0:x<0)&&!u?null:{pos:d,side:f,rect:i,node:r}},k=(e,t)=>e.content.size>0&&t.nodes.gallery.validContent(e.content),S=(e,t)=>{var n;let a=null==(n=e.dragging)?void 0:n.slice;if(!a){let e=[...t.dataTransfer.items];return e.length>0&&e.every(e=>e.type.startsWith("image/"))}return k(a,e.state.schema)},I=(e,t,n)=>{let a=(0,p.dM)(n,t);return(0,u.kf)(t)||k(t,e)||a&&a.length>0},E=(e,t)=>{let n=e.nodes[t.type.name];return!!n&&n.validContent(i.FK.fromJSON(e,[{type:"gallery",content:[]}]))},L=(e,t)=>"calc(".concat(.25*e,"em + ").concat(t,"em)"),R=(e,t)=>{try{var n;let a=e(),i=t.state.doc.nodeAt(a);if(!i)return;let o=null==(n=i.lastChild)?void 0:n.attrs.source,l=a+(null==i?void 0:i.nodeSize)-1;t.chain().insertContentAt(l,{type:"mediaPlaceholder",attrs:{source:o||"image.custom"}}).run(),setTimeout(()=>{t.commands.focus(),t.commands.setNodeSelection(l),(0,r.G)()})}catch(e){console.error("(caught) [GalleryView] addImage",e)}}},99038:(e,t,n)=>{"use strict";n.d(t,{$_:()=>s,AR:()=>d,H9:()=>p,Ix:()=>o,Kc:()=>u,Ol:()=>a,On:()=>i,PS:()=>x,TP:()=>r,Uq:()=>m,X4:()=>f,kO:()=>g,uz:()=>l,v$:()=>c,v2:()=>h});let a="Gamma Pro",i="Gamma",r="gamma",o="gammas",l="support@gamma.app",s="Business",d="Team",c="Ultra",u="Pro",p="Plus",h="Free",m="Flux",g="Google",x="OpenAI",f="Ideogram"},99389:(e,t,n)=>{"use strict";n.d(t,{gT:()=>Z,Vo:()=>Q,E1:()=>K});var a=n(51684),i=n(99492),r=n(77650),o=n(14816),l=n(57792),s=n(26194),d=n.n(s),c=n(78435),u=n.n(c),p=n(27002),h=n(52055),m=n(55597),g=n(23050);let x=()=>[{key:"autoComplete",name:()=>r.Ru._({id:"ZyVTQp"}),shortcut:g.Hb,nodeName:"paragraph",icon:m._$C,keywords:["continue","autocomplete","typeahead","complete","continue","ai"],execute:e=>{e.commands.autoComplete()},featureFlag:"aiAutocomplete",creditType:"autocomplete",needsConnection:!0},{key:"aiCardAfter",name:()=>r.Ru._({id:"yk2NpI"}),nodeName:"card",icon:m._$C,execute:e=>e.commands.insertCardAfter((0,h.G)().aiCardAfter),checkDisabled:e=>!e.schema.nodes.card,keywords:["card","below","after","new"],featureFlag:"addCard2",needsConnection:!0}];var f=n(7957),b=n(21959),v=n(76083),y=n(70666);let w=()=>[{key:"barChartVertical",name:()=>r.Ru._({id:"kaIve5"}),icon:a.s67,chartType:"bar"},{key:"barChartHorizontal",name:()=>r.Ru._({id:"JXpNuP"}),icon:a.Mkm,chartType:"horizontal-bar"},{key:"lineChart",name:()=>r.Ru._({id:"Kt/Lzz"}),icon:a.gK3,chartType:"line"},{key:"pieChart",name:()=>r.Ru._({id:"5+y+OQ"}),icon:a.W1p,chartType:"pie"},{key:"donutChart",name:()=>r.Ru._({id:"DNipMm"}),icon:a.oDg,chartType:"donut"}].map(e=>({nodeName:"chart",keywords:["graph",e.chartType],featureFlag:"enableCharts",execute:t=>{t.chain().insertChart(e.chartType,!0).editSelectedChart().run()},dragStartFn:t=>{let n=(0,b.r4)();(0,v.fS)(t,{type:"chart",attrs:{chartType:e.chartType,id:n,data:(0,y.$)(e.chartType)||{}}})},dragEndFn:e=>{e.commands.editSelectedChart()},...e}));var C=n(9922),j=n.n(C),A=n(74355);let k={flywheel:{type:"diagram",attrs:{horizontalAlign:"center",shapes:[{x:1024.2205225919886,y:545.3520002984831,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:sBqhkO1gaRDC33E9nLFRf",type:"text",props:{color:"black",size:"m",w:96,text:"",font:"draw",align:"middle",autoSize:!0,scale:1,h:20,growY:27,html:'<h4 class="themed-heading">Two</h4>',shapeColor:null},parentId:"page:page",index:"a4",typeName:"shape"},{x:605.5691768594324,y:545.3520002984831,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:LuxCoSOJiKidTHonK_r3y",type:"text",props:{color:"black",size:"m",w:96,text:"",font:"draw",align:"middle",autoSize:!0,scale:1,h:20,growY:27,html:'<h4 class="themed-heading">Four</h4>',shapeColor:null},parentId:"page:page",index:"a5",typeName:"shape"},{x:811.2936767672497,y:332.49917028373386,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:jNEccTSx5tCosurJ5Ot2M",type:"text",props:{color:"black",size:"m",w:96,text:"",font:"draw",align:"middle",autoSize:!0,scale:1,h:20,growY:27,html:'<h4 class="themed-heading">One</h4>',shapeColor:null},parentId:"page:page",index:"a6",typeName:"shape"},{x:786.7936767672497,y:753.4464458368486,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:OUIb317WtLr7vTROMJmRY",type:"text",props:{color:"black",size:"m",w:145.68119328124112,text:"",font:"draw",align:"middle",autoSize:!1,scale:1,h:20,growY:27,html:'<h4 class="themed-heading">Three</h4>',shapeColor:null},parentId:"page:page",index:"a7",typeName:"shape"},{x:774.4554909171899,y:664.006697053962,rotation:3.141592653589793,isLocked:!1,opacity:1,meta:{},id:"shape:gOmdcWQlSymeyfc0iFv_H",type:"arrow",parentId:"page:page",index:"a8",props:{dash:"solid",size:"m",fill:"solid",color:"black",labelColor:"black",bend:-33.715948517019974,start:{type:"point",x:-143.39749318568477,y:299.6671450013758},end:{type:"point",x:-296.8596898701958,y:124.06206342608016},arrowheadStart:"none",arrowheadEnd:"arrow",text:"",labelPosition:.5,font:"draw",shapeColor:null,strokeWidth:"md"},typeName:"shape"},{x:949.3708512974239,y:475.1522148190538,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:FoSkoOljiovlpXtyepQ0L",type:"arrow",parentId:"page:page",index:"a8G",props:{dash:"solid",size:"m",fill:"solid",color:"black",labelColor:"black",bend:-33.715948517019974,start:{type:"point",x:-165.31582160993514,y:295.60684693665877},end:{type:"point",x:-292.70420767490987,y:127.69426010254801},arrowheadStart:"none",arrowheadEnd:"arrow",text:"",labelPosition:.5,font:"draw",shapeColor:null,strokeWidth:"md"},typeName:"shape"},{x:749.9432407400066,y:507.6958283407593,rotation:4.555309347705199,isLocked:!1,opacity:1,meta:{},id:"shape:xJbFH6GE8sktyfodgK-9d",type:"arrow",parentId:"page:page",index:"a8V",props:{dash:"solid",size:"m",fill:"solid",color:"black",labelColor:"black",bend:-33.715948517019974,start:{type:"point",x:-141.06822675649278,y:304.84894107910753},end:{type:"point",x:-293.7665666504506,y:149.96506626343376},arrowheadStart:"none",arrowheadEnd:"arrow",text:"",labelPosition:.5,font:"draw",shapeColor:null,strokeWidth:"md"},typeName:"shape"},{x:973.8831014746072,y:631.4630835322564,rotation:1.413716694115406,isLocked:!1,opacity:1,meta:{},id:"shape:98AlWuZ3MNJ8HXkw_0SX8",type:"arrow",parentId:"page:page",index:"a9",props:{dash:"solid",size:"m",fill:"solid",color:"black",labelColor:"black",bend:-33.715948517019974,start:{type:"point",x:-138.9882886080492,y:300.5849857402369},end:{type:"point",x:-290.8832143177716,y:128.98965564678986},arrowheadStart:"none",arrowheadEnd:"arrow",text:"",labelPosition:.5,font:"draw",shapeColor:null,strokeWidth:"md"},typeName:"shape"}],assets:[],meta:{},width:420.44444444444446,svg:'<svg direction="ltr" width="530.6513457325561" height="483.94727555311476" viewBox="597.5691768594324 324.49917028373386 530.6513457325561 483.94727555311476" stroke-linecap="round" stroke-linejoin="round" style="background-color: transparent;"><defs></defs><g transform="matrix(1, 0, 0, 1, 1024.2205, 545.352)" opacity="1"><g><foreignObject width="97" height="47"><div data-autosize="true" class="textbox" style="--text-align: center; --horizontal-align: center;"><div class="text"><h4 class="themed-heading">Two</h4></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 605.5692, 545.352)" opacity="1"><g><foreignObject width="97" height="47"><div data-autosize="true" class="textbox" style="--text-align: center; --horizontal-align: center;"><div class="text"><h4 class="themed-heading">Four</h4></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 811.2937, 332.4992)" opacity="1"><g><foreignObject width="97" height="47"><div data-autosize="true" class="textbox" style="--text-align: center; --horizontal-align: center;"><div class="text"><h4 class="themed-heading">One</h4></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 786.7937, 753.4464)" opacity="1"><g><foreignObject width="146" height="47"><div class="textbox" style="--text-align: center; --horizontal-align: center;"><div class="text"><h4 class="themed-heading">Three</h4></div></div></foreignObject></g></g><g transform="matrix(-1, 0, 0, -1, 774.4555, 664.0067)" opacity="1"><g data-shape-type="arrow" style="--stroke-width: 4;"><defs><mask id="shape_gOmdcWQlSymeyfc0iFv_H_clip"><rect x="-396.85968987019567" y="24.0620634260801" width="353.4621966845109" height="375.60508157529574" fill="white"></rect><path d="M -300.40378806246554 133.94585662522945 L -296.8596898701958 124.06206342608016 L -290.0721229701155 132.07323909366693" fill="none" stroke="none"></path></mask></defs><g mask="url(#shape_gOmdcWQlSymeyfc0iFv_H_clip)"><rect x="-100" y="-100" width="353.4621966845109" height="375.60508157529574" fill="transparent" stroke="none"></rect><path d="M-143.39749318568477,299.6671450013758 A218.4976762338476 218.4976762338476 0 0 1 -296.8596898701958,124.06206342608016" fill="none" stroke="#e1e1e1" stroke-width="3.5" stroke-dasharray="none" stroke-dashoffset="none"></path></g><path d="M -300.40378806246554 133.94585662522945 L -296.8596898701958 124.06206342608016 L -290.0721229701155 132.07323909366693" fill="none" stroke="#e1e1e1" stroke-width="3.5"></path></g></g><g transform="matrix(1, 0, 0, 1, 949.3709, 475.1522)" opacity="1"><g data-shape-type="arrow" style="--stroke-width: 4;"><defs><mask id="shape_FoSkoOljiovlpXtyepQ0L_clip"><rect x="-392.70420767491" y="27.694260102547986" width="327.38838606497484" height="367.9125868341108" fill="white"></rect><path d="M -297.41216590820414 137.0796279309049 L -292.70420767490987 127.69426010254801 L -286.93021982833875 136.46415544671538" fill="none" stroke="none"></path></mask></defs><g mask="url(#shape_FoSkoOljiovlpXtyepQ0L_clip)"><rect x="-100" y="-100" width="327.38838606497484" height="367.9125868341108" fill="transparent" stroke="none"></rect><path d="M-165.31582160993514,295.60684693665877 A181.55168626818823 181.55168626818823 0 0 1 -292.70420767490987,127.69426010254801" fill="none" stroke="#e1e1e1" stroke-width="3.5" stroke-dasharray="none" stroke-dashoffset="none"></path></g><path d="M -297.41216590820414 137.0796279309049 L -292.70420767490987 127.69426010254801 L -286.93021982833875 136.46415544671538" fill="none" stroke="#e1e1e1" stroke-width="3.5"></path></g></g><g transform="matrix(-0.1564, -0.9877, 0.9877, -0.1564, 749.9432, 507.6958)" opacity="1"><g data-shape-type="arrow" style="--stroke-width: 4;"><defs><mask id="shape_xJbFH6GE8sktyfodgK-9d_clip"><rect x="-393.7665666504507" y="49.96506626343373" width="352.69833989395795" height="354.88387481567383" fill="white"></rect><path d="M -297.06219035877035 159.93446265304337 L -293.7665666504506 149.96506626343376 L -286.7806279708117 157.80385831095774" fill="none" stroke="none"></path></mask></defs><g mask="url(#shape_xJbFH6GE8sktyfodgK-9d_clip)"><rect x="-100" y="-100" width="352.69833989395795" height="354.88387481567383" fill="transparent" stroke="none"></rect><path d="M-141.06822675649278,304.84894107910753 A192.24158262862494 192.24158262862494 0 0 1 -293.7665666504506,149.96506626343376" fill="none" stroke="#e1e1e1" stroke-width="3.5" stroke-dasharray="none" stroke-dashoffset="none"></path></g><path d="M -297.06219035877035 159.93446265304337 L -293.7665666504506 149.96506626343376 L -286.7806279708117 157.80385831095774" fill="none" stroke="#e1e1e1" stroke-width="3.5"></path></g></g><g transform="matrix(0.1564, 0.9877, -0.9877, 0.1564, 973.8831, 631.4631)" opacity="1"><g data-shape-type="arrow" style="--stroke-width: 4;"><defs><mask id="shape_98AlWuZ3MNJ8HXkw_0SX8_clip"><rect x="-390.8832143177716" y="28.989655646789856" width="351.8949257097224" height="371.59533009344705" fill="white"></rect><path d="M -294.4496119884513 138.86542435887353 L -290.8832143177716 128.98965564678986 L -284.11374656654743 137.01613098563794" fill="none" stroke="none"></path></mask></defs><g mask="url(#shape_98AlWuZ3MNJ8HXkw_0SX8_clip)"><rect x="-100" y="-100" width="351.8949257097224" height="371.59533009344705" fill="transparent" stroke="none"></rect><path d="M-138.9882886080492,300.5849857402369 A211.56192029954403 211.56192029954403 0 0 1 -290.8832143177716,128.98965564678986" fill="none" stroke="#e1e1e1" stroke-width="3.5" stroke-dasharray="none" stroke-dashoffset="none"></path></g><path d="M -294.4496119884513 138.86542435887353 L -290.8832143177716 128.98965564678986 L -284.11374656654743 137.01613098563794" fill="none" stroke="#e1e1e1" stroke-width="3.5"></path></g></g></svg>'}},quadrant:{type:"diagram",attrs:{horizontalAlign:"center",shapes:[{x:1074.82421875,y:229.03125,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:0ok4F6wp2WXfO_JbW55tI",type:"arrow",parentId:"page:page",index:"a1",props:{dash:"solid",size:"m",fill:"solid",color:"black",labelColor:"black",bend:0,start:{type:"point",x:0,y:0},end:{type:"point",x:0,y:400},arrowheadStart:"arrow",arrowheadEnd:"arrow",text:"",labelPosition:.5,font:"draw",shapeColor:null,strokeWidth:"md"},typeName:"shape"},{x:869.5924737463713,y:27.95840719431982,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:lfd5uMWVGIIFlwc_gfUf_",type:"arrow",parentId:"page:page",index:"a2",props:{dash:"solid",size:"m",fill:"solid",color:"black",labelColor:"black",bend:0,start:{type:"point",x:0,y:400},end:{type:"point",x:400,y:400},arrowheadStart:"arrow",arrowheadEnd:"arrow",text:"",labelPosition:.5,font:"draw",shapeColor:null,strokeWidth:"md"},typeName:"shape"},{x:1026.82421875,y:170.3671875,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:c4kLEFg-x_YebbalM4bbJ",type:"text",props:{color:"black",size:"m",w:96,text:"",font:"draw",align:"middle",autoSize:!0,scale:1,h:20,growY:27,html:'<h4 class="themed-heading">Title</h4>',shapeColor:null},parentId:"page:page",index:"a3",typeName:"shape"},{x:1275.47265625,y:404.9296875,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:rr2bWXVlRik_OTR3-Mzxb",type:"text",props:{color:"black",size:"m",w:96,text:"",font:"draw",align:"middle",autoSize:!0,scale:1,h:20,growY:27,html:'<h4 class="themed-heading">Title</h4>',shapeColor:null},parentId:"page:page",index:"a4",typeName:"shape"},{x:770.2109375,y:404.9296875,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:4nADMgFMClNzOAl0NqJsR",type:"text",props:{color:"black",size:"m",w:96,text:"",font:"draw",align:"middle",autoSize:!0,scale:1,h:20,growY:27,html:'<h4 class="themed-heading">Title</h4>',shapeColor:null},parentId:"page:page",index:"a4V",typeName:"shape"},{x:1026.82421875,y:640.79296875,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:pQUKVKJOu78f_j_B0Y1_-",type:"text",props:{color:"black",size:"m",w:96,text:"",font:"draw",align:"middle",autoSize:!0,scale:1,h:20,growY:27,html:'<h4 class="themed-heading">Title</h4>',shapeColor:null},parentId:"page:page",index:"a5",typeName:"shape"}],assets:[],meta:{},width:434.6666666666667,svg:'<svg direction="ltr" width="617.26171875" height="533.42578125" viewBox="762.2109375 162.3671875 617.26171875 533.42578125" stroke-linecap="round" stroke-linejoin="round" style="background-color: transparent;"><defs></defs><g transform="matrix(1, 0, 0, 1, 1074.8242, 229.0313)" opacity="1"><g data-shape-type="arrow" style="--stroke-width: 4;"><defs><mask id="shape_0ok4F6wp2WXfO_JbW55tI_clip"><rect x="-100" y="-100" width="200.00000000000009" height="599.8566231113605" fill="white"></rect><path d="M -5.249999999999997 9.093266739736608 L 0 0 L 5.250000000000001 9.093266739736604" fill="none" stroke="none"></path><path d="M 5.250000000000076 390.7633563716238 L 7.904787935331115e-14 399.8566231113604 L -5.249999999999922 390.76335637162384" fill="none" stroke="none"></path></mask></defs><g mask="url(#shape_0ok4F6wp2WXfO_JbW55tI_clip)"><rect x="-100" y="-100" width="200.00000000000009" height="599.8566231113605" fill="transparent" stroke="none"></rect><path d="M0,0L7.904787935331115e-14,399.8566231113604" fill="none" stroke="#1d1d1d" stroke-width="3.5" stroke-dasharray="none" stroke-dashoffset="none"></path></g><path d="M -5.249999999999997 9.093266739736608 L 0 0 L 5.250000000000001 9.093266739736604" fill="none" stroke="#1d1d1d" stroke-width="3.5"></path><path d="M 5.250000000000076 390.7633563716238 L 7.904787935331115e-14 399.8566231113604 L -5.249999999999922 390.76335637162384" fill="none" stroke="#1d1d1d" stroke-width="3.5"></path></g></g><g transform="matrix(1, 0, 0, 1, 869.5925, 27.9584)" opacity="1"><g data-shape-type="arrow" style="--stroke-width: 4;"><defs><mask id="shape_lfd5uMWVGIIFlwc_gfUf__clip"><rect x="-99.99999999999991" y="299.8566231113604" width="610.4634900072574" height="202.2890625" fill="white"></rect><path d="M 401.39964227952714 396.84505693463564 L 410.46349000725746 402.1456856113604 L 401.34108705332034 407.3448936612464" fill="none" stroke="none"></path><path d="M 9.06384772773043 405.1572517880852 L 7.904787935331115e-14 399.8566231113604 L 9.122402953937236 394.65741506147447" fill="none" stroke="none"></path></mask></defs><g mask="url(#shape_lfd5uMWVGIIFlwc_gfUf__clip)"><rect x="-100" y="-100" width="610.4634900072574" height="202.2890625" fill="transparent" stroke="none"></rect><path d="M410.46349000725746,402.1456856113604L7.904787935331115e-14,399.8566231113604" fill="none" stroke="#1d1d1d" stroke-width="3.5" stroke-dasharray="none" stroke-dashoffset="none"></path></g><path d="M 401.39964227952714 396.84505693463564 L 410.46349000725746 402.1456856113604 L 401.34108705332034 407.3448936612464" fill="none" stroke="#1d1d1d" stroke-width="3.5"></path><path d="M 9.06384772773043 405.1572517880852 L 7.904787935331115e-14 399.8566231113604 L 9.122402953937236 394.65741506147447" fill="none" stroke="#1d1d1d" stroke-width="3.5"></path></g></g><g transform="matrix(1, 0, 0, 1, 1026.8242, 170.3672)" opacity="1"><g><foreignObject width="97" height="47"><div class="textbox" style="--text-align: center; --horizontal-align: center;"><div class="text"><h4 class="themed-heading">Title</h4></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1275.4727, 404.9297)" opacity="1"><g><foreignObject width="97" height="47"><div class="textbox" style="--text-align: center; --horizontal-align: center;"><div class="text"><h4 class="themed-heading">Title</h4></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 770.2109, 404.9297)" opacity="1"><g><foreignObject width="97" height="47"><div class="textbox" style="--text-align: center; --horizontal-align: center;"><div class="text"><h4 class="themed-heading">Title</h4></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1026.8242, 640.793)" opacity="1"><g><foreignObject width="97" height="47"><div class="textbox" style="--text-align: center; --horizontal-align: center;"><div class="text"><h4 class="themed-heading">Title</h4></div></div></foreignObject></g></g></svg>'}},venn:{type:"diagram",attrs:{horizontalAlign:"center",shapes:[{x:1175.87109375,y:508.45703125,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:YuAAYaKmNVXbxRM9Ym0z4",type:"geo",props:{w:394.4375,h:394.4375,geo:"ellipse",color:"black",labelColor:"black",fill:"semi",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph"></p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"a1",typeName:"shape"},{x:904.79296875,y:508.45703125,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:ywvivjfUEJxH_FT8HCp6E",type:"geo",props:{w:394.4375,h:394.4375,geo:"ellipse",color:"black",labelColor:"black",fill:"semi",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph"></p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"a2",typeName:"shape"},{x:1040.3320312500002,y:270.0929726013588,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:uoJ_xUvPbDuyBaVh94J02",type:"geo",props:{w:394.4375,h:394.4375,geo:"ellipse",color:"black",labelColor:"black",fill:"semi",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph"></p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"a3",typeName:"shape"},{x:1092.234375,y:547.42578125,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:W8BtDrKhUUa_fmB-YfrG4",type:"text",props:{color:"black",size:"m",w:108,text:"",font:"draw",align:"middle",autoSize:!0,scale:1,h:20,growY:24,html:'<p class="paragraph">Expensive</p>',shapeColor:null},parentId:"page:page",index:"a4",typeName:"shape"},{x:1282.02734375,y:547.42578125,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:lLHXbsMOmu2pfYDmh7SMV",type:"text",props:{color:"black",size:"m",w:104,text:"",font:"draw",align:"middle",autoSize:!0,scale:1,h:20,growY:24,html:'<p class="paragraph">Take time</p>',shapeColor:null},parentId:"page:page",index:"a5",typeName:"shape"},{x:1185.5507812500002,y:689.046875,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:FJv1W-bQpfCY0dAUn_ezA",type:"text",props:{color:"black",size:"m",w:96,text:"",font:"draw",align:"middle",autoSize:!0,scale:1,h:20,growY:52,html:'<p class="paragraph">Low<br>quality</p>',shapeColor:null},parentId:"page:page",index:"a6",typeName:"shape"},{x:1373.08984375,y:705.67578125,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:tT7vEjVJGLo0tv18nWtJV",type:"text",props:{color:"black",size:"m",w:107,text:"",font:"draw",align:"middle",autoSize:!0,scale:1,h:20,growY:34,html:'<h3 class="themed-heading">Cheap</h3>',shapeColor:null},parentId:"page:page",index:"a7",typeName:"shape"},{x:1017.1328125,y:705.67578125,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:gaQCyTxoxdrsvbDkqQV9C",type:"text",props:{color:"black",size:"m",w:96,text:"",font:"draw",align:"middle",autoSize:!0,scale:1,h:20,growY:34,html:'<h3 class="themed-heading">Fast</h3>',shapeColor:null},parentId:"page:page",index:"a8",typeName:"shape"},{x:1189.5507812500002,y:424.234375,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:VAbhvBq-Ec1CIYnCjzhl2",type:"text",props:{color:"black",size:"m",w:96,text:"",font:"draw",align:"middle",autoSize:!0,scale:1,h:20,growY:34,html:'<h3 class="themed-heading">Good</h3>',shapeColor:null},parentId:"page:page",index:"a9",typeName:"shape"}],assets:[],meta:{},width:431.1111111111111,svg:'<svg direction="ltr" width="681.5156250000002" height="648.2953009459236" viewBox="896.7929687499998 262.3461014527175 681.5156250000002 648.2953009459236" stroke-linecap="round" stroke-linejoin="round" style="background-color: transparent;"><defs></defs><g transform="matrix(1, 0, 0, 1, 1175.8711, 508.457)" opacity="1"><g data-shape-type="geo"><path d="M0,197.21875a197.21875,197.21875,0,1,1,394.4375,0a197.21875,197.21875,0,1,1,-394.4375,0" width="394.4375" height="394.4375" id="shape:YuAAYaKmNVXbxRM9Ym0z4" style="fill-opacity: 0.5; stroke-width: 2;"></path><foreignObject width="394.43750000000017" height="393.93124229728244"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph"></p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 904.793, 508.457)" opacity="1"><g data-shape-type="geo"><path d="M0,197.21875a197.21875,197.21875,0,1,1,394.4375,0a197.21875,197.21875,0,1,1,-394.4375,0" width="394.4375" height="394.4375" id="shape:ywvivjfUEJxH_FT8HCp6E" style="fill-opacity: 0.5; stroke-width: 2;"></path><foreignObject width="394.43750000000017" height="393.93124229728244"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph"></p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1040.332, 270.093)" opacity="1"><g data-shape-type="geo"><path d="M0,197.21875a197.21875,197.21875,0,1,1,394.4375,0a197.21875,197.21875,0,1,1,-394.4375,0" width="394.4375" height="394.4375" id="shape:uoJ_xUvPbDuyBaVh94J02" style="fill-opacity: 0.5; stroke-width: 2;"></path><foreignObject width="394.43750000000017" height="393.93124229728244"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph"></p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1092.2344, 547.4258)" opacity="1"><g><foreignObject width="109" height="44"><div data-autosize="true" class="textbox" style="--text-align: center; --horizontal-align: center;"><div class="text"><p class="paragraph">Expensive</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1282.0273, 547.4258)" opacity="1"><g><foreignObject width="105" height="44"><div data-autosize="true" class="textbox" style="--text-align: center; --horizontal-align: center;"><div class="text"><p class="paragraph">Take time</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1185.5508, 689.0469)" opacity="1"><g><foreignObject width="97" height="72"><div data-autosize="true" class="textbox" style="--text-align: center; --horizontal-align: center;"><div class="text"><p class="paragraph">Low<br>quality</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1373.0898, 705.6758)" opacity="1"><g><foreignObject width="108" height="54"><div data-autosize="true" class="textbox" style="--text-align: center; --horizontal-align: center;"><div class="text"><h3 class="themed-heading">Cheap</h3></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1017.1328, 705.6758)" opacity="1"><g><foreignObject width="97" height="54"><div data-autosize="true" class="textbox" style="--text-align: center; --horizontal-align: center;"><div class="text"><h3 class="themed-heading">Fast</h3></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1189.5508, 424.2344)" opacity="1"><g><foreignObject width="97" height="54"><div data-autosize="true" class="textbox" style="--text-align: center; --horizontal-align: center;"><div class="text"><h3 class="themed-heading">Good</h3></div></div></foreignObject></g></g></svg>'}},calendarWeek:{type:"diagram",attrs:{horizontalAlign:null,shapes:[{x:179.0625,y:119.1171875,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:hF6E8P7CiXiSsRo7LG0FF",type:"geo",props:{w:301.9961468758189,h:873.9095562737236,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph"></p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"Zy",typeName:"shape"},{x:495.4840350809791,y:119.1171875,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:taayoSjVZnQxAEAkYzW8F",type:"geo",props:{w:301.9961468758189,h:873.9095562737236,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph"></p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"Zz",typeName:"shape"},{x:811.9055701619584,y:119.1171875,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:DogbW2-V83SiEhlezSTF1",type:"geo",props:{w:301.9961468758189,h:873.9095562737236,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph"></p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"a0",typeName:"shape"},{x:1128.3271052429373,y:119.1171875,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:SzwGSCVn7h1Uo_B_b-0jU",type:"geo",props:{w:301.9961468758189,h:873.9095562737236,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph"></p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"a1",typeName:"shape"},{x:1445.4682141660628,y:119.1171875,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:IAo_g6FQp9YK2JWBCaGMU",type:"geo",props:{w:301.9961468758189,h:873.9095562737236,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph"></p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"a2",typeName:"shape"},{x:832.3614242096944,y:134.56584632459914,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:l_vkpYMsSpaE9s3TN_mKw",type:"text",props:{color:"black",size:"m",w:261.08443878034683,text:"Wed",font:"draw",align:"middle",autoSize:!1,scale:1,h:20,growY:34,html:'<h3 class="themed-heading" style="text-align: center">Wed</h3>',shapeColor:null},parentId:"page:page",index:"a5",typeName:"shape"},{x:1148.7829592906733,y:134.56584632459914,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:Cw9jJcIeB18UZCowlxx0A",type:"text",props:{color:"black",size:"m",w:261.08443878034683,text:"Thu",font:"draw",align:"middle",autoSize:!1,scale:1,h:20,growY:34,html:'<h3 class="themed-heading" style="text-align: center">Thu</h3>',shapeColor:null},parentId:"page:page",index:"a6",typeName:"shape"},{x:1465.9240682137988,y:134.56584632459914,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:VvguEUBmR1u7tIdodua_7",type:"text",props:{color:"black",size:"m",w:261.08443878034683,text:"Fri",font:"draw",align:"middle",autoSize:!1,scale:1,h:20,growY:34,html:'<h3 class="themed-heading" style="text-align: center">Fri</h3>',shapeColor:null},parentId:"page:page",index:"a7",typeName:"shape"},{x:204.97813786171344,y:211.51595163729675,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:lqef5zWrrlQl9HENeGEnL",type:"geo",props:{w:250.16487115239204,h:64.78836164651827,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"solid",size:"m",font:"draw",text:"Meeting with Jon",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph">Meeting with Jon</p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"aD",typeName:"shape"},{x:204.97813786171344,y:605.0019073645135,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:IgEYD45iYr1sSFMoAwbyu",type:"geo",props:{w:250.16487115239204,h:64.78836164651827,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"solid",size:"m",font:"draw",text:"Team bonding",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph">Team bonding</p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"aDG",typeName:"shape"},{x:204.97813786171344,y:297.31890598073045,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:Qim4eNR90mSPnWlJh468S",type:"geo",props:{w:250.16487115239204,h:64.78836164651827,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"solid",size:"m",font:"draw",text:"Checking emails",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph">Checking emails</p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"aDV",typeName:"shape"},{x:1154.2427431046506,y:295.64859941977187,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:IL-fsOSVuSRXre2dwItqj",type:"geo",props:{w:250.16487115239204,h:64.78836164651827,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"solid",size:"m",font:"draw",text:"HR meetings",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph">HR meetings</p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"aDZ",typeName:"shape"},{x:1154.2427431046506,y:379.7812472022469,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:bH7UwVBlNxoEzsh_1zjen",type:"geo",props:{w:250.16487115239204,h:64.78836164651827,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"solid",size:"m",font:"draw",text:"Onboarding new hire",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph">Onboarding new hire</p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"aDb",typeName:"shape"},{x:521.3996729426926,y:211.51595163729675,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:HAHtaenTwvKec_w0q3MVQ",type:"geo",props:{w:250.16487115239204,h:64.78836164651827,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"solid",size:"m",font:"draw",text:"Attend CS meeting",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph">Attend CS meeting</p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"aDd",typeName:"shape"},{x:1471.3838520277761,y:379.7812472022469,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:7ONsfQ5KbFBdZuwBMYOXz",type:"geo",props:{w:250.16487115239204,h:64.78836164651827,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"solid",size:"m",font:"draw",text:"Team happy hour",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph">Team happy hour</p>',shapeColor:"#26A688",strokeWidth:"sm"},parentId:"page:page",index:"aDe",typeName:"shape"},{x:1471.3838520277761,y:211.51595163729675,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:ov9MLbM2hIPHiHbKtLXgq",type:"geo",props:{w:250.16487115239204,h:64.78836164651827,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"solid",size:"m",font:"draw",text:"Attend CS meeting",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph">Attend CS meeting</p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"aDf",typeName:"shape"},{x:1471.3838520277761,y:295.64859941977187,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:JcWFs24GgyS_MNCWFyy4F",type:"geo",props:{w:250.16487115239204,h:64.78836164651827,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"solid",size:"m",font:"draw",text:"Office tour",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph">Office tour</p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"aDg",typeName:"shape"},{x:837.8212080236717,y:211.51595163729675,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:avNg2b0XCoj-PSVRH9NqC",type:"geo",props:{w:250.16487115239204,h:64.78836164651827,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"solid",size:"m",font:"draw",text:"1:1 with Zach",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph">1:1 with Zach</p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"aDh",typeName:"shape"},{x:837.8212080236717,y:297.45150900814224,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:B3hQTKLjKcuwSsT8VwJpR",type:"geo",props:{w:250.16487115239204,h:64.78836164651827,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"solid",size:"m",font:"draw",text:"Company all hands",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph">Company all hands</p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"aDj",typeName:"shape"},{x:837.8212080236717,y:379.7812472022469,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:Ew3E_uQg_oIqeazf2vqpP",type:"geo",props:{w:251,h:101.34061312191727,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"solid",size:"m",font:"draw",text:"Bugbashing diagrams V2 with eng team",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph">Bugbashing diagrams V2 with eng team</p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"aDk",typeName:"shape"},{x:837.8212080236717,y:500.13645302107966,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:Fg4fxWRIxgyovffXhHIzF",type:"geo",props:{w:250.16487115239204,h:64.78836164651827,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"solid",size:"m",font:"draw",text:"Customer call",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph">Customer call</p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"aDkV",typeName:"shape"},{x:1154.2427431046506,y:211.51595163729678,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:VvbN_RGjDdrkdA1f5rsRd",type:"geo",props:{w:250.16487115239204,h:64.78836164651827,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"solid",size:"m",font:"draw",text:"Vendor call",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph">Vendor call</p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"aDkl",typeName:"shape"},{x:204.97813786171344,y:381.1218603241642,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:2vK8h6FMVleRUW2G9Od19",type:"geo",props:{w:251,h:121.0625,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"solid",size:"m",font:"draw",text:"Setup a call with our food vendor at the office in SF",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph">Setup a call with our food vendor at the office in SF</p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"aDl",typeName:"shape"},{x:204.97813786171344,y:521.1989530210797,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:9SYkhq44JuzFO637hB390",type:"geo",props:{w:250.16487115239204,h:64.78836164651827,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"solid",size:"m",font:"draw",text:" Lunch",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph"><span id="hamburger" native="\uD83C\uDF54" class="emoji">\uD83C\uDF54</span> Lunch</p>',shapeColor:"#26A688",strokeWidth:"none"},parentId:"page:page",index:"aDt",typeName:"shape"},{x:515.9398891287151,y:134.56584632459914,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:SDZcV2JidoSxClP0MxiaV",type:"text",props:{color:"black",size:"m",w:261.08443878034683,text:"Tue",font:"draw",align:"middle",autoSize:!1,scale:1,h:20,growY:34,html:'<h3 class="themed-heading" style="text-align: center">Tue</h3>',shapeColor:null},parentId:"page:page",index:"aE",typeName:"shape"},{x:199.518354047736,y:134.56584632459914,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:tSOF89upJLNWmMbbVcY6R",type:"text",props:{color:"black",size:"m",w:261.08443878034683,text:"Mon",font:"draw",align:"middle",autoSize:!1,scale:1,h:20,growY:34,html:'<h3 class="themed-heading" style="text-align: center">Mon</h3>',shapeColor:null},parentId:"page:page",index:"aF",typeName:"shape"}],assets:[{meta:{},id:"asset:1703535279",type:"image",typeName:"asset",props:{name:"Screen Shot 2024-04-10 at 3.37.50 PM.png",src:"https://cdn-staging.gamma.app/QWjS6fBfpt/b63db3d6baac4d469108cf61a4c7ee71/original/Screen-Shot-2024-04-10-at-3.37.50-PM.png",w:2842,h:1550,mimeType:"image/png",isAnimated:!1}},{meta:{},id:"asset:-1866522948",type:"image",typeName:"asset",props:{name:"tldrawFile",src:"https://cdn-staging.gamma.app/QWjS6fBfpt/c494e974b8cc46b8910df2aa1a4051db/original/tldrawFile.png",w:3841,h:2161,mimeType:"image/png",isAnimated:!1}}],meta:{},width:null,svg:'<svg direction="ltr" width="1584.4018610418816" height="889.9095562737236" viewBox="171.0625 111.1171875 1584.4018610418816 889.9095562737236" stroke-linecap="round" stroke-linejoin="round" style="background-color: transparent;"><defs></defs><g transform="matrix(1, 0, 0, 1, 204.9781, 211.516)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L246.1649,0 Q250.1649,0 250.1649,4 L250.1649,60.7884 Q250.1649,64.7884 246.1649,64.7884 L4,64.7884 Q0,64.7884 0,60.7884 L0,4 Q0,0 4,0 " id="shape:lqef5zWrrlQl9HENeGEnL" class="tl-shape-background" style="fill-opacity: 0.75; stroke-width: 0;"></path></g></g><g transform="matrix(1, 0, 0, 1, 204.9781, 605.0019)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L246.1649,0 Q250.1649,0 250.1649,4 L250.1649,60.7884 Q250.1649,64.7884 246.1649,64.7884 L4,64.7884 Q0,64.7884 0,60.7884 L0,4 Q0,0 4,0 " id="shape:IgEYD45iYr1sSFMoAwbyu" class="tl-shape-background" style="fill-opacity: 0.75; stroke-width: 0;"></path></g></g><g transform="matrix(1, 0, 0, 1, 204.9781, 297.3189)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L246.1649,0 Q250.1649,0 250.1649,4 L250.1649,60.7884 Q250.1649,64.7884 246.1649,64.7884 L4,64.7884 Q0,64.7884 0,60.7884 L0,4 Q0,0 4,0 " id="shape:Qim4eNR90mSPnWlJh468S" class="tl-shape-background" style="fill-opacity: 0.75; stroke-width: 0;"></path></g></g><g transform="matrix(1, 0, 0, 1, 1154.2427, 295.6486)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L246.1649,0 Q250.1649,0 250.1649,4 L250.1649,60.7884 Q250.1649,64.7884 246.1649,64.7884 L4,64.7884 Q0,64.7884 0,60.7884 L0,4 Q0,0 4,0 " id="shape:IL-fsOSVuSRXre2dwItqj" class="tl-shape-background" style="fill-opacity: 0.75; stroke-width: 0;"></path></g></g><g transform="matrix(1, 0, 0, 1, 1154.2427, 379.7812)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L246.1649,0 Q250.1649,0 250.1649,4 L250.1649,60.7884 Q250.1649,64.7884 246.1649,64.7884 L4,64.7884 Q0,64.7884 0,60.7884 L0,4 Q0,0 4,0 " id="shape:bH7UwVBlNxoEzsh_1zjen" class="tl-shape-background" style="fill-opacity: 0.75; stroke-width: 0;"></path></g></g><g transform="matrix(1, 0, 0, 1, 521.3997, 211.516)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L246.1649,0 Q250.1649,0 250.1649,4 L250.1649,60.7884 Q250.1649,64.7884 246.1649,64.7884 L4,64.7884 Q0,64.7884 0,60.7884 L0,4 Q0,0 4,0 " id="shape:HAHtaenTwvKec_w0q3MVQ" class="tl-shape-background" style="fill-opacity: 0.75; stroke-width: 0;"></path></g></g><g transform="matrix(1, 0, 0, 1, 1471.3839, 211.516)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L246.1649,0 Q250.1649,0 250.1649,4 L250.1649,60.7884 Q250.1649,64.7884 246.1649,64.7884 L4,64.7884 Q0,64.7884 0,60.7884 L0,4 Q0,0 4,0 " id="shape:ov9MLbM2hIPHiHbKtLXgq" class="tl-shape-background" style="fill-opacity: 0.75; stroke-width: 0;"></path></g></g><g transform="matrix(1, 0, 0, 1, 1471.3839, 295.6486)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L246.1649,0 Q250.1649,0 250.1649,4 L250.1649,60.7884 Q250.1649,64.7884 246.1649,64.7884 L4,64.7884 Q0,64.7884 0,60.7884 L0,4 Q0,0 4,0 " id="shape:JcWFs24GgyS_MNCWFyy4F" class="tl-shape-background" style="fill-opacity: 0.75; stroke-width: 0;"></path></g></g><g transform="matrix(1, 0, 0, 1, 837.8212, 211.516)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L246.1649,0 Q250.1649,0 250.1649,4 L250.1649,60.7884 Q250.1649,64.7884 246.1649,64.7884 L4,64.7884 Q0,64.7884 0,60.7884 L0,4 Q0,0 4,0 " id="shape:avNg2b0XCoj-PSVRH9NqC" class="tl-shape-background" style="fill-opacity: 0.75; stroke-width: 0;"></path></g></g><g transform="matrix(1, 0, 0, 1, 837.8212, 297.4515)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L246.1649,0 Q250.1649,0 250.1649,4 L250.1649,60.7884 Q250.1649,64.7884 246.1649,64.7884 L4,64.7884 Q0,64.7884 0,60.7884 L0,4 Q0,0 4,0 " id="shape:B3hQTKLjKcuwSsT8VwJpR" class="tl-shape-background" style="fill-opacity: 0.75; stroke-width: 0;"></path></g></g><g transform="matrix(1, 0, 0, 1, 837.8212, 379.7812)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L247,0 Q251,0 251,4 L251,97.3406 Q251,101.3406 247,101.3406 L4,101.3406 Q0,101.3406 0,97.3406 L0,4 Q0,0 4,0 " id="shape:Ew3E_uQg_oIqeazf2vqpP" class="tl-shape-background" style="fill-opacity: 0.75; stroke-width: 0;"></path></g></g><g transform="matrix(1, 0, 0, 1, 837.8212, 500.1365)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L246.1649,0 Q250.1649,0 250.1649,4 L250.1649,60.7884 Q250.1649,64.7884 246.1649,64.7884 L4,64.7884 Q0,64.7884 0,60.7884 L0,4 Q0,0 4,0 " id="shape:Fg4fxWRIxgyovffXhHIzF" class="tl-shape-background" style="fill-opacity: 0.75; stroke-width: 0;"></path></g></g><g transform="matrix(1, 0, 0, 1, 1154.2427, 211.516)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L246.1649,0 Q250.1649,0 250.1649,4 L250.1649,60.7884 Q250.1649,64.7884 246.1649,64.7884 L4,64.7884 Q0,64.7884 0,60.7884 L0,4 Q0,0 4,0 " id="shape:VvbN_RGjDdrkdA1f5rsRd" class="tl-shape-background" style="fill-opacity: 0.75; stroke-width: 0;"></path></g></g><g transform="matrix(1, 0, 0, 1, 204.9781, 381.1219)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L247,0 Q251,0 251,4 L251,117.0625 Q251,121.0625 247,121.0625 L4,121.0625 Q0,121.0625 0,117.0625 L0,4 Q0,0 4,0 " id="shape:2vK8h6FMVleRUW2G9Od19" class="tl-shape-background" style="fill-opacity: 0.75; stroke-width: 0;"></path></g></g><g transform="matrix(1, 0, 0, 1, 179.0625, 119.1172)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L297.9961,0 Q301.9961,0 301.9961,4 L301.9961,869.9096 Q301.9961,873.9096 297.9961,873.9096 L4,873.9096 Q0,873.9096 0,869.9096 L0,4 Q0,0 4,0 " id="shape:hF6E8P7CiXiSsRo7LG0FF" style="fill-opacity: 0; stroke-width: 2;"></path><foreignObject width="301.9961468758189" height="873.9095562737236"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph"></p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 495.484, 119.1172)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L297.9961,0 Q301.9961,0 301.9961,4 L301.9961,869.9096 Q301.9961,873.9096 297.9961,873.9096 L4,873.9096 Q0,873.9096 0,869.9096 L0,4 Q0,0 4,0 " id="shape:taayoSjVZnQxAEAkYzW8F" style="fill-opacity: 0; stroke-width: 2;"></path><foreignObject width="301.9961468758189" height="873.9095562737236"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph"></p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 811.9056, 119.1172)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L297.9961,0 Q301.9961,0 301.9961,4 L301.9961,869.9096 Q301.9961,873.9096 297.9961,873.9096 L4,873.9096 Q0,873.9096 0,869.9096 L0,4 Q0,0 4,0 " id="shape:DogbW2-V83SiEhlezSTF1" style="fill-opacity: 0; stroke-width: 2;"></path><foreignObject width="301.9961468758189" height="873.9095562737236"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph"></p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1128.3271, 119.1172)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L297.9961,0 Q301.9961,0 301.9961,4 L301.9961,869.9096 Q301.9961,873.9096 297.9961,873.9096 L4,873.9096 Q0,873.9096 0,869.9096 L0,4 Q0,0 4,0 " id="shape:SzwGSCVn7h1Uo_B_b-0jU" style="fill-opacity: 0; stroke-width: 2;"></path><foreignObject width="301.9961468758189" height="873.9095562737236"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph"></p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1445.4682, 119.1172)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L297.9961,0 Q301.9961,0 301.9961,4 L301.9961,869.9096 Q301.9961,873.9096 297.9961,873.9096 L4,873.9096 Q0,873.9096 0,869.9096 L0,4 Q0,0 4,0 " id="shape:IAo_g6FQp9YK2JWBCaGMU" style="fill-opacity: 0; stroke-width: 2;"></path><foreignObject width="301.9961468758189" height="873.9095562737236"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph"></p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 832.3614, 134.5658)" opacity="1"><g><foreignObject width="262.08443878034683" height="54"><div class="textbox" style="--text-align: center; --horizontal-align: center;"><div class="text"><h3 class="themed-heading" style="text-align: center">Wed</h3></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1148.783, 134.5658)" opacity="1"><g><foreignObject width="262.08443878034683" height="54"><div class="textbox" style="--text-align: center; --horizontal-align: center;"><div class="text"><h3 class="themed-heading" style="text-align: center">Thu</h3></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1465.9241, 134.5658)" opacity="1"><g><foreignObject width="262.08443878034683" height="54"><div class="textbox" style="--text-align: center; --horizontal-align: center;"><div class="text"><h3 class="themed-heading" style="text-align: center">Fri</h3></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 204.9781, 211.516)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L246.1649,0 Q250.1649,0 250.1649,4 L250.1649,60.7884 Q250.1649,64.7884 246.1649,64.7884 L4,64.7884 Q0,64.7884 0,60.7884 L0,4 Q0,0 4,0 " id="shape:lqef5zWrrlQl9HENeGEnL" style="fill-opacity: 0; stroke-width: 2;"></path><foreignObject width="250.16487115239204" height="64.78836164651827"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph">Meeting with Jon</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 204.9781, 605.0019)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L246.1649,0 Q250.1649,0 250.1649,4 L250.1649,60.7884 Q250.1649,64.7884 246.1649,64.7884 L4,64.7884 Q0,64.7884 0,60.7884 L0,4 Q0,0 4,0 " id="shape:IgEYD45iYr1sSFMoAwbyu" style="fill-opacity: 0; stroke-width: 2;"></path><foreignObject width="250.16487115239204" height="64.78836164651827"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph">Team bonding</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 204.9781, 297.3189)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L246.1649,0 Q250.1649,0 250.1649,4 L250.1649,60.7884 Q250.1649,64.7884 246.1649,64.7884 L4,64.7884 Q0,64.7884 0,60.7884 L0,4 Q0,0 4,0 " id="shape:Qim4eNR90mSPnWlJh468S" style="fill-opacity: 0; stroke-width: 2;"></path><foreignObject width="250.16487115239204" height="64.78836164651827"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph">Checking emails</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1154.2427, 295.6486)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L246.1649,0 Q250.1649,0 250.1649,4 L250.1649,60.7884 Q250.1649,64.7884 246.1649,64.7884 L4,64.7884 Q0,64.7884 0,60.7884 L0,4 Q0,0 4,0 " id="shape:IL-fsOSVuSRXre2dwItqj" style="fill-opacity: 0; stroke-width: 2;"></path><foreignObject width="250.16487115239204" height="64.78836164651827"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph">HR meetings</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1154.2427, 379.7812)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L246.1649,0 Q250.1649,0 250.1649,4 L250.1649,60.7884 Q250.1649,64.7884 246.1649,64.7884 L4,64.7884 Q0,64.7884 0,60.7884 L0,4 Q0,0 4,0 " id="shape:bH7UwVBlNxoEzsh_1zjen" style="fill-opacity: 0; stroke-width: 2;"></path><foreignObject width="250.16487115239204" height="64.78836164651827"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph">Onboarding new hire</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 521.3997, 211.516)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L246.1649,0 Q250.1649,0 250.1649,4 L250.1649,60.7884 Q250.1649,64.7884 246.1649,64.7884 L4,64.7884 Q0,64.7884 0,60.7884 L0,4 Q0,0 4,0 " id="shape:HAHtaenTwvKec_w0q3MVQ" style="fill-opacity: 0; stroke-width: 2;"></path><foreignObject width="250.16487115239204" height="64.78836164651827"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph">Attend CS meeting</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1471.3839, 379.7812)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L246.1649,0 Q250.1649,0 250.1649,4 L250.1649,60.7884 Q250.1649,64.7884 246.1649,64.7884 L4,64.7884 Q0,64.7884 0,60.7884 L0,4 Q0,0 4,0 " id="shape:7ONsfQ5KbFBdZuwBMYOXz" style="fill-opacity: 1; --shape-bg-color-override: #26A688; --shape-border-color-override: #3fbfa1ff; stroke-width: 2;"></path><foreignObject width="250.16487115239204" height="64.78836164651827" class="themed-heading-no-gradient" style="--body-color: #fff; --heading-color: #fff; --link-color: #fff; --link-color-inverted: #000; --link-color-hover: #e6e6e6ff;"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph">Team happy hour</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1471.3839, 211.516)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L246.1649,0 Q250.1649,0 250.1649,4 L250.1649,60.7884 Q250.1649,64.7884 246.1649,64.7884 L4,64.7884 Q0,64.7884 0,60.7884 L0,4 Q0,0 4,0 " id="shape:ov9MLbM2hIPHiHbKtLXgq" style="fill-opacity: 0; stroke-width: 2;"></path><foreignObject width="250.16487115239204" height="64.78836164651827"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph">Attend CS meeting</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1471.3839, 295.6486)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L246.1649,0 Q250.1649,0 250.1649,4 L250.1649,60.7884 Q250.1649,64.7884 246.1649,64.7884 L4,64.7884 Q0,64.7884 0,60.7884 L0,4 Q0,0 4,0 " id="shape:JcWFs24GgyS_MNCWFyy4F" style="fill-opacity: 0; stroke-width: 2;"></path><foreignObject width="250.16487115239204" height="64.78836164651827"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph">Office tour</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 837.8212, 211.516)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L246.1649,0 Q250.1649,0 250.1649,4 L250.1649,60.7884 Q250.1649,64.7884 246.1649,64.7884 L4,64.7884 Q0,64.7884 0,60.7884 L0,4 Q0,0 4,0 " id="shape:avNg2b0XCoj-PSVRH9NqC" style="fill-opacity: 0; stroke-width: 2;"></path><foreignObject width="250.16487115239204" height="64.78836164651827"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph">1:1 with Zach</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 837.8212, 297.4515)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L246.1649,0 Q250.1649,0 250.1649,4 L250.1649,60.7884 Q250.1649,64.7884 246.1649,64.7884 L4,64.7884 Q0,64.7884 0,60.7884 L0,4 Q0,0 4,0 " id="shape:B3hQTKLjKcuwSsT8VwJpR" style="fill-opacity: 0; stroke-width: 2;"></path><foreignObject width="250.16487115239204" height="64.78836164651827"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph">Company all hands</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 837.8212, 379.7812)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L247,0 Q251,0 251,4 L251,97.3406 Q251,101.3406 247,101.3406 L4,101.3406 Q0,101.3406 0,97.3406 L0,4 Q0,0 4,0 " id="shape:Ew3E_uQg_oIqeazf2vqpP" style="fill-opacity: 0; stroke-width: 2;"></path><foreignObject width="251" height="101.34061312191727"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph">Bugbashing diagrams V2 with eng team</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 837.8212, 500.1365)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L246.1649,0 Q250.1649,0 250.1649,4 L250.1649,60.7884 Q250.1649,64.7884 246.1649,64.7884 L4,64.7884 Q0,64.7884 0,60.7884 L0,4 Q0,0 4,0 " id="shape:Fg4fxWRIxgyovffXhHIzF" style="fill-opacity: 0; stroke-width: 2;"></path><foreignObject width="250.16487115239204" height="64.78836164651827"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph">Customer call</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1154.2427, 211.516)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L246.1649,0 Q250.1649,0 250.1649,4 L250.1649,60.7884 Q250.1649,64.7884 246.1649,64.7884 L4,64.7884 Q0,64.7884 0,60.7884 L0,4 Q0,0 4,0 " id="shape:VvbN_RGjDdrkdA1f5rsRd" style="fill-opacity: 0; stroke-width: 2;"></path><foreignObject width="250.16487115239204" height="64.78836164651827"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph">Vendor call</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 204.9781, 381.1219)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L247,0 Q251,0 251,4 L251,117.0625 Q251,121.0625 247,121.0625 L4,121.0625 Q0,121.0625 0,117.0625 L0,4 Q0,0 4,0 " id="shape:2vK8h6FMVleRUW2G9Od19" style="fill-opacity: 0; stroke-width: 2;"></path><foreignObject width="251" height="121.0625"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph">Setup a call with our food vendor at the office in SF</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 204.9781, 521.199)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L246.1649,0 Q250.1649,0 250.1649,4 L250.1649,60.7884 Q250.1649,64.7884 246.1649,64.7884 L4,64.7884 Q0,64.7884 0,60.7884 L0,4 Q0,0 4,0 " id="shape:9SYkhq44JuzFO637hB390" style="fill-opacity: 1; --shape-bg-color-override: #26A688; --shape-border-color-override: #3fbfa1ff; stroke-width: 0;"></path><foreignObject width="250.16487115239204" height="64.78836164651827" class="themed-heading-no-gradient" style="--body-color: #fff; --heading-color: #fff; --link-color: #fff; --link-color-inverted: #000; --link-color-hover: #e6e6e6ff;"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph"><span id="hamburger" native="\uD83C\uDF54" class="emoji">\uD83C\uDF54</span> Lunch</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 515.9399, 134.5658)" opacity="1"><g><foreignObject width="262.08443878034683" height="54"><div class="textbox" style="--text-align: center; --horizontal-align: center;"><div class="text"><h3 class="themed-heading" style="text-align: center">Tue</h3></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 199.5184, 134.5658)" opacity="1"><g><foreignObject width="262.08443878034683" height="54"><div class="textbox" style="--text-align: center; --horizontal-align: center;"><div class="text"><h3 class="themed-heading" style="text-align: center">Mon</h3></div></div></foreignObject></g></g></svg>'}},calendarMonths:{type:"diagram",attrs:{horizontalAlign:null,shapes:[{x:187.0625,y:119.1171875,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:hF6E8P7CiXiSsRo7LG0FF",type:"geo",props:{w:419.6875,h:677.9375,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph"></p>',shapeColor:null,strokeWidth:"none"},parentId:"page:page",index:"Zy",typeName:"shape"},{x:621.23828125,y:119.1171875,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:taayoSjVZnQxAEAkYzW8F",type:"geo",props:{w:419.6875,h:677.9375,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph"></p>',shapeColor:null,strokeWidth:"none"},parentId:"page:page",index:"Zz",typeName:"shape"},{x:1055.4140625,y:119.1171875,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:DogbW2-V83SiEhlezSTF1",type:"geo",props:{w:419.6875,h:677.9375,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph"></p>',shapeColor:null,strokeWidth:"none"},parentId:"page:page",index:"a0",typeName:"shape"},{x:1479.765625,y:227.52734375,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:n-HH4IouUsStSFr3VNbU-",type:"line",parentId:"page:page",index:"a2",props:{dash:"solid",size:"m",color:"black",spline:"line",points:{a1:{id:"a1",index:"a1",x:-4.6640625,y:22115642650533118e-29},a2:{id:"a2",index:"a2",x:-1292.703125,y:2220446049250313e-28}},shapeColor:null,strokeWidth:"none"},typeName:"shape"},{x:201.34708590770333,y:145.867869309553,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:BEBrp9VENbneWCEP9Z57D",type:"text",props:{color:"black",size:"m",w:389.55916409229667,text:"January",font:"draw",align:"middle",autoSize:!1,scale:1,h:20,growY:34,html:'<h3 class="themed-heading">January</h3>',shapeColor:null},parentId:"page:page",index:"a3",typeName:"shape"},{x:631.6081020625556,y:145.867869309553,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:-3Bu-xyyud5-NY1mEsn_r",type:"text",props:{color:"black",size:"m",w:399.24346043744436,text:"February",font:"draw",align:"middle",autoSize:!1,scale:1,h:20,growY:34,html:'<h3 class="themed-heading">February</h3>',shapeColor:null},parentId:"page:page",index:"a4",typeName:"shape"},{x:1064.4140625,y:145.867869309553,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:97V6hIrYPl_7kahzLVj4Y",type:"text",props:{color:"black",size:"m",w:397.96463853034425,text:"March",font:"draw",align:"middle",autoSize:!1,scale:1,h:20,growY:34,html:'<h3 class="themed-heading">March</h3>',shapeColor:null},parentId:"page:page",index:"a5",typeName:"shape"},{x:213.4453125,y:262.6015625,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:hqEIx0gJpckN8eL0a3_eG",type:"geo",props:{w:377.57421875,h:68.80859375,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"solid",size:"m",font:"draw",text:"Campaign brief",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph">Campaign brief</p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"a6",typeName:"shape"},{x:424.8515625,y:350.465234375,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:L4SJqvXoG-EotQtRMTPY8",type:"geo",props:{w:242.98046875,h:68.80859375,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"solid",size:"m",font:"draw",text:"Brainstorming idea",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph">Brainstorming idea</p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"a7",typeName:"shape"},{x:642.359375,y:438.32890625000005,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:5PsZHZLZu4_CVVyhnfMhV",type:"geo",props:{w:317.4921875,h:68.80859375,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"solid",size:"m",font:"draw",text:"Pitching V1 draft",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph">Pitching V1 draft</p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"a8",typeName:"shape"},{x:801.10546875,y:526.192578125,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:gaTWbH01oHY5U8i7-0YWM",type:"geo",props:{w:216.140625,h:68.80859375,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"solid",size:"m",font:"draw",text:"Team sync",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph">Team sync</p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"a9",typeName:"shape"},{x:1017.24609375,y:614.05625,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:LTp09wJ7CZ4hmqxK3TqOs",type:"geo",props:{w:216.140625,h:68.80859375,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"solid",size:"m",font:"draw",text:"Product launch",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph">Product launch</p>',shapeColor:"#26A688",strokeWidth:"none"},parentId:"page:page",index:"aA",typeName:"shape"},{x:1224.703125,y:701.919921875,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:YRlBT-re2qFu7J2lowdkX",type:"geo",props:{w:216.140625,h:68.80859375,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"solid",size:"m",font:"draw",text:"PR push",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph">PR push</p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"aB",typeName:"shape"}],assets:[],meta:{},width:null,svg:'<svg direction="ltr" width="1304.0390625" height="693.9375" viewBox="179.0625 111.1171875 1304.0390625 693.9375" stroke-linecap="round" stroke-linejoin="round" style="background-color: transparent;"><defs></defs><g transform="matrix(1, 0, 0, 1, 187.0625, 119.1172)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L415.6875,0 Q419.6875,0 419.6875,4 L419.6875,673.9375 Q419.6875,677.9375 415.6875,677.9375 L4,677.9375 Q0,677.9375 0,673.9375 L0,4 Q0,0 4,0 " id="shape:hF6E8P7CiXiSsRo7LG0FF" style="fill-opacity: 1; stroke-width: 0;"></path><foreignObject width="419.6875" height="677.9375"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph"></p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 621.2383, 119.1172)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L415.6875,0 Q419.6875,0 419.6875,4 L419.6875,673.9375 Q419.6875,677.9375 415.6875,677.9375 L4,677.9375 Q0,677.9375 0,673.9375 L0,4 Q0,0 4,0 " id="shape:taayoSjVZnQxAEAkYzW8F" style="fill-opacity: 1; stroke-width: 0;"></path><foreignObject width="419.6875" height="677.9375"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph"></p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1055.4141, 119.1172)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L415.6875,0 Q419.6875,0 419.6875,4 L419.6875,673.9375 Q419.6875,677.9375 415.6875,677.9375 L4,677.9375 Q0,677.9375 0,673.9375 L0,4 Q0,0 4,0 " id="shape:DogbW2-V83SiEhlezSTF1" style="fill-opacity: 1; stroke-width: 0;"></path><foreignObject width="419.6875" height="677.9375"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph"></p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1479.7656, 227.5273)" opacity="1"><g data-shape-type="line"><path stroke-width="3.5px" stroke="#1d1d1d" fill="none" d="M-4.66, 0L-1292.7, 0" style="--stroke-width: 2;"></path></g></g><g transform="matrix(1, 0, 0, 1, 201.3471, 145.8679)" opacity="1"><g><foreignObject width="390.55916409229667" height="54"><div class="textbox" style="--text-align: center; --horizontal-align: center;"><div class="text"><h3 class="themed-heading">January</h3></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 631.6081, 145.8679)" opacity="1"><g><foreignObject width="400.24346043744436" height="54"><div class="textbox" style="--text-align: center; --horizontal-align: center;"><div class="text"><h3 class="themed-heading">February</h3></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1064.4141, 145.8679)" opacity="1"><g><foreignObject width="399" height="54"><div class="textbox" style="--text-align: center; --horizontal-align: center;"><div class="text"><h3 class="themed-heading">March</h3></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 213.4453, 262.6016)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L373.5742,0 Q377.5742,0 377.5742,4 L377.5742,64.8086 Q377.5742,68.8086 373.5742,68.8086 L4,68.8086 Q0,68.8086 0,64.8086 L0,4 Q0,0 4,0 " id="shape:hqEIx0gJpckN8eL0a3_eG" style="fill-opacity: 1; stroke-width: 2;"></path><foreignObject width="377.57421875" height="68.80859375"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph">Campaign brief</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 424.8516, 350.4652)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L238.9805,0 Q242.9805,0 242.9805,4 L242.9805,64.8086 Q242.9805,68.8086 238.9805,68.8086 L4,68.8086 Q0,68.8086 0,64.8086 L0,4 Q0,0 4,0 " id="shape:L4SJqvXoG-EotQtRMTPY8" style="fill-opacity: 1; stroke-width: 2;"></path><foreignObject width="242.98046875" height="68.80859375"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph">Brainstorming idea</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 642.3594, 438.3289)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L313.4922,0 Q317.4922,0 317.4922,4 L317.4922,64.8086 Q317.4922,68.8086 313.4922,68.8086 L4,68.8086 Q0,68.8086 0,64.8086 L0,4 Q0,0 4,0 " id="shape:5PsZHZLZu4_CVVyhnfMhV" style="fill-opacity: 1; stroke-width: 2;"></path><foreignObject width="317.4921875" height="68.80859375"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph">Pitching V1 draft</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 801.1055, 526.1926)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L212.1406,0 Q216.1406,0 216.1406,4 L216.1406,64.8086 Q216.1406,68.8086 212.1406,68.8086 L4,68.8086 Q0,68.8086 0,64.8086 L0,4 Q0,0 4,0 " id="shape:gaTWbH01oHY5U8i7-0YWM" style="fill-opacity: 1; stroke-width: 2;"></path><foreignObject width="216.140625" height="68.80859375"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph">Team sync</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1017.2461, 614.0562)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L212.1406,0 Q216.1406,0 216.1406,4 L216.1406,64.8086 Q216.1406,68.8086 212.1406,68.8086 L4,68.8086 Q0,68.8086 0,64.8086 L0,4 Q0,0 4,0 " id="shape:LTp09wJ7CZ4hmqxK3TqOs" style="fill-opacity: 1; --shape-bg-color-override: #26A688; --shape-border-color-override: #3fbfa1ff; stroke-width: 0;"></path><foreignObject width="216.140625" height="68.80859375" class="themed-heading-no-gradient" style="--body-color: #fff; --heading-color: #fff; --link-color: #fff; --link-color-inverted: #000; --link-color-hover: #e6e6e6ff;"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph">Product launch</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1224.7031, 701.9199)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L212.1406,0 Q216.1406,0 216.1406,4 L216.1406,64.8086 Q216.1406,68.8086 212.1406,68.8086 L4,68.8086 Q0,68.8086 0,64.8086 L0,4 Q0,0 4,0 " id="shape:YRlBT-re2qFu7J2lowdkX" style="fill-opacity: 1; stroke-width: 2;"></path><foreignObject width="216.140625" height="68.80859375"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph">PR push</p></div></div></foreignObject></g></g></svg>'}},concentricCircles:{type:"diagram",attrs:{horizontalAlign:"center",shapes:[{x:565.8710406141417,y:267.2348052328804,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:TAw6_9rfNRYvwwWYH_HCE",type:"geo",props:{w:477.70836857906545,h:477.70836857906545,geo:"ellipse",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph"></p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"a1",typeName:"shape"},{x:616.0939715727751,y:367.685804457496,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:EgzihrX9ISnR1IDnH3Nb-",type:"geo",props:{w:377.2573693544499,h:377.2573693544499,geo:"ellipse",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph"></p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"a2",typeName:"shape"},{x:668.9469658115557,y:473.48237590821486,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:PjG3dFUaDsYRxpsyfV9pW",type:"geo",props:{w:271.5513808768887,h:271.5513808768887,geo:"ellipse",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph"></p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"a3",typeName:"shape"},{x:710.2141277616566,y:556.2474435629489,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:q-kyMkxhO2b6WeTH0ets_",type:"geo",props:{w:189.21399728645815,h:189.21399728645815,geo:"ellipse",color:"black",labelColor:"black",fill:"solid",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph"></p>',shapeColor:"#26A688",strokeWidth:"sm"},parentId:"page:page",index:"a4",typeName:"shape"},{x:464.90514248458214,y:65.35157205630884,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:j5viwZdfHENtGXtzpl0By",type:"geo",props:{w:679.628218169672,h:679.628218169672,geo:"ellipse",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph"></p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"a0",typeName:"shape"},{x:510.91801733541865,y:157.35060141748204,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:ktAwuZYMrly1jH7bcYmPU",type:"geo",props:{w:587.634481733614,h:587.634481733614,geo:"ellipse",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph"></p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"a0V",typeName:"shape"},{x:725.4037617637376,y:93.6328125,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:arpSUqzdolhE3v92x2Hlg",type:"text",props:{color:"black",size:"m",w:159,text:"",font:"draw",align:"middle",autoSize:!1,scale:1,h:20,growY:28,html:'<p style="text-align: center" data-font-size="default" class="paragraph">Strangers</p>',shapeColor:null},parentId:"page:page",index:"a6",typeName:"shape"},{x:698.7226562500001,y:191.5703125,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:p4dDCuUjLEG9hLXieB7uX",type:"text",props:{color:"black",size:"m",w:211.83203125000003,text:"",font:"draw",align:"middle",autoSize:!1,scale:1,h:20,growY:28,html:'<p style="text-align: center" data-font-size="default" class="paragraph">Community</p>',shapeColor:null},parentId:"page:page",index:"a7",typeName:"shape"},{x:698.7226562500001,y:300.83203125,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:IQ2anr8KXqvDn1DTJJIM1",type:"text",props:{color:"black",size:"m",w:212,text:"",font:"draw",align:"middle",autoSize:!1,scale:1,h:20,growY:28,html:'<p style="text-align: center" data-font-size="default" class="paragraph">Acquaintances</p>',shapeColor:null},parentId:"page:page",index:"a8",typeName:"shape"},{x:698.7226562500001,y:410.09375,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:O77tcKAFokcE_JogX_h3n",type:"text",props:{color:"black",size:"m",w:212,text:"",font:"draw",align:"middle",autoSize:!1,scale:1,h:20,growY:28,html:'<p style="text-align: center" data-font-size="default" class="paragraph">Friends</p>',shapeColor:null},parentId:"page:page",index:"a9",typeName:"shape"},{x:698.7226562500001,y:497.0234375,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:Ku24cDrP5-0A12pFZdch1",type:"text",props:{color:"black",size:"m",w:212,text:"",font:"draw",align:"middle",autoSize:!1,scale:1,h:20,growY:28,html:'<p style="text-align: center" data-font-size="default" class="paragraph">Family</p>',shapeColor:null},parentId:"page:page",index:"aA",typeName:"shape"},{x:698.7226562500001,y:628.6171875,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:Bd8YnNb0vDeKdtlRMcNh_",type:"text",props:{color:"black",size:"m",w:212,text:"",font:"draw",align:"middle",autoSize:!1,scale:1,h:20,growY:27,html:'<h4 class="themed-heading" style="text-align: center">Me</h4>',shapeColor:"#FFFFFF"},parentId:"page:page",index:"aB",typeName:"shape"}],assets:[{meta:{},id:"asset:1250396056",type:"image",typeName:"asset",props:{name:"tldrawFile",src:"https://cdn-staging.gamma.app/QWjS6fBfpt/1503bafa04414cc2a7b9848c75a23885/original/tldrawFile.png",w:800,h:801,mimeType:"image/png",isAnimated:!1}}],meta:{},width:360,svg:'<svg direction="ltr" width="695.4817604046791" height="695.5549853416027" viewBox="457.05160024957496 57.38818847034315 695.4817604046791 695.5549853416027" stroke-linecap="round" stroke-linejoin="round" style="background-color: transparent;"><defs></defs><g transform="matrix(1, 0, 0, 1, 464.9051, 65.3516)" opacity="1"><g data-shape-type="geo"><path d="M0,339.814109084836a339.814109084836,339.814109084836,0,1,1,679.628218169672,0a339.814109084836,339.814109084836,0,1,1,-679.628218169672,0" width="679.628218169672" height="679.628218169672" id="shape:j5viwZdfHENtGXtzpl0By" style="fill-opacity: 0; stroke-width: 2;"></path><foreignObject width="679.4817604046791" height="679.5549853416026"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph"></p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 510.918, 157.3506)" opacity="1"><g data-shape-type="geo"><path d="M0,293.817240866807a293.817240866807,293.817240866807,0,1,1,587.634481733614,0a293.817240866807,293.817240866807,0,1,1,-587.634481733614,0" width="587.634481733614" height="587.634481733614" id="shape:ktAwuZYMrly1jH7bcYmPU" style="fill-opacity: 0; stroke-width: 2;"></path><foreignObject width="587.4668563326944" height="587.5506630553135"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph"></p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 565.871, 267.2348)" opacity="1"><g data-shape-type="geo"><path d="M0,238.85418428953272a238.85418428953272,238.85418428953272,0,1,1,477.70836857906545,0a238.85418428953272,238.85418428953272,0,1,1,-477.70836857906545,0" width="477.70836857906545" height="477.70836857906545" id="shape:TAw6_9rfNRYvwwWYH_HCE" style="fill-opacity: 0; stroke-width: 2;"></path><foreignObject width="477.7083685790655" height="477.70836857906556"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph"></p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 616.094, 367.6858)" opacity="1"><g data-shape-type="geo"><path d="M0,188.62868467722495a188.62868467722495,188.62868467722495,0,1,1,377.2573693544499,0a188.62868467722495,188.62868467722495,0,1,1,-377.2573693544499,0" width="377.2573693544499" height="377.2573693544499" id="shape:EgzihrX9ISnR1IDnH3Nb-" style="fill-opacity: 0; stroke-width: 2;"></path><foreignObject width="377.2573693544497" height="377.25736935444945"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph"></p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 668.947, 473.4824)" opacity="1"><g data-shape-type="geo"><path d="M0,135.77569043844434a135.77569043844434,135.77569043844434,0,1,1,271.5513808768887,0a135.77569043844434,135.77569043844434,0,1,1,-271.5513808768887,0" width="271.5513808768887" height="271.5513808768887" id="shape:PjG3dFUaDsYRxpsyfV9pW" style="fill-opacity: 0; stroke-width: 2;"></path><foreignObject width="271.1891698494137" height="271.3702149305733"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph"></p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 710.2141, 556.2474)" opacity="1"><g data-shape-type="geo"><path d="M0,94.60699864322908a94.60699864322908,94.60699864322908,0,1,1,189.21399728645815,0a94.60699864322908,94.60699864322908,0,1,1,-189.21399728645815,0" width="189.21399728645815" height="189.21399728645815" id="shape:q-kyMkxhO2b6WeTH0ets_" style="fill-opacity: 1; --shape-bg-color-override: #26A688; --shape-border-color-override: #3fbfa1ff; stroke-width: 2;"></path><foreignObject width="189.2139972864582" height="188.17746321153578" class="themed-heading-no-gradient" style="--body-color: #fff; --heading-color: #fff; --link-color: #fff; --link-color-inverted: #000; --link-color-hover: #e6e6e6ff;"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph"></p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 725.4038, 93.6328)" opacity="1"><g><foreignObject width="160" height="48"><div class="textbox" style="--text-align: center; --horizontal-align: center;"><div class="text"><p style="text-align: center" data-font-size="default" class="paragraph">Strangers</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 698.7227, 191.5703)" opacity="1"><g><foreignObject width="212.83203125000003" height="48"><div class="textbox" style="--text-align: center; --horizontal-align: center;"><div class="text"><p style="text-align: center" data-font-size="default" class="paragraph">Community</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 698.7227, 300.832)" opacity="1"><g><foreignObject width="213" height="48"><div class="textbox" style="--text-align: center; --horizontal-align: center;"><div class="text"><p style="text-align: center" data-font-size="default" class="paragraph">Acquaintances</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 698.7227, 410.0938)" opacity="1"><g><foreignObject width="213" height="48"><div class="textbox" style="--text-align: center; --horizontal-align: center;"><div class="text"><p style="text-align: center" data-font-size="default" class="paragraph">Friends</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 698.7227, 497.0234)" opacity="1"><g><foreignObject width="213" height="48"><div class="textbox" style="--text-align: center; --horizontal-align: center;"><div class="text"><p style="text-align: center" data-font-size="default" class="paragraph">Family</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 698.7227, 628.6172)" opacity="1"><g><foreignObject width="213" height="47" class="themed-heading-no-gradient" style="--body-color: #FFFFFF; --heading-color: #FFFFFF; --link-color: #FFFFFF; --link-color-inverted: #000; --link-color-hover: #e6e6e6ff;"><div class="textbox" style="--text-align: center; --horizontal-align: center;"><div class="text"><h4 class="themed-heading" style="text-align: center">Me</h4></div></div></foreignObject></g></g></svg>'}},targetCircles:{type:"diagram",attrs:{horizontalAlign:"center",shapes:[{x:929.6197161942252,y:155.0916582850458,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:Lyhoe8Jk5MAMoudOizb8X",type:"geo",props:{w:500.14804571219815,h:500.14804571219815,geo:"ellipse",color:"black",labelColor:"black",fill:"solid",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph"></p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"a0G",typeName:"shape"},{x:967.92743672945,y:193.45976889185556,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:RYOvVH5HKvjk5GXZojXEJ",type:"geo",props:{w:423.4118244985782,h:423.4118244985782,geo:"ellipse",color:"black",labelColor:"black",fill:"solid",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph"></p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"a0l",typeName:"shape"},{x:1007.5906901264586,y:233.06263221727892,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:guJhyRC2_2GgZ9f0HcNJR",type:"geo",props:{w:344.20609784773154,h:344.20609784773154,geo:"ellipse",color:"black",labelColor:"black",fill:"solid",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph"></p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"a1V",typeName:"shape"},{x:1043.7799729004403,y:269.2519149912604,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:seEkM5XtC9yIw7hoXfdbS",type:"geo",props:{w:271.8275322997684,h:271.8275322997684,geo:"ellipse",color:"black",labelColor:"black",fill:"solid",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph"></p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"a2V",typeName:"shape"},{x:1081.7319672065987,y:307.3344023477454,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:NS2ahjw0mGlpg-PMYOxM8",type:"geo",props:{w:195.6625575867985,h:195.6625575867985,geo:"ellipse",color:"black",labelColor:"black",fill:"solid",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph"></p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"a3V",typeName:"shape"},{x:1115.50785950286,y:340.94563257104426,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:3f1yjdcch_VMlWXK600PT",type:"geo",props:{w:128.4400971402006,h:128.4400971402006,geo:"ellipse",color:"black",labelColor:"black",fill:"solid",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph"></p>',shapeColor:"#26A688",strokeWidth:"sm"},parentId:"page:page",index:"a4V",typeName:"shape"},{x:1073.6937390503244,y:381.6656811411451,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:1FLv65NIvaurbbxTQrE18",type:"text",props:{color:"black",size:"m",w:212,text:"Me",font:"draw",align:"middle",autoSize:!1,scale:1,h:20,growY:27,html:'<h4 class="themed-heading" style="text-align: center">Me</h4>',shapeColor:"#FFFFFF"},parentId:"page:page",index:"aB",typeName:"shape"},{x:1381.0026472829704,y:173.17393949526377,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:Q6dHtLEQiLE4grg0RCM-A",type:"line",parentId:"page:page",index:"aC",props:{dash:"solid",size:"m",color:"black",spline:"line",points:{a1:{id:"a1",index:"a1",x:2.417216937863941,y:7.723304968297555},a2:{id:"a2",index:"a2",x:-52.226471674030236,y:48.30663418059406}},shapeColor:null,strokeWidth:"sm"},typeName:"shape"},{x:1396.40422015788,y:245.48057367585784,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:V6TsnoH4I7lC4eFh_jCVf",type:"line",parentId:"page:page",index:"aCV",props:{dash:"solid",size:"m",color:"black",spline:"line",points:{a1:{id:"a1",index:"a1",x:48.001155258881184,y:41.665293041944466},a2:{id:"a2",index:"a2",x:-47.682312332765534,y:66.29026038484135}},shapeColor:null,strokeWidth:"sm"},typeName:"shape"},{x:1418.8041070476638,y:554.4103614129623,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:Z7iFyapJSWnC-Nj48trDz",type:"line",parentId:"page:page",index:"aCd",props:{dash:"solid",size:"m",color:"black",spline:"line",points:{a1:{id:"a1",index:"a1",x:28.116150018295414,y:-27.85190422662322},a2:{id:"a2",index:"a2",x:-138.26659908197,y:-91.24836881350053}},shapeColor:null,strokeWidth:"sm"},typeName:"shape"},{x:1396.40422015788,y:405.1656811411451,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:UyPPQxh5Izzrta_PeC4Lv",type:"line",parentId:"page:page",index:"aCl",props:{dash:"solid",size:"m",color:"black",spline:"line",points:{a1:{id:"a1",index:"a1",x:94.52397902306642,y:3674838211509268e-29},a2:{id:"a2",index:"a2",x:-62.28449928723883,y:3674838211509268e-29}},shapeColor:null,strokeWidth:"sm"},typeName:"shape"},{x:1396.40422015788,y:680.9410126688012,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:YvmG2cbsMv-yBAjUCLAZV",type:"line",parentId:"page:page",index:"aD",props:{dash:"solid",size:"m",color:"black",spline:"line",points:{a1:{id:"a1",index:"a1",x:-30.33301659894073,y:-34.31453399190673},a2:{id:"a2",index:"a2",x:-187.1016230443878,y:-198.11935311752904}},shapeColor:null,strokeWidth:"sm"},typeName:"shape"},{x:1456.428646134135,y:520.7240691140834,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:EdTs6rzP02YRCn-NSSouG",type:"text",props:{color:"black",size:"m",w:190.61066381032765,text:"Friends",font:"draw",align:"start",autoSize:!1,scale:1,h:44,growY:0,html:'<p class="paragraph">Friends</p>',shapeColor:null},parentId:"page:page",index:"aE",typeName:"shape"},{x:1373.8179823238074,y:633.1902718076452,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:9DzQSxc3Xru2fKGSdFx16",type:"text",props:{color:"black",size:"m",w:191,text:"Family",font:"draw",align:"start",autoSize:!1,scale:1,h:44,growY:0,html:'<p class="paragraph">Family</p>',shapeColor:null},parentId:"page:page",index:"aF",typeName:"shape"},{x:1496.9281991809464,y:383.1656811411449,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:VKIjJjszvAlrkJQJfGUV1",type:"text",props:{color:"black",size:"m",w:204.36525326738322,text:"Acquaintances",font:"draw",align:"start",autoSize:!1,scale:1,h:44,growY:0,html:'<p class="paragraph">Acquaintances</p>',shapeColor:null},parentId:"page:page",index:"aG",typeName:"shape"},{x:1451.2460195004435,y:263.4599680925235,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:V6a9zGihrEPKbWp0WyYFu",type:"text",props:{color:"black",size:"m",w:204.36525326738322,text:"Community",font:"draw",align:"start",autoSize:!1,scale:1,h:44,growY:0,html:'<p class="paragraph">Community</p>',shapeColor:null},parentId:"page:page",index:"aH",typeName:"shape"},{x:1389.4198642208344,y:155.14109047464459,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:tneIatSl5yj2J6kQLD4Hy",type:"text",props:{color:"black",size:"m",w:204.36525326738322,text:"Strangers",font:"draw",align:"start",autoSize:!1,scale:1,h:44,growY:0,html:'<p class="paragraph">Strangers</p>',shapeColor:null},parentId:"page:page",index:"aI",typeName:"shape"}],assets:[{meta:{},id:"asset:1250396056",type:"image",typeName:"asset",props:{name:"tldrawFile",src:"https://cdn-staging.gamma.app/QWjS6fBfpt/1503bafa04414cc2a7b9848c75a23885/original/tldrawFile.png",w:800,h:801,mimeType:"image/png",isAnimated:!1}}],meta:{},width:534.2222222222222,svg:'<svg direction="ltr" width="788.1107737708712" height="538.0491813330007" viewBox="921.8174254100752 147.14109047464459 788.1107737708712 538.0491813330007" stroke-linecap="round" stroke-linejoin="round" style="background-color: transparent;"><defs></defs><g transform="matrix(1, 0, 0, 1, 929.6197, 155.0917)" opacity="1"><g data-shape-type="geo"><path d="M0,250.07402285609908a250.07402285609908,250.07402285609908,0,1,1,500.14804571219815,0a250.07402285609908,250.07402285609908,0,1,1,-500.14804571219815,0" width="500.14804571219815" height="500.14804571219815" id="shape:Lyhoe8Jk5MAMoudOizb8X" style="fill-opacity: 1; stroke-width: 2;"></path><foreignObject width="499.9503364963482" height="500.04918133300066"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph"></p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 967.9274, 193.4598)" opacity="1"><g data-shape-type="geo"><path d="M0,211.7059122492891a211.7059122492891,211.7059122492891,0,1,1,423.4118244985782,0a211.7059122492891,211.7059122492891,0,1,1,-423.4118244985782,0" width="423.4118244985782" height="423.4118244985782" id="shape:RYOvVH5HKvjk5GXZojXEJ" style="fill-opacity: 1; stroke-width: 2;"></path><foreignObject width="423.17913672789973" height="423.29546462452595"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph"></p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1007.5907, 233.0626)" opacity="1"><g data-shape-type="geo"><path d="M0,172.10304892386577a172.10304892386577,172.10304892386577,0,1,1,344.20609784773154,0a172.10304892386577,172.10304892386577,0,1,1,-344.20609784773154,0" width="344.20609784773154" height="344.20609784773154" id="shape:guJhyRC2_2GgZ9f0HcNJR" style="fill-opacity: 1; stroke-width: 2;"></path><foreignObject width="343.9254156609416" height="344.0657281324484"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph"></p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1043.78, 269.2519)" opacity="1"><g data-shape-type="geo"><path d="M0,135.9137661498842a135.9137661498842,135.9137661498842,0,1,1,271.8275322997684,0a135.9137661498842,135.9137661498842,0,1,1,-271.8275322997684,0" width="271.8275322997684" height="271.8275322997684" id="shape:seEkM5XtC9yIw7hoXfdbS" style="fill-opacity: 1; stroke-width: 2;"></path><foreignObject width="271.4649529254623" height="271.6461821185811"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph"></p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1081.732, 307.3344)" opacity="1"><g data-shape-type="geo"><path d="M0,97.83127879339925a97.83127879339925,97.83127879339925,0,1,1,195.6625575867985,0a97.83127879339925,97.83127879339925,0,1,1,-195.6625575867985,0" width="195.6625575867985" height="195.6625575867985" id="shape:NS2ahjw0mGlpg-PMYOxM8" style="fill-opacity: 1; stroke-width: 2;"></path><foreignObject width="195.1606169331522" height="195.41142609724233"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph"></p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1115.5079, 340.9456)" opacity="1"><g data-shape-type="geo"><path d="M0,64.2200485701003a64.2200485701003,64.2200485701003,0,1,1,128.4400971402006,0a64.2200485701003,64.2200485701003,0,1,1,-128.4400971402006,0" width="128.4400971402006" height="128.4400971402006" id="shape:3f1yjdcch_VMlWXK600PT" style="fill-opacity: 1; --shape-bg-color-override: #26A688; --shape-border-color-override: #3fbfa1ff; stroke-width: 2;"></path><foreignObject width="127.72281225789044" height="128.08095257852762" class="themed-heading-no-gradient" style="--body-color: #fff; --heading-color: #fff; --link-color: #fff; --link-color-inverted: #000; --link-color-hover: #e6e6e6ff;"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph"></p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1073.6937, 381.6657)" opacity="1"><g><foreignObject width="213" height="47" class="themed-heading-no-gradient" style="--body-color: #FFFFFF; --heading-color: #FFFFFF; --link-color: #FFFFFF; --link-color-inverted: #000; --link-color-hover: #e6e6e6ff;"><div class="textbox" style="--text-align: center; --horizontal-align: center;"><div class="text"><h4 class="themed-heading" style="text-align: center">Me</h4></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1381.0026, 173.1739)" opacity="1"><g data-shape-type="line"><path stroke-width="3.5px" stroke="#1d1d1d" fill="none" d="M2.42, 7.72L-52.23, 48.31" style="--stroke-width: 2;"></path></g></g><g transform="matrix(1, 0, 0, 1, 1396.4042, 245.4806)" opacity="1"><g data-shape-type="line"><path stroke-width="3.5px" stroke="#1d1d1d" fill="none" d="M48, 41.67L-47.68, 66.29" style="--stroke-width: 2;"></path></g></g><g transform="matrix(1, 0, 0, 1, 1418.8041, 554.4104)" opacity="1"><g data-shape-type="line"><path stroke-width="3.5px" stroke="#1d1d1d" fill="none" d="M28.12, -27.85L-138.27, -91.25" style="--stroke-width: 2;"></path></g></g><g transform="matrix(1, 0, 0, 1, 1396.4042, 405.1657)" opacity="1"><g data-shape-type="line"><path stroke-width="3.5px" stroke="#1d1d1d" fill="none" d="M94.52, 0L-62.28, 0" style="--stroke-width: 2;"></path></g></g><g transform="matrix(1, 0, 0, 1, 1396.4042, 680.941)" opacity="1"><g data-shape-type="line"><path stroke-width="3.5px" stroke="#1d1d1d" fill="none" d="M-30.33, -34.31L-187.1, -198.12" style="--stroke-width: 2;"></path></g></g><g transform="matrix(1, 0, 0, 1, 1456.4286, 520.7241)" opacity="1"><g><foreignObject width="191" height="44"><div class="textbox" style="--text-align: left; --horizontal-align: start;"><div class="text"><p class="paragraph">Friends</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1373.818, 633.1903)" opacity="1"><g><foreignObject width="192" height="44"><div class="textbox" style="--text-align: left; --horizontal-align: start;"><div class="text"><p class="paragraph">Family</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1496.9282, 383.1657)" opacity="1"><g><foreignObject width="206" height="44"><div class="textbox" style="--text-align: left; --horizontal-align: start;"><div class="text"><p class="paragraph">Acquaintances</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1451.246, 263.46)" opacity="1"><g><foreignObject width="205" height="44"><div class="textbox" style="--text-align: left; --horizontal-align: start;"><div class="text"><p class="paragraph">Community</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1389.4199, 155.1411)" opacity="1"><g><foreignObject width="205" height="44"><div class="textbox" style="--text-align: left; --horizontal-align: start;"><div class="text"><p class="paragraph">Strangers</p></div></div></foreignObject></g></g></svg>'}}},S={src:"https://assets.gammahosted.com/j1bla5j5f/_next/static/media/Gantt.63fb5eea.svg",height:96,width:253,blurWidth:0,blurHeight:0},I={src:"https://assets.gammahosted.com/j1bla5j5f/_next/static/media/Kanban.fa47adcf.svg",height:96,width:253,blurWidth:0,blurHeight:0},E=()=>[{key:"diagram",name:()=>r.Ru._({id:"G1q1hG"}),keywords:["sketch","drawing","shapes","diagram","canvas","freeform"],shortcut:"/diagram"},{key:"calendarWeek",name:()=>r.Ru._({id:"ToE1YL"}),keywords:["week","days","calendar","diagram","kanban","schedule","timeline"],icon:a.aXh,previewImage:I},{key:"calendarMonths",name:()=>r.Ru._({id:"jIipv0"}),keywords:["month","days","calendar","diagram","kanban","schedule","gantt chart","timeline"],icon:a.nKW,previewImage:S}].map(e=>{let t="diagram"===e.key?{type:"diagram",attrs:{}}:k[e.key];return{nodeName:"diagram",icon:a.qTS,...e,execute:e=>{let n=(0,A.rZ)(),a=j()(t);a.attrs.id=n,(0,A.CD)(n,!0),e.commands.insertContent(a)},dragStartFn:e=>{let n=(0,A.rZ)(),a=j()(t);a.attrs.id=n,(0,A.CD)(n,!0),(0,v.fS)(e,a)}}}).filter(e=>!!e);var L=n(89603),R=n(24903),D=n(91656),M=n(55786),_=n(89703),z=n(64234);let T=()=>Object.entries(z.Fn).filter(e=>{let[t,n]=e;return n.nodeName&&!n.disabled}).map(e=>{let[t,n]=e;return{key:t,name:n.label,nodeName:n.nodeName||"mediaPlaceholder",execute:e=>e.commands.insertMediaBlock(n.key),dragStartFn:e=>{(0,M.f)(e,{type:"mediaPlaceholder",attrs:{source:n.key}})},dragEndFn:()=>{(0,_.G)()},description:n.description,icon:n.icon,image:n.image,testId:n.key,keywords:n.keywords,featureFlag:n.featureFlag,priority:n.priority,categories:n.categories,checkDisabled:n.checkDisabled,badge:n.badge}}),N=["venn","rings","bullseye","ribbon_arrows","ideas","inputs","quadrants","swoosh","infinity","square_arrows","puzzle","bubble_steps","nested_diamond","packed_circles","pinwheel","iceberg","slope","arrow_bars","hot_air_balloons"];var P=n(44245),O=n(14389);let H=()=>Object.entries(P.cy).filter(e=>{let[t,n]=e;return!n.disabled}).map(e=>{let[t,n]=e,{label:i,icon:r,defaultColorScheme:o,previewImage:l,defaultData:s,defaultWidth:d}=n,c="smart-diagram-".concat(t),u=()=>({templateKey:t,data:{...s?s():{},colorScheme:o},horizontalAlign:"center",width:d?d*O.St:void 0}),p=()=>({type:"smartDiagram",attrs:u()});return{key:c,name:i,nodeName:"smartDiagram",icon:null!=r?r:a.qTS,previewImage:l,featureFlag:"smartDiagrams",keywords:["diagram","smart"],execute:e=>{e.chain().focus().insertSmartDiagram({attrs:u(),allowGeneration:N.includes(t)}).run()},dragStartFn:e=>(0,v.fS)(e,p())}});var F=n(11215),B=n(55860),V=n(53891);let W=()=>[{key:"toggle",name:()=>r.Ru._({id:"JFciKP"}),description:()=>r.Ru._({id:"Woijyj"}),keywords:["toggle","expand","collapse","disclosure","details"],nodeName:"toggle",icon:a.ijD,execute:e=>{let t=(0,B.n)();(0,V.bG)(t,!0),e.chain().insertContent({...(0,h.G)().toggle,attrs:{id:t}}).selectInsertedNode().run()},dragStartFn:e=>{let t=(0,B.n)();(0,V.bG)(t,!0),(0,M.f)(e,{...(0,h.G)().toggle,attrs:{id:t}})}}];var U=n(15607);let G=()=>[{key:"insertCardAfter",name:()=>r.Ru._({id:"coNSGP"}),nodeName:"card",icon:a.UiS,execute:e=>e.commands.insertCardAfter(),checkDisabled:e=>!e.schema.nodes.card,keywords:["card","below","after","new"]},{key:"insertCardInside",name:()=>r.Ru._({id:"lOmsEK"}),nodeName:"card",icon:a.ViY,execute:e=>e.commands.insertNestedCard(),checkDisabled:e=>!e.schema.nodes.card,keywords:["nested","card","sub"]},{key:"splitCard",name:()=>r.Ru._({id:"ONXbeB"}),nodeName:"card",icon:a.ufr,shortcut:"***",execute:e=>e.commands.splitCardAtSelection(),checkDisabled:e=>!e.schema.nodes.card,dragStartFn:e=>{(0,M.f)(e,(0,h.G)().normalText)},dragEndFn:e=>{e.chain().splitCardAtSelection().focusDelayed().run()},keywords:["split"]},{key:"title",name:()=>r.Ru._({id:"XxGz2W"}),nodeName:"title",icon:i.jwR,shortcut:"! Title",execute:e=>{e.chain().focus().setFontSize("title").run()},checkDisabled:(e,t)=>!!t&&!(0,U.zi)(e,"title"),keywords:["title","large"]},{key:"display",name:()=>r.Ru._({id:"ySF22d"}),nodeName:"title",icon:i.jwR,shortcut:"!! Title",execute:e=>{e.chain().focus().setFontSize("titleLg").run()},checkDisabled:(e,t)=>!!t&&!(0,U.zi)(e,"title"),keywords:["display","large"]},{key:"monster",name:()=>r.Ru._({id:"+nhv+2"}),nodeName:"title",icon:i.jwR,shortcut:"!!! Ahhhh",execute:e=>{e.chain().focus().setFontSize("titleXl").run()},checkDisabled:(e,t)=>!!t&&!(0,U.zi)(e,"title"),keywords:["monster","huge"]},{key:"h1",name:()=>r.Ru._({id:"lXKZGw"}),nodeName:"heading",icon:a.RDv,shortcut:"# Heading 1",execute:e=>{e.chain().focus().setFontSize("h1").run()},checkDisabled:(e,t)=>!!t&&!(0,U.zi)(e,"heading"),keywords:["heading","h1"]},{key:"smallText",name:()=>r.Ru._({id:"LBkaLa"}),nodeName:"paragraph",icon:i.jwR,shortcut:"/sm",execute:e=>{e.chain().focus().setFontSize("sm").run()},checkDisabled:(e,t)=>!!t&&!(0,U.zi)(e,"body"),keywords:["sm","small","paragraph"]},{key:"normalText",name:()=>r.Ru._({id:"5NwZ8t"}),nodeName:"paragraph",icon:a.jwR,shortcut:"/md",execute:e=>{e.chain().focus().setFontSize("md").run()},checkDisabled:(e,t)=>!!t&&!(0,U.zi)(e,"body"),keywords:["md","normal","paragraph","default","body"]},{key:"largeText",name:()=>r.Ru._({id:"0Sz17G"}),nodeName:"paragraph",icon:a.jwR,shortcut:"/lg",execute:e=>{e.chain().focus().setFontSize("lg").run()},checkDisabled:(e,t)=>!!t&&!(0,U.zi)(e,"body"),keywords:["lg","large","paragraph"]},{key:"h2",name:()=>r.Ru._({id:"El7NbA"}),nodeName:"heading",icon:a.K1h,shortcut:"## Heading 2",execute:e=>{e.chain().focus().setFontSize("h2").run()},checkDisabled:(e,t)=>!!t&&!(0,U.zi)(e,"heading"),keywords:["heading","h2"]},{key:"h3",name:()=>r.Ru._({id:"SFN6dN"}),nodeName:"heading",icon:a.Dn6,shortcut:"### Heading 3",execute:e=>{e.chain().focus().setFontSize("h3").run()},checkDisabled:(e,t)=>!!t&&!(0,U.zi)(e,"heading"),keywords:["heading","h3"]},{key:"h4",name:()=>r.Ru._({id:"nJeKmw"}),nodeName:"heading",icon:a.wLS,shortcut:"#### Heading 4",execute:e=>{e.chain().focus().setFontSize("h4").run()},checkDisabled:(e,t)=>!!t&&!(0,U.zi)(e,"heading"),keywords:["heading","h4"]},{key:"openEmojiPicker",name:()=>r.Ru._({id:"tKlWWY"}),nodeName:"emoji",icon:i.H82,execute:e=>e.commands.openEmojiPicker(),keywords:["symbol","emoji"]},{key:"bulletedList",name:()=>r.Ru._({id:"ynb7Kh"}),nodeName:D.e.Bullet,icon:a.pch,shortcut:"- Item",execute:e=>{e.chain().setListItems({variant:D.e.Bullet}).selectInsertedNode().run()},checkDisabled:(e,t)=>!!t&&!(0,U.aq)(e,D.e.Bullet),keywords:["bullets","unordered","ul","list"]},{key:"numberedList",name:()=>r.Ru._({id:"M3G9ZD"}),nodeName:D.e.Numbered,icon:a.Tsj,shortcut:"1. Item",execute:e=>{e.chain().setListItems({variant:D.e.Numbered}).selectInsertedNode().run()},checkDisabled:(e,t)=>!!t&&!(0,U.aq)(e,D.e.Numbered),keywords:["numbers","numbered","ordered","ol","list"]},{key:"todoList",name:()=>r.Ru._({id:"rCIbrq"}),nodeName:D.e.Todo,icon:a.AgW,shortcut:"[] Item",execute:e=>{e.chain().setListItems({variant:D.e.Todo}).selectInsertedNode().run()},checkDisabled:(e,t)=>!!t&&!(0,U.aq)(e,D.e.Todo),keywords:["todo","task","checkbox","list","checklist"]},{key:"blockquote",name:()=>r.Ru._({id:"OLMhPm"}),nodeName:"blockquote",icon:a.R9H,shortcut:"> Quote",execute:e=>e.chain().focus().toggleBlockquote().run(),keywords:["quote","blockquote"]},...(0,f.A3)(),{key:"buttonGroup",name:()=>r.Ru._({id:"hxBFty"}),nodeName:"buttonGroup",icon:a.A8r,execute:e=>e.commands.insertContentAndSelect((0,h.G)().buttonGroup),description:()=>r.Ru._({id:"IvDo5O"}),keywords:["button","link","click","call to action"]},{key:"codeBlock",name:()=>r.Ru._({id:"4A3Yzu"}),nodeName:"codeBlock",icon:a.jTw,shortcut:"```",execute:e=>{e.chain().focus().setCodeBlock().run()},keywords:["code","block","codeblock"]},{key:"mathBlock",name:()=>r.Ru._({id:"TI6GY9"}),nodeName:"math_display",featureFlag:"math",icon:a.YLF,keywords:["math","equation","latex","katex"],execute:e=>e.chain().focus().insertContent((0,h.G)().mathBlock).run(),dragEndFn:()=>{},description:()=>r.Ru._({id:"mBJFYh"})},{key:"mathInline",name:()=>r.Ru._({id:"qc9cD+"}),featureFlag:"math",nodeName:"math_inline",icon:a.Dkf,keywords:["math","equation","latex","katex"],execute:e=>e.chain().focus().insertMathInline().run(),shortcut:"$x^2$ "},{key:"table2",name:()=>r.Ru._({id:"3gSgpL"}),keywords:["table","grid","data"],nodeName:"table",shortcut:"/table",icon:a.w97,execute:e=>e.commands.insertTable({rows:2,cols:2,withHeaderRow:!1})},{key:"table3",name:()=>r.Ru._({id:"ZjN50+"}),keywords:["table","grid","data"],nodeName:"table",icon:a.w97,execute:e=>e.commands.insertTable({rows:3,cols:3,withHeaderRow:!1})},{key:"table4",name:()=>r.Ru._({id:"64S2d0"}),keywords:["table","grid","data"],nodeName:"table",icon:a.w97,execute:e=>e.commands.insertTable({rows:4,cols:4,withHeaderRow:!1})},{key:"columns2",name:()=>r.Ru._({id:"vVJ2/D"}),keywords:["columns","layout","grid","two"],nodeName:"gridLayout",shortcut:"/columns",icon:a.oZz,execute:e=>e.commands.insertLayout(2)},{key:"columns3",name:()=>r.Ru._({id:"OnuuaA"}),keywords:["columns","layout","grid","three"],nodeName:"gridLayout",icon:a.oZz,execute:e=>e.commands.insertLayout(3)},{key:"columns4",name:()=>r.Ru._({id:"hexbw8"}),keywords:["columns","layout","grid","four"],nodeName:"gridLayout",icon:a.oZz,execute:e=>e.commands.insertLayout(4)},{key:"contributors",name:()=>r.Ru._({id:"YqsXfH"}),nodeName:"contributors",icon:a.hP6,execute:e=>e.commands.insertContentAndSelect((0,h.G)().contributors),keywords:["contributors","authors","credits"]},{key:"divider",name:()=>r.Ru._({id:"R8AthW"}),nodeName:"divider",icon:a.adM,keywords:["hr","rule","line","divider"],shortcut:"---",execute:e=>e.commands.insertContentAndSelect((0,h.G)().divider)},{key:"tableOfContents",name:()=>r.Ru._({id:"9FTolD"}),nodeName:"tableOfContents",icon:a.o97,execute:e=>e.commands.insertContentAndSelect((0,h.G)().tableOfContents,-1),keywords:["toc","contents"]},{key:"gallery",name:()=>r.Ru._({id:"U+kFad"}),description:()=>r.Ru._({id:"GqdREM"}),nodeName:"gallery",shortcut:"/gallery",icon:a.Qyz,keywords:["gallery","image","layout","filmstrip","carousel"],execute:e=>e.commands.insertContentAndSelect((0,h.G)().gallery)},{key:"logo",name:()=>r.Ru._({id:"YkFus/"}),description:()=>r.Ru._({id:"YRtGxa"}),nodeName:"gallery",shortcut:"/logos",icon:a.a8v,keywords:["logo","logos","gallery"],execute:e=>e.chain().insertContentAndSelect((0,h.G)().logoGallery).run()},{key:"footnote",name:()=>r.Ru._({id:"dOxPd4"}),nodeName:"footnote",shortcut:"^note^",icon:a.sxe,execute:e=>{let t=(0,L.pN)(),n={...(0,h.G)().footnote,attrs:{noteId:t}};(0,L.Wj)(t,!0),e.commands.insertContent(n)},dragStartFn:e=>{let t=(0,L.pN)(),n={...(0,h.G)().footnote,attrs:{noteId:t}};(0,L.Wj)(t,!0),(0,M.f)(e,n)},checkDisabled:R.Q,keywords:["footnote","note","reference"]},{key:"insertDate",name:()=>r.Ru._({id:"mYGY3B"}),nodeName:"paragraph",icon:a.okg,execute:e=>{let t=(0,o.A)(new Date,"PPP",{locale:l.A});e.chain().focus().insertContent(t).run()},shortcut:"/date",featureFlag:"insertDate",keywords:["date","today","current"]},...w(),...W(),...T(),...(0,F.WP)(),...E(),...H(),...x()],K=()=>d()(G(),e=>e.priority),Q=()=>u()(G(),"key"),Z=function(e,t){var n;let a=!(arguments.length>2)||void 0===arguments[2]||arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return!!(t.needsConnection&&i||t.featureFlag&&!p.of.get(t.featureFlag)||(null==(n=t.checkDisabled)?void 0:n.call(t,e,a)))||!!a&&!(0,U.Bi)(e,t.nodeName)}},99923:(e,t,n)=>{"use strict";n.d(t,{R:()=>a,k:()=>i});let a="fromInnerEditor",i="fromOuterEditor"}}]);
//# sourceMappingURL=5970-6d588c6f44499845.js.map